!function(scope){"use strict";function F(arity,fun,wrapper){return wrapper.a=arity,wrapper.f=fun,wrapper}function F2(fun){return F(2,fun,function(a){return function(b){return fun(a,b)}})}function F3(fun){return F(3,fun,function(a){return function(b){return function(c){return fun(a,b,c)}}})}function F4(fun){return F(4,fun,function(a){return function(b){return function(c){return function(d){return fun(a,b,c,d)}}}})}function F5(fun){return F(5,fun,function(a){return function(b){return function(c){return function(d){return function(e){return fun(a,b,c,d,e)}}}}})}function F6(fun){return F(6,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return fun(a,b,c,d,e,f)}}}}}})}function F7(fun){return F(7,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return fun(a,b,c,d,e,f,g)}}}}}}})}function F8(fun){return F(8,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return function(h){return fun(a,b,c,d,e,f,g,h)}}}}}}}})}function F9(fun){return F(9,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return function(h){return function(i){return fun(a,b,c,d,e,f,g,h,i)}}}}}}}}})}function A2(fun,a,b){return 2===fun.a?fun.f(a,b):fun(a)(b)}function A3(fun,a,b,c){return 3===fun.a?fun.f(a,b,c):fun(a)(b)(c)}function A4(fun,a,b,c,d){return 4===fun.a?fun.f(a,b,c,d):fun(a)(b)(c)(d)}function A5(fun,a,b,c,d,e){return 5===fun.a?fun.f(a,b,c,d,e):fun(a)(b)(c)(d)(e)}function A6(fun,a,b,c,d,e,f){return 6===fun.a?fun.f(a,b,c,d,e,f):fun(a)(b)(c)(d)(e)(f)}function A7(fun,a,b,c,d,e,f,g){return 7===fun.a?fun.f(a,b,c,d,e,f,g):fun(a)(b)(c)(d)(e)(f)(g)}function A8(fun,a,b,c,d,e,f,g,h){return 8===fun.a?fun.f(a,b,c,d,e,f,g,h):fun(a)(b)(c)(d)(e)(f)(g)(h)}function A9(fun,a,b,c,d,e,f,g,h,i){return 9===fun.a?fun.f(a,b,c,d,e,f,g,h,i):fun(a)(b)(c)(d)(e)(f)(g)(h)(i)}function _Utils_eq(x,y){for(var pair,stack=[],isEqual=_Utils_eqHelp(x,y,0,stack);isEqual&&(pair=stack.pop());isEqual=_Utils_eqHelp(pair.a,pair.b,0,stack));return isEqual}function _Utils_eqHelp(x,y,depth,stack){if(x===y)return!0;if("object"!=typeof x||null===x||null===y)return"function"==typeof x&&_Debug_crash(5),!1;if(100<depth)return stack.push({a:x,b:y}),!0;for(var key in x.$<0&&(x=$elm$core$Dict$toList(x),y=$elm$core$Dict$toList(y)),x)if(!_Utils_eqHelp(x[key],y[key],depth+1,stack))return!1;return!0}var $mdgriffith$elm_ui$Internal$Style$describeAlignment=F2(_Utils_eq),$mdgriffith$elm_ui$Internal$Style$classes_em=F2(function(a,b){return!_Utils_eq(a,b)});function _Utils_cmp(x,y,ord){if("object"!=typeof x)return x===y?0:x<y?-1:1;if(void 0===x.$)return(ord=_Utils_cmp(x.a,y.a))||(ord=_Utils_cmp(x.b,y.b))?ord:_Utils_cmp(x.c,y.c);for(;x.b&&y.b&&!(ord=_Utils_cmp(x.a,y.a));x=x.b,y=y.b);return ord||(x.b?1:y.b?-1:0)}var $mdgriffith$elm_ui$Internal$Style$classes_jg=F2(function(a,b){return 0<_Utils_cmp(a,b)}),$mdgriffith$elm_ui$Internal$Style$classes_kh=F2(function(a,b){return 0<=_Utils_cmp(a,b)}),$mdgriffith$elm_ui$Internal$Style$classes_l_=F2(function(x,n){n=_Utils_cmp(x,n);return n<0?$elm$core$Basics$LT:n?$elm$core$Basics$GT:$elm$core$Basics$EQ}),_Utils_Tuple0=0;function _Utils_update(oldRecord,updatedFields){var key,newRecord={};for(key in oldRecord)newRecord[key]=oldRecord[key];for(key in updatedFields)newRecord[key]=updatedFields[key];return newRecord}function _Utils_ap(xs,ys){if("string"==typeof xs)return xs+ys;if(!xs.b)return ys;var root={$:1,a:xs.a,b:ys};xs=xs.b;for(var curr=root;xs.b;xs=xs.b)curr=curr.b={$:1,a:xs.a,b:ys};return root}var _List_Nil={$:0};function _List_Cons(hd,tl){return{$:1,a:hd,b:tl}}var _List_cons=F2(_List_Cons);function _List_fromArray(arr){for(var out=_List_Nil,i=arr.length;i--;)out={$:1,a:arr[i],b:out};return out}function _List_toArray(xs){for(var out=[];xs.b;xs=xs.b)out.push(xs.a);return out}var $elm$json$Json$Decode$int=F3(function(f,xs,ys){for(var arr=[];xs.b&&ys.b;xs=xs.b,ys=ys.b)arr.push(A2(f,xs.a,ys.a));return _List_fromArray(arr)}),$mdgriffith$elm_ui$Internal$Style$classes_lP=F4(function(f,xs,ys,zs){for(var arr=[];xs.b&&ys.b&&zs.b;xs=xs.b,ys=ys.b,zs=zs.b)arr.push(A3(f,xs.a,ys.a,zs.a));return _List_fromArray(arr)}),_List_map4=F5(function(f,ws,xs,ys,zs){for(var arr=[];ws.b&&xs.b&&ys.b&&zs.b;ws=ws.b,xs=xs.b,ys=ys.b,zs=zs.b)arr.push(A4(f,ws.a,xs.a,ys.a,zs.a));return _List_fromArray(arr)}),_List_sortBy=F2(function(f,xs){return _List_fromArray(_List_toArray(xs).sort(function(a,b){return _Utils_cmp(f(a),f(b))}))}),_List_sortWith=F2(function(f,xs){return _List_fromArray(_List_toArray(xs).sort(function(a,ord){ord=A2(f,a,ord);return ord===$elm$core$Basics$EQ?0:ord===$elm$core$Basics$LT?-1:1}))}),$mdgriffith$elm_ui$Internal$Style$AllChildren=F3(function(size,offset,func){for(var result=Array(size),i=0;i<size;i++)result[i]=func(offset+i);return result}),$mdgriffith$elm_ui$Internal$Style$classes_jj=F2(function(max,ls){for(var result=Array(max),i=0;i<max&&ls.b;i++)result[i]=ls.a,ls=ls.b;return result.length=i,{a:result,b:ls}}),decs=F2(function(index,array){return array[index]}),$mdgriffith$elm_ui$Internal$Style$classes_lS=F3(function(index,value,array){for(var length=array.length,result=Array(length),i=0;i<length;i++)result[i]=array[i];return result[index]=value,result}),_JsArray_foldl=F3(function(func,acc,array){for(var length=array.length,i=0;i<length;i++)acc=A2(func,array[i],acc);return acc}),_JsArray_foldr=F3(function(func,acc,array){for(var i=array.length-1;0<=i;i--)acc=A2(func,array[i],acc);return acc}),$mdgriffith$elm_ui$Internal$Style$classes_lR=F3(function(from,to,array){return array.slice(from,to)}),$mdgriffith$elm_ui$Internal$Style$classes_lQ=F3(function(n,dest,source){var destLen=dest.length,itemsToCopy=n-destLen;source.length<itemsToCopy&&(itemsToCopy=source.length);for(var result=Array(destLen+itemsToCopy),i=0;i<destLen;i++)result[i]=dest[i];for(i=0;i<itemsToCopy;i++)result[i+destLen]=source[i];return result});function _Debug_crash(identifier){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+identifier+".md")}var _Basics_add=F2(function(a,b){return a+b}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick=F2(function(a,b){return a-b}),$mdgriffith$elm_ui$Internal$Style$classes_ji=F2(function(a,b){return a*b}),$mdgriffith$elm_ui$Internal$Style$elDescription=F2(function(a,b){return a/b}),$mdgriffith$elm_ui$Internal$Style$classes_ll=F2(Math.pow),$elm$json$Json$Decode$list=F2(function(b,a){return a%b}),$elm$html$Html$Attributes$spellcheck=F2(function(modulus,answer){answer%=modulus;return 0===modulus?_Debug_crash(11):0<answer&&modulus<0||answer<0&&0<modulus?answer+modulus:answer}),$mdgriffith$elm_ui$Internal$Style$classes_lk=Math.cos,$mdgriffith$elm_ui$Element$rgb=Math.sin,$mdgriffith$elm_ui$Internal$Style$classes_lj=Math.tan,$mdgriffith$elm_ui$Element$Input$darkGrey=F2(Math.atan2),$mdgriffith$elm_ui$Internal$Style$Supports=Math.ceil,$mdgriffith$elm_ui$Internal$Style$classes_jk=Math.floor,$mdgriffith$elm_ui$Internal$Style$locations=Math.round,$mdgriffith$elm_ui$Internal$Style$classes_bB=Math.sqrt,_Basics_log=Math.log,$elm$svg$Svg$Attributes$y1=isNaN,$elm$browser$Browser$application=F2(function(a,b){return a||b}),$mdgriffith$elm_ui$Internal$Model$FontFamily=F2(function(chr,str){return chr+str}),$mdgriffith$elm_ui$Internal$Flag$fontFamily=F2(function(isGood,str){for(var arr=[],len=str.length,i=0;i<len;){var char=str[i],word=str.charCodeAt(i);i++,word<55296||56319<word||(char+=str[i],i++),isGood(char)&&arr.push(char)}return arr.join("")}),$feathericons$elm_feather$FeatherIcons$makeBuilder=F3(function(func,state,string){for(var i=string.length;i--;){var char=string[i],word=string.charCodeAt(i);word<56320||57343<word||(char=string[--i]+char),state=A2(func,char,state)}return state}),_String_split=F2(function(sep,str){return str.split(sep)}),_String_join=F2(function(sep,strs){return strs.join(sep)}),$mdgriffith$elm_ui$Internal$Style$classes_j6=F3(function(start,end,str){return str.slice(start,end)}),_String_all=F2(function(isGood,string){for(var i=string.length;i--;){var char=string[i],word=string.charCodeAt(i);if(word<56320||57343<word||(char=string[--i]+char),!isGood(char))return!1}return!0}),$elm$svg$Svg$circle=F2(function(sub,str){return!!~str.indexOf(sub)}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp=F2(function(sub,str){return 0==str.indexOf(sub)}),$mdgriffith$elm_ui$Internal$Flag$fontAlignment=F2(function(sub,str){return sub.length<=str.length&&str.lastIndexOf(sub)==str.length-sub.length}),color=F2(function(sub,str){var subLen=sub.length;if(subLen<1)return _List_Nil;for(var i=0,is=[];-1<(i=str.indexOf(sub,i));)is.push(i),i+=subLen;return _List_fromArray(is)});function _String_fromNumber(number){return number+""}var $mdgriffith$elm_ui$Internal$Style$classes_de={$:2,b:function(value){return"number"!=typeof value||(value<=-2147483647||2147483647<=value||(0|value)!==value)&&(!isFinite(value)||value%1)?_Json_expecting("an INT",value):$elm$core$Result$Ok(value)}},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event={$:2,b:function(value){return"boolean"==typeof value?$elm$core$Result$Ok(value):_Json_expecting("a BOOL",value)}},$elm$json$Json$Decode$map3={$:2,b:function(value){return"number"==typeof value?$elm$core$Result$Ok(value):_Json_expecting("a FLOAT",value)}},$mdgriffith$elm_ui$Internal$Style$classes_eH={$:2,b:function(value){return $elm$core$Result$Ok(value)}},$mdgriffith$elm_ui$Internal$Style$classes_j9={$:2,b:function(value){return"string"==typeof value?$elm$core$Result$Ok(value):value instanceof String?$elm$core$Result$Ok(value+""):_Json_expecting("a STRING",value)}},$elm$svg$Svg$Attributes$x2=F2(function(field,decoder){return{$:6,d:field,b:decoder}}),$elm$svg$Svg$polygon=F2(function(callback,decoder){return{$:10,b:decoder,h:callback}}),$elm$json$Json$Decode$null=F2(function(f,d1){return{$:9,f:f,g:[d1]}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=F3(function(f,d1,d2){return{$:9,f:f,g:[d1,d2]}}),$author$project$Internal$AuthenticationSuccess=F4(function(f,d1,d2,d3){return{$:9,f:f,g:[d1,d2,d3]}}),$mdgriffith$elm_ui$Internal$Model$renderFontClassName=F5(function(f,d1,d2,d3,d4){return{$:9,f:f,g:[d1,d2,d3,d4]}}),$author$project$Internal$errorDescriptionDecoder=F6(function(f,d1,d2,d3,d4,d5){return{$:9,f:f,g:[d1,d2,d3,d4,d5]}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onClick=F7(function(f,d1,d2,d3,d4,d5,d6){return{$:9,f:f,g:[d1,d2,d3,d4,d5,d6]}}),$author$project$Internal$errorUriDecoder=F8(function(f,d1,d2,d3,d4,d5,d6,d7){return{$:9,f:f,g:[d1,d2,d3,d4,d5,d6,d7]}}),$author$project$Main$update=F9(function(f,d1,d2,d3,d4,d5,d6,d7,d8){return{$:9,f:f,g:[d1,d2,d3,d4,d5,d6,d7,d8]}}),$author$project$Internal$AuthenticationError=F2(function(decoder,string){try{return _Json_runHelp(decoder,JSON.parse(string))}catch(e){return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure,"This is not valid JSON! "+e.message,string))}}),_Json_run=F2(_Json_runHelp);function _Json_runHelp(decoder,value){switch(decoder.$){case 2:return decoder.b(value);case 5:return null===value?$elm$core$Result$Ok(decoder.c):_Json_expecting("null",value);case 3:return _Json_isArray(value)?_Json_runArrayDecoder(decoder.b,value,_List_fromArray):_Json_expecting("a LIST",value);case 4:return _Json_isArray(value)?_Json_runArrayDecoder(decoder.b,value,_Json_toElmArray):_Json_expecting("an ARRAY",value);case 6:var index=decoder.d;if("object"!=typeof value||null===value||!(index in value))return _Json_expecting("an OBJECT with a field named `"+index+"`",value);var result=_Json_runHelp(decoder.b,value[index]);return $elm$core$Result$isOk(result)?result:$elm$core$Result$Err(A2($elm$json$Json$Decode$Field,index,result.a));case 7:index=decoder.e;if(!_Json_isArray(value))return _Json_expecting("an ARRAY",value);if(value.length<=index)return _Json_expecting("a LONGER array. Need index "+index+" but only see "+value.length+" entries",value);result=_Json_runHelp(decoder.b,value[index]);return $elm$core$Result$isOk(result)?result:$elm$core$Result$Err(A2($elm$json$Json$Decode$Index,index,result.a));case 8:if("object"!=typeof value||null===value||_Json_isArray(value))return _Json_expecting("an OBJECT",value);var key,keyValuePairs=_List_Nil;for(key in value)if(value.hasOwnProperty(key)){result=_Json_runHelp(decoder.b,value[key]);if(!$elm$core$Result$isOk(result))return $elm$core$Result$Err(A2($elm$json$Json$Decode$Field,key,result.a));keyValuePairs={$:1,a:{a:key,b:result.a},b:keyValuePairs}}return $elm$core$Result$Ok($elm$core$List$reverse(keyValuePairs));case 9:for(var answer=decoder.f,decoders=decoder.g,i=0;i<decoders.length;i++){result=_Json_runHelp(decoders[i],value);if(!$elm$core$Result$isOk(result))return result;answer=answer(result.a)}return $elm$core$Result$Ok(answer);case 10:result=_Json_runHelp(decoder.b,value);return $elm$core$Result$isOk(result)?_Json_runHelp(decoder.h(result.a),value):result;case 11:for(var errors=_List_Nil,temp=decoder.g;temp.b;temp=temp.b){result=_Json_runHelp(temp.a,value);if($elm$core$Result$isOk(result))return result;errors={$:1,a:result.a,b:errors}}return $elm$core$Result$Err($elm$json$Json$Decode$OneOf($elm$core$List$reverse(errors)));case 1:return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure,decoder.a,value));case 0:return $elm$core$Result$Ok(decoder.a)}}function _Json_runArrayDecoder(decoder,value,toElmValue){for(var len=value.length,array=Array(len),i=0;i<len;i++){var result=_Json_runHelp(decoder,value[i]);if(!$elm$core$Result$isOk(result))return $elm$core$Result$Err(A2($elm$json$Json$Decode$Index,i,result.a));array[i]=result.a}return $elm$core$Result$Ok(toElmValue(array))}function _Json_isArray(value){return Array.isArray(value)||"undefined"!=typeof FileList&&value instanceof FileList}function _Json_toElmArray(array){return A2($elm$core$Array$initialize,array.length,function(i){return array[i]})}function _Json_expecting(type,value){return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure,"Expecting "+type,value))}function _Json_equality(x,y){if(x===y)return!0;if(x.$!==y.$)return!1;switch(x.$){case 0:case 1:return x.a===y.a;case 2:return x.b===y.b;case 5:return x.c===y.c;case 3:case 4:case 8:return _Json_equality(x.b,y.b);case 6:return x.d===y.d&&_Json_equality(x.b,y.b);case 7:return x.e===y.e&&_Json_equality(x.b,y.b);case 9:return x.f===y.f&&_Json_listEquality(x.g,y.g);case 10:return x.h===y.h&&_Json_equality(x.b,y.b);case 11:return _Json_listEquality(x.g,y.g)}}function _Json_listEquality(aDecoders,bDecoders){var len=aDecoders.length;if(len!==bDecoders.length)return!1;for(var i=0;i<len;i++)if(!_Json_equality(aDecoders[i],bDecoders[i]))return!1;return!0}var $author$project$Main$init=F2(function(indentLevel,value){return JSON.stringify(value,null,indentLevel)+""});function _Json_wrap(value){return value}var _Json_addField=F3(function(key,value,object){return object[key]=value,object});function _Scheduler_succeed(value){return{$:0,a:value}}var _Scheduler_andThen=F2(function(callback,task){return{$:3,b:callback,d:task}}),_Scheduler_guid=0;function _Scheduler_rawSpawn(proc){proc={$:0,e:_Scheduler_guid++,f:proc,g:null,h:[]};return _Scheduler_enqueue(proc),proc}function _Scheduler_spawn(task){return{$:2,b:function(callback){callback({$:0,a:_Scheduler_rawSpawn(task)})},c:null}}function _Scheduler_rawSend(proc,msg){proc.h.push(msg),_Scheduler_enqueue(proc)}var _Scheduler_send=F2(function(proc,msg){return{$:2,b:function(callback){_Scheduler_rawSend(proc,msg),callback({$:0,a:_Utils_Tuple0})},c:null}}),_Scheduler_working=!1,_Scheduler_queue=[];function _Scheduler_enqueue(proc){if(_Scheduler_queue.push(proc),!_Scheduler_working){for(_Scheduler_working=!0;proc=_Scheduler_queue.shift();)!function(proc){for(;proc.f;){var rootTag=proc.f.$;if(0===rootTag||1===rootTag){for(;proc.g&&proc.g.$!==rootTag;)proc.g=proc.g.i;if(!proc.g)return;proc.f=proc.g.b(proc.f.a),proc.g=proc.g.i}else{if(2===rootTag)return proc.f.c=proc.f.b(function(newRoot){proc.f=newRoot,_Scheduler_enqueue(proc)});if(5===rootTag){if(0===proc.h.length)return;proc.f=proc.f.b(proc.h.shift())}else proc.g={$:3===rootTag?0:1,b:proc.f.b,i:proc.g},proc.f=proc.f.d}}}(proc);_Scheduler_working=!1}}function _Process_sleep(time){return{$:2,b:function(callback){var id=setTimeout(function(){callback({$:0,a:_Utils_Tuple0})},time);return function(){clearTimeout(id)}},c:null}}function _Platform_initialize(flagDecoder,initPair,init,update,subscriptions,ports){initPair=A2(_Json_run,flagDecoder,initPair?initPair.flags:void 0);$elm$core$Result$isOk(initPair)||_Debug_crash(2);var managers={},initPair=init(initPair.a),model=initPair.a,stepper=ports(sendToApp,model),ports=function(managers,sendToApp){var ports,key;for(key in _Platform_effectManagers){var manager=_Platform_effectManagers[key];manager.a&&((ports=ports||{})[key]=manager.a(key,sendToApp)),managers[key]=function(info,sendToApp){var router={g:sendToApp,h:void 0},onEffects=info.c,onSelfMsg=info.d,cmdMap=info.e,subMap=info.f;function loop(state){return A2(_Scheduler_andThen,loop,{$:5,b:function(msg){var value=msg.a;return 0===msg.$?A3(onSelfMsg,router,value,state):cmdMap&&subMap?A4(onEffects,router,value.i,value.j,state):A3(onEffects,router,cmdMap?value.i:value.j,state)}})}return router.h=_Scheduler_rawSpawn(A2(_Scheduler_andThen,loop,info.b))}(manager,sendToApp)}return ports}(managers,sendToApp);function sendToApp(pair,viewMetadata){pair=A2(update,pair,model);stepper(model=pair.a,viewMetadata),_Platform_enqueueEffects(managers,pair.b,subscriptions(model))}return _Platform_enqueueEffects(managers,initPair.b,subscriptions(model)),ports?{ports:ports}:{}}var _Platform_effectManagers={},$mdgriffith$elm_ui$Internal$Style$classes_lV=F2(function(router,msg){return{$:2,b:function(callback){router.g(msg),callback({$:0,a:_Utils_Tuple0})},c:null}}),$mdgriffith$elm_ui$Element$Input$white=F2(function(router,msg){return A2(_Scheduler_send,router.h,{$:0,a:msg})});function _Platform_leaf(home){return function(value){return{$:1,k:home,l:value}}}function _Platform_batch(list){return{$:2,m:list}}var $elm$json$Json$Decode$map4=F2(function(tagger,bag){return{$:3,n:tagger,o:bag}}),_Platform_effectsQueue=[],_Platform_effectsActive=!1;function _Platform_enqueueEffects(managers,cmdBag,subBag){if(_Platform_effectsQueue.push({p:managers,q:cmdBag,r:subBag}),!_Platform_effectsActive){_Platform_effectsActive=!0;for(var fx;fx=_Platform_effectsQueue.shift();)!function(managers,subBag){var home,effectsDict={};for(home in _Platform_gatherEffects(!0,fx.q,effectsDict,null),_Platform_gatherEffects(!1,subBag,effectsDict,null),managers)_Scheduler_rawSend(managers[home],{$:"fx",a:effectsDict[home]||{i:_List_Nil,j:_List_Nil}})}(fx.p,fx.r);_Platform_effectsActive=!1}}function _Platform_gatherEffects(isCmd,bag,effectsDict,taggers){switch(bag.$){case 1:var home=bag.k,effect=function(isCmd,home,taggers,value){function applyTaggers(x){for(var temp=taggers;temp;temp=temp.t)x=temp.s(x);return x}return A2(isCmd?_Platform_effectManagers[home].e:_Platform_effectManagers[home].f,applyTaggers,value)}(isCmd,home,taggers,bag.l);return void(effectsDict[home]=function(isCmd,newEffect,effects){return effects=effects||{i:_List_Nil,j:_List_Nil},isCmd?effects.i={$:1,a:newEffect,b:effects.i}:effects.j={$:1,a:newEffect,b:effects.j},effects}(isCmd,effect,effectsDict[home]));case 2:for(var list=bag.m;list.b;list=list.b)_Platform_gatherEffects(isCmd,list.a,effectsDict,taggers);return;case 3:return void _Platform_gatherEffects(isCmd,bag.o,effectsDict,{s:bag.n,t:taggers})}}function _Platform_checkPortName(name){_Platform_effectManagers[name]&&_Debug_crash(3)}function _Platform_outgoingPort(name,converter){return _Platform_checkPortName(name),_Platform_effectManagers[name]={e:_Platform_outgoingPortMap,u:converter,a:_Platform_setupOutgoingPort},_Platform_leaf(name)}var _Platform_outgoingPortMap=F2(function(tagger,value){return value});function _Platform_setupOutgoingPort(name){var subs=[],converter=_Platform_effectManagers[name].u,init=_Process_sleep(0);return _Platform_effectManagers[name].b=init,_Platform_effectManagers[name].c=F3(function(router,cmdList){for(;cmdList.b;cmdList=cmdList.b)for(var currentSubs=subs,value=converter(cmdList.a),i=0;i<currentSubs.length;i++)currentSubs[i](value);return init}),{subscribe:function(callback){subs.push(callback)},unsubscribe:function(index){(index=(subs=subs.slice()).indexOf(index))<0||subs.splice(index,1)}}}function _Platform_incomingPort(name,converter){return _Platform_checkPortName(name),_Platform_effectManagers[name]={f:_Platform_incomingPortMap,u:converter,a:_Platform_setupIncomingPort},_Platform_leaf(name)}var _VirtualDom_divertHrefToApp,_Platform_incomingPortMap=F2(function(tagger,finalTagger){return function(value){return tagger(finalTagger(value))}});function _Platform_setupIncomingPort(name,sendToApp){var subs=_List_Nil,converter=_Platform_effectManagers[name].u,init={$:0,a:null};return _Platform_effectManagers[name].b=init,_Platform_effectManagers[name].c=F3(function(router,subList){return subs=subList,init}),{send:function(result){$elm$core$Result$isOk(result=A2(_Json_run,converter,result))||_Debug_crash(4);for(var value=result.a,temp=subs;temp.b;temp=temp.b)sendToApp(temp.a(value))}}}var _VirtualDom_doc="undefined"!=typeof document?document:{};function _VirtualDom_text(string){return{$:0,a:string}}var _VirtualDom_node=($elm$svg$Svg$Attributes$x1=F2(function(namespace,tag){return F2(function(factList,kidList){for(var kids=[],descendantsCount=0;kidList.b;kidList=kidList.b){var kid=kidList.a;descendantsCount+=kid.b||0,kids.push(kid)}return descendantsCount+=kids.length,{$:1,c:tag,d:_VirtualDom_organizeFacts(factList),e:kids,f:namespace,b:descendantsCount}})}))(void 0),_VirtualDom_keyedNode=F2(function(namespace,tag){return F2(function(factList,kidList){for(var kids=[],descendantsCount=0;kidList.b;kidList=kidList.b){var kid=kidList.a;descendantsCount+=kid.b.b||0,kids.push(kid)}return descendantsCount+=kids.length,{$:2,c:tag,d:_VirtualDom_organizeFacts(factList),e:kids,f:namespace,b:descendantsCount}})})(void 0);function _VirtualDom_custom(factList,model,render,diff){return{$:3,d:_VirtualDom_organizeFacts(factList),g:model,h:render,i:diff}}var $elm$svg$Svg$Attributes$y2=F2(function(tagger,node){return{$:4,j:tagger,k:node,b:1+(node.b||0)}}),_VirtualDom_on=F2(function(key,handler){return{$:"a0",n:key,o:handler}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=F2(function(key,value){return{$:"a1",n:key,o:value}}),_VirtualDom_property=F2(function(key,value){return{$:"a2",n:key,o:value}}),_VirtualDom_attribute=F2(function(key,value){return{$:"a3",n:key,o:value}});function _VirtualDom_noScript(tag){return"script"==tag?"p":tag}function _VirtualDom_noJavaScriptOrHtmlUri(value){return/^\s*(javascript:|data:text\/html)/i.test(value)?"":value}var _VirtualDom_passiveSupported,$elm$svg$Svg$Attributes$points=F2(function(func,attr){return"a0"===attr.$?A2(_VirtualDom_on,attr.n,function(func,handler){var tag=$elm$virtual_dom$VirtualDom$toHandlerInt(handler);return{$:handler.$,a:tag?A3($elm$json$Json$Decode$map2,tag<3?_VirtualDom_mapEventTuple:_VirtualDom_mapEventRecord,$elm$json$Json$Decode$succeed(func),handler.a):A2($elm$json$Json$Decode$map,func,handler.a)}}(func,attr.o)):attr}),_VirtualDom_mapEventTuple=F2(function(func,tuple){return{a:func(tuple.a),b:tuple.b}}),_VirtualDom_mapEventRecord=F2(function(func,record){return{kM:func(record.kM),lH:record.lH,k7:record.k7}});function _VirtualDom_organizeFacts(factList){for(var facts={};factList.b;factList=factList.b){var subFacts=factList.a,tag=subFacts.$,key=subFacts.n,value=subFacts.o;"a2"!==tag?(subFacts=facts[tag]||(facts[tag]={}),"a3"===tag&&"class"===key?_VirtualDom_addClass(subFacts,key,value):subFacts[key]=value):"className"===key?_VirtualDom_addClass(facts,key,value):facts[key]=value}return facts}function _VirtualDom_addClass(object,key,newClass){var classes=object[key];object[key]=classes?classes+" "+newClass:newClass}function _VirtualDom_render(vNode,eventNode){var tag=vNode.$;if(5===tag)return _VirtualDom_render(vNode.k||(vNode.k=vNode.m()),eventNode);if(0===tag)return _VirtualDom_doc.createTextNode(vNode.a);if(4===tag){for(var subNode=vNode.k,tagger=vNode.j;4===subNode.$;)"object"!=typeof tagger?tagger=[tagger,subNode.j]:tagger.push(subNode.j),subNode=subNode.k;var subEventRoot={j:tagger,p:eventNode};return(domNode=_VirtualDom_render(subNode,subEventRoot)).elm_event_node_ref=subEventRoot,domNode}if(3===tag)return _VirtualDom_applyFacts(domNode=vNode.h(vNode.g),eventNode,vNode.d),domNode;var domNode=vNode.f?_VirtualDom_doc.createElementNS(vNode.f,vNode.c):_VirtualDom_doc.createElement(vNode.c);_VirtualDom_divertHrefToApp&&"a"==vNode.c&&domNode.addEventListener("click",_VirtualDom_divertHrefToApp(domNode)),_VirtualDom_applyFacts(domNode,eventNode,vNode.d);for(var kids=vNode.e,i=0;i<kids.length;i++)domNode.appendChild(_VirtualDom_render(1===tag?kids[i]:kids[i].b,eventNode));return domNode}function _VirtualDom_applyFacts(domNode,eventNode,facts){for(var key in facts){var value=facts[key];"a1"===key?function(domNode,styles){var key,domNodeStyle=domNode.style;for(key in styles)domNodeStyle[key]=styles[key]}(domNode,value):"a0"===key?function(domNode,eventNode,events){var key,allCallbacks=domNode.elmFs||(domNode.elmFs={});for(key in events){var newHandler=events[key],oldCallback=allCallbacks[key];if(newHandler){if(oldCallback){if(oldCallback.q.$===newHandler.$){oldCallback.q=newHandler;continue}domNode.removeEventListener(key,oldCallback)}oldCallback=function(eventNode,initialHandler){function callback(event){var value=callback.q,stopPropagation=_Json_runHelp(value.a,event);if($elm$core$Result$isOk(stopPropagation)){for(var tagger,tag=$elm$virtual_dom$VirtualDom$toHandlerInt(value),value=stopPropagation.a,message=tag?tag<3?value.a:value.kM:value,stopPropagation=1==tag?value.b:3==tag&&value.lH,currentEventNode=(stopPropagation&&event.stopPropagation(),(2==tag?value.b:3==tag&&value.k7)&&event.preventDefault(),eventNode);tagger=currentEventNode.j;){if("function"==typeof tagger)message=tagger(message);else for(var i=tagger.length;i--;)message=tagger[i](message);currentEventNode=currentEventNode.p}currentEventNode(message,stopPropagation)}}return callback.q=initialHandler,callback}(eventNode,newHandler),domNode.addEventListener(key,oldCallback,_VirtualDom_passiveSupported&&{passive:$elm$virtual_dom$VirtualDom$toHandlerInt(newHandler)<2}),allCallbacks[key]=oldCallback}else domNode.removeEventListener(key,oldCallback),allCallbacks[key]=void 0}}(domNode,eventNode,value):"a3"===key?function(domNode,attrs){for(var key in attrs){var value=attrs[key];void 0!==value?domNode.setAttribute(key,value):domNode.removeAttribute(key)}}(domNode,value):"a4"===key?function(domNode,nsAttrs){for(var key in nsAttrs){var value=nsAttrs[key],namespace=value.f,value=value.o;void 0!==value?domNode.setAttributeNS(namespace,key,value):domNode.removeAttributeNS(namespace,key)}}(domNode,value):("value"!==key&&"checked"!==key||domNode[key]!==value)&&(domNode[key]=value)}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){_VirtualDom_passiveSupported=!0}}))}catch(e){}function _VirtualDom_diff(x,y){var patches=[];return _VirtualDom_diffHelp(x,y,patches,0),patches}function _VirtualDom_pushPatch(patches,type,index,patch){patch={$:type,r:index,s:patch,t:void 0,u:void 0};return patches.push(patch),patch}function _VirtualDom_diffHelp(x,y,patches,index){if(x!==y){var xType=x.$,yType=y.$;if(xType!==yType){if(1!==xType||2!==yType)return void _VirtualDom_pushPatch(patches,0,index,y);y=function(keyedNode){for(var keyedKids=keyedNode.e,len=keyedKids.length,kids=Array(len),i=0;i<len;i++)kids[i]=keyedKids[i].b;return{$:1,c:keyedNode.c,d:keyedNode.d,e:kids,f:keyedNode.f,b:keyedNode.b}}(y),yType=1}switch(yType){case 5:for(var xRefs=x.l,yRefs=y.l,i=xRefs.length,same=i===yRefs.length;same&&i--;)same=xRefs[i]===yRefs[i];if(same)return void(y.k=x.k);y.k=y.m();var patch=[];return _VirtualDom_diffHelp(x.k,y.k,patch,0),void(0<patch.length&&_VirtualDom_pushPatch(patches,1,index,patch));case 4:for(var xTaggers=x.j,yTaggers=y.j,nesting=!1,xSubNode=x.k;4===xSubNode.$;)nesting=!0,"object"!=typeof xTaggers?xTaggers=[xTaggers,xSubNode.j]:xTaggers.push(xSubNode.j),xSubNode=xSubNode.k;for(var ySubNode=y.k;4===ySubNode.$;)nesting=!0,"object"!=typeof yTaggers?yTaggers=[yTaggers,ySubNode.j]:yTaggers.push(ySubNode.j),ySubNode=ySubNode.k;return nesting&&xTaggers.length!==yTaggers.length?void _VirtualDom_pushPatch(patches,0,index,y):((nesting?function(as,bs){for(var i=0;i<as.length;i++)if(as[i]!==bs[i])return!1;return!0}(xTaggers,yTaggers):xTaggers===yTaggers)||_VirtualDom_pushPatch(patches,2,index,yTaggers),void _VirtualDom_diffHelp(xSubNode,ySubNode,patches,index+1));case 0:return void(x.a!==y.a&&_VirtualDom_pushPatch(patches,3,index,y.a));case 1:return void _VirtualDom_diffNodes(x,y,patches,index,_VirtualDom_diffKids);case 2:return void _VirtualDom_diffNodes(x,y,patches,index,_VirtualDom_diffKeyedKids);case 3:if(x.h!==y.h)return void _VirtualDom_pushPatch(patches,0,index,y);patch=_VirtualDom_diffFacts(x.d,y.d);patch&&_VirtualDom_pushPatch(patches,4,index,patch);patch=y.i(x.g,y.g);return void(patch&&_VirtualDom_pushPatch(patches,5,index,patch))}}}function _VirtualDom_diffNodes(x,y,patches,index,diffKids){var factsDiff;x.c===y.c&&x.f===y.f?((factsDiff=_VirtualDom_diffFacts(x.d,y.d))&&_VirtualDom_pushPatch(patches,4,index,factsDiff),diffKids(x,y,patches,index)):_VirtualDom_pushPatch(patches,0,index,y)}function _VirtualDom_diffFacts(x,y,category){var diff,xKey,xValue,subDiff,yKey;for(xKey in x)"a1"!==xKey&&"a0"!==xKey&&"a3"!==xKey&&"a4"!==xKey?xKey in y?(xValue=x[xKey])===(subDiff=y[xKey])&&"value"!==xKey&&"checked"!==xKey||"a0"===category&&function(x,y){return x.$==y.$&&_Json_equality(x.a,y.a)}(xValue,subDiff)||((diff=diff||{})[xKey]=subDiff):(diff=diff||{})[xKey]=category?"a1"===category?"":"a0"===category||"a3"===category?void 0:{f:x[xKey].f,o:void 0}:"string"==typeof x[xKey]?"":null:(subDiff=_VirtualDom_diffFacts(x[xKey],y[xKey]||{},xKey))&&((diff=diff||{})[xKey]=subDiff);for(yKey in y)yKey in x||((diff=diff||{})[yKey]=y[yKey]);return diff}function _VirtualDom_diffKids(xLen,yLen,patches,index){var xKids=xLen.e,yKids=yLen.e,xLen=xKids.length,yLen=yKids.length;yLen<xLen?_VirtualDom_pushPatch(patches,6,index,{v:yLen,i:xLen-yLen}):xLen<yLen&&_VirtualDom_pushPatch(patches,7,index,{v:xLen,e:yKids});for(var minLen=xLen<yLen?xLen:yLen,i=0;i<minLen;i++){var xKid=xKids[i];_VirtualDom_diffHelp(xKid,yKids[i],patches,++index),index+=xKid.b||0}}function _VirtualDom_diffKeyedKids(xParent,yParent,patches,rootIndex){for(var localPatches=[],changes={},inserts=[],xKids=xParent.e,yKids=yParent.e,xLen=xKids.length,yLen=yKids.length,xIndex=0,yIndex=0,index=rootIndex;xIndex<xLen&&yIndex<yLen;){var x,xKey=(x=xKids[xIndex]).a,yKey=(y=yKids[yIndex]).a,xNode=x.b,yNode=y.b,newMatch=void 0,oldMatch=void 0;if(xKey!==yKey){var xNextKey,xNextNode,yNextKey,yNextNode,xNext=xKids[xIndex+1],yNext=yKids[yIndex+1];if(xNext&&(xNextNode=xNext.b,oldMatch=yKey===(xNextKey=xNext.a)),yNext&&(yNextNode=yNext.b,newMatch=xKey===(yNextKey=yNext.a)),newMatch&&oldMatch)_VirtualDom_diffHelp(xNode,yNextNode,localPatches,++index),_VirtualDom_insertNode(changes,localPatches,xKey,yNode,yIndex,inserts),index+=xNode.b||0,_VirtualDom_removeNode(changes,localPatches,xKey,xNextNode,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=2;else if(newMatch)index++,_VirtualDom_insertNode(changes,localPatches,yKey,yNode,yIndex,inserts),_VirtualDom_diffHelp(xNode,yNextNode,localPatches,index),index+=xNode.b||0,xIndex+=1,yIndex+=2;else if(oldMatch)_VirtualDom_removeNode(changes,localPatches,xKey,xNode,++index),index+=xNode.b||0,_VirtualDom_diffHelp(xNextNode,yNode,localPatches,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=1;else{if(!xNext||xNextKey!==yNextKey)break;_VirtualDom_removeNode(changes,localPatches,xKey,xNode,++index),_VirtualDom_insertNode(changes,localPatches,yKey,yNode,yIndex,inserts),index+=xNode.b||0,_VirtualDom_diffHelp(xNextNode,yNextNode,localPatches,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=2}}else _VirtualDom_diffHelp(xNode,yNode,localPatches,++index),index+=xNode.b||0,xIndex++,yIndex++}for(;xIndex<xLen;)_VirtualDom_removeNode(changes,localPatches,(x=xKids[xIndex]).a,xNode=x.b,++index),index+=xNode.b||0,xIndex++;for(;yIndex<yLen;){var y,endInserts=endInserts||[];_VirtualDom_insertNode(changes,localPatches,(y=yKids[yIndex]).a,y.b,void 0,endInserts),yIndex++}(0<localPatches.length||0<inserts.length||endInserts)&&_VirtualDom_pushPatch(patches,8,rootIndex,{w:localPatches,x:inserts,y:endInserts})}var _VirtualDom_POSTFIX="_elmW6BL";function _VirtualDom_insertNode(changes,localPatches,key,vnode,yIndex,inserts){var entry=changes[key];if(!entry)return inserts.push({r:yIndex,A:entry={c:0,z:vnode,r:yIndex,s:void 0}}),void(changes[key]=entry);if(1===entry.c){inserts.push({r:yIndex,A:entry}),entry.c=2;var subPatches=[];return _VirtualDom_diffHelp(entry.z,vnode,subPatches,entry.r),entry.r=yIndex,void(entry.s.s={w:subPatches,A:entry})}_VirtualDom_insertNode(changes,localPatches,key+_VirtualDom_POSTFIX,vnode,yIndex,inserts)}function _VirtualDom_removeNode(changes,patch,key,vnode,index){var entry=changes[key];if(entry){if(0===entry.c){entry.c=2;var subPatches=[];return _VirtualDom_diffHelp(vnode,entry.z,subPatches,index),void _VirtualDom_pushPatch(patch,9,index,{w:subPatches,A:entry})}_VirtualDom_removeNode(changes,patch,key+_VirtualDom_POSTFIX,vnode,index)}else{patch=_VirtualDom_pushPatch(patch,9,index,void 0);changes[key]={c:1,z:vnode,r:index,s:patch}}}function _VirtualDom_addDomNodes(domNode,vNode,patches,eventNode){!function _VirtualDom_addDomNodesHelp(domNode,vNode,patches,i,low,high,eventNode){var patch=patches[i];var index=patch.r;for(;index===low;){var subPatches,data=patch.$;if(1===data?_VirtualDom_addDomNodes(domNode,vNode.k,patch.s,eventNode):8===data?(patch.t=domNode,patch.u=eventNode,0<(subPatches=patch.s.w).length&&_VirtualDom_addDomNodesHelp(domNode,vNode,subPatches,0,low,high,eventNode)):9===data?(patch.t=domNode,patch.u=eventNode,(data=patch.s)&&(data.A.s=domNode,0<(subPatches=data.w).length&&_VirtualDom_addDomNodesHelp(domNode,vNode,subPatches,0,low,high,eventNode))):(patch.t=domNode,patch.u=eventNode),!(patch=patches[++i])||(index=patch.r)>high)return i}var tag=vNode.$;if(4===tag){for(var subNode=vNode.k;4===subNode.$;)subNode=subNode.k;return _VirtualDom_addDomNodesHelp(domNode,subNode,patches,i,low+1,high,domNode.elm_event_node_ref)}var vKids=vNode.e;var childNodes=domNode.childNodes;for(var j=0;j<vKids.length;j++){var vKid=1===tag?vKids[j]:vKids[j].b,nextLow=++low+(vKid.b||0);if(low<=index&&index<=nextLow&&(i=_VirtualDom_addDomNodesHelp(childNodes[j],vKid,patches,i,low,nextLow,eventNode),!(patch=patches[i])||(index=patch.r)>high))return i;low=nextLow}return i}(domNode,vNode,patches,0,0,vNode.b,eventNode)}function _VirtualDom_applyPatches(rootDomNode,oldVirtualNode,patches,eventNode){return 0===patches.length?rootDomNode:(_VirtualDom_addDomNodes(rootDomNode,oldVirtualNode,patches,eventNode),_VirtualDom_applyPatchesHelp(rootDomNode,patches))}function _VirtualDom_applyPatchesHelp(rootDomNode,patches){for(var i=0;i<patches.length;i++){var newNode=patches[i],localDomNode=newNode.t,newNode=function(domNode,patch){switch(patch.$){case 0:return function(domNode,vNode,newNode){var parentNode=domNode.parentNode,newNode=_VirtualDom_render(vNode,newNode);newNode.elm_event_node_ref||(newNode.elm_event_node_ref=domNode.elm_event_node_ref);parentNode&&newNode!==domNode&&parentNode.replaceChild(newNode,domNode);return newNode}(domNode,patch.s,patch.u);case 4:return _VirtualDom_applyFacts(domNode,patch.u,patch.s),domNode;case 3:return domNode.replaceData(0,domNode.length,patch.s),domNode;case 1:return _VirtualDom_applyPatchesHelp(domNode,patch.s);case 2:return domNode.elm_event_node_ref?domNode.elm_event_node_ref.j=patch.s:domNode.elm_event_node_ref={j:patch.s,p:patch.u},domNode;case 6:for(var data=patch.s,i=0;i<data.i;i++)domNode.removeChild(domNode.childNodes[data.v]);return domNode;case 7:for(var kids=(data=patch.s).e,theEnd=domNode.childNodes[i=data.v];i<kids.length;i++)domNode.insertBefore(_VirtualDom_render(kids[i],patch.u),theEnd);return domNode;case 9:if(!(data=patch.s))return domNode.parentNode.removeChild(domNode),domNode;var entry=data.A;return void 0!==entry.r&&domNode.parentNode.removeChild(domNode),entry.s=_VirtualDom_applyPatchesHelp(domNode,data.w),domNode;case 8:return function(domNode,patch){var data=patch.s,frag=function(endInserts,patch){if(!endInserts)return;for(var frag=_VirtualDom_doc.createDocumentFragment(),i=0;i<endInserts.length;i++){var entry=endInserts[i].A;frag.appendChild(2===entry.c?entry.s:_VirtualDom_render(entry.z,patch.u))}return frag}(data.y,patch);domNode=_VirtualDom_applyPatchesHelp(domNode,data.w);for(var inserts=data.x,i=0;i<inserts.length;i++){var insert=inserts[i],node=insert.A,node=2===node.c?node.s:_VirtualDom_render(node.z,patch.u);domNode.insertBefore(node,domNode.childNodes[insert.r])}frag&&domNode.appendChild(frag);return domNode}(domNode,patch);case 5:return patch.s(domNode);default:_Debug_crash(10)}}(localDomNode,newNode);localDomNode===rootDomNode&&(rootDomNode=newNode)}return rootDomNode}function _VirtualDom_virtualize(node){if(3===node.nodeType)return{$:0,a:node.textContent};if(1!==node.nodeType)return{$:0,a:""};for(var attrList=_List_Nil,attrs=node.attributes,i=attrs.length;i--;)var attr=attrs[i],attrList={$:1,a:A2(_VirtualDom_attribute,attr.name,attr.value),b:attrList};for(var tag=node.tagName.toLowerCase(),kidList=_List_Nil,kids=node.childNodes,i=kids.length;i--;)kidList={$:1,a:_VirtualDom_virtualize(kids[i]),b:kidList};return A3(_VirtualDom_node,tag,attrList,kidList)}var _Browser_document=F4(function(impl,flagDecoder,debugMetadata,args){return _Platform_initialize(flagDecoder,args,impl.kp,impl.mc,impl.lL,function(sendToApp,initialModel){var divertHrefToApp=impl.fz&&impl.fz(sendToApp),view=impl.mg,title=_VirtualDom_doc.title,bodyNode=_VirtualDom_doc.body,currNode=_VirtualDom_virtualize(bodyNode);return _Browser_makeAnimator(initialModel,function(patches){_VirtualDom_divertHrefToApp=divertHrefToApp;var doc=view(patches),nextNode=_VirtualDom_node("body")(_List_Nil)(doc.fX),patches=_VirtualDom_diff(currNode,nextNode);bodyNode=_VirtualDom_applyPatches(bodyNode,currNode,patches,sendToApp),currNode=nextNode,_VirtualDom_divertHrefToApp=0,title!==doc.l2&&(_VirtualDom_doc.title=title=doc.l2)})})}),_Browser_requestAnimationFrame="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(callback){return setTimeout(callback,1e3/60)};function _Browser_makeAnimator(model,draw){draw(model);var state=0;function updateIfNeeded(){state=1===state?0:(_Browser_requestAnimationFrame(updateIfNeeded),draw(model),1)}return function(nextModel,isSync){model=nextModel,isSync?(draw(model),2===state&&(state=1)):(0===state&&_Browser_requestAnimationFrame(updateIfNeeded),state=2)}}function _Browser_getUrl(){return $elm$url$Url$fromString(_VirtualDom_doc.location.href).a||_Debug_crash(1)}var $mdgriffith$elm_ui$Internal$Style$classes_db=F2(function(key,url){return A2($elm$core$Task$perform,$elm$core$Basics$never,{$:2,b:function(){history.replaceState({},"",url),key()},c:null})}),$author$project$OAuthTypes$NoOp={addEventListener:function(){},removeEventListener:function(){}},_Browser_window="undefined"!=typeof window?window:$author$project$OAuthTypes$NoOp;function _Bytes_width(bytes){return bytes.byteLength}var _Bytes_write_i8=F3(function(mb,i,n){return mb.setInt8(i,n),i+1}),_Bytes_write_i16=F4(function(mb,i,n,isLE){return mb.setInt16(i,n,isLE),i+2}),_Bytes_write_i32=F4(function(mb,i,n,isLE){return mb.setInt32(i,n,isLE),i+4}),_Bytes_write_u8=F3(function(mb,i,n){return mb.setUint8(i,n),i+1}),_Bytes_write_u16=F4(function(mb,i,n,isLE){return mb.setUint16(i,n,isLE),i+2}),_Bytes_write_u32=F4(function(mb,i,n,isLE){return mb.setUint32(i,n,isLE),i+4}),_Bytes_write_f32=F4(function(mb,i,n,isLE){return mb.setFloat32(i,n,isLE),i+4}),_Bytes_write_f64=F4(function(mb,i,n,isLE){return mb.setFloat64(i,n,isLE),i+8}),_Bytes_write_bytes=F3(function(mb,offset,bytes){for(var i=0,len=bytes.byteLength,limit=len-4;i<=limit;i+=4)mb.setUint32(offset+i,bytes.getUint32(i));for(;i<len;i++)mb.setUint8(offset+i,bytes.getUint8(i));return offset+len}),_Bytes_write_string=F3(function(mb,offset,string){for(var i=0;i<string.length;i++){var code=string.charCodeAt(i);offset+=code<128?(mb.setUint8(offset,code),1):code<2048?(mb.setUint16(offset,49280|(code>>>6&31)<<8|63&code),2):code<55296||56319<code?(mb.setUint16(offset,57472|(code>>>12&15)<<8|code>>>6&63),mb.setUint8(offset+2,128|63&code),3):(code=1024*(code-55296)+string.charCodeAt(++i)-56320+65536,mb.setUint32(offset,4034953344|(code>>>18&7)<<24|(code>>>12&63)<<16|(code>>>6&63)<<8|63&code),4)}return offset}),_Bytes_decode=F2(function(decoder,bytes){try{return $elm$core$Maybe$Just(A2(decoder,bytes,0).b)}catch(e){return $elm$core$Maybe$Nothing}}),$mdgriffith$elm_ui$Element$Input$defaultTextPadding=F2(function(bytes,offset){return{a:offset+1,b:bytes.getUint8(offset)}}),$mdgriffith$elm_ui$Internal$Style$classes_lZ=F2(function(a,b){return a&b}),$mdgriffith$elm_ui$Internal$Style$classes_bJ=F2(function(a,b){return a|b}),alpha=F2(function(offset,a){return a<<offset}),families=F2(function(offset,a){return a>>offset}),$mdgriffith$elm_ui$Internal$Style$classes_iB=F2(function(offset,a){return a>>>offset}),$mdgriffith$elm_ui$Internal$Style$classes_jz=F2(function(interval,task){return{$:2,b:function(){var id=setInterval(function(){_Scheduler_rawSpawn(task)},interval);return function(){clearInterval(id)}},c:null}}),$mdgriffith$elm_ui$Internal$Style$classes_lX=F2(function(x,y){return new Float64Array([x,y])});new Float64Array(3),new Float64Array(3),new Float64Array(3);var $elm$svg$Svg$line=F3(function(x,y,z){return new Float64Array([x,y,z])}),$mdgriffith$elm_ui$Internal$Model$Attr=F2(function(k,a){return new Float64Array([a[0]*k,a[1]*k,a[2]*k])}),$mdgriffith$elm_ui$Internal$Style$classes_lW=F4(function(x,y,z,w){return new Float64Array([x,y,z,w])});new Float64Array(16),new Float64Array(16),new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);var _WebGL_guid=0;function _WebGL_listEach(fn,list){for(;list.b;list=list.b)fn(list.a)}function _WebGL_listLength(list){for(var length=0;list.b;list=list.b)length++;return length}function _WebGL_disableScissor(cache){cache.scissor.enabled&&(cache.gl.disable(cache.gl.SCISSOR_TEST),cache.scissor.enabled=!1)}function _WebGL_disableColorMask(cache){var colorMask=cache.colorMask;colorMask.a&&colorMask.b&&colorMask.c&&colorMask.d||(cache.gl.colorMask(!0,!0,!0,!0),colorMask.a=!0,colorMask.b=!0,colorMask.c=!0,colorMask.d=!0)}var _WebGL_rAF="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(cb){setTimeout(cb,1e3/60)},$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver=F5(function(settings,vert,frag,mesh,uniforms){return{$:0,a:settings,b:vert,c:frag,d:mesh,e:uniforms}}),_WebGL_enableBlend=F2(function(cache,setting){var blend=cache.blend;blend.toggle=cache.toggle,blend.enabled||(cache.gl.enable(cache.gl.BLEND),blend.enabled=!0),blend.a===setting.a&&blend.d===setting.d||(cache.gl.blendEquationSeparate(setting.a,setting.d),blend.a=setting.a,blend.d=setting.d),blend.b===setting.b&&blend.c===setting.c&&blend.e===setting.e&&blend.f===setting.f||(cache.gl.blendFuncSeparate(setting.b,setting.c,setting.e,setting.f),blend.b=setting.b,blend.c=setting.c,blend.e=setting.e,blend.f=setting.f),blend.g===setting.g&&blend.h===setting.h&&blend.i===setting.i&&blend.j===setting.j||(cache.gl.blendColor(setting.g,setting.h,setting.i,setting.j),blend.g=setting.g,blend.h=setting.h,blend.i=setting.i,blend.j=setting.j)}),_WebGL_enableDepthTest=F2(function(cache,setting){var depthTest=cache.depthTest;depthTest.toggle=cache.toggle,depthTest.enabled||(cache.gl.enable(cache.gl.DEPTH_TEST),depthTest.enabled=!0),depthTest.a!==setting.a&&(cache.gl.depthFunc(setting.a),depthTest.a=setting.a),depthTest.b!==setting.b&&(cache.gl.depthMask(setting.b),depthTest.b=setting.b),depthTest.c===setting.c&&depthTest.d===setting.d||(cache.gl.depthRange(setting.c,setting.d),depthTest.c=setting.c,depthTest.d=setting.d)}),_WebGL_enableStencilTest=F2(function(cache,setting){var stencilTest=cache.stencilTest;stencilTest.toggle=cache.toggle,stencilTest.enabled||(cache.gl.enable(cache.gl.STENCIL_TEST),stencilTest.enabled=!0),stencilTest.d===setting.d&&stencilTest.a===setting.a&&stencilTest.b===setting.b||(cache.gl.stencilFuncSeparate(cache.gl.FRONT,setting.d,setting.a,setting.b),stencilTest.d=setting.d),stencilTest.e===setting.e&&stencilTest.f===setting.f&&stencilTest.g===setting.g||(cache.gl.stencilOpSeparate(cache.gl.FRONT,setting.e,setting.f,setting.g),stencilTest.e=setting.e,stencilTest.f=setting.f,stencilTest.g=setting.g),stencilTest.c!==setting.c&&(cache.gl.stencilMask(setting.c),stencilTest.c=setting.c),stencilTest.h===setting.h&&stencilTest.a===setting.a&&stencilTest.b===setting.b||(cache.gl.stencilFuncSeparate(cache.gl.BACK,setting.h,setting.a,setting.b),stencilTest.h=setting.h,stencilTest.a=setting.a,stencilTest.b=setting.b),stencilTest.i===setting.i&&stencilTest.j===setting.j&&stencilTest.k===setting.k||(cache.gl.stencilOpSeparate(cache.gl.BACK,setting.i,setting.j,setting.k),stencilTest.i=setting.i,stencilTest.j=setting.j,stencilTest.k=setting.k)}),_WebGL_enableScissor=F2(function(cache,setting){var scissor=cache.scissor;scissor.toggle=cache.toggle,scissor.enabled||(cache.gl.enable(cache.gl.SCISSOR_TEST),scissor.enabled=!0),scissor.a===setting.a&&scissor.b===setting.b&&scissor.c===setting.c&&scissor.d===setting.d||(cache.gl.scissor(setting.a,setting.b,setting.c,setting.d),scissor.a=setting.a,scissor.b=setting.b,scissor.c=setting.c,scissor.d=setting.d)}),_WebGL_enableColorMask=F2(function(cache,setting){var colorMask=cache.colorMask;colorMask.toggle=cache.toggle,colorMask.enabled=!0,colorMask.a===setting.a&&colorMask.b===setting.b&&colorMask.c===setting.c&&colorMask.d===setting.d||(cache.gl.colorMask(setting.a,setting.b,setting.c,setting.d),colorMask.a=setting.a,colorMask.b=setting.b,colorMask.c=setting.c,colorMask.d=setting.d)}),_WebGL_enableCullFace=F2(function(cache,setting){var cullFace=cache.cullFace;cullFace.toggle=cache.toggle,cullFace.enabled||(cache.gl.enable(cache.gl.CULL_FACE),cullFace.enabled=!0),cullFace.a!==setting.a&&(cache.gl.cullFace(setting.a),cullFace.a=setting.a)}),_WebGL_enablePolygonOffset=F2(function(cache,setting){var polygonOffset=cache.polygonOffset;polygonOffset.toggle=cache.toggle,polygonOffset.enabled||(cache.gl.enable(cache.gl.POLYGON_OFFSET_FILL),polygonOffset.enabled=!0),polygonOffset.a===setting.a&&polygonOffset.b===setting.b||(cache.gl.polygonOffset(setting.a,setting.b),polygonOffset.a=setting.a,polygonOffset.b=setting.b)}),_WebGL_enableSampleCoverage=F2(function(cache,setting){var sampleCoverage=cache.sampleCoverage;sampleCoverage.toggle=cache.toggle,sampleCoverage.enabled||(cache.gl.enable(cache.gl.SAMPLE_COVERAGE),sampleCoverage.enabled=!0),sampleCoverage.a===setting.a&&sampleCoverage.b===setting.b||(cache.gl.sampleCoverage(setting.a,setting.b),sampleCoverage.a=setting.a,sampleCoverage.b=setting.b)}),_WebGL_settings=["blend","depthTest","stencilTest","scissor","colorMask","cullFace","polygonOffset","sampleCoverage","sampleAlphaToCoverage"],_WebGL_disableFunctions=[function(cache){cache.blend.enabled&&(cache.gl.disable(cache.gl.BLEND),cache.blend.enabled=!1)},function(cache){cache.depthTest.enabled&&(cache.gl.disable(cache.gl.DEPTH_TEST),cache.depthTest.enabled=!1)},function(cache){cache.stencilTest.enabled&&(cache.gl.disable(cache.gl.STENCIL_TEST),cache.stencilTest.enabled=!1)},_WebGL_disableScissor,_WebGL_disableColorMask,function(cache){cache.gl.disable(cache.gl.CULL_FACE)},function(cache){cache.gl.disable(cache.gl.POLYGON_OFFSET_FILL)},function(cache){cache.gl.disable(cache.gl.SAMPLE_COVERAGE)},function(cache){cache.gl.disable(cache.gl.SAMPLE_ALPHA_TO_COVERAGE)}];function _WebGL_doCompile(gl,src,shader){shader=gl.createShader(shader);return gl.shaderSource(shader,"#extension GL_OES_standard_derivatives : enable\n"+src),gl.compileShader(shader),shader}function _WebGL_getAttributeInfo(gl,type){switch(type){case gl.FLOAT:return{size:1,arraySize:1,type:Float32Array,baseType:gl.FLOAT};case gl.FLOAT_VEC2:return{size:2,arraySize:1,type:Float32Array,baseType:gl.FLOAT};case gl.FLOAT_VEC3:return{size:3,arraySize:1,type:Float32Array,baseType:gl.FLOAT};case gl.FLOAT_VEC4:return{size:4,arraySize:1,type:Float32Array,baseType:gl.FLOAT};case gl.FLOAT_MAT4:return{size:4,arraySize:4,type:Float32Array,baseType:gl.FLOAT};case gl.INT:return{size:1,arraySize:1,type:Int32Array,baseType:gl.INT}}}function _WebGL_doBindAttribute(gl,attribute,buffer,attributes){for(var elemSize=buffer.a.go,idxKeys=[],i=0;i<elemSize;i++)idxKeys.push(String.fromCharCode(97+i));var attributeInfo=_WebGL_getAttributeInfo(gl,attribute.type);if(void 0===attributeInfo)throw Error("No info available for: "+attribute.type);var dataIdx=0,dataOffset=attributeInfo.size*attributeInfo.arraySize*elemSize,array=new attributeInfo.type(_WebGL_listLength(buffer.b)*dataOffset);_WebGL_listEach(function(elem){!function(data,cnt,fillOffset,elem,key){var i;if(1===elemSize)for(i=0;i<cnt;i++)data[fillOffset++]=1===cnt?elem[key]:elem[key][i];else idxKeys.forEach(function(idx){for(i=0;i<cnt;i++)data[fillOffset++]=1===cnt?elem[idx][key]:elem[idx][key][i]})}(array,attributeInfo.size*attributeInfo.arraySize,dataIdx,elem,attributes[attribute.name]||attribute.name),dataIdx+=dataOffset},buffer.b);buffer=gl.createBuffer();return gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,array,gl.STATIC_DRAW),buffer}function _WebGL_doBindSetup(gl,mesh){if(0<mesh.a.gL){var indexBuffer=gl.createBuffer(),indices=function(indicesList,indexSize){var i,indices=new Uint16Array(_WebGL_listLength(indicesList)*indexSize),fillOffset=0;return _WebGL_listEach(function(elem){if(1===indexSize)indices[fillOffset++]=elem;else for(i=0;i<indexSize;i++)indices[fillOffset++]=elem[String.fromCharCode(97+i)]},indicesList),indices}(mesh.c,mesh.a.gL);return gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,indices,gl.STATIC_DRAW),{numIndices:indices.length,indexBuffer:indexBuffer,buffers:{}}}return{numIndices:mesh.a.go*_WebGL_listLength(mesh.b),indexBuffer:null,buffers:{}}}var _WebGL_drawGL=F2(function(model,domNode){var cache=model.f,gl=cache.gl;return gl&&(gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight),cache.depthTest.b||(gl.depthMask(!0),cache.depthTest.b=!0),cache.stencilTest.c!==cache.STENCIL_WRITEMASK&&(gl.stencilMask(cache.STENCIL_WRITEMASK),cache.stencilTest.c=cache.STENCIL_WRITEMASK),_WebGL_disableScissor(cache),_WebGL_disableColorMask(cache),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT|gl.STENCIL_BUFFER_BIT),_WebGL_listEach(function(entity){if(entity.d.b.b){var progid,vshader,fshader,setters,values;if(entity.b.id&&entity.c.id&&(program=cache.programs[progid=entity.b.id+"#"+entity.c.id]),!program){entity.b.id?vshader=cache.shaders[entity.b.id]:entity.b.id=_WebGL_guid++,vshader||(vshader=_WebGL_doCompile(gl,entity.b.src,gl.VERTEX_SHADER),cache.shaders[entity.b.id]=vshader),entity.c.id?fshader=cache.shaders[entity.c.id]:entity.c.id=_WebGL_guid++,fshader||(fshader=_WebGL_doCompile(gl,entity.c.src,gl.FRAGMENT_SHADER),cache.shaders[entity.c.id]=fshader);var program,glProgram=function(gl,vshader,fshader){var program=gl.createProgram();if(gl.attachShader(program,vshader),gl.attachShader(program,fshader),gl.linkProgram(program),!gl.getProgramParameter(program,gl.LINK_STATUS))throw"Link failed: "+gl.getProgramInfoLog(program)+"\nvs info-log: "+gl.getShaderInfoLog(vshader)+"\nfs info-log: "+gl.getShaderInfoLog(fshader);return program}(gl,vshader,fshader);(program={glProgram:glProgram,attributes:Object.assign({},entity.b.attributes,entity.c.attributes),currentUniforms:{},activeAttributes:[],activeAttributeLocations:[]}).uniformSetters=function(gl,model,program,uniformsMap){var glProgram=program.glProgram,currentUniforms=program.currentUniforms,textureCounter=0,cache=model.f;for(var uniformSetters={},numUniforms=gl.getProgramParameter(glProgram,gl.ACTIVE_UNIFORMS),i=0;i<numUniforms;i++){var uniform=gl.getActiveUniform(glProgram,i);uniformSetters[uniformsMap[uniform.name]||uniform.name]=function(glProgram,uniform){var uniformName=uniform.name,uniformLocation=gl.getUniformLocation(glProgram,uniformName);switch(uniform.type){case gl.INT:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform1i(uniformLocation,value),currentUniforms[uniformName]=value)};case gl.FLOAT:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform1f(uniformLocation,value),currentUniforms[uniformName]=value)};case gl.FLOAT_VEC2:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform2f(uniformLocation,value[0],value[1]),currentUniforms[uniformName]=value)};case gl.FLOAT_VEC3:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform3f(uniformLocation,value[0],value[1],value[2]),currentUniforms[uniformName]=value)};case gl.FLOAT_VEC4:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform4f(uniformLocation,value[0],value[1],value[2],value[3]),currentUniforms[uniformName]=value)};case gl.FLOAT_MAT4:return function(value){currentUniforms[uniformName]!==value&&(gl.uniformMatrix4fv(uniformLocation,!1,new Float32Array(value)),currentUniforms[uniformName]=value)};case gl.SAMPLER_2D:var currentTexture=textureCounter++;return function(texture){gl.activeTexture(gl.TEXTURE0+currentTexture);var tex=cache.textures.get(texture);tex||(tex=texture.jF(gl),cache.textures.set(texture,tex)),gl.bindTexture(gl.TEXTURE_2D,tex),currentUniforms[uniformName]!==texture&&(gl.uniform1i(uniformLocation,currentTexture),currentUniforms[uniformName]=texture)};case gl.BOOL:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform1i(uniformLocation,value),currentUniforms[uniformName]=value)};default:return function(){}}}(glProgram,uniform)}return uniformSetters}(gl,model,program,Object.assign({},entity.b.uniforms,entity.c.uniforms));for(var numActiveAttributes=gl.getProgramParameter(glProgram,gl.ACTIVE_ATTRIBUTES),i=0;i<numActiveAttributes;i++){var attribute=gl.getActiveAttrib(glProgram,i),attribLocation=gl.getAttribLocation(glProgram,attribute.name);program.activeAttributes.push(attribute),program.activeAttributeLocations.push(attribLocation)}cache.programs[progid=entity.b.id+"#"+entity.c.id]=program}cache.lastProgId!==progid&&(gl.useProgram(program.glProgram),cache.lastProgId=progid),setters=program.uniformSetters,Object.keys(values=entity.e).forEach(function(name){var setter=setters[name];setter&&setter(values[name])});var buffer=cache.buffers.get(entity.d);for(buffer||(buffer=_WebGL_doBindSetup(gl,entity.d),cache.buffers.set(entity.d,buffer)),i=0;i<program.activeAttributes.length;i++){attribLocation=program.activeAttributeLocations[i],void 0===buffer.buffers[(attribute=program.activeAttributes[i]).name]&&(buffer.buffers[attribute.name]=_WebGL_doBindAttribute(gl,attribute,entity.d,program.attributes)),gl.bindBuffer(gl.ARRAY_BUFFER,buffer.buffers[attribute.name]);var attributeInfo=_WebGL_getAttributeInfo(gl,attribute.type);if(1===attributeInfo.arraySize)gl.enableVertexAttribArray(attribLocation),gl.vertexAttribPointer(attribLocation,attributeInfo.size,attributeInfo.baseType,!1,0,0);else for(var offset=4*attributeInfo.size,stride=offset*attributeInfo.arraySize,m=0;m<attributeInfo.arraySize;m++)gl.enableVertexAttribArray(attribLocation+m),gl.vertexAttribPointer(attribLocation+m,attributeInfo.size,attributeInfo.baseType,!1,stride,offset*m)}for(cache.toggle=!cache.toggle,_WebGL_listEach($elm_explorations$webgl$WebGL$Internal$enableSetting(cache),entity.a),i=0;i<9;i++){var setting=cache[_WebGL_settings[i]];setting.toggle!==cache.toggle&&setting.enabled&&(_WebGL_disableFunctions[i](cache),setting.enabled=!1,setting.toggle=cache.toggle)}buffer.indexBuffer?(gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,buffer.indexBuffer),gl.drawElements(entity.d.a.hu,buffer.numIndices,gl.UNSIGNED_SHORT,0)):gl.drawArrays(entity.d.a.hu,0,buffer.numIndices)}},model.g)),domNode}),_WebGL_toHtml=F3(function(options,factList,entities){return _VirtualDom_custom(factList,{g:entities,f:{},h:options},_WebGL_render,_WebGL_diff)}),_WebGL_enableAlpha=F2(function(options,option){options.contextAttributes.alpha=!0,options.contextAttributes.premultipliedAlpha=option.a}),_WebGL_enableDepth=F2(function(options,option){options.contextAttributes.depth=!0,options.sceneSettings.push(function(gl){gl.clearDepth(option.a)})}),_WebGL_enableStencil=F2(function(options,option){options.contextAttributes.stencil=!0,options.sceneSettings.push(function(gl){gl.clearStencil(option.a)})}),_WebGL_enableAntialias=F2(function(options){options.contextAttributes.antialias=!0}),_WebGL_enableClearColor=F2(function(options,option){options.sceneSettings.push(function(gl){gl.clearColor(option.a,option.b,option.c,option.d)})}),_WebGL_enablePreserveDrawingBuffer=F2(function(options){options.contextAttributes.preserveDrawingBuffer=!0});function _WebGL_render(model){var options={contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1},sceneSettings:[]};_WebGL_listEach(function(option){return A2($elm_explorations$webgl$WebGL$Internal$enableOption,options,option)},model.h);var canvas=_VirtualDom_doc.createElement("canvas"),gl=canvas.getContext&&(canvas.getContext("webgl",options.contextAttributes)||canvas.getContext("experimental-webgl",options.contextAttributes));return gl&&"undefined"!=typeof WeakMap?(options.sceneSettings.forEach(function(sceneSetting){sceneSetting(gl)}),gl.getExtension("OES_standard_derivatives"),model.f.gl=gl,model.f.toggle=!1,model.f.blend={enabled:!1,toggle:!1},model.f.depthTest={enabled:!1,toggle:!1},model.f.stencilTest={enabled:!1,toggle:!1},model.f.scissor={enabled:!1,toggle:!1},model.f.colorMask={enabled:!1,toggle:!1},model.f.cullFace={enabled:!1,toggle:!1},model.f.polygonOffset={enabled:!1,toggle:!1},model.f.sampleCoverage={enabled:!1,toggle:!1},model.f.sampleAlphaToCoverage={enabled:!1,toggle:!1},model.f.shaders=[],model.f.programs={},model.f.lastProgId=null,model.f.buffers=new WeakMap,model.f.textures=new WeakMap,model.f.STENCIL_WRITEMASK=gl.getParameter(gl.STENCIL_WRITEMASK),_WebGL_rAF(function(){return A2(_WebGL_drawGL,model,canvas)})):(canvas=_VirtualDom_doc.createElement("div")).innerHTML='<a href="https://get.webgl.org/">Enable WebGL</a> to see this content!',canvas}function _WebGL_diff(oldModel,newModel){return newModel.f=oldModel.f,_WebGL_drawGL(newModel)}var _File_downloadNode,_Regex_fromStringWith=F2(function(options,string){var flags="g";options.kP&&(flags+="m"),options.jr&&(flags+="i");try{return $elm$core$Maybe$Just(RegExp(string,flags))}catch(error){return $elm$core$Maybe$Nothing}}),_Regex_findAtMost=F3(function(n,re,lastIndex){for(var result,out=[],number=0,string=lastIndex,lastIndex=re.lastIndex,prevLastIndex=-1;number++<n&&(result=re.exec(string))&&prevLastIndex!=re.lastIndex;){for(var i=result.length-1,subs=Array(i);0<i;){var submatch=result[i];subs[--i]=submatch?$elm$core$Maybe$Just(submatch):$elm$core$Maybe$Nothing}out.push(A4($elm$regex$Regex$Match,result[0],result.index,number,_List_fromArray(subs))),prevLastIndex=re.lastIndex}return re.lastIndex=lastIndex,_List_fromArray(out)});function _File_getDownloadNode(){return _File_downloadNode=_File_downloadNode||document.createElement("a")}var _File_node,_File_download=F3(function(name,mime,content){return{$:2,b:function(){var node,objectUrl=new Blob([content],{type:mime});navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(objectUrl,name):(node=_File_getDownloadNode(),objectUrl=URL.createObjectURL(objectUrl),node.href=objectUrl,node.download=name,_File_click(node),URL.revokeObjectURL(objectUrl))},c:null}});function _File_click(node){var event;"function"==typeof MouseEvent?node.dispatchEvent(new MouseEvent("click")):((event=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(node),node.dispatchEvent(event),document.body.removeChild(node))}var _Http_toTask=F3(function(router,toTask,request){return{$:2,b:function(callback){function done(response){callback(toTask(request.gx.a(response)))}var xhr=new XMLHttpRequest;xhr.addEventListener("error",function(){done($elm$http$Http$NetworkError_)}),xhr.addEventListener("timeout",function(){done($elm$http$Http$Timeout_)}),xhr.addEventListener("load",function(){done(function(toBody,xhr){return A2(200<=xhr.status&&xhr.status<300?$elm$http$Http$GoodStatus_:$elm$http$Http$BadStatus_,function(xhr){return{ee:xhr.responseURL,lE:xhr.status,lF:xhr.statusText,gG:function(rawHeaders){if(!rawHeaders)return $elm$core$Dict$empty;for(var headers=$elm$core$Dict$empty,headerPairs=rawHeaders.split("\r\n"),i=headerPairs.length;i--;){var key,value,headerPair=headerPairs[i],index=headerPair.indexOf(": ");0<index&&(key=headerPair.substring(0,index),value=headerPair.substring(2+index),headers=A3($elm$core$Dict$update,key,function(oldValue){return $elm$core$Maybe$Just($elm$core$Maybe$isJust(oldValue)?value+", "+oldValue.a:value)},headers))}return headers}(xhr.getAllResponseHeaders())}}(xhr),toBody(xhr.response))}(request.gx.b,xhr))}),$elm$core$Maybe$isJust(request.iz)&&function(router,xhr,tracker){xhr.upload.addEventListener("progress",function(event){xhr.c||_Scheduler_rawSpawn(A2($elm$core$Platform$sendToSelf,router,{a:tracker,b:$elm$http$Http$Sending({lo:event.loaded,lu:event.total})}))}),xhr.addEventListener("progress",function(event){xhr.c||_Scheduler_rawSpawn(A2($elm$core$Platform$sendToSelf,router,{a:tracker,b:$elm$http$Http$Receiving({la:event.loaded,lu:event.lengthComputable?$elm$core$Maybe$Just(event.total):$elm$core$Maybe$Nothing})}))})}(router,xhr,request.iz.a);try{xhr.open(request.hn,request.ee,!0)}catch(e){return done($elm$http$Http$BadUrl_(request.ee))}return function(xhr,request){for(var headers=request.gG;headers.b;headers=headers.b)xhr.setRequestHeader(headers.a.a,headers.a.b);xhr.timeout=request.iu.a||0,xhr.responseType=request.gx.d,xhr.withCredentials=request.i3}(xhr,request),request.fX.a&&xhr.setRequestHeader("Content-Type",request.fX.a),xhr.send(request.fX.b),function(){xhr.c=!0,xhr.abort()}},c:null}}),_Http_expect=F3(function(type,toBody,toValue){return{$:0,d:type,b:toBody,a:toValue}}),_Http_mapExpect=F2(function(func,expect){return{$:0,d:expect.d,b:expect.b,a:function(x){return func(expect.a(x))}}});function _Http_toDataView(arrayBuffer){return new DataView(arrayBuffer)}var _Http_pair=F2(function(a,b){return{$:0,a:a,b:b}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=F3(function(options,factList,rawMarkdown){return _VirtualDom_custom(factList,{a:options,b:rawMarkdown},_Markdown_render,_Markdown_diff)});function _Markdown_render(model){return A2(_Markdown_replace,model,_VirtualDom_doc.createElement("div"))}function _Markdown_diff(x,y){return(x.b!==y.b||x.a!==y.a)&&_Markdown_replace(y)}var module,exports,_Markdown_replace=F2(function(gfm,div){var options;return div.innerHTML=_Markdown_marked(gfm.b,{highlight:function(code,lang){return!lang&&$elm$core$Maybe$isJust(options.gk)&&(lang=options.gk.a),"undefined"!=typeof hljs&&lang&&~hljs.listLanguages().indexOf(lang)?hljs.highlight(lang,code,!0).value:code},gfm:gfm=(options=gfm.a).j8.a,tables:gfm&&gfm.lN,breaks:gfm&&gfm.jo,sanitize:options.lh,smartypants:options.lw}),div}),_Markdown_marked=(exports=(module={}).exports={},function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function Lexer(options){this.tokens=[],this.tokens.links={},this.options=options||marked.defaults,this.rules=block.normal,this.options.gfm&&(this.rules=this.options.tables?block.tables:block.gfm)}block.bullet=/(?:[*+-]|\d+\.)/,block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,block.item=replace(block.item,"gm")(/bull/g,block.bullet)(),block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")(),block.blockquote=replace(block.blockquote)("def",block.def)(),block._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)(),block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)(),block.normal=merge({},block),block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")(),block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),Lexer.rules=block,Lexer.lex=function(src,options){return new Lexer(options).lex(src)},Lexer.prototype.lex=function(src){return src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(src,!0)},Lexer.prototype.token=function(src,top,bq){for(var next,cap,bull,loose,item,space,i,l,src=src.replace(/^ +$/gm,"");src;)if((cap=this.rules.newline.exec(src))&&(src=src.substring(cap[0].length),1<cap[0].length&&this.tokens.push({type:"space"})),cap=this.rules.code.exec(src))src=src.substring(cap[0].length),cap=cap[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?cap:cap.replace(/\n+$/,"")});else if(cap=this.rules.fences.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"code",lang:cap[2],text:cap[3]||""});else if(cap=this.rules.heading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});else if(top&&(cap=this.rules.nptable.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")},i=0;i<item.align.length;i++)item.align[i]=/^ *-+: *$/.test(item.align[i])?"right":/^ *:-+: *$/.test(item.align[i])?"center":/^ *:-+ *$/.test(item.align[i])?"left":null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].split(/ *\| */);this.tokens.push(item)}else if(cap=this.rules.lheading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:"="===cap[2]?1:2,text:cap[1]});else if(cap=this.rules.hr.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"hr"});else if(cap=this.rules.blockquote.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"blockquote_start"}),cap=cap[0].replace(/^ *> ?/gm,""),this.token(cap,top,!0),this.tokens.push({type:"blockquote_end"});else if(cap=this.rules.list.exec(src)){for(src=src.substring(cap[0].length),this.tokens.push({type:"list_start",ordered:1<(bull=cap[2]).length}),next=!1,l=(cap=cap[0].match(this.rules.item)).length,i=0;i<l;i++)space=(item=cap[i]).length,~(item=item.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(space-=item.length,item=item.replace(this.options.pedantic?/^ {1,4}/gm:RegExp("^ {1,"+space+"}","gm"),"")),this.options.smartLists&&i!==l-1&&(bull===(loose=block.bullet.exec(cap[i+1])[0])||1<bull.length&&1<loose.length||(src=cap.slice(i+1).join("\n")+src,i=l-1)),loose=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next="\n"==item[0|item.length-1],loose=loose||next),this.tokens.push({type:loose?"loose_item_start":"list_item_start"}),this.token(item,!1,bq),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(cap=this.rules.html.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===cap[1]||"script"===cap[1]||"style"===cap[1]),text:cap[0]});else if(!bq&&top&&(cap=this.rules.def.exec(src)))src=src.substring(cap[0].length),this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};else if(top&&(cap=this.rules.table.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")},i=0;i<item.align.length;i++)item.align[i]=/^ *-+: *$/.test(item.align[i])?"right":/^ *:-+: *$/.test(item.align[i])?"center":/^ *:-+ *$/.test(item.align[i])?"left":null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(item)}else if(top&&(cap=this.rules.paragraph.exec(src)))src=src.substring(cap[0].length),this.tokens.push({type:"paragraph",text:"\n"==cap[1][0|cap[1].length-1]?cap[1].slice(0,-1):cap[1]});else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"text",text:cap[0]});else if(src)throw Error("Infinite loop on byte: "+src.charCodeAt(0));return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^_\_([\s\S]+?)_\_(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|_\_)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function InlineLexer(links,options){if(this.options=options||marked.defaults,this.links=links,this.rules=inline.normal,this.renderer=this.options.renderer||new Renderer,this.renderer.options=this.options,!this.links)throw Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?inline.breaks:inline.gfm:this.options.pedantic&&(this.rules=inline.pedantic)}function Renderer(options){this.options=options||{}}function Parser(options){this.tokens=[],this.token=null,this.options=options||marked.defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options}function escape(html,encode){return html.replace(encode?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function replace(regex,opt){return regex=regex.source,opt=opt||"",function self(name,val){return name?(val=(val=val.source||val).replace(/(^|[^\[])\^/g,"$1"),regex=regex.replace(name,val),self):RegExp(regex,opt)}}function noop(){}function merge(obj){for(var target,key,i=1;i<arguments.length;i++)for(key in target=arguments[i])Object.prototype.hasOwnProperty.call(target,key)&&(obj[key]=target[key]);return obj}function marked(src,opt,callback){if(callback||"function"==typeof opt){callback||(callback=opt,opt=null);var tokens,pending,highlight=(opt=merge({},marked.defaults,opt||{})).highlight,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err)return opt.highlight=highlight,callback(err);var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}return opt.highlight=highlight,err?callback(err):callback(null,out)};if(!highlight||highlight.length<3)return done();if(delete opt.highlight,!pending)return done();for(;i<tokens.length;i++)!function(token){"code"!==token.type?--pending||done():highlight(token.text,token.lang,function(err,code){return err?done(err):null==code||code===token.text?--pending||done():(token.text=code,token.escaped=!0,void(--pending||done()))})}(tokens[i])}else try{return opt=opt&&merge({},marked.defaults,opt),Parser.parse(Lexer.lex(src,opt),opt)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(opt||marked.defaults).silent)return"<p>An error occured:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}}inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)(),inline.reflink=replace(inline.reflink)("inside",inline._inside)(),inline.normal=merge({},inline),inline.pedantic=merge({},inline.normal,{strong:/^_\_(?=\S)([\s\S]*?\S)_\_(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()}),inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()}),InlineLexer.rules=inline,InlineLexer.output=function(src,links,options){return new InlineLexer(links,options).output(src)},InlineLexer.prototype.output=function(src){for(var link,text,href,cap,out="";src;)if(cap=this.rules.escape.exec(src))src=src.substring(cap[0].length),out+=cap[1];else if(cap=this.rules.autolink.exec(src))src=src.substring(cap[0].length),href="@"===cap[2]?(text=this.mangle(":"==cap[1][6]?cap[1].substring(7):cap[1]),this.mangle("mailto:")+text):text=escape(cap[1]),out+=this.renderer.link(href,null,text);else if(this.inLink||!(cap=this.rules.url.exec(src))){if(cap=this.rules.tag.exec(src))!this.inLink&&/^<a /i.test(cap[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(cap[0])&&(this.inLink=!1),src=src.substring(cap[0].length),out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];else if(cap=this.rules.link.exec(src))src=src.substring(cap[0].length),this.inLink=!0,out+=this.outputLink(cap,{href:cap[2],title:cap[3]}),this.inLink=!1;else if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src)))src=src.substring(cap[0].length),link=(cap[2]||cap[1]).replace(/\s+/g," "),(link=this.links[link.toLowerCase()])&&link.href?(this.inLink=!0,out+=this.outputLink(cap,link),this.inLink=!1):(out+=cap[0][0],src=cap[0].substring(1)+src);else if(cap=this.rules.strong.exec(src))src=src.substring(cap[0].length),out+=this.renderer.strong(this.output(cap[2]||cap[1]));else if(cap=this.rules.em.exec(src))src=src.substring(cap[0].length),out+=this.renderer.em(this.output(cap[2]||cap[1]));else if(cap=this.rules.code.exec(src))src=src.substring(cap[0].length),out+=this.renderer.codespan(escape(cap[2],!0));else if(cap=this.rules.br.exec(src))src=src.substring(cap[0].length),out+=this.renderer.br();else if(cap=this.rules.del.exec(src))src=src.substring(cap[0].length),out+=this.renderer.del(this.output(cap[1]));else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),out+=this.renderer.text(escape(this.smartypants(cap[0])));else if(src)throw Error("Infinite loop on byte: "+src.charCodeAt(0))}else src=src.substring(cap[0].length),text=escape(cap[1]),out+=this.renderer.link(href=text,null,text);return out},InlineLexer.prototype.outputLink=function(cap,title){var href=escape(title.href),title=title.title?escape(title.title):null;return"!"!=cap[0][0]?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))},InlineLexer.prototype.smartypants=function(text){return this.options.smartypants?text.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):text},InlineLexer.prototype.mangle=function(text){if(!this.options.mangle)return text;for(var ch,out="",l=text.length,i=0;i<l;i++)ch=text.charCodeAt(i),.5<Math.random()&&(ch="x"+ch.toString(16)),out+="&#"+ch+";";return out},Renderer.prototype.code=function(code,lang,escaped){var out;return!this.options.highlight||null!=(out=this.options.highlight(code,lang))&&out!==code&&(escaped=!0,code=out),lang?'<pre><code class="'+this.options.langPrefix+escape(lang,!0)+'">'+(escaped?code:escape(code,!0))+"\n</code></pre>\n":"<pre><code>"+(escaped?code:escape(code,!0))+"\n</code></pre>"},Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"},Renderer.prototype.html=function(html){return html},Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"},Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Renderer.prototype.list=function(body,type){type=type?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"},Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"},Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"},Renderer.prototype.table=function(header,body){return"<table>\n<thead>\n"+header+"</thead>\n<tbody>\n"+body+"</tbody>\n</table>\n"},Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"},Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";return(flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">")+content+"</"+type+">\n"},Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"},Renderer.prototype.em=function(text){return"<em>"+text+"</em>"},Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"},Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},Renderer.prototype.del=function(text){return"<del>"+text+"</del>"},Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(href.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(_,n){return"colon"===(n=n.toLowerCase())?":":"#"==n[0]?String.fromCharCode("x"==n[1]?parseInt(n.substring(2),16):+n.substring(1)):""})).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(!prot.indexOf("javascript:")||!prot.indexOf("vbscript:")||!prot.indexOf("data:"))return""}var out='<a href="'+href+'"';return title&&(out+=' title="'+title+'"'),out+=">"+text+"</a>"},Renderer.prototype.image=function(href,title,out){out='<img src="'+href+'" alt="'+out+'"';return title&&(out+=' title="'+title+'"'),out+=this.options.xhtml?"/>":">"},Renderer.prototype.text=function(text){return text},Parser.parse=function(src,options,renderer){return new Parser(options).parse(src)},Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options),this.tokens=src.reverse();for(var out="";this.next();)out+=this.tok();return out},Parser.prototype.next=function(){return this.token=this.tokens.pop()},Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser.prototype.parseText=function(){for(var body=this.token.text;"text"===this.peek().type;)body+="\n"+this.next().text;return this.inline.output(body)},Parser.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":for(var row,j,header="",body="",cell="",i=0;i<this.token.header.length;i++)cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:!0,align:this.token.align[i]});for(header+=this.renderer.tablerow(cell),i=0;i<this.token.cells.length;i++){for(row=this.token.cells[i],cell="",j=0;j<row.length;j++)cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:!1,align:this.token.align[j]});body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body);case"blockquote_start":for(body="";"blockquote_end"!==this.next().type;)body+=this.tok();return this.renderer.blockquote(body);case"list_start":for(var body="",html=this.token.ordered;"list_end"!==this.next().type;)body+=this.tok();return this.renderer.list(body,html);case"list_item_start":for(body="";"list_item_end"!==this.next().type;)body+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(body);case"loose_item_start":for(body="";"list_item_end"!==this.next().type;)body+=this.tok();return this.renderer.listitem(body);case"html":html=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(html);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},noop.exec=noop,marked.options=marked.setOptions=function(opt){return merge(marked.defaults,opt),marked},marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new Renderer,xhtml:!1},marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.InlineLexer=InlineLexer,marked.inlineLexer=InlineLexer.output,marked.parse=marked,void 0!==module&&"object"==typeof exports?module.exports=marked:"function"==typeof define&&define.amd?define(function(){return marked}):this.marked=marked}.call(function(){return this||("undefined"!=typeof window?window:global)}()),module.exports);function $author$project$Msg$OAuthMessage(a){return{$:71,a:a}}function $elm$json$Json$Decode$indent(str){return A2($elm$core$String$join,"\n    ",A2($elm$core$String$split,"\n",str))}function $elm$core$List$length(xs){return A3($elm$core$List$foldl,F2(function(_v0,i){return i+1}),0,xs)}function $elm$core$Char$isLower(code){return 97<=(code=$elm$core$Char$toCode(code))&&code<=122}function $elm$core$Char$isUpper(code){return(code=$elm$core$Char$toCode(code))<=90&&65<=code}function $elm$core$Char$isDigit(code){return(code=$elm$core$Char$toCode(code))<=57&&48<=code}function $elm$core$Char$isAlphaNum(_char){return $elm$core$Char$isLower(_char)||$elm$core$Char$isUpper(_char)||$elm$core$Char$isDigit(_char)}function $elm$core$Basics$toFloat(x){return x}function $elm$core$Tuple$first(_v0){return _v0.a}function $elm$core$Basics$identity(x){return x}function $elm$core$Task$sequence(tasks){return A3($elm$core$List$foldr,$elm$core$Task$map2($elm$core$List$cons),$elm$core$Task$succeed(_List_Nil),tasks)}var $elm$core$Maybe$Just=function(a){return{$:0,a:a}},$author$project$OAuthTypes$NoOp={$:0},$elm$core$Maybe$Nothing={$:1},$elm$core$Basics$always=F2(function(a){return a}),$elm$core$Basics$EQ=1,$elm$core$Basics$GT=2,$elm$core$Basics$LT=0,$elm$core$List$cons=_List_cons,$elm$core$Dict$foldr=F3(function(func,acc,t){for(;;){if(-2===t.$)return acc;var left=t.d,$temp$func=func,$temp$acc=A3(func,t.b,t.c,A3($elm$core$Dict$foldr,func,acc,t.e));func=$temp$func,acc=$temp$acc,t=left}}),$elm$core$Dict$toList=function(dict){return A3($elm$core$Dict$foldr,F3(function(key,value,list){return A2($elm$core$List$cons,{a:key,b:value},list)}),_List_Nil,dict)},$elm$core$Elm$JsArray$foldr=_JsArray_foldr,$elm$core$Array$foldr=F3(function(func,baseCase,tail){var tree=tail.c,tail=tail.d,helper=F2(function(node,acc){return A3($elm$core$Elm$JsArray$foldr,node.$?func:helper,acc,node.a)});return A3($elm$core$Elm$JsArray$foldr,helper,A3($elm$core$Elm$JsArray$foldr,func,baseCase,tail),tree)}),$elm$core$Array$toList=function(array){return A3($elm$core$Array$foldr,$elm$core$List$cons,_List_Nil,array)},$elm$core$Result$Err=function(a){return{$:1,a:a}},$elm$json$Json$Decode$Failure=F2(function(a,b){return{$:3,a:a,b:b}}),$elm$json$Json$Decode$Field=F2(function(a,b){return{$:0,a:a,b:b}}),$elm$json$Json$Decode$Index=F2(function(a,b){return{$:1,a:a,b:b}}),$elm$core$Result$Ok=function(a){return{$:0,a:a}},$elm$json$Json$Decode$OneOf=function(a){return{$:2,a:a}},$elm$core$Basics$add=_Basics_add,$elm$core$String$all=_String_all,$elm$json$Json$Encode$encode=$author$project$Main$init,$elm$core$String$fromInt=_String_fromNumber,$elm$core$String$join=F2(function(sep,chunks){return A2(_String_join,sep,_List_toArray(chunks))}),$elm$core$String$split=F2(function(sep,string){return _List_fromArray(A2(_String_split,sep,string))}),$elm$core$List$foldl=F3(function(func,acc,list){for(;;){if(!list.b)return acc;var xs=list.b,$temp$func=func,$temp$acc=A2(func,list.a,acc);func=$temp$func,acc=$temp$acc,list=xs}}),$elm$core$List$map2=$elm$json$Json$Decode$int,$elm$core$List$rangeHelp=F3(function(lo,hi,list){for(;;){if(1<=_Utils_cmp(lo,hi))return list;var $temp$lo=lo,$temp$hi=hi-1,$temp$list=A2($elm$core$List$cons,hi,list);lo=$temp$lo,hi=$temp$hi,list=$temp$list}}),$elm$core$List$range=F2(function(lo,hi){return A3($elm$core$List$rangeHelp,lo,hi,_List_Nil)}),$elm$core$List$indexedMap=F2(function(f,xs){return A3($elm$core$List$map2,f,A2($elm$core$List$range,0,$elm$core$List$length(xs)-1),xs)}),$elm$core$Char$toCode=function(char){var code=char.charCodeAt(0);return code<55296||56319<code?code:1024*(code-55296)+char.charCodeAt(1)-56320+65536},$elm$core$List$reverse=function(list){return A3($elm$core$List$foldl,$elm$core$List$cons,_List_Nil,list)},$elm$core$String$uncons=function(string){var word=string.charCodeAt(0);return isNaN(word)?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(word<55296||56319<word?{a:string[0],b:string.slice(1)}:{a:string[0]+string[1],b:string.slice(2)})},$elm$json$Json$Decode$errorOneOf=F2(function(i,error){return"\n\n("+$elm$core$String$fromInt(i+1)+(") "+$elm$json$Json$Decode$indent($elm$json$Json$Decode$errorToString(error)))}),$elm$json$Json$Decode$errorToString=function(error){return A2($elm$json$Json$Decode$errorToStringHelp,error,_List_Nil)},$elm$json$Json$Decode$errorToStringHelp=F2(function(error,context){errorToStringHelp:for(;;)switch(error.$){case 0:var f=error.a,err=error.b,isSimple=function(){var rest=$elm$core$String$uncons(f);if(1===rest.$)return!1;var _v2=rest.a,rest=_v2.b;return function(_char){return $elm$core$Char$isLower(_char)||$elm$core$Char$isUpper(_char)}(_v2.a)&&A2($elm$core$String$all,$elm$core$Char$isAlphaNum,rest)}();error=err,context=A2($elm$core$List$cons,isSimple?"."+f:"['"+f+"']",context);continue errorToStringHelp;case 1:var err=error.b,msg="["+$elm$core$String$fromInt(error.a)+"]";error=err,context=A2($elm$core$List$cons,msg,context);continue errorToStringHelp;case 2:var json=error.a;if(json.b){if(json.b.b){var introduction=(context.b?"The Json.Decode.oneOf at json"+A2($elm$core$String$join,"",$elm$core$List$reverse(context)):"Json.Decode.oneOf")+" failed in the following "+$elm$core$String$fromInt($elm$core$List$length(json))+" ways:";return A2($elm$core$String$join,"\n\n",A2($elm$core$List$cons,introduction,A2($elm$core$List$indexedMap,$elm$json$Json$Decode$errorOneOf,json)))}error=err=json.a,context=context;continue errorToStringHelp}return"Ran into a Json.Decode.oneOf with no possibilities"+(context.b?" at json"+A2($elm$core$String$join,"",$elm$core$List$reverse(context)):"!");default:msg=error.a,json=error.b;return(introduction=context.b?"Problem with the value at json"+A2($elm$core$String$join,"",$elm$core$List$reverse(context))+":\n\n    ":"Problem with the given value:\n\n")+($elm$json$Json$Decode$indent(A2($elm$json$Json$Encode$encode,4,json))+"\n\n")+msg}}),$elm$core$Array$Array_elm_builtin=F4(function(a,b,c,d){return{$:0,a:a,b:b,c:c,d:d}}),$elm$core$Elm$JsArray$empty=[],$elm$core$Basics$ceiling=$mdgriffith$elm_ui$Internal$Style$Supports,$elm$core$Basics$logBase=F2(function(base,number){return _Basics_log(number)/_Basics_log(base)}),$elm$core$Array$shiftStep=$elm$core$Basics$ceiling(A2($elm$core$Basics$logBase,2,32)),$elm$core$Array$empty=A4($elm$core$Array$Array_elm_builtin,0,$elm$core$Array$shiftStep,$elm$core$Elm$JsArray$empty,$elm$core$Elm$JsArray$empty),$elm$core$Elm$JsArray$initialize=$mdgriffith$elm_ui$Internal$Style$AllChildren,$elm$core$Basics$floor=$mdgriffith$elm_ui$Internal$Style$classes_jk,$elm$core$Elm$JsArray$length=function(array){return array.length},$elm$core$Basics$max=F2(function(x,y){return 0<_Utils_cmp(x,y)?x:y}),$elm$core$Elm$JsArray$initializeFromList=$mdgriffith$elm_ui$Internal$Style$classes_jj,$elm$core$Array$compressNodes=F2(function(nodes,acc){for(;;){var newAcc=A2($elm$core$Elm$JsArray$initializeFromList,32,nodes),remainingNodes=newAcc.b,newAcc=A2($elm$core$List$cons,{$:0,a:newAcc.a},acc);if(!remainingNodes.b)return $elm$core$List$reverse(newAcc);nodes=remainingNodes,acc=newAcc}}),$elm$core$Array$treeFromBuilder=F2(function(nodeList,nodeListSize){for(;;){var newNodeSize=$elm$core$Basics$ceiling(nodeListSize/32);if(1===newNodeSize)return A2($elm$core$Elm$JsArray$initializeFromList,32,nodeList).a;nodeList=A2($elm$core$Array$compressNodes,nodeList,_List_Nil),nodeListSize=newNodeSize}}),$elm$core$Array$builderToArray=F2(function(tree,builder){if(builder.z){var treeLen=32*builder.z,depth=$elm$core$Basics$floor(A2($elm$core$Basics$logBase,32,treeLen-1)),tree=tree?$elm$core$List$reverse(builder.P):builder.P,tree=A2($elm$core$Array$treeFromBuilder,tree,builder.z);return A4($elm$core$Array$Array_elm_builtin,$elm$core$Elm$JsArray$length(builder.D)+treeLen,A2($elm$core$Basics$max,5,depth*$elm$core$Array$shiftStep),tree,builder.D)}return A4($elm$core$Array$Array_elm_builtin,$elm$core$Elm$JsArray$length(builder.D),$elm$core$Array$shiftStep,$elm$core$Elm$JsArray$empty,builder.D)}),$elm$core$Array$initializeHelp=F5(function(fn,fromIndex,len,nodeList,tail){for(;;){if(fromIndex<0)return A2($elm$core$Array$builderToArray,!1,{P:nodeList,z:len/32|0,D:tail});var leaf={$:1,a:A3($elm$core$Elm$JsArray$initialize,32,fromIndex,fn)};fn=fn,fromIndex=fromIndex-32,len=len,nodeList=A2($elm$core$List$cons,leaf,nodeList),tail=tail}}),$elm$core$Array$initialize=F2(function(len,fn){if(0<len){var tailLen=len%32;return A5($elm$core$Array$initializeHelp,fn,len-tailLen-32,len,_List_Nil,A3($elm$core$Elm$JsArray$initialize,tailLen,len-tailLen,fn))}return $elm$core$Array$empty}),$elm$core$Result$isOk=function(result){return!result.$},$elm$json$Json$Decode$map=$elm$json$Json$Decode$null,$elm$json$Json$Decode$map2=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown,$elm$json$Json$Decode$succeed=function(msg){return{$:0,a:msg}},$elm$virtual_dom$VirtualDom$toHandlerInt=function(handler){switch(handler.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},$elm$url$Url$Url=F6(function(protocol,host,port_,path,query,fragment){return{gC:fragment,kg:host,k1:path,k5:port_,k8:protocol,d$:query}}),$elm$core$String$contains=$elm$svg$Svg$circle,$elm$core$String$length=function(str){return str.length},$elm$core$String$slice=$mdgriffith$elm_ui$Internal$Style$classes_j6,$elm$core$String$dropLeft=F2(function(n,string){return n<1?string:A3($elm$core$String$slice,n,$elm$core$String$length(string),string)}),$elm$core$String$indexes=color,$elm$core$String$left=F2(function(n,string){return n<1?"":A3($elm$core$String$slice,0,n,string)}),$elm$core$String$toInt=function(str){for(var total=0,code0=str.charCodeAt(0),start=43==code0||45==code0?1:0,i=start;i<str.length;++i){var code=str.charCodeAt(i);if(code<48||57<code)return $elm$core$Maybe$Nothing;total=10*total+code-48}return i==start?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(45==code0?-total:total)},$elm$url$Url$chompBeforePath=F5(function(protocol,path,params,frag,str){if(""===str||A2($elm$core$String$contains,"@",str))return $elm$core$Maybe$Nothing;var port_=A2($elm$core$String$indexes,":",str);if(port_.b){if(port_.b.b)return $elm$core$Maybe$Nothing;var i=port_.a,port_=$elm$core$String$toInt(A2($elm$core$String$dropLeft,i+1,str));if(1===port_.$)return $elm$core$Maybe$Nothing;port_=port_;return $elm$core$Maybe$Just(A6($elm$url$Url$Url,protocol,A2($elm$core$String$left,i,str),port_,path,params,frag))}return $elm$core$Maybe$Just(A6($elm$url$Url$Url,protocol,str,$elm$core$Maybe$Nothing,path,params,frag))}),$elm$url$Url$chompBeforeQuery=F4(function(protocol,params,frag,str){if(""===str)return $elm$core$Maybe$Nothing;var i=A2($elm$core$String$indexes,"/",str);if(i.b){i=i.a;return A5($elm$url$Url$chompBeforePath,protocol,A2($elm$core$String$dropLeft,i,str),params,frag,A2($elm$core$String$left,i,str))}return A5($elm$url$Url$chompBeforePath,protocol,"/",params,frag,str)}),$elm$url$Url$chompBeforeFragment=F3(function(protocol,frag,str){if(""===str)return $elm$core$Maybe$Nothing;var i=A2($elm$core$String$indexes,"?",str);if(i.b){i=i.a;return A4($elm$url$Url$chompBeforeQuery,protocol,$elm$core$Maybe$Just(A2($elm$core$String$dropLeft,i+1,str)),frag,A2($elm$core$String$left,i,str))}return A4($elm$url$Url$chompBeforeQuery,protocol,$elm$core$Maybe$Nothing,frag,str)}),$elm$url$Url$chompAfterProtocol=F2(function(protocol,str){if(""===str)return $elm$core$Maybe$Nothing;var i=A2($elm$core$String$indexes,"#",str);if(i.b){i=i.a;return A3($elm$url$Url$chompBeforeFragment,protocol,$elm$core$Maybe$Just(A2($elm$core$String$dropLeft,i+1,str)),A2($elm$core$String$left,i,str))}return A3($elm$url$Url$chompBeforeFragment,protocol,$elm$core$Maybe$Nothing,str)}),$elm$core$String$startsWith=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp,$elm$url$Url$fromString=function(str){return A2($elm$core$String$startsWith,"http://",str)?A2($elm$url$Url$chompAfterProtocol,0,A2($elm$core$String$dropLeft,7,str)):A2($elm$core$String$startsWith,"https://",str)?A2($elm$url$Url$chompAfterProtocol,1,A2($elm$core$String$dropLeft,8,str)):$elm$core$Maybe$Nothing},$elm$core$Basics$never=function(){for(;;)0},$elm$core$Task$succeed=_Scheduler_succeed,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick=$elm$core$Task$succeed(0),$elm$core$List$foldrHelper=F4(function(fn,acc,ctr,c){if(c.b){var a=c.a,r3=c.b;if(r3.b){var b=r3.a,r4=r3.b;if(r4.b){c=r4.a,r3=r4.b;if(r3.b){r4=r3.b;return A2(fn,a,A2(fn,b,A2(fn,c,A2(fn,r3.a,500<ctr?A3($elm$core$List$foldl,fn,acc,$elm$core$List$reverse(r4)):A4($elm$core$List$foldrHelper,fn,acc,ctr+1,r4)))))}return A2(fn,a,A2(fn,b,A2(fn,c,acc)))}return A2(fn,a,A2(fn,b,acc))}return A2(fn,a,acc)}return acc}),$elm$core$List$foldr=F3(function(fn,acc,ls){return A4($elm$core$List$foldrHelper,fn,acc,0,ls)}),$elm$core$List$map=F2(function(f,xs){return A3($elm$core$List$foldr,F2(function(x,acc){return A2($elm$core$List$cons,f(x),acc)}),_List_Nil,xs)}),$elm$core$Task$andThen=_Scheduler_andThen,$elm$core$Task$map=F2(function(func,taskA){return A2($elm$core$Task$andThen,function(a){return $elm$core$Task$succeed(func(a))},taskA)}),$elm$core$Task$map2=F3(function(func,taskA,taskB){return A2($elm$core$Task$andThen,function(a){return A2($elm$core$Task$andThen,function(b){return $elm$core$Task$succeed(A2(func,a,b))},taskB)},taskA)}),$elm$core$Platform$sendToApp=$mdgriffith$elm_ui$Internal$Style$classes_lV,$elm$core$Task$spawnCmd=F2(function(router,task){return _Scheduler_spawn(A2($elm$core$Task$andThen,$elm$core$Platform$sendToApp(router),task))});function $elm$bytes$Bytes$Encode$getWidth(builder){switch(builder.$){case 0:return 1;case 1:return 2;case 2:return 4;case 3:return 1;case 4:return 2;case 5:case 6:return 4;case 7:return 8;case 8:case 9:return builder.a;default:return builder.a.byteLength}}function $elm$bytes$Bytes$Encode$string(str){return A2($elm$bytes$Bytes$Encode$Utf8,function(string){for(var width=0,i=0;i<string.length;i++){var code=string.charCodeAt(i);width+=code<128?1:code<2048?2:code<55296||56319<code?3:(i++,4)}return width}(str),str)}function $elm$core$Dict$fromList(assocs){return A3($elm$core$List$foldl,F2(function(_v0,dict){return A3($elm$core$Dict$insert,_v0.a,_v0.b,dict)}),$elm$core$Dict$empty,assocs)}function $chelovek0v$bbase64$Base64$Table$encode(_v0){return(_v0=A2($elm$core$Dict$get,_v0,$chelovek0v$bbase64$Base64$Table$codeToCharMap)).$?"":_v0.a}function $chelovek0v$bbase64$Base64$Shift$toInt(shift){switch(shift){case 0:return 0;case 1:return 2;case 2:return 4;default:return 6}}function $chelovek0v$bbase64$Base64$Encode$finalize(_v0){var sixtet_=_v0.b,strAcc=_v0.c;switch(_v0.a){case 3:return _Utils_ap(strAcc,$chelovek0v$bbase64$Base64$Table$encode(sixtet_));case 2:return strAcc+($chelovek0v$bbase64$Base64$Table$encode(A2($chelovek0v$bbase64$Base64$Shift$shiftLeftBy,1,sixtet_))+"=");case 1:return strAcc+($chelovek0v$bbase64$Base64$Table$encode(A2($chelovek0v$bbase64$Base64$Shift$shiftLeftBy,2,sixtet_))+"==");default:return strAcc}}function $chelovek0v$bbase64$Base64$Encode$tryEncode(input){var base64Decoder={a:$elm$bytes$Bytes$width(input),b:$chelovek0v$bbase64$Base64$Encode$initialEncodeState},base64Decoder=A2($elm$bytes$Bytes$Decode$loop,base64Decoder,$chelovek0v$bbase64$Base64$Encode$decodeStep($elm$bytes$Bytes$Decode$unsignedInt8));return A2($elm$core$Maybe$map,$chelovek0v$bbase64$Base64$Encode$finalize,A2($elm$bytes$Bytes$Decode$decode,base64Decoder,input))}function $chelovek0v$bbase64$Base64$Encode$encode(encoder){return A2($elm$core$Maybe$withDefault,"",$chelovek0v$bbase64$Base64$Encode$tryEncode(encoder.$?encoder.a:$elm$bytes$Bytes$Encode$encode($elm$bytes$Bytes$Encode$string(encoder.a))))}function $author$project$Msg$AdjustTimeZone(a){return{$:24,a:a}}function $elm$url$Url$Parser$Query$string(key){return A2($elm$url$Url$Parser$Query$custom,key,function(stringList){return!stringList.b||stringList.b.b?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(stringList.a)})}function $author$project$OAuth$errorCodeFromString(str){switch(str){case"invalid_request":return $author$project$OAuth$InvalidRequest;case"unauthorized_client":return $author$project$OAuth$UnauthorizedClient;case"access_denied":return $author$project$OAuth$AccessDenied;case"unsupported_response_type":return $author$project$OAuth$UnsupportedResponseType;case"invalid_scope":return $author$project$OAuth$InvalidScope;case"server_error":return $author$project$OAuth$ServerError;case"temporarily_unavailable":return $author$project$OAuth$TemporarilyUnavailable;default:return{$:7,a:str}}}function $author$project$OAuth$AuthorizationCode$Error(a){return{$:1,a:a}}function $author$project$OAuth$AuthorizationCode$Success(a){return{$:2,a:a}}function $elm$core$Dict$moveRedLeft(dict){if(-1!==dict.$||-1!==dict.d.$||-1!==dict.e.$)return dict;if(-1!==dict.e.d.$||dict.e.d.a){var rlR=dict.d,rlL=dict.e,rK=rlL.b,rV=rlL.c,rLeft=rlL.d,rRight=rlL.e;return A5($elm$core$Dict$RBNode_elm_builtin,1,dict.b,dict.c,A5($elm$core$Dict$RBNode_elm_builtin,0,rlR.b,rlR.c,rlR.d,rlR.e),A5($elm$core$Dict$RBNode_elm_builtin,0,rK,rV,rLeft,rRight))}var rLeft,_v1=dict.d,_v2=dict.e,rK=_v2.b,rV=_v2.c,rlL=(rLeft=_v2.d).d,rlR=rLeft.e,rRight=_v2.e;return A5($elm$core$Dict$RBNode_elm_builtin,0,rLeft.b,rLeft.c,A5($elm$core$Dict$RBNode_elm_builtin,1,dict.b,dict.c,A5($elm$core$Dict$RBNode_elm_builtin,0,_v1.b,_v1.c,_v1.d,_v1.e),rlL),A5($elm$core$Dict$RBNode_elm_builtin,1,rK,rV,rlR,rRight))}function $elm$core$Dict$moveRedRight(_v4){if(-1!==_v4.$||-1!==_v4.d.$||-1!==_v4.e.$)return _v4;if(-1!==_v4.d.d.$||_v4.d.d.a){var _v2=_v4.d,_v1=_v2.d,lRight=_v4.e,rK=lRight.b,rV=lRight.c,rLeft=lRight.d,rRight=lRight.e;return A5($elm$core$Dict$RBNode_elm_builtin,1,k=_v4.b,v=_v4.c,A5($elm$core$Dict$RBNode_elm_builtin,0,_v2.b,_v2.c,_v1,lRight=_v2.e),A5($elm$core$Dict$RBNode_elm_builtin,0,rK,rV,rLeft,rRight))}var k=_v4.b,v=_v4.c,lRight=(_v1=_v4.d).e,rK=(_v4=_v4.e).b,rV=_v4.c,rLeft=_v4.d,rRight=_v4.e;return A5($elm$core$Dict$RBNode_elm_builtin,0,_v1.b,_v1.c,A5($elm$core$Dict$RBNode_elm_builtin,1,(_v2=_v1.d).b,_v2.c,_v2.d,_v2.e),A5($elm$core$Dict$RBNode_elm_builtin,1,k,v,lRight,A5($elm$core$Dict$RBNode_elm_builtin,0,rK,rV,rLeft,rRight)))}function $elm$url$Url$Parser$query(_v0){var queryParser=_v0;return function(_v1){var params=_v1.bC;return _List_fromArray([A5($elm$url$Url$Parser$State,_v1.bL,_v1.bf,params,_v1.bx,(0,_v1.aM)(queryParser(params)))])}}function $elm$core$List$concat(lists){return A3($elm$core$List$foldr,$elm$core$List$append,_List_Nil,lists)}function $elm$url$Url$Parser$top(state){return _List_fromArray([state])}function $elm$url$Url$toString(url){return A3($elm$url$Url$addPrefixed,"#",url.gC,A3($elm$url$Url$addPrefixed,"?",url.d$,_Utils_ap(A2($elm$url$Url$addPort,url.k5,_Utils_ap(url.k8?"https://":"http://",url.kg)),url.k1)))}function $ianmackenzie$elm_geometry$Point3d$xCoordinate(_v0){return _v0.U}function $ianmackenzie$elm_geometry$Point3d$yCoordinate(_v0){return _v0.V}function $ianmackenzie$elm_geometry$Point3d$zCoordinate(_v0){return _v0.iS}function $ianmackenzie$elm_geometry$BoundingBox3d$singleton(point){return{hl:$ianmackenzie$elm_geometry$Point3d$xCoordinate(point),hm:$ianmackenzie$elm_geometry$Point3d$yCoordinate(point),kL:$ianmackenzie$elm_geometry$Point3d$zCoordinate(point),hr:$ianmackenzie$elm_geometry$Point3d$xCoordinate(point),hs:$ianmackenzie$elm_geometry$Point3d$yCoordinate(point),kN:$ianmackenzie$elm_geometry$Point3d$zCoordinate(point)}}function $author$project$Msg$wrapAuthMessage(msg){return{$:71,a:msg}}function $author$project$Msg$MapMessage(a){return{$:53,a:a}}function $author$project$Msg$MapRemoved(a){return{$:54,a:a}}function $author$project$Msg$Tick(a){return{$:23,a:a}}_Platform_effectManagers.Task={b:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,c:F3(function(router,commands){return A2($elm$core$Task$map,function(){return 0},$elm$core$Task$sequence(A2($elm$core$List$map,$elm$core$Task$spawnCmd(router),commands)))}),d:F3(function(){return $elm$core$Task$succeed(0)}),e:F2(function(tagger,_v0){return A2($elm$core$Task$map,tagger,_v0)}),f:void 0};var millisToPosix,$elm$core$Task$command=_Platform_leaf("Task"),$elm$core$Task$perform=F2(function(toMessage,task){return $elm$core$Task$command(A2($elm$core$Task$map,toMessage,task))}),$elm$browser$Browser$application=function(impl){var onUrlChange=impl.kX,onUrlRequest=impl.kY,key=function(){key.a(onUrlChange(_Browser_getUrl()))};return _Browser_document({fz:function(sendToApp){return key.a=sendToApp,_Browser_window.addEventListener("popstate",key),~_Browser_window.navigator.userAgent.indexOf("Trident")&&_Browser_window.addEventListener("hashchange",key),F2(function(next,curr){var href;curr.ctrlKey||curr.metaKey||curr.shiftKey||1<=curr.button||next.target||next.hasAttribute("download")||(curr.preventDefault(),href=next.href,curr=_Browser_getUrl(),next=$elm$url$Url$fromString(href).a,sendToApp(onUrlRequest(next&&curr.k8===next.k8&&curr.kg===next.kg&&curr.k5.a===next.k5.a?{$:0,a:next}:{$:1,a:href})))})},kp:function(flags){return A3(impl.kp,flags,_Browser_getUrl(),key)},mg:impl.mg,mc:impl.mc,lL:impl.lL})},$elm$core$Basics$composeR=F3(function(f,g,x){return g(f(x))}),$mdgriffith$elm_ui$Internal$Style$Supports=function(input){return{$:1,a:input}},$elm$bytes$Bytes$Encode$write=F3(function(builder,mb,offset){switch(builder.$){case 0:return A3(_Bytes_write_i8,mb,offset,builder.a);case 1:return A4(_Bytes_write_i16,mb,offset,builder.b,!builder.a);case 2:return A4(_Bytes_write_i32,mb,offset,builder.b,!builder.a);case 3:return A3(_Bytes_write_u8,mb,offset,builder.a);case 4:return A4(_Bytes_write_u16,mb,offset,builder.b,!builder.a);case 5:return A4(_Bytes_write_u32,mb,offset,builder.b,!builder.a);case 6:return A4(_Bytes_write_f32,mb,offset,builder.b,!builder.a);case 7:return A4(_Bytes_write_f64,mb,offset,builder.b,!builder.a);case 8:return A3($elm$bytes$Bytes$Encode$writeSequence,builder.b,mb,offset);case 9:return A3(_Bytes_write_string,mb,offset,builder.b);default:return A3(_Bytes_write_bytes,mb,offset,builder.a)}}),$elm$bytes$Bytes$Encode$writeSequence=F3(function(builders,mb,offset){for(;;){if(!builders.b)return offset;var $temp$builders=builders.b,$temp$mb=mb,$temp$offset=A3($elm$bytes$Bytes$Encode$write,builders.a,mb,offset);builders=$temp$builders,mb=$temp$mb,offset=$temp$offset}}),$elm$bytes$Bytes$Encode$encode=function(encoder){var mutableBytes=new DataView(new ArrayBuffer($elm$bytes$Bytes$Encode$getWidth(encoder)));return $elm$bytes$Bytes$Encode$write(encoder)(mutableBytes)(0),mutableBytes},$elm$bytes$Bytes$Encode$Utf8=F2(function(a,b){return{$:9,a:a,b:b}}),$elm$bytes$Bytes$Decode$decode=F2(function(_v0,bs){return A2(_Bytes_decode,_v0,bs)}),$chelovek0v$bbase64$Base64$Shift$and=F2(function(shift,value){switch(shift){case 0:return value;case 1:return 3&value;case 2:return 15&value;default:return 63&value}}),$elm$core$Dict$RBEmpty_elm_builtin={$:-2},$elm$core$Dict$empty=$elm$core$Dict$RBEmpty_elm_builtin,$elm$core$Dict$RBNode_elm_builtin=F5(function(a,b,c,d,e){return{$:-1,a:a,b:b,c:c,d:d,e:e}}),$elm$core$Dict$balance=F5(function(color,key,value,left,rRight){if(-1!==rRight.$||rRight.a){if(-1!==left.$||left.a||-1!==left.d.$||left.d.a)return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,left,rRight);var rLeft=left.d,lRight=left.e;return A5($elm$core$Dict$RBNode_elm_builtin,0,left.b,left.c,A5($elm$core$Dict$RBNode_elm_builtin,1,rLeft.b,rLeft.c,rLeft.d,rLeft.e),A5($elm$core$Dict$RBNode_elm_builtin,1,key,value,lRight,rRight))}var rK=rRight.b,rV=rRight.c,rLeft=rRight.d,rRight=rRight.e;if(-1!==left.$||left.a)return A5($elm$core$Dict$RBNode_elm_builtin,color,rK,rV,A5($elm$core$Dict$RBNode_elm_builtin,0,key,value,left,rLeft),rRight);var lRight;return A5($elm$core$Dict$RBNode_elm_builtin,0,key,value,A5($elm$core$Dict$RBNode_elm_builtin,1,left.b,left.c,left.d,lRight=left.e),A5($elm$core$Dict$RBNode_elm_builtin,1,rK,rV,rLeft,rRight))}),$elm$core$Basics$compare=$mdgriffith$elm_ui$Internal$Style$classes_l_,$elm$core$Dict$insertHelp=F3(function(key,value,dict){if(-2===dict.$)return A5($elm$core$Dict$RBNode_elm_builtin,0,key,value,$elm$core$Dict$RBEmpty_elm_builtin,$elm$core$Dict$RBEmpty_elm_builtin);var nColor=dict.a,nKey=dict.b,nValue=dict.c,nLeft=dict.d,nRight=dict.e;switch(A2($elm$core$Basics$compare,key,nKey)){case 0:return A5($elm$core$Dict$balance,nColor,nKey,nValue,A3($elm$core$Dict$insertHelp,key,value,nLeft),nRight);case 1:return A5($elm$core$Dict$RBNode_elm_builtin,nColor,nKey,value,nLeft,nRight);default:return A5($elm$core$Dict$balance,nColor,nKey,nValue,nLeft,A3($elm$core$Dict$insertHelp,key,value,nRight))}}),$elm$core$Dict$insert=F3(function(key,value,_v0){_v0=A3($elm$core$Dict$insertHelp,key,value,_v0);if(-1!==_v0.$||_v0.a)return _v0;return A5($elm$core$Dict$RBNode_elm_builtin,1,_v0.b,_v0.c,_v0.d,_v0.e)}),$chelovek0v$bbase64$Base64$Table$codeToCharMap=$elm$core$Dict$fromList(_List_fromArray([{a:0,b:"A"},{a:1,b:"B"},{a:2,b:"C"},{a:3,b:"D"},{a:4,b:"E"},{a:5,b:"F"},{a:6,b:"G"},{a:7,b:"H"},{a:8,b:"I"},{a:9,b:"J"},{a:10,b:"K"},{a:11,b:"L"},{a:12,b:"M"},{a:13,b:"N"},{a:14,b:"O"},{a:15,b:"P"},{a:16,b:"Q"},{a:17,b:"R"},{a:18,b:"S"},{a:19,b:"T"},{a:20,b:"U"},{a:21,b:"V"},{a:22,b:"W"},{a:23,b:"X"},{a:24,b:"Y"},{a:25,b:"Z"},{a:26,b:"a"},{a:27,b:"b"},{a:28,b:"c"},{a:29,b:"d"},{a:30,b:"e"},{a:31,b:"f"},{a:32,b:"g"},{a:33,b:"h"},{a:34,b:"i"},{a:35,b:"j"},{a:36,b:"k"},{a:37,b:"l"},{a:38,b:"m"},{a:39,b:"n"},{a:40,b:"o"},{a:41,b:"p"},{a:42,b:"q"},{a:43,b:"r"},{a:44,b:"s"},{a:45,b:"t"},{a:46,b:"u"},{a:47,b:"v"},{a:48,b:"w"},{a:49,b:"x"},{a:50,b:"y"},{a:51,b:"z"},{a:52,b:"0"},{a:53,b:"1"},{a:54,b:"2"},{a:55,b:"3"},{a:56,b:"4"},{a:57,b:"5"},{a:58,b:"6"},{a:59,b:"7"},{a:60,b:"8"},{a:61,b:"9"},{a:62,b:"+"},{a:63,b:"/"}])),$elm$core$Dict$get=F2(function(targetKey,dict){get:for(;;){if(-2===dict.$)return $elm$core$Maybe$Nothing;var value=dict.c,left=dict.d,right=dict.e;switch(A2($elm$core$Basics$compare,targetKey,dict.b)){case 0:targetKey=targetKey,dict=left;continue get;case 1:return $elm$core$Maybe$Just(value);default:targetKey=targetKey,dict=right;continue get}}}),$chelovek0v$bbase64$Base64$Shift$shiftRightZfBy=F2(function(shift,value){return value>>>$chelovek0v$bbase64$Base64$Shift$toInt(shift)}),$chelovek0v$bbase64$Base64$Shift$shiftLeftBy=F2(function(shift,value){return value<<$chelovek0v$bbase64$Base64$Shift$toInt(shift)}),$chelovek0v$bbase64$Base64$Encode$sixtet=F2(function(octet,_v0){var sixtet_=_v0.b;switch(_v0.a){case 0:return A2($chelovek0v$bbase64$Base64$Shift$shiftRightZfBy,1,octet);case 1:return A2($chelovek0v$bbase64$Base64$Shift$shiftLeftBy,2,sixtet_)|A2($chelovek0v$bbase64$Base64$Shift$shiftRightZfBy,2,octet);case 2:return A2($chelovek0v$bbase64$Base64$Shift$shiftLeftBy,1,sixtet_)|A2($chelovek0v$bbase64$Base64$Shift$shiftRightZfBy,3,octet);default:return sixtet_}}),$chelovek0v$bbase64$Base64$Encode$encodeStep=F2(function(octet,base64Char){var shift=base64Char.a,strAcc=base64Char.c,nextSixtet=function(){switch(shift){case 0:return A2($chelovek0v$bbase64$Base64$Shift$and,1,octet);case 1:return A2($chelovek0v$bbase64$Base64$Shift$and,2,octet);case 2:return A2($chelovek0v$bbase64$Base64$Shift$and,3,octet);default:return A2($chelovek0v$bbase64$Base64$Shift$and,1,octet)}}(),base64Char=A2($chelovek0v$bbase64$Base64$Encode$sixtet,octet,base64Char),base64Char=3===shift?_Utils_ap($chelovek0v$bbase64$Base64$Table$encode(base64Char),$chelovek0v$bbase64$Base64$Table$encode(A2($chelovek0v$bbase64$Base64$Shift$shiftRightZfBy,1,octet))):$chelovek0v$bbase64$Base64$Table$encode(base64Char);return{a:function(shift){switch(shift){case 0:return 1;case 1:return 2;case 2:return 3;default:return 1}}(shift),b:nextSixtet,c:_Utils_ap(strAcc,base64Char)}}),$elm$bytes$Bytes$Decode$map=F2(function(func,_v0){var decodeA=_v0;return F2(function(bites,_v1){_v1=A2(decodeA,bites,_v1);return{a:_v1.a,b:func(_v1.b)}})}),$chelovek0v$bbase64$Base64$Encode$decodeStep=F2(function(octetDecoder,_v0){var a,n=_v0.a,encodeState=_v0.b;return 0<n?A2($elm$bytes$Bytes$Decode$map,function(octet){return{$:0,a:{a:n-1,b:A2($chelovek0v$bbase64$Base64$Encode$encodeStep,octet,encodeState)}}},octetDecoder):(a={$:1,a:encodeState},F2(function(_v0,offset){return{a:offset,b:a}}))}),$chelovek0v$bbase64$Base64$Encode$initialEncodeState={a:0,b:0,c:""},$elm$bytes$Bytes$Decode$loopHelp=F4(function(state,callback,bites,offset){for(;;){var step=A2(callback(state),bites,offset),newOffset=step.a,step=step.b;if(step.$)return{a:newOffset,b:step.a};state=step.a,callback=callback,bites=bites,offset=newOffset}}),$elm$bytes$Bytes$Decode$loop=F2(function(state,callback){return A2($elm$bytes$Bytes$Decode$loopHelp,state,callback)}),$elm$core$Maybe$map=F2(function(f,maybe){return maybe.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(f(maybe.a))}),$elm$bytes$Bytes$Decode$unsignedInt8=$mdgriffith$elm_ui$Element$Input$defaultTextPadding,$elm$bytes$Bytes$width=_Bytes_width,$elm$core$Maybe$withDefault=F2(function(_default,maybe){return maybe.$?_default:maybe.a}),$mdgriffith$elm_ui$Internal$Style$elDescription=A2($elm$core$Basics$composeR,$mdgriffith$elm_ui$Internal$Style$Supports,$chelovek0v$bbase64$Base64$Encode$encode),$elm$bytes$Bytes$Encode$Seq=F2(function(a,b){return{$:8,a:a,b:b}}),$elm$bytes$Bytes$Encode$getWidths=F2(function(width,builders){for(;;){if(!builders.b)return width;var bs=builders.b;width=width+$elm$bytes$Bytes$Encode$getWidth(builders.a),builders=bs}}),$mdgriffith$elm_ui$Internal$Style$AllChildren=function(builders){return A2($elm$bytes$Bytes$Encode$Seq,A2($elm$bytes$Bytes$Encode$getWidths,0,builders),builders)},$mdgriffith$elm_ui$Internal$Style$describeAlignment=A2($elm$core$Basics$composeR,$elm$core$List$map(function(a){return{$:3,a:a}}),A2($elm$core$Basics$composeR,$mdgriffith$elm_ui$Internal$Style$AllChildren,$elm$bytes$Bytes$Encode$encode)),$author$project$StravaAuth$convertBytes=A2($elm$core$Basics$composeR,$mdgriffith$elm_ui$Internal$Style$describeAlignment,A2($elm$core$Basics$composeR,$mdgriffith$elm_ui$Internal$Style$elDescription,function(state){return{cf:state}})),$author$project$StravaTypes$SegmentNone={$:0},$author$project$StravaTypes$StravaRouteNone={$:0},$elm$core$Platform$Cmd$batch=_Platform_batch,$author$project$DisplayOptions$defaultDisplayOptions={f0:!1,gg:3,hT:!1,h4:!0,h5:!0,h6:!0,id:!0,is:!1,iM:!0},$elm$time$Time$customZone=$mdgriffith$elm_ui$Internal$Style$classes_jk=F2(function(a,b){return{$:0,a:a,b:b}}),$elm$time$Time$here={$:2,b:function(callback){callback({$:0,a:A2($elm$time$Time$customZone,-(new Date).getTimezoneOffset(),_List_Nil)})},c:null},$author$project$OAuthTypes$AccessTokenRequested={$:3},$author$project$OAuthTypes$ErrStateMismatch={$:0},$author$project$OAuthTypes$Idle={$:0},$andrewMacmurray$elm_delay$Delay$Duration=F2(function(a,b){return{$:0,a:a,b:b}}),$elm$core$Process$sleep=_Process_sleep,$andrewMacmurray$elm_delay$Delay$after_=F2(function(time,msg){return A2($elm$core$Task$perform,$elm$core$Basics$always(msg),$elm$core$Process$sleep(time))}),$andrewMacmurray$elm_delay$Delay$toMillis=function(_v0){var t=_v0.a;switch(_v0.b){case 0:return t;case 1:return 1e3*t;case 2:return $andrewMacmurray$elm_delay$Delay$toMillis(A2($andrewMacmurray$elm_delay$Delay$Duration,60*t,1));default:return $andrewMacmurray$elm_delay$Delay$toMillis(A2($andrewMacmurray$elm_delay$Delay$Duration,60*t,2))}},$andrewMacmurray$elm_delay$Delay$after=F3(function(time,unit,msg){return A2($andrewMacmurray$elm_delay$Delay$after_,$andrewMacmurray$elm_delay$Delay$toMillis(A2($andrewMacmurray$elm_delay$Delay$Duration,time,unit)),msg)}),$elm$core$Platform$Cmd$none=$elm$core$Platform$Cmd$batch(_List_Nil),$author$project$Internal$AuthorizationError=F4(function(error,errorDescription,errorUri,state){return{gt:error,gu:errorDescription,gv:errorUri,cf:state}}),$elm$url$Url$Parser$Query$custom=F2(function(key,func){return function(dict){return func(A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Dict$get,key,dict)))}}),$author$project$Internal$errorDescriptionParser=$elm$url$Url$Parser$Query$string("error_description"),$author$project$Internal$errorUriParser=$elm$url$Url$Parser$Query$string("error_uri"),$elm$url$Url$Parser$Query$map3=F4(function(func,_v0,_v1,_v2){var a=_v0,b=_v1,c=_v2;return function(dict){return A3(func,a(dict),b(dict),c(dict))}}),$author$project$Internal$stateParser=$elm$url$Url$Parser$Query$string("state"),$mdgriffith$elm_ui$Internal$Style$classes_jg=function(errorCode){return A4($elm$url$Url$Parser$Query$map3,$author$project$Internal$AuthorizationError(errorCode),$author$project$Internal$errorDescriptionParser,$author$project$Internal$errorUriParser,$author$project$Internal$stateParser)},$author$project$OAuth$AuthorizationCode$AuthorizationSuccess=F2(function(code,state){return{ez:code,cf:state}}),$elm$url$Url$Parser$Query$map=F2(function(func,_v0){var a=_v0;return function(dict){return func(a(dict))}}),$mdgriffith$elm_ui$Internal$Style$classes_ji=$elm$url$Url$Parser$Query$string("code"),$author$project$OAuth$AccessDenied={$:2},$author$project$OAuth$InvalidRequest={$:0},$author$project$OAuth$InvalidScope={$:4},$author$project$OAuth$ServerError={$:5},$author$project$OAuth$TemporarilyUnavailable={$:6},$author$project$OAuth$UnauthorizedClient={$:1},$author$project$OAuth$UnsupportedResponseType={$:3},$mdgriffith$elm_ui$Internal$Style$classes_jj={eq:$mdgriffith$elm_ui$Internal$Style$classes_jg,er:function(code){return A2($elm$url$Url$Parser$Query$map,$author$project$OAuth$AuthorizationCode$AuthorizationSuccess(code),$author$project$Internal$stateParser)},eA:$mdgriffith$elm_ui$Internal$Style$classes_ji,eF:A2($elm$url$Url$Parser$Query$map,$elm$core$Maybe$map($author$project$OAuth$errorCodeFromString),$elm$url$Url$Parser$Query$string("error"))},$author$project$OAuth$AuthorizationCode$Empty={$:0},$elm$url$Url$Parser$Query$map2=F3(function(func,_v0,_v1){var a=_v0,b=_v1;return function(dict){return A2(func,a(dict),b(dict))}}),$elm$core$Tuple$pair=F2(function(a,b){return{a:a,b:b}}),$elm$url$Url$Parser$State=F5(function(visited,unvisited,params,frag,value){return{bx:frag,bC:params,bf:unvisited,aM:value,bL:visited}}),$elm$url$Url$Parser$removeFinalEmpty=function(segments){return segments.b&&(""!==segments.a||segments.b.b)?A2($elm$core$List$cons,segments.a,$elm$url$Url$Parser$removeFinalEmpty(segments.b)):_List_Nil},$elm$url$Url$Parser$addToParametersHelp=F2(function(value,maybeList){return $elm$core$Maybe$Just(1===maybeList.$?_List_fromArray([value]):A2($elm$core$List$cons,value,maybeList.a))}),$elm$url$Url$percentDecode=function(string){try{return $elm$core$Maybe$Just(decodeURIComponent(string))}catch(e){return $elm$core$Maybe$Nothing}},$elm$core$Dict$removeHelpPrepEQGT=F7(function(targetKey,dict,color,key,value,left,right){if(-1!==left.$||left.a){_v2$2:for(;-1===right.$&&1===right.a;){if(-1===right.d.$){if(1!==right.d.a)break _v2$2;return $elm$core$Dict$moveRedRight(dict)}return $elm$core$Dict$moveRedRight(dict)}return dict}return A5($elm$core$Dict$RBNode_elm_builtin,color,left.b,left.c,left.d,A5($elm$core$Dict$RBNode_elm_builtin,0,key,value,left.e,right))}),$elm$core$Dict$removeMin=function(nRight){if(-1!==nRight.$||-1!==nRight.d.$)return $elm$core$Dict$RBEmpty_elm_builtin;var color=nRight.a,key=nRight.b,value=nRight.c,left=nRight.d,lLeft=left.d,right=nRight.e;if(1!==left.a)return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,$elm$core$Dict$removeMin(left),right);if(-1!==lLeft.$||lLeft.a){var _v4=$elm$core$Dict$moveRedLeft(nRight);if(-1!==_v4.$)return $elm$core$Dict$RBEmpty_elm_builtin;nRight=_v4.e;return A5($elm$core$Dict$balance,_v4.a,_v4.b,_v4.c,$elm$core$Dict$removeMin(_v4.d),nRight)}return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,$elm$core$Dict$removeMin(left),right)},$elm$core$Dict$removeHelp=F2(function(targetKey,dict){if(-2===dict.$)return $elm$core$Dict$RBEmpty_elm_builtin;var color=dict.a,key=dict.b,value=dict.c,left=dict.d,right=dict.e;if(_Utils_cmp(targetKey,key)<0){if(-1!==left.$||1!==left.a)return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,A2($elm$core$Dict$removeHelp,targetKey,left),right);var lLeft=left.d;if(-1!==lLeft.$||lLeft.a){var _v7=$elm$core$Dict$moveRedLeft(dict);if(-1!==_v7.$)return $elm$core$Dict$RBEmpty_elm_builtin;var nRight=_v7.e;return A5($elm$core$Dict$balance,_v7.a,_v7.b,_v7.c,A2($elm$core$Dict$removeHelp,targetKey,_v7.d),nRight)}return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,A2($elm$core$Dict$removeHelp,targetKey,left),right)}return A2($elm$core$Dict$removeHelpEQGT,targetKey,A7($elm$core$Dict$removeHelpPrepEQGT,targetKey,dict,color,key,value,left,right))}),$elm$core$Dict$removeHelpEQGT=F2(function(targetKey,_v1){if(-1!==_v1.$)return $elm$core$Dict$RBEmpty_elm_builtin;var color=_v1.a,key=_v1.b,value=_v1.c,left=_v1.d,right=_v1.e;if(_Utils_eq(targetKey,key)){_v1=function(dict){for(;;){if(-1!==dict.$||-1!==dict.d.$)return dict;dict=dict.d}}(right);return-1!==_v1.$?$elm$core$Dict$RBEmpty_elm_builtin:A5($elm$core$Dict$balance,color,_v1.b,_v1.c,left,$elm$core$Dict$removeMin(right))}return A5($elm$core$Dict$balance,color,key,value,left,A2($elm$core$Dict$removeHelp,targetKey,right))}),$elm$core$Dict$remove=F2(function(key,_v0){_v0=A2($elm$core$Dict$removeHelp,key,_v0);if(-1!==_v0.$||_v0.a)return _v0;return A5($elm$core$Dict$RBNode_elm_builtin,1,_v0.b,_v0.c,_v0.d,_v0.e)}),$elm$core$Dict$update=F3(function(targetKey,_v0,dictionary){_v0=_v0(A2($elm$core$Dict$get,targetKey,dictionary));return _v0.$?A2($elm$core$Dict$remove,targetKey,dictionary):A3($elm$core$Dict$insert,targetKey,_v0.a,dictionary)}),$elm$url$Url$Parser$addParam=F2(function(_v3,dict){var key=A2($elm$core$String$split,"=",_v3);if(key.b&&key.b.b&&!key.b.b.b){_v3=key.b.a,key=$elm$url$Url$percentDecode(key.a);if(1===key.$)return dict;key=key.a,_v3=$elm$url$Url$percentDecode(_v3);return 1===_v3.$?dict:A3($elm$core$Dict$update,key,$elm$url$Url$Parser$addToParametersHelp(_v3.a),dict)}return dict}),$elm$url$Url$Parser$parse=F2(function(maybeQuery,url){return function(states){for(;;){if(!states.b)return $elm$core$Maybe$Nothing;var state=states.a,rest=states.b,_v1=state.bf;if(!_v1.b)return $elm$core$Maybe$Just(state.aM);if(""===_v1.a&&!_v1.b.b)return $elm$core$Maybe$Just(state.aM);states=rest}}(maybeQuery(A5($elm$url$Url$Parser$State,_List_Nil,function(_v0){_v0=A2($elm$core$String$split,"/",_v0);return $elm$url$Url$Parser$removeFinalEmpty(_v0.b&&""===_v0.a?_v0.b:_v0)}(url.k1),1===(maybeQuery=url.d$).$?$elm$core$Dict$empty:A3($elm$core$List$foldr,$elm$url$Url$Parser$addParam,$elm$core$Dict$empty,A2($elm$core$String$split,"&",maybeQuery.a)),url.gC,$elm$core$Basics$identity)))}),$author$project$Internal$parseUrlQuery=F3(function(url,def,parser){return A2($elm$core$Maybe$withDefault,def,A2($elm$url$Url$Parser$parse,$elm$url$Url$Parser$query(parser),url))}),$elm$core$List$append=F2(function(xs,ys){return ys.b?A3($elm$core$List$foldr,$elm$core$List$cons,ys,xs):xs}),$elm$core$List$concatMap=F2(function(f,list){return $elm$core$List$concat(A2($elm$core$List$map,f,list))}),$elm$url$Url$Parser$slash=F2(function(_v0,_v1){var parseBefore=_v0,parseAfter=_v1;return function(state){return A2($elm$core$List$concatMap,parseAfter,parseBefore(state))}}),$elm$url$Url$Parser$questionMark=F2(function(parser,queryParser){return A2($elm$url$Url$Parser$slash,parser,$elm$url$Url$Parser$query(queryParser))}),$author$project$OAuth$AuthorizationCode$parseCode=F2(function(_v0,url_){var codeParser=_v0.eA,errorParser=_v0.eF,authorizationSuccessParser=_v0.er,authorizationErrorParser=_v0.eq,url=_Utils_update(url_,{k1:"/"}),_v1=A2($elm$url$Url$Parser$parse,A2($elm$url$Url$Parser$questionMark,$elm$url$Url$Parser$top,A3($elm$url$Url$Parser$Query$map2,$elm$core$Tuple$pair,codeParser,errorParser)),url);_v1$2:for(;!_v1.$;){if(_v1.a.a.$){if(_v1.a.b.$)break _v1$2;return A3($author$project$Internal$parseUrlQuery,url,$author$project$OAuth$AuthorizationCode$Empty,A2($elm$url$Url$Parser$Query$map,$author$project$OAuth$AuthorizationCode$Error,authorizationErrorParser(_v1.a.b.a)))}return A3($author$project$Internal$parseUrlQuery,url,$author$project$OAuth$AuthorizationCode$Empty,A2($elm$url$Url$Parser$Query$map,$author$project$OAuth$AuthorizationCode$Success,authorizationSuccessParser(_v1.a.a.a)))}return $author$project$OAuth$AuthorizationCode$Empty})($mdgriffith$elm_ui$Internal$Style$classes_jj),$elm$browser$Browser$Navigation$replaceUrl=$mdgriffith$elm_ui$Internal$Style$classes_db,$elm$url$Url$addPort=F2(function(maybePort,starter){return 1===maybePort.$?starter:starter+(":"+$elm$core$String$fromInt(maybePort.a))}),$elm$url$Url$addPrefixed=F3(function(prefix,maybeSegment,starter){return 1===maybeSegment.$?starter:_Utils_ap(starter,_Utils_ap(prefix,maybeSegment.a))}),$author$project$StravaAuth$init=F4(function(mflags,origin,navigationKey,wrapperMsg){var redirectUri=_Utils_update(origin,{gC:$elm$core$Maybe$Nothing,d$:$elm$core$Maybe$Nothing}),clearUrl=A2($elm$browser$Browser$Navigation$replaceUrl,navigationKey,$elm$url$Url$toString(redirectUri)),_v0=$author$project$OAuth$AuthorizationCode$parseCode(origin);switch(_v0.$){case 0:return{a:{j5:$author$project$OAuthTypes$Idle,hX:redirectUri},b:$elm$core$Platform$Cmd$none};case 2:var code=_v0.a.ez;return 1!==mflags.$&&_Utils_eq(_v0.a.cf,$elm$core$Maybe$Just(mflags.a.cf))?{a:{j5:{$:1,a:code},hX:redirectUri},b:$elm$core$Platform$Cmd$batch(_List_fromArray([A3($andrewMacmurray$elm_delay$Delay$after,750,0,wrapperMsg($author$project$OAuthTypes$AccessTokenRequested)),clearUrl]))}:{a:{j5:{$:4,a:$author$project$OAuthTypes$ErrStateMismatch},hX:redirectUri},b:clearUrl};default:return{a:{j5:{$:4,a:{$:1,a:_v0.a}},hX:redirectUri},b:clearUrl}}}),$elm$time$Time$millisToPosix=$elm$core$Basics$identity,$ianmackenzie$elm_geometry$Point3d$origin={U:0,V:0,iS:0},$elm$time$Time$utc=A2($mdgriffith$elm_ui$Internal$Style$classes_jk,0,_List_Nil),$author$project$Main$init=F3(function(mflags,authCmd,authData){authCmd=A4($author$project$StravaAuth$init,mflags,authCmd,authData,$author$project$Msg$wrapAuthMessage),authData=authCmd.a,authCmd=authCmd.b;return{a:{cp:_List_Nil,cq:_List_Nil,bn:.7853981633974483,bP:90,bQ:3,bR:.5,bS:5,a$:0,bq:$ianmackenzie$elm_geometry$Point3d$origin,aP:0,a0:$ianmackenzie$elm_geometry$Point3d$origin,ak:0,f5:{a:0,b:0},dj:_List_Nil,a:0,aR:$elm$core$Maybe$Nothing,s:$author$project$DisplayOptions$defaultDisplayOptions,cy:0,bu:.5235987755982988,bv:"",a5:$author$project$StravaTypes$SegmentNone,bZ:"",bw:$elm$core$Maybe$Nothing,cD:.5,y:$elm$core$Maybe$Nothing,b$:1,b1:$elm$core$Maybe$Nothing,b2:0,gE:"",b3:10,b5:_List_Nil,eM:$elm$core$Maybe$Nothing,eO:$elm$core$Maybe$Nothing,aU:{$:0,a:0},O:$elm$core$Maybe$Nothing,dM:!1,eZ:_List_Nil,c:$elm$core$Maybe$Nothing,cL:30,cN:_List_Nil,dO:$elm$time$Time$millisToPosix(0),d:$elm$core$Array$empty,ar:$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin),hC:_List_Nil,as:0,at:_List_Nil,aD:0,aF:$elm$core$Maybe$Nothing,aw:_List_Nil,g:$elm$core$Array$empty,t:_List_Nil,T:$elm$core$Maybe$Nothing,cU:$elm$core$Maybe$Nothing,cV:_List_Nil,bF:_List_Nil,aK:authData,d7:$author$project$StravaTypes$StravaRouteNone,cg:$elm$core$Maybe$Nothing,bc:_List_Nil,ec:{ib:_List_Nil},bd:$elm$time$Time$millisToPosix(0),fD:$elm$time$Time$millisToPosix(0),cj:_List_Nil,bI:$elm$core$Maybe$Nothing,E:$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin),iy:_List_Nil,aj:_List_Nil,c4:_List_Nil,bK:_List_Nil,Z:1,au:0,x:2,c5:_List_Nil,fQ:$elm$time$Time$utc,bi:12,el:1,bj:12,ax:12,bk:12},b:$elm$core$Platform$Cmd$batch(_List_fromArray([A2($elm$core$Task$perform,$author$project$Msg$AdjustTimeZone,$elm$time$Time$here),authCmd]))}}),$elm$json$Json$Decode$int=$mdgriffith$elm_ui$Internal$Style$classes_de,$elm$json$Json$Decode$list=function(decoder){return{$:3,b:decoder}},$elm$json$Json$Decode$null=function(value){return{$:5,c:value}},$elm$json$Json$Decode$oneOf=function(decoders){return{$:11,g:decoders}},$elm$core$Platform$Sub$batch=_Platform_batch,$elm$time$Time$Every=F2(function(a,b){return{$:0,a:a,b:b}}),$elm$time$Time$State=F2(function(taggers,processes){return{hU:processes,iq:taggers}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=$elm$core$Task$succeed(A2($elm$time$Time$State,$elm$core$Dict$empty,$elm$core$Dict$empty)),$elm$time$Time$addMySub=F2(function(_v1,state){var interval=_v1.a,tagger=_v1.b,_v1=A2($elm$core$Dict$get,interval,state);return A3($elm$core$Dict$insert,interval,1===_v1.$?_List_fromArray([tagger]):A2($elm$core$List$cons,tagger,_v1.a),state)}),$elm$core$Process$kill=function(proc){return{$:2,b:function(callback){var task=proc.f;2===task.$&&task.c&&task.c(),proc.f=null,callback({$:0,a:_Utils_Tuple0})},c:null}},$elm$core$Dict$foldl=F3(function(func,acc,dict){for(;;){if(-2===dict.$)return acc;var right=dict.e,$temp$func=func,$temp$acc=A3(func,dict.b,dict.c,A3($elm$core$Dict$foldl,func,acc,dict.d));func=$temp$func,acc=$temp$acc,dict=right}}),$elm$core$Dict$merge=F6(function(leftStep,bothStep,rightStep,leftDict,leftovers,intermediateResult){intermediateResult=A3($elm$core$Dict$foldl,F3(function(rKey,rValue,_v0){for(;;){var list=_v0.a,result=_v0.b;if(!list.b)return{a:list,b:A3(rightStep,rKey,rValue,result)};var rest=list.a,lKey=rest.a,lValue=rest.b,rest=list.b;if(0<=_Utils_cmp(lKey,rKey))return 0<_Utils_cmp(lKey,rKey)?{a:list,b:A3(rightStep,rKey,rValue,result)}:{a:rest,b:A4(bothStep,lKey,lValue,rValue,result)};rKey=rKey,rValue=rValue,_v0={a:rest,b:A3(leftStep,lKey,lValue,result)}}}),{a:$elm$core$Dict$toList(leftDict),b:intermediateResult},leftovers),leftovers=intermediateResult.a,intermediateResult=intermediateResult.b;return A3($elm$core$List$foldl,F2(function(_v4,result){return A3(leftStep,_v4.a,_v4.b,result)}),intermediateResult,leftovers)}),$elm$core$Platform$sendToSelf=$mdgriffith$elm_ui$Element$Input$white,$elm$time$Time$setInterval=$mdgriffith$elm_ui$Internal$Style$classes_jz,$elm$core$Process$spawn=_Scheduler_spawn,$elm$time$Time$spawnHelp=F3(function(router,spawnTimer,processes){if(spawnTimer.b){var interval=spawnTimer.a,rest=spawnTimer.b,spawnTimer=$elm$core$Process$spawn(A2($elm$time$Time$setInterval,interval,A2($elm$core$Platform$sendToSelf,router,interval)));return A2($elm$core$Task$andThen,function(id){return A3($elm$time$Time$spawnHelp,router,rest,A3($elm$core$Dict$insert,interval,id,processes))},spawnTimer)}return $elm$core$Task$succeed(processes)}),$elm$svg$Svg$circle=F3(function(router,subs,rightStep){var _v1=rightStep.hU,rightStep=F3(function(_v6,id,_v7){var kills=_v7.c;return{a:_v7.a,b:_v7.b,c:A2($elm$core$Task$andThen,function(){return kills},$elm$core$Process$kill(id))}}),newTaggers=A3($elm$core$List$foldl,$elm$time$Time$addMySub,$elm$core$Dict$empty,subs),_v1=A6($elm$core$Dict$merge,F3(function(interval,taggers,_v4){var existing=_v4.b,kills=_v4.c;return{a:A2($elm$core$List$cons,interval,_v4.a),b:existing,c:kills}}),F4(function(interval,taggers,id,_v3){var kills=_v3.c;return{a:_v3.a,b:A3($elm$core$Dict$insert,interval,id,_v3.b),c:kills}}),rightStep,newTaggers,_v1,{a:_List_Nil,b:$elm$core$Dict$empty,c:$elm$core$Task$succeed(0)}),spawnList=_v1.a,existingDict=_v1.b;return A2($elm$core$Task$andThen,function(newProcesses){return $elm$core$Task$succeed(A2($elm$time$Time$State,newTaggers,newProcesses))},A2($elm$core$Task$andThen,function(){return A3($elm$time$Time$spawnHelp,router,spawnList,existingDict)},_v1.c))}),$elm$time$Time$now=(millisToPosix=$elm$time$Time$millisToPosix,{$:2,b:function(callback){callback({$:0,a:millisToPosix(Date.now())})},c:null}),$mdgriffith$elm_ui$Internal$Style$classes_j6=F3(function(router,_v0,state){_v0=A2($elm$core$Dict$get,_v0,state.iq);if(1===_v0.$)return $elm$core$Task$succeed(state);var taggers=_v0.a;return A2($elm$core$Task$andThen,function(){return $elm$core$Task$succeed(state)},A2($elm$core$Task$andThen,function(time){return $elm$core$Task$sequence(A2($elm$core$List$map,function(tagger){return A2($elm$core$Platform$sendToApp,router,tagger(time))},taggers))},$elm$time$Time$now))}),$elm$core$Basics$composeL=F3(function(g,f,x){return g(f(x))});function $author$project$Msg$GpxDownloaded(a){return{$:3,a:a}}function $author$project$Msg$GpxLoaded(a){return{$:2,a:a}}function $author$project$Msg$GpxSelected(a){return{$:1,a:a}}function $author$project$Msg$HandleRouteData(a){return{$:70,a:a}}function $author$project$Msg$HandleSegmentData(a){return{$:68,a:a}}function $author$project$Msg$HandleSegmentStreams(a){return{$:69,a:a}}function $author$project$Msg$IpInfoAcknowledged(a){return{$:76,a:a}}function $author$project$Msg$ReceivedIpDetails(a){return{$:75,a:a}}function $elm$core$Array$length(_v0){return _v0.a}function $elm$core$Basics$abs(n){return n<0?-n:n}function $ianmackenzie$elm_geometry$Vector3d$direction(scaledY){if(scaledLength=A2($elm$core$Basics$max,$elm$core$Basics$abs((scaledX=scaledY).U),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.V),$elm$core$Basics$abs(scaledX.iS)))){var scaledZ=scaledX.iS/scaledLength,scaledY=scaledX.V/scaledLength,scaledX=scaledX.U/scaledLength,scaledLength=$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ);return $elm$core$Maybe$Just({U:scaledX/scaledLength,V:scaledY/scaledLength,iS:scaledZ/scaledLength})}return $elm$core$Maybe$Nothing}function $ianmackenzie$elm_geometry$Vector3d$reverse(_v0){return{U:-_v0.U,V:-_v0.V,iS:-_v0.iS}}function $ianmackenzie$elm_geometry$Direction3d$perpendicularBasis(direction){var xDirection=function(absX){var d=absX,absZ=$elm$core$Basics$abs(d.iS),absY=$elm$core$Basics$abs(d.V),absX=$elm$core$Basics$abs(d.U);if(_Utils_cmp(absX,absY)<1){if(_Utils_cmp(absX,absZ)<1){var scale=$elm$core$Basics$sqrt(d.iS*d.iS+d.V*d.V);return{U:0,V:-d.iS/scale,iS:d.V/scale}}scale=$elm$core$Basics$sqrt(d.V*d.V+d.U*d.U);return{U:-d.V/scale,V:d.U/scale,iS:0}}if(_Utils_cmp(absY,absZ)<1){scale=$elm$core$Basics$sqrt(d.iS*d.iS+d.U*d.U);return{U:d.iS/scale,V:0,iS:-d.U/scale}}scale=$elm$core$Basics$sqrt(d.U*d.U+d.V*d.V);return{U:-d.V/scale,V:d.U/scale,iS:0}}(direction);return{a:xDirection,b:{U:direction.V*xDirection.iS-direction.iS*xDirection.V,V:direction.iS*xDirection.U-direction.U*xDirection.iS,iS:direction.U*xDirection.V-direction.V*xDirection.U}}}function $ianmackenzie$elm_geometry$Direction3d$toVector(_v0){return _v0}function $ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt(_arguments){var _v3=A2($ianmackenzie$elm_geometry$Vector3d$from,_arguments.cE,_arguments.dv),_v2=$ianmackenzie$elm_geometry$Direction3d$toVector(_arguments.ed),_v1=A3($ianmackenzie$elm_geometry$Direction3d$orthonormalize,_v3,_v2,A2($ianmackenzie$elm_geometry$Vector3d$cross,_v3,_v2));if(_v1.$){_v2=$ianmackenzie$elm_geometry$Vector3d$direction(_v3);if(_v2.$){_v3=$ianmackenzie$elm_geometry$Direction3d$perpendicularBasis(_arguments.ed);return{fc:_arguments.dv,fN:_v3.b,fO:_arguments.ed,fP:_v3.a}}return A2($ianmackenzie$elm_geometry$Frame3d$withZDirection,_v2.a,_arguments.dv)}return{fc:_arguments.dv,fN:(_v1=_v1.a).c,fO:_v1.b,fP:_v1.a}}function $ianmackenzie$elm_units$Quantity$abs(_v0){return $elm$core$Basics$abs(_v0)}function $ianmackenzie$elm_units$Quantity$half(_v0){return.5*_v0}function $ianmackenzie$elm_units$Angle$tan(_v0){return $elm$core$Basics$tan(_v0)}function $ianmackenzie$elm_3d_camera$Camera3d$perspective(_arguments){var halfFieldOfView=$ianmackenzie$elm_units$Quantity$half($ianmackenzie$elm_units$Quantity$abs(_arguments.iF));return{fp:{$:0,a:$ianmackenzie$elm_units$Angle$tan(halfFieldOfView)},eh:_arguments.eh}}function $author$project$Main$firstPersonCamera(model){function eyePoint(road){var _v2=model.y;return 1===_v2.$?A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),road.bE.aq):_v2.a.fZ}var _v0=A2($elm$core$Basics$min,model.a,$elm$core$Array$length(model.d)-2);return(_v0=A2($elm$core$Array$get,_v0,model.g)).$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just($ianmackenzie$elm_3d_camera$Camera3d$perspective({iF:120/(1+model.bi/2)/180*3.141592653589793,eh:function(road){var flying=model.y;if(1===flying.$)return $ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt({dv:eyePoint(road),cE:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),road.B.aq),ed:$ianmackenzie$elm_geometry$Direction3d$positiveZ});flying=flying.a;return $ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt({dv:eyePoint(road),cE:flying.gA,ed:$ianmackenzie$elm_geometry$Direction3d$positiveZ})}(_v0.a)}))}function $ianmackenzie$elm_units$Length$inMeters(_v0){return _v0}function $ianmackenzie$elm_units$Length$meters(numMeters){return numMeters}function $ianmackenzie$elm_geometry$BoundingBox3d$midY(_v0){return A3($ianmackenzie$elm_units$Quantity$interpolateFrom,_v0.hs,_v0.hm,.5)}function $ianmackenzie$elm_3d_camera$Camera3d$orthographic(_arguments){return{fp:{$:1,a:$ianmackenzie$elm_units$Quantity$abs(_arguments.iH)},eh:_arguments.eh}}function $author$project$Main$profileCamera(model){function focus(node){var flying=model.y;return 1===flying.$?A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$yz,A2($author$project$VisualEntities$exaggerateNode,{Z:model.Z},node).aq):(flying=flying.a,A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$yz,A2($ianmackenzie$elm_geometry$Point3d$fromRecord,$ianmackenzie$elm_units$Length$meters,_Utils_update(A2($ianmackenzie$elm_geometry$Point3d$toRecord,$ianmackenzie$elm_units$Length$inMeters,A2($author$project$VisualEntities$exaggerateNode,{Z:model.Z},node).aq),{V:flying.e4}))))}var latitude=3.141592653589793*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(model.E))/180;return A2($elm$core$Maybe$map,function(road){return $ianmackenzie$elm_3d_camera$Camera3d$orthographic({eh:$ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt({dv:(node=road.cc,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,1e4,0,0),focus(node))),cE:focus(road.cc),ed:$ianmackenzie$elm_geometry$Direction3d$positiveZ}),iH:2*A2($author$project$MapboxStuff$metresPerPixel,model.ax,latitude)});var node},A2($elm$core$Array$get,model.aP,model.g))}function $ianmackenzie$elm_units$Quantity$negate(_v0){return-_v0}function $ianmackenzie$elm_geometry$SketchPlane3d$xDirection(_v0){return _v0.fN}function $ianmackenzie$elm_geometry$SketchPlane3d$yDirection(_v0){return _v0.fO}function $ianmackenzie$elm_geometry$Frame3d$originPoint(_v0){return _v0.fc}function $ianmackenzie$elm_geometry$Frame3d$xDirection(_v0){return _v0.fN}function $ianmackenzie$elm_geometry$Frame3d$yDirection(_v0){return _v0.fO}function $ianmackenzie$elm_geometry$Frame3d$zDirection(_v0){return _v0.fP}function $ianmackenzie$elm_geometry$Axis3d$direction(_v0){return _v0.gm}function $ianmackenzie$elm_geometry$Frame3d$xAxis(_v0){return A2($ianmackenzie$elm_geometry$Axis3d$through,_v0.fc,_v0.fN)}function $ianmackenzie$elm_geometry$Frame3d$yAxis(_v0){return A2($ianmackenzie$elm_geometry$Axis3d$through,_v0.fc,_v0.fO)}function $ianmackenzie$elm_geometry$Frame3d$zAxis(_v0){return A2($ianmackenzie$elm_geometry$Axis3d$through,_v0.fc,_v0.fP)}function $ianmackenzie$elm_3d_camera$Viewpoint3d$orbit(_arguments){var initialFrame={fc:_arguments.cE,fN:$ianmackenzie$elm_geometry$SketchPlane3d$yDirection(_arguments.dy),fO:A2($ianmackenzie$elm_geometry$Unsafe$Direction3d$unsafeCrossProduct,$ianmackenzie$elm_geometry$SketchPlane3d$xDirection(initialFrame=_arguments.dy),$ianmackenzie$elm_geometry$SketchPlane3d$yDirection(initialFrame)),fP:$ianmackenzie$elm_geometry$SketchPlane3d$xDirection(_arguments.dy)};return A3($ianmackenzie$elm_geometry$Frame3d$translateAlongOwn,$ianmackenzie$elm_geometry$Frame3d$zAxis,_arguments.jQ,A3($ianmackenzie$elm_geometry$Frame3d$rotateAroundOwn,$ianmackenzie$elm_geometry$Frame3d$xAxis,$ianmackenzie$elm_units$Quantity$negate(_arguments.bu),A3($ianmackenzie$elm_geometry$Frame3d$rotateAroundOwn,$ianmackenzie$elm_geometry$Frame3d$yAxis,_arguments.bn,initialFrame)))}function $author$project$Main$thirdPersonCamera(model){var latitude=3.141592653589793*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(model.E))/180,camera=1===(camera=model.y).$?model.a0:camera.a.fZ,camera=$ianmackenzie$elm_3d_camera$Camera3d$perspective({iF:.5235987755982988,eh:function(_v0){return $ianmackenzie$elm_3d_camera$Viewpoint3d$orbit({bn:_v0.bn,jQ:_v0.jQ,bu:_v0.bu,cE:_v0.cE,dy:$ianmackenzie$elm_geometry$SketchPlane3d$xy})}({bn:model.bn,jQ:1200*A2($author$project$MapboxStuff$metresPerPixel,model.bk,latitude),bu:model.bu,cE:camera})});return $elm$core$Maybe$Just(camera)}function $author$project$Main$checkSceneCamera(model){return _Utils_update(model,{aR:function(){switch(model.x){case 0:return $author$project$Main$firstPersonCamera(model);case 1:return $author$project$Main$thirdPersonCamera(model);case 4:return $author$project$Main$profileCamera(model);case 5:return function(model){var focus,camera=3.141592653589793*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(model.E))/180,focus=A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,1===(focus=model.y).$?model.bq:focus.a.fZ),camera=$ianmackenzie$elm_3d_camera$Camera3d$orthographic({eh:$ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt({dv:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,5e3),focus),cE:focus,ed:$ianmackenzie$elm_geometry$Direction3d$positiveY}),iH:1200*A2($author$project$MapboxStuff$metresPerPixel,model.bj,camera)});return $elm$core$Maybe$Just(camera)}(model);default:return $elm$core$Maybe$Nothing}}()})}function $elm$time$Time$posixToMillis(_v0){return _v0}function $elm$core$Array$fromList(list){return list.b?A3($elm$core$Array$fromListHelp,list,_List_Nil,0):$elm$core$Array$empty}function $author$project$TrackPoint$reindexTrackpoints(points){return A3($elm$core$List$map2,F2(function(p,i){return _Utils_update(p,{kl:i})}),points,A2($elm$core$List$range,0,$elm$core$List$length(points)))}function $ianmackenzie$elm_geometry$CubicSpline3d$firstControlPoint(_v0){return _v0.b_}function $ianmackenzie$elm_geometry$CubicSpline3d$fourthControlPoint(_v0){return _v0.b0}function $ianmackenzie$elm_geometry$Vector3d$length(scaledY){var largestComponent=A2($elm$core$Basics$max,$elm$core$Basics$abs((scaledX=scaledY).U),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.V),$elm$core$Basics$abs(scaledX.iS)));if(largestComponent){var scaledZ=scaledX.iS/largestComponent,scaledY=scaledX.V/largestComponent,scaledX=scaledX.U/largestComponent;return $elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ)*largestComponent}return 0}function $ianmackenzie$elm_geometry$CubicSpline3d$secondControlPoint(_v0){return _v0.cS}function $ianmackenzie$elm_geometry$CubicSpline3d$thirdControlPoint(_v0){return _v0.cZ}function $ianmackenzie$elm_geometry$Triangle3d$vertices(_v0){return _v0}function $ianmackenzie$elm_geometry$LineSegment3d$endPoint(_v0){return _v0.b}function $ianmackenzie$elm_geometry$LineSegment3d$endpoints(_v0){return _v0}function $ianmackenzie$elm_geometry$LineSegment3d$length(lineSegment){return $ianmackenzie$elm_geometry$Vector3d$length(function(_v0){_v0=$ianmackenzie$elm_geometry$LineSegment3d$endpoints(_v0);return A2($ianmackenzie$elm_geometry$Vector3d$from,_v0.a,_v0.b)}(lineSegment))}function $ianmackenzie$elm_geometry$Polyline3d$segments(_v0){return(_v0=function(_v0){return _v0}(_v0)).b?A3($elm$core$List$map2,$ianmackenzie$elm_geometry$LineSegment3d$from,_v0,_v0.b):_List_Nil}function $ianmackenzie$elm_geometry$LineSegment3d$startPoint(_v0){return _v0.a}function $author$project$Main$cancelFlythrough(model){return _Utils_update(model,{y:$elm$core$Maybe$Nothing})}function $ianmackenzie$elm_geometry$BoundingBox3d$midX(_v0){return A3($ianmackenzie$elm_units$Quantity$interpolateFrom,_v0.hr,_v0.hl,.5)}function $ianmackenzie$elm_geometry$BoundingBox3d$midZ(_v0){return A3($ianmackenzie$elm_units$Quantity$interpolateFrom,_v0.kN,_v0.kL,.5)}function $ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(boundingBox){return A3($ianmackenzie$elm_geometry$Point3d$xyz,$ianmackenzie$elm_geometry$BoundingBox3d$midX(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$midY(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$midZ(boundingBox))}function $author$project$Main$centreViewOnCurrentNode(model){var node,_v0={a:A2($elm$core$Array$get,model.a,model.d),b:A2($elm$core$Array$get,model.a,model.g)};return _v0.a.$?model:_Utils_update(model,_v0.b.$?{bq:(node=_v0.a.a).aq,aP:model.a-1,a0:node.aq}:{bq:(node=_v0.a.a).aq,aP:model.a,a0:node.aq})}function $author$project$Main$clearTerrain(model){return _Utils_update(model,{bc:_List_Nil})}function $elm$core$List$head(list){return list.b?$elm$core$Maybe$Just(list.a):$elm$core$Maybe$Nothing}function $ianmackenzie$elm_geometry$Point2d$xCoordinate(_v0){return _v0.U}function $ianmackenzie$elm_geometry$Point2d$yCoordinate(_v0){return _v0.V}function $author$project$Main$closeTheLoop(model){var gap=$elm$core$List$head(model.t),newTrack=F2(function(segment,newLatLon){return segment<1?$elm$core$List$reverse(_Utils_ap(A2($elm$core$List$take,1,model.iy),A2($elm$core$List$drop,1,$elm$core$List$reverse(model.iy)))):_Utils_ap(model.iy,_Utils_ap(_List_fromArray([(newLatLon=-1/(segment=newLatLon).gV,{cA:segment.bE.b.cA,kl:0,cG:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$yCoordinate(newLatLon=A3($ianmackenzie$elm_geometry$Point2d$interpolateFrom,A2($ianmackenzie$elm_geometry$Point2d$meters,segment.bE.b.cK,segment.bE.b.cG),A2($ianmackenzie$elm_geometry$Point2d$meters,segment.B.b.cK,segment.B.b.cG),newLatLon))),cK:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$xCoordinate(newLatLon))})]),A2($elm$core$List$take,1,model.iy)))}),segment1={a:model.aU,b:gap};return 2!==segment1.a.$||segment1.b.$?model:(gap=segment1.a.a,segment1=segment1.b.a,_Utils_update(A2($author$project$Main$addToUndoStack,"complete loop",model),{iy:$author$project$TrackPoint$reindexTrackpoints(A2(newTrack,gap,segment1))}))}function $author$project$NodesAndRoads$deriveRoads(roadSegments){return roadSegments=A3($elm$core$List$map2,F2(function(node1,node2){var zDifference=node2.b.cA-node1.b.cA,earthDistance=A2($author$project$Spherical$range,{a:3.141592653589793*node2.b.cG/180,b:3.141592653589793*node2.b.cK/180},{a:3.141592653589793*node1.b.cG/180,b:3.141592653589793*node1.b.cK/180});return{da:A2($author$project$Spherical$findBearingToTarget,{a:3.141592653589793*node1.b.cG/180,b:3.141592653589793*node1.b.cK/180},{a:3.141592653589793*node2.b.cG/180,b:3.141592653589793*node2.b.cK/180}),gq:0,B:node2,gF:0<earthDistance?zDifference/earthDistance*100:0,gK:0,gV:earthDistance,dZ:node2,cc:node1,il:0,bE:node1}}),roadSegments,A2($elm$core$List$drop,1,roadSegments)),$elm$core$List$reverse(A3($elm$core$List$foldl,F2(function(road,profileStartAt){var idx=profileStartAt.a,dist=profileStartAt.b,done=profileStartAt.c,profileEndAt={a:road.bE,b:road.B},profileStartAt=profileEndAt.a,profileEndAt=profileEndAt.b,profileEndAt=_Utils_update(profileEndAt,{aq:A3($ianmackenzie$elm_geometry$Point3d$xyz,0,dist+road.gV,$ianmackenzie$elm_geometry$Point3d$zCoordinate(profileEndAt.aq))}),profileStartAt=_Utils_update(profileStartAt,{aq:A3($ianmackenzie$elm_geometry$Point3d$xyz,0,dist,$ianmackenzie$elm_geometry$Point3d$zCoordinate(profileStartAt.aq))});return{a:idx+1,b:dist+road.gV,c:A2($elm$core$List$cons,_Utils_update(road,{gq:dist+road.gV,gK:idx,dZ:profileEndAt,cc:profileStartAt,il:dist}),done)}}),{a:0,b:0,c:_List_Nil},roadSegments).c)}function $author$project$Main$deriveNodesAndRoads(roadSegments){function trackPointAsPoint(tp){return A3($ianmackenzie$elm_geometry$Point3d$meters,tp.cK,tp.cG,tp.cA)}var m,costMetric=F3(function(p1,firstVector,p3){p1={a:p1,b:p3};return _Utils_update(firstVector,p1.a.$||p1.b.$?{gd:$elm$core$Maybe$Nothing}:{gd:$elm$core$Maybe$Just(function(_v0){return _v0}((p3=(firstVector=$ianmackenzie$elm_geometry$Triangle3d$vertices(p3={a:p1.a.a.aq,b:firstVector.aq,c:p1.b.a.aq})).c,firstVector=A2($ianmackenzie$elm_geometry$Vector3d$from,p1=firstVector.a,firstVector.b),A2($ianmackenzie$elm_units$Quantity$multiplyBy,.5,$ianmackenzie$elm_geometry$Vector3d$length(A2($ianmackenzie$elm_geometry$Vector3d$cross,A2($ianmackenzie$elm_geometry$Vector3d$from,p1,p3),firstVector))))))})});return function(m){return _Utils_update(m,{d:$elm$core$Array$fromList(m.hC),g:$elm$core$Array$fromList(m.t)})}((roadSegments=function(m){return _Utils_update(m,{t:$author$project$NodesAndRoads$deriveRoads(m.hC)})}((roadSegments=function(m){var wrappedNodes=A2($elm$core$List$map,$elm$core$Maybe$Just,m.hC);return _Utils_update(m,{hC:A4($elm$core$List$map3,costMetric,A2($elm$core$List$cons,$elm$core$Maybe$Nothing,wrappedNodes),m.hC,_Utils_ap(A2($elm$core$List$drop,1,wrappedNodes),_List_fromArray([$elm$core$Maybe$Nothing])))})}(function(m){return _Utils_update(m,{hC:A2($author$project$NodesAndRoads$deriveNodes,m.E,m.iy)})}(_Utils_update(m=roadSegments,{E:function(){var _v1=m.iy;if(_v1.b){var tps=_v1.b;return A2($ianmackenzie$elm_geometry$BoundingBox3d$hull,trackPointAsPoint(_v1.a),A2($elm$core$List$map,trackPointAsPoint,tps))}return $ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin)}()}))),_Utils_update(roadSegments,{ar:(roadSegments=roadSegments.hC).b?A2($ianmackenzie$elm_geometry$BoundingBox3d$hull,roadSegments.a.aq,A2($elm$core$List$map,function($){return $.aq},roadSegments.b)):$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin)}))),_Utils_update(roadSegments,{cg:$elm$core$Maybe$Just((roadSegments=roadSegments.t,A3($elm$core$List$foldl,F2(function(segment,summary){return{jy:0<segment.gF?summary.jy+segment.gV:summary.jy,jO:segment.gF<0?summary.jy+segment.gV:summary.jy,kf:A2($elm$core$Basics$max,summary.kf,A2($elm$core$Basics$max,segment.bE.b.cA,segment.B.b.cA)),kI:A2($elm$core$Basics$min,summary.kI,A2($elm$core$Basics$min,segment.bE.b.cA,segment.B.b.cA)),l8:0<segment.gF?summary.l8+segment.B.b.cA-segment.bE.b.cA:summary.l8,l9:segment.gF<0?summary.l8-segment.B.b.cA+segment.bE.b.cA:summary.l8,ix:summary.ix+segment.gV}}),{jy:0,jO:0,kf:-9999.9,kI:9999.9,l8:0,l9:0,ix:0},roadSegments)))})))}function $author$project$Main$deriveProblems(model){var zeroLengths=A2($elm$core$List$filterMap,function(road){return 0===road.gV?$elm$core$Maybe$Just(road):$elm$core$Maybe$Nothing},model.t),loopy=function(){var gap=A2($author$project$Main$trackPointGap,$elm$core$List$head(model.iy),$elm$core$List$head($elm$core$List$reverse(model.iy)));if(gap.$)return{$:0,a:0};var _v1=gap.a,gap=_v1.a;return gap<1&&_v1.b<1?$author$project$Loop$IsALoop:gap<1e3?{$:2,a:gap}:{$:0,a:gap}}(),suddenGradientChanges=A2($elm$core$List$filterMap,$elm$core$Basics$identity,A3($elm$core$List$map2,F2(function(seg1,seg2){return 0<seg1.gV&&0<seg2.gV&&0<_Utils_cmp($elm$core$Basics$abs(seg1.gF-seg2.gF),model.b3)?$elm$core$Maybe$Just({en:seg2,ew:seg1,cO:seg1.B}):$elm$core$Maybe$Nothing}),model.t,A2($elm$core$List$drop,1,model.t)));return _Utils_update(model,{cp:A2($elm$core$List$filterMap,$elm$core$Basics$identity,A3($elm$core$List$map2,F2(function(seg1,seg2){var includedAngle=$elm$core$Basics$abs(seg1.da-seg2.da),includedAngle=0<_Utils_cmp(includedAngle,3.141592653589793)?6.283185307179586-includedAngle:includedAngle;return 0<seg1.gV&&0<seg2.gV&&0<_Utils_cmp(180*includedAngle/3.141592653589793,model.bP)?$elm$core$Maybe$Just({en:seg2,ew:seg1,cO:seg1.B}):$elm$core$Maybe$Nothing}),model.t,A2($elm$core$List$drop,1,model.t))),cq:suddenGradientChanges,aU:loopy,cU:$elm$core$Maybe$Nothing,c5:zeroLengths})}function $ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$inverseGamma(u){return A3($elm$core$Basics$clamp,0,1,.04045<u?A2($elm$core$Basics$pow,(u+.055)/1.055,2.4):u/12.92)}function $avh4$elm_color$Color$toRgba(_v0){return{bN:_v0.d,ex:_v0.c,eG:_v0.b,fq:_v0.a}}function $ianmackenzie$elm_3d_scene$Scene3d$Material$matte(green){return A3($ianmackenzie$elm_3d_scene$Scene3d$Types$LambertianMaterial,0,{$:0,a:(_v0=$avh4$elm_color$Color$toRgba(blue=green),green=_v0.eG,blue=_v0.ex,A3($elm_explorations$linear_algebra$Math$Vector3$vec3,$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$inverseGamma(_v0.fq),$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$inverseGamma(green),$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$inverseGamma(blue)))},{$:0,a:0});var blue,_v0}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$group(drawables){return{$:4,a:A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$collectNodes,drawables,_List_Nil)}}function $ianmackenzie$elm_units$Luminance$inNits(_v0){return _v0}function $ianmackenzie$elm_geometry$Point3d$toMeters(_v0){return _v0}function $ianmackenzie$elm_geometry$BoundingBox3d$maxX(_v0){return _v0.hl}function $ianmackenzie$elm_geometry$BoundingBox3d$maxY(_v0){return _v0.hm}function $ianmackenzie$elm_geometry$BoundingBox3d$maxZ(_v0){return _v0.kL}function $ianmackenzie$elm_geometry$BoundingBox3d$minX(_v0){return _v0.hr}function $ianmackenzie$elm_geometry$BoundingBox3d$minY(_v0){return _v0.hs}function $ianmackenzie$elm_geometry$BoundingBox3d$minZ(_v0){return _v0.kN}function $ianmackenzie$elm_geometry$BoundingBox3d$dimensions(boundingBox){return{a:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$BoundingBox3d$minX(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$maxX(boundingBox)),b:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$BoundingBox3d$minY(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$maxY(boundingBox)),c:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$BoundingBox3d$minZ(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$maxZ(boundingBox))}}function $ianmackenzie$elm_geometry$Point3d$unwrap(_v0){return _v0}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox){var xDimension=(zDimension=$ianmackenzie$elm_geometry$BoundingBox3d$dimensions(boundingBox)).a,yDimension=zDimension.b,zDimension=zDimension.c;return{jt:$ianmackenzie$elm_geometry$Point3d$unwrap($ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(boundingBox)),ka:xDimension/2,kb:yDimension/2,kc:zDimension/2}}function $elm_explorations$webgl$WebGL$Internal$StencilTest(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return function(h){return function(i){return function(j){return function(k){return{$:2,a:a,b:b,c:c,d:d,e:e,f:f,g:g,h:h,i:i,j:j,k:k}}}}}}}}}}}}function $ianmackenzie$elm_3d_scene$Scene3d$Material$color(givenColor){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$UnlitMaterial,0,{$:0,a:function(_v0){_v0=$avh4$elm_color$Color$toRgba(_v0);return A3($elm_explorations$linear_algebra$Math$Vector3$vec3,_v0.fq,_v0.eG,_v0.ex)}(givenColor)})}function $ianmackenzie$elm_units$Angle$cos(_v0){return $elm$core$Basics$cos(_v0)}function $ianmackenzie$elm_3d_scene$Scene3d$Mesh$cullBackFaces(mesh){switch(mesh.$){case 0:return mesh;case 1:return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$Triangles,mesh.a,mesh.b,mesh.c,1);case 2:return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$Facets,mesh.a,mesh.b,mesh.c,1);case 3:return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$Indexed,mesh.a,mesh.b,mesh.c,1);case 4:return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormals,mesh.a,mesh.b,mesh.c,1);case 5:return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithUvs,mesh.a,mesh.b,mesh.c,1);case 6:return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormalsAndUvs,mesh.a,mesh.b,mesh.c,1);case 7:return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithTangents,mesh.a,mesh.b,mesh.c,1);case 8:case 9:default:return mesh}}function $ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(point){return $elm_explorations$linear_algebra$Math$Vector3$fromRecord($ianmackenzie$elm_geometry$Point3d$unwrap(point))}function $ianmackenzie$elm_geometry$Vector3d$unwrap(_v0){return _v0}function $ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Vector3d$toVec3(vector){return $elm_explorations$linear_algebra$Math$Vector3$fromRecord($ianmackenzie$elm_geometry$Vector3d$unwrap(vector))}function $ianmackenzie$elm_triangular_mesh$TriangularMesh$faceIndices(_v0){return _v0.W}function $ianmackenzie$elm_geometry$BoundingBox3d$fromExtrema(given){return A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,given.hl,given.hr)&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,given.hm,given.hs)&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,given.kL,given.kN)?given:{hl:A2($ianmackenzie$elm_units$Quantity$max,given.hr,given.hl),hm:A2($ianmackenzie$elm_units$Quantity$max,given.hs,given.hm),kL:A2($ianmackenzie$elm_units$Quantity$max,given.kN,given.kL),hr:A2($ianmackenzie$elm_units$Quantity$min,given.hr,given.hl),hs:A2($ianmackenzie$elm_units$Quantity$min,given.hs,given.hm),kN:A2($ianmackenzie$elm_units$Quantity$min,given.kN,given.kL)}}function $ianmackenzie$elm_triangular_mesh$TriangularMesh$vertices(_v0){return _v0.mf}function $ianmackenzie$elm_3d_scene$Scene3d$Mesh$indexedFaces(givenMesh){if((webGLMesh=A3($elm$core$Array$foldr,$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectSmooth,_List_Nil,$ianmackenzie$elm_triangular_mesh$TriangularMesh$vertices(givenMesh))).b){var first=webGLMesh.a,rest=webGLMesh.b,webGLMesh=A2($elm_explorations$webgl$WebGL$indexedTriangles,webGLMesh,$ianmackenzie$elm_triangular_mesh$TriangularMesh$faceIndices(givenMesh));return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormals,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBounds,first,rest),givenMesh,webGLMesh,0)}return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyMesh}function $ianmackenzie$elm_units$Angle$sin(_v0){return $elm$core$Basics$sin(_v0)}function $ianmackenzie$elm_triangular_mesh$TriangularMesh$triangles(faceVertices_){return{W:A2($elm$core$List$map,function(i){return{a:3*i,b:3*i+1,c:3*i+2}},A2($elm$core$List$range,0,$elm$core$List$length(faceVertices_)-1)),mf:$elm$core$Array$fromList($elm$core$List$concat(A2($elm$core$List$map,function(_v0){return _List_fromArray([_v0.a,_v0.b,_v0.c])},faceVertices_)))}}function $elm$core$Basics$not(bool){return!bool}function $ianmackenzie$elm_geometry$Frame3d$fromZAxis(givenZAxis){var givenZDirection=$ianmackenzie$elm_geometry$Axis3d$direction(givenZAxis),_v0=$ianmackenzie$elm_geometry$Direction3d$perpendicularBasis(givenZDirection);return{fc:function(_v0){return _v0.fc}(givenZAxis),fN:_v0.a,fO:_v0.b,fP:givenZDirection}}function $ianmackenzie$elm_geometry$Direction3d$xComponent(_v0){return _v0.U}function $ianmackenzie$elm_geometry$Direction3d$yComponent(_v0){return _v0.V}function $ianmackenzie$elm_geometry$Direction3d$zComponent(_v0){return _v0.iS}function $ianmackenzie$elm_geometry$Direction3d$unwrap(_v0){return _v0}function $ianmackenzie$elm_3d_scene$Scene3d$Transformation$placeIn(frame){var p0=$ianmackenzie$elm_geometry$Point3d$unwrap($ianmackenzie$elm_geometry$Frame3d$originPoint(frame)),k=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$zDirection(frame)),j=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$yDirection(frame)),i=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$xDirection(frame));return{gQ:function(a){var i=$ianmackenzie$elm_geometry$Direction3d$zComponent(a.fP),h=$ianmackenzie$elm_geometry$Direction3d$yComponent(a.fP),g=$ianmackenzie$elm_geometry$Direction3d$xComponent(a.fP),f=$ianmackenzie$elm_geometry$Direction3d$zComponent(a.fO),e=$ianmackenzie$elm_geometry$Direction3d$yComponent(a.fO),d=$ianmackenzie$elm_geometry$Direction3d$xComponent(a.fO),c=$ianmackenzie$elm_geometry$Direction3d$zComponent(a.fN),b=$ianmackenzie$elm_geometry$Direction3d$yComponent(a.fN),a=$ianmackenzie$elm_geometry$Direction3d$xComponent(a.fN);return 0<a*e*i+b*f*g+c*d*h-c*e*g-b*d*i-a*f*h}(frame),F:i.U,G:i.V,H:i.iS,I:j.U,J:j.V,K:j.iS,L:k.U,M:k.V,N:k.iS,_:p0.U,aa:p0.V,ab:p0.iS,d5:1}}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleDrawFunction(_v0){return function(originalDrawFunction){return function(sceneProperties){return function(modelScale){return function(modelMatrix){return function(isRightHanded){return function(viewMatrix){return function(projectionMatrix){return function(lights){return function(settings){var scaleX=_v0.a,scaleY=_v0.b,updatedModelScale=_v0.c,_v1=$elm_explorations$linear_algebra$Math$Vector4$toRecord(modelScale),updatedModelScale=$elm_explorations$linear_algebra$Math$Vector4$fromRecord({iI:_v1.iI,U:_v1.U*scaleX,V:_v1.V*scaleY,iS:_v1.iS*updatedModelScale});return A8(originalDrawFunction,sceneProperties,updatedModelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings)}}}}}}}}}}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow(_v0){return(_v0=function(givenShadow){if(givenShadow.$){var webGLMesh=givenShadow.c;return $elm$core$Maybe$Just(F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,shadowLight,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings,isRightHanded,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment,webGLMesh,{h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,d6:shadowLight,l:viewMatrix})}))}return $elm$core$Maybe$Nothing}(_v0)).$?$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty:{$:2,a:_v0.a}}function $ianmackenzie$elm_geometry$Direction2d$fromAngle(angle){return{U:$elm$core$Basics$cos(angle),V:$elm$core$Basics$sin(angle)}}function $ianmackenzie$elm_geometry$BoundingBox3d$extrema(_v0){return _v0}function $avh4$elm_color$Color$toHsla(s){var r=s.a,g=s.b,b=s.c,a=s.d,h2=A2($elm$core$Basics$min,r,A2($elm$core$Basics$min,g,b)),maxColor=A2($elm$core$Basics$max,r,A2($elm$core$Basics$max,g,b)),l=(h2+maxColor)/2,s=_Utils_eq(h2,maxColor)?0:l<.5?(maxColor-h2)/(maxColor+h2):(maxColor-h2)/(2-maxColor-h2),h2=1/6*(_Utils_eq(maxColor,r)?(g-b)/(maxColor-h2):_Utils_eq(maxColor,g)?2+(b-r)/(maxColor-h2):4+(r-g)/(maxColor-h2));return{bN:a,dB:$elm$core$Basics$isNaN(h2)?0:h2<0?1+h2:h2,gY:l,h9:s}}function $author$project$Utils$gradientColourPastel(steepestAscentHue){var x=(A3($elm$core$Basics$clamp,-15,15,steepestAscentHue)+15)/30,steepestDescentHue=$avh4$elm_color$Color$toHsla($avh4$elm_color$Color$purple).dB,steepestAscentHue=$avh4$elm_color$Color$toHsla($avh4$elm_color$Color$red).dB;return A3($avh4$elm_color$Color$hsl,x*steepestAscentHue+(1-x)*steepestDescentHue,.6,.7)}function $author$project$Utils$gradientColourVivid(steepestAscentHue){var x=(A3($elm$core$Basics$clamp,-15,15,steepestAscentHue)+15)/30,steepestDescentHue=$avh4$elm_color$Color$toHsla($avh4$elm_color$Color$purple).dB,steepestAscentHue=$avh4$elm_color$Color$toHsla($avh4$elm_color$Color$red).dB;return A3($avh4$elm_color$Color$hsl,x*steepestAscentHue+(1-x)*steepestDescentHue,1,.4)}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadow(){return{$:2,a:F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,shadowLight,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings,!0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$sphereShadowVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadowMesh,{bs:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,0,0,1),h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,d6:shadowLight,l:viewMatrix})})}}function $author$project$Main$deriveStaticVisualEntities(model){var newMapInfo=A2($elm$core$Maybe$map,function(info){return _Utils_update(info,{fo:model.iy})},model.O),context={a:A2($elm$core$Array$get,model.a,model.d),s:model.s,eK:model.as,c:(context=model.c).$?$elm$core$Maybe$Nothing:A2($elm$core$Array$get,context.a,model.d),ar:model.ar,aD:$elm$core$Maybe$Just(model.aD),e9:model.at,T:A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,function($){return $.hC},model.T)),Z:model.Z,fI:model.au,x:model.x,fR:model.ax};return _Utils_update(model,{O:newMapInfo,eZ:A2($author$project$VisualEntities$makeMapEntities,context,model.t),cV:A2($author$project$VisualEntities$makeStaticProfileEntities,context,model.t),bF:A2($author$project$VisualEntities$makeStatic3DEntities,context,model.t)})}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(p2){var p3=$ianmackenzie$elm_geometry$Triangle3d$vertices(p2),p1=$ianmackenzie$elm_geometry$Point3d$toMeters(p3.a),p2=$ianmackenzie$elm_geometry$Point3d$toMeters(p3.b),p3=$ianmackenzie$elm_geometry$Point3d$toMeters(p3.c);return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:p1.U,g3:p2.U,g4:p3.U,g5:0,g6:p1.V,g7:p2.V,g8:p3.V,g9:0,ha:p1.iS,hb:p2.iS,hc:p3.iS,hd:0,he:0,hf:0,hg:0,hh:0})}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadow(givenTriangle){return{$:2,a:F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,shadowLight,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings,isRightHanded,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$triangleShadowVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadowMesh,{h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,d6:shadowLight,c1:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),l:viewMatrix})})}}function $author$project$Main$deriveVaryingVisualEntities(model){var context={a:A2($elm$core$Array$get,model.a,model.d),s:model.s,eK:model.as,c:(profileContext=model.c).$?$elm$core$Maybe$Nothing:A2($elm$core$Array$get,profileContext.a,model.d),ar:model.ar,aD:$elm$core$Maybe$Just(model.aD),e9:model.at,T:A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,function($){return $.hC},model.T)),Z:model.Z,fI:model.au,x:model.x,fR:model.ax},profileContext=_Utils_update(context,{a:_Utils_cmp(model.a,$elm$core$Array$length(model.g))<0?A2($elm$core$Maybe$map,function($){return $.cc},A2($elm$core$Array$get,model.a,model.g)):A2($elm$core$Maybe$map,function($){return $.dZ},A2($elm$core$Array$get,$elm$core$Array$length(model.g)-1,model.g)),c:function(){var n=model.c;if(n.$)return $elm$core$Maybe$Nothing;n=n.a;return _Utils_cmp(n,$elm$core$Array$length(model.g))<0?A2($elm$core$Maybe$map,function($){return $.cc},A2($elm$core$Array$get,n,model.g)):A2($elm$core$Maybe$map,function($){return $.dZ},A2($elm$core$Array$get,$elm$core$Array$length(model.g)-1,model.g))}()});return _Utils_update(model,{c4:A2($author$project$VisualEntities$makeVaryingProfileEntities,profileContext,model.t),bK:A2($author$project$VisualEntities$makeVaryingVisualEntities,context,model.g)})}function $elm$core$Tuple$second(_v0){return _v0.b}function $mdgriffith$elm_ui$Internal$Model$floatClass(x){return $elm$core$String$fromInt($elm$core$Basics$round(255*x))}function $mdgriffith$elm_ui$Internal$Model$transformClass(transform){switch(transform.$){case 0:return $elm$core$Maybe$Nothing;case 1:var angle=transform.a,ox=angle.b,oy=angle.c;return $elm$core$Maybe$Just("mv-"+$mdgriffith$elm_ui$Internal$Model$floatClass(angle.a)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(ox)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(oy))));default:var _v2=transform.a,ty=_v2.b,tz=_v2.c,oz=transform.b,sx=oz.a,sy=oz.b,sz=oz.c,angle=transform.c,ox=angle.a,oy=angle.b,oz=angle.c,angle=transform.d;return $elm$core$Maybe$Just("tfrm-"+$mdgriffith$elm_ui$Internal$Model$floatClass(_v2.a)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(ty)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(tz)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(sx)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(sy)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(sz)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(ox)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(oy)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(oz)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(angle)))))))))))}}function $mdgriffith$elm_ui$Internal$Style$dot(c){return"."+c}function $mdgriffith$elm_ui$Internal$Model$formatColor(_v0){var green=_v0.b,blue=_v0.c,alpha=_v0.d;return"rgba("+$elm$core$String$fromInt($elm$core$Basics$round(255*_v0.a))+(","+$elm$core$String$fromInt($elm$core$Basics$round(255*green))+","+$elm$core$String$fromInt($elm$core$Basics$round(255*blue))+","+$elm$core$String$fromFloat(alpha))+")"}function $mdgriffith$elm_ui$Internal$Model$formatBoxShadow(shadow){return A2($elm$core$String$join," ",A2($elm$core$List$filterMap,$elm$core$Basics$identity,_List_fromArray([shadow.gN?$elm$core$Maybe$Just("inset"):$elm$core$Maybe$Nothing,$elm$core$Maybe$Just($elm$core$String$fromFloat(shadow.kT.a)+"px"),$elm$core$Maybe$Just($elm$core$String$fromFloat(shadow.kT.b)+"px"),$elm$core$Maybe$Just($elm$core$String$fromFloat(shadow.jf)+"px"),$elm$core$Maybe$Just($elm$core$String$fromFloat(shadow.lu)+"px"),$elm$core$Maybe$Just($mdgriffith$elm_ui$Internal$Model$formatColor(shadow.jB))])))}function $mdgriffith$elm_ui$Internal$Model$renderFocusStyle(focus){return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Style,"."+$mdgriffith$elm_ui$Internal$Style$classes_gB+":focus-within",A2($elm$core$List$filterMap,$elm$core$Basics$identity,_List_fromArray([A2($elm$core$Maybe$map,function(color){return A2($mdgriffith$elm_ui$Internal$Model$Property,"border-color",$mdgriffith$elm_ui$Internal$Model$formatColor(color))},focus.jh),A2($elm$core$Maybe$map,function(color){return A2($mdgriffith$elm_ui$Internal$Model$Property,"background-color",$mdgriffith$elm_ui$Internal$Model$formatColor(color))},focus.jb),A2($elm$core$Maybe$map,function(shadow){return A2($mdgriffith$elm_ui$Internal$Model$Property,"box-shadow",$mdgriffith$elm_ui$Internal$Model$formatBoxShadow({jf:shadow.jf,jB:shadow.jB,gN:!1,kT:A2($elm$core$Tuple$mapSecond,$elm$core$Basics$toFloat,A2($elm$core$Tuple$mapFirst,$elm$core$Basics$toFloat,shadow.kT)),lu:shadow.lu}))},focus.lp),$elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Internal$Model$Property,"outline","none"))]))),A2($mdgriffith$elm_ui$Internal$Model$Style,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6+":focus .focusable, ."+$mdgriffith$elm_ui$Internal$Style$classes_i6+".focusable:focus, .ui-slide-bar:focus + ."+$mdgriffith$elm_ui$Internal$Style$classes_i6+" .focusable-thumb",A2($elm$core$List$filterMap,$elm$core$Basics$identity,_List_fromArray([A2($elm$core$Maybe$map,function(color){return A2($mdgriffith$elm_ui$Internal$Model$Property,"border-color",$mdgriffith$elm_ui$Internal$Model$formatColor(color))},focus.jh),A2($elm$core$Maybe$map,function(color){return A2($mdgriffith$elm_ui$Internal$Model$Property,"background-color",$mdgriffith$elm_ui$Internal$Model$formatColor(color))},focus.jb),A2($elm$core$Maybe$map,function(shadow){return A2($mdgriffith$elm_ui$Internal$Model$Property,"box-shadow",$mdgriffith$elm_ui$Internal$Model$formatBoxShadow({jf:shadow.jf,jB:shadow.jB,gN:!1,kT:A2($elm$core$Tuple$mapSecond,$elm$core$Basics$toFloat,A2($elm$core$Tuple$mapFirst,$elm$core$Basics$toFloat,shadow.kT)),lu:shadow.lu}))},focus.lp),$elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Internal$Model$Property,"outline","none"))])))])}function $elm$virtual_dom$VirtualDom$node(tag){return _VirtualDom_node(_VirtualDom_noScript(tag))}function $mdgriffith$elm_ui$Internal$Style$selfName(desc){switch(desc){case 0:return"."+$mdgriffith$elm_ui$Internal$Style$classes_i2;case 1:return"."+$mdgriffith$elm_ui$Internal$Style$classes_iX;case 2:return"."+$mdgriffith$elm_ui$Internal$Style$classes_fU;case 3:return"."+$mdgriffith$elm_ui$Internal$Style$classes_fT;case 4:return"."+$mdgriffith$elm_ui$Internal$Style$classes_iY;default:return"."+$mdgriffith$elm_ui$Internal$Style$classes_iZ}}function $elm$core$String$concat(strings){return A2($elm$core$String$join,"",strings)}_Platform_effectManagers.Time={b:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown,c:$elm$svg$Svg$circle,d:$mdgriffith$elm_ui$Internal$Style$classes_j6,e:0,f:F2(function(f,_v0){return A2($elm$time$Time$Every,_v0.a,A2($elm$core$Basics$composeL,f,_v0.b))})};var tipPoint,wedgeAngle,negativeZVector,basePoint,m,phiStartIndices,phiValues,linearIndex,values,renderIntermediate,$elm$time$Time$subscription=_Platform_leaf("Time"),$elm$time$Time$every=F2(function(interval,tagger){return $elm$time$Time$subscription(A2($elm$time$Time$Every,interval,tagger))}),$elm$json$Json$Decode$string=$mdgriffith$elm_ui$Internal$Style$classes_j9,$author$project$MapController$mapStopped=_Platform_incomingPort("mapStopped",$elm$json$Json$Decode$string),$author$project$MapController$messageReceiver=_Platform_incomingPort("messageReceiver",$mdgriffith$elm_ui$Internal$Style$classes_eH),$author$project$OAuthPorts$randomBytes=_Platform_incomingPort("randomBytes",$elm$json$Json$Decode$list($elm$json$Json$Decode$int)),$author$project$Loop$IsALoop={$:1},$author$project$StravaTypes$SegmentRequested={$:1},$author$project$StravaTypes$StravaRouteRequested={$:1},$elm$core$List$filter=F2(function(isGood,list){return A3($elm$core$List$foldr,F2(function(x,xs){return isGood(x)?A2($elm$core$List$cons,x,xs):xs}),_List_Nil,list)}),$author$project$Accordion$accordionToggle=F2(function(entries,entry){function toggleMatching(e){return _Utils_eq(e.bz,entry.bz)?_Utils_update(e,{cf:function(){switch(e.cf){case 0:return 1;case 1:return 0;default:return 2}}()}):_Utils_update(e,{cf:1})}var _v0=A2($elm$core$List$filter,function(e){return _Utils_eq(e.bz,entry.bz)},entries);if(_v0.b)return A2($elm$core$List$map,toggleMatching,entries);return entries}),$elm$core$List$takeReverse=F3(function(n,list,kept){for(;;){if(n<=0)return kept;if(!list.b)return kept;var x=list.a;n=n-1,list=list.b,kept=A2($elm$core$List$cons,x,kept)}}),$elm$core$List$takeTailRec=F2(function(n,list){return $elm$core$List$reverse(A3($elm$core$List$takeReverse,n,list,_List_Nil))}),$elm$core$List$takeFast=F3(function(ctr,n,list){if(0<n){var _v0={a:n,b:list};_v0$1:for(;;){_v0$5:for(;;){if(!_v0.b.b)return list;if(!_v0.b.b.b){if(1===_v0.a)break _v0$1;break _v0$5}switch(_v0.a){case 1:break _v0$1;case 2:var _v9=_v0.b;return _List_fromArray([_v9.a,_v9.b.a]);case 3:if(_v0.b.b.b.b){var tl=_v0.b,w=tl.b;return _List_fromArray([tl.a,w.a,w.b.a])}break _v0$5;default:if(_v0.b.b.b.b&&_v0.b.b.b.b.b){var _v7=_v0.b,_v8=_v7.b,_v9=_v8.b,tl=_v9.b,w=tl.a,tl=tl.b;return A2($elm$core$List$cons,_v7.a,A2($elm$core$List$cons,_v8.a,A2($elm$core$List$cons,_v9.a,A2($elm$core$List$cons,w,1e3<ctr?A2($elm$core$List$takeTailRec,n-4,tl):A3($elm$core$List$takeFast,ctr+1,n-4,tl)))))}break _v0$5}}return list}return _List_fromArray([_v0.b.a])}return _List_Nil}),$elm$core$List$take=F2(function(n,list){return A3($elm$core$List$takeFast,0,n,list)}),$author$project$Main$addToUndoStack=F2(function(label,model){return _Utils_update(model,{ak:model.ak+1,aw:_List_Nil,aj:A2($elm$core$List$cons,{a:model.a,bz:label,c:model.c,iy:model.iy},A2($elm$core$List$take,9,model.aj))})}),$elm$core$Array$bitMask=4294967295>>>32-$elm$core$Array$shiftStep,$elm$core$Elm$JsArray$unsafeGet=decs,$elm$core$Array$getHelp=F3(function(shift,index,tree){for(;;){var _v0=A2($elm$core$Elm$JsArray$unsafeGet,$elm$core$Array$bitMask&index>>>shift,tree);if(_v0.$)return A2($elm$core$Elm$JsArray$unsafeGet,$elm$core$Array$bitMask&index,_v0.a);shift=shift-$elm$core$Array$shiftStep,index=index,tree=_v0.a}}),$elm$core$Array$get=F2(function(index,tail){var len=tail.a,startShift=tail.b,tree=tail.c,tail=tail.d;return index<0||-1<_Utils_cmp(index,len)?$elm$core$Maybe$Nothing:-1<_Utils_cmp(index,len>>>5<<5)?$elm$core$Maybe$Just(A2($elm$core$Elm$JsArray$unsafeGet,$elm$core$Array$bitMask&index,tail)):$elm$core$Maybe$Just(A3($elm$core$Array$getHelp,startShift,index,tree))}),$ianmackenzie$elm_geometry$Vector3d$cross=F2(function(_v0,_v1){return{U:_v1.V*_v0.iS-_v1.iS*_v0.V,V:_v1.iS*_v0.U-_v1.U*_v0.iS,iS:_v1.U*_v0.V-_v1.V*_v0.U}}),$elm$core$Basics$sqrt=$mdgriffith$elm_ui$Internal$Style$classes_bB,$ianmackenzie$elm_geometry$Vector3d$from=F2(function(_v0,_v1){return{U:_v1.U-_v0.U,V:_v1.V-_v0.V,iS:_v1.iS-_v0.iS}}),$elm$core$Maybe$andThen=F2(function(callback,maybeValue){return maybeValue.$?$elm$core$Maybe$Nothing:callback(maybeValue.a)}),$ianmackenzie$elm_geometry$Vector3d$dot=F2(function(_v0,_v1){return _v1.U*_v0.U+_v1.V*_v0.V+_v1.iS*_v0.iS}),$ianmackenzie$elm_units$Quantity$greaterThan=F2(function(_v0,_v1){return 0<_Utils_cmp(_v1,_v0)}),$ianmackenzie$elm_units$Quantity$lessThan=F2(function(_v0,_v1){return _Utils_cmp(_v1,_v0)<0}),$ianmackenzie$elm_geometry$Vector3d$minus=F2(function(_v0,_v1){return{U:_v1.U-_v0.U,V:_v1.V-_v0.V,iS:_v1.iS-_v0.iS}}),$ianmackenzie$elm_geometry$Vector3d$projectionIn=F2(function(_v0,projectedLength){projectedLength=projectedLength.U*_v0.U+projectedLength.V*_v0.V+projectedLength.iS*_v0.iS;return{U:_v0.U*projectedLength,V:_v0.V*projectedLength,iS:_v0.iS*projectedLength}}),$ianmackenzie$elm_geometry$Vector3d$zero={U:0,V:0,iS:0},$ianmackenzie$elm_geometry$Direction3d$orthonormalize=F3(function(xVector,xyVector,xyzVector){return A2($elm$core$Maybe$andThen,function(xDirection){return A2($elm$core$Maybe$andThen,function(yDirection){var zVector=A2($ianmackenzie$elm_geometry$Vector3d$cross,xyVector,xVector),tripleProduct=A2($ianmackenzie$elm_geometry$Vector3d$dot,xyzVector,zVector),zVector=A2($ianmackenzie$elm_units$Quantity$greaterThan,0,tripleProduct)?zVector:A2($ianmackenzie$elm_units$Quantity$lessThan,0,tripleProduct)?$ianmackenzie$elm_geometry$Vector3d$reverse(zVector):$ianmackenzie$elm_geometry$Vector3d$zero;return A2($elm$core$Maybe$map,function(zDirection){return{a:xDirection,b:yDirection,c:zDirection}},$ianmackenzie$elm_geometry$Vector3d$direction(zVector))},$ianmackenzie$elm_geometry$Vector3d$direction(A2($ianmackenzie$elm_geometry$Vector3d$minus,A2($ianmackenzie$elm_geometry$Vector3d$projectionIn,xDirection,xyVector),xyVector)))},$ianmackenzie$elm_geometry$Vector3d$direction(xVector))}),$ianmackenzie$elm_geometry$Frame3d$withZDirection=F2(function(givenZDirection,givenOrigin){var _v0=$ianmackenzie$elm_geometry$Direction3d$perpendicularBasis(givenZDirection);return{fc:givenOrigin,fN:_v0.a,fO:_v0.b,fP:givenZDirection}}),$ianmackenzie$elm_geometry$Vector3d$meters=F3(function(x,y,z){return{U:x,V:y,iS:z}}),$elm$core$Basics$min=F2(function(x,y){return _Utils_cmp(x,y)<0?x:y}),$elm$core$Basics$tan=$mdgriffith$elm_ui$Internal$Style$classes_lj,$ianmackenzie$elm_geometry$Direction3d$positiveZ={U:0,V:0,iS:1},$ianmackenzie$elm_geometry$Point3d$translateBy=F2(function(_v0,_v1){return{U:_v1.U+_v0.U,V:_v1.V+_v0.V,iS:_v1.iS+_v0.iS}}),$elm$core$Basics$cos=$mdgriffith$elm_ui$Internal$Style$classes_lk,$elm$core$Basics$pow=$mdgriffith$elm_ui$Internal$Style$classes_ll,$author$project$MapboxStuff$metresPerPixel=F2(function(zoomLevel,latitude){return 78271.484*$elm$core$Basics$cos(latitude)/A2($elm$core$Basics$pow,2,zoomLevel)}),$ianmackenzie$elm_units$Quantity$interpolateFrom=F3(function(_v0,_v1,parameter){return.5<parameter?_v1+(1-parameter)*(_v0-_v1):_v0+parameter*(_v1-_v0)}),$ianmackenzie$elm_geometry$Direction3d$positiveY={U:0,V:1,iS:0},$ianmackenzie$elm_geometry$Point3d$projectOnto=F2(function(_v3,_v1){var distance=_v3.fc,_v3=_v3.kR,distance=(_v1.U-distance.U)*_v3.U+(_v1.V-distance.V)*_v3.V+(_v1.iS-distance.iS)*_v3.iS;return{U:_v1.U-distance*_v3.U,V:_v1.V-distance*_v3.V,iS:_v1.iS-distance*_v3.iS}}),$ianmackenzie$elm_geometry$Plane3d$xy=A2(color=F2(function(givenPoint,givenNormalDirection){return{kR:givenNormalDirection,fc:givenPoint}}),$ianmackenzie$elm_geometry$Point3d$origin,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp=$ianmackenzie$elm_geometry$Direction3d$positiveZ),$ianmackenzie$elm_geometry$Point3d$projectOntoAxis=F2(function(_v3,distance){var _v2=_v3.fc,_v3=_v3.gm,distance=(distance.U-_v2.U)*_v3.U+(distance.V-_v2.V)*_v3.V+(distance.iS-_v2.iS)*_v3.iS;return{U:_v2.U+distance*_v3.U,V:_v2.V+distance*_v3.V,iS:_v2.iS+distance*_v3.iS}}),$ianmackenzie$elm_geometry$Point3d$scaleAbout=F3(function(_v0,k,_v1){return{U:_v0.U+k*(_v1.U-_v0.U),V:_v0.V+k*(_v1.V-_v0.V),iS:_v0.iS+k*(_v1.iS-_v0.iS)}}),$ianmackenzie$elm_geometry$Axis3d$through=F2(function(givenPoint,givenDirection){return{gm:givenDirection,fc:givenPoint}}),$ianmackenzie$elm_geometry$Direction3d$y=$ianmackenzie$elm_geometry$Direction3d$positiveY,$ianmackenzie$elm_geometry$Axis3d$y=A2($ianmackenzie$elm_geometry$Axis3d$through,$ianmackenzie$elm_geometry$Point3d$origin,$ianmackenzie$elm_geometry$Direction3d$y),$author$project$VisualEntities$exaggerateNode=F2(function(context,node){return _Utils_update(node,{aq:A3($ianmackenzie$elm_geometry$Point3d$scaleAbout,A2($ianmackenzie$elm_geometry$Point3d$projectOntoAxis,$ianmackenzie$elm_geometry$Axis3d$y,node.aq),context.Z,node.aq)})}),$ianmackenzie$elm_geometry$Point3d$xyz=F3(function(_v0,_v1,_v2){return{U:_v0,V:_v1,iS:_v2}}),$ianmackenzie$elm_geometry$Point3d$fromRecord=F2(function(toQuantity,_v0){var y=_v0.V,z=_v0.iS;return A3($ianmackenzie$elm_geometry$Point3d$xyz,toQuantity(_v0.U),toQuantity(y),toQuantity(z))}),$ianmackenzie$elm_geometry$Point3d$toRecord=F2(function(fromQuantity,point){return{U:fromQuantity($ianmackenzie$elm_geometry$Point3d$xCoordinate(point)),V:fromQuantity($ianmackenzie$elm_geometry$Point3d$yCoordinate(point)),iS:fromQuantity($ianmackenzie$elm_geometry$Point3d$zCoordinate(point))}}),$ianmackenzie$elm_geometry$Direction3d$x={U:1,V:0,iS:0},$ianmackenzie$elm_geometry$Plane3d$yz=A2(color,$ianmackenzie$elm_geometry$Point3d$origin,$ianmackenzie$elm_geometry$Direction3d$x),$ianmackenzie$elm_geometry$Unsafe$Direction3d$unsafeCrossProduct=F2(function(_v0,_v1){return{U:_v0.V*_v1.iS-_v0.iS*_v1.V,V:_v0.iS*_v1.U-_v0.U*_v1.iS,iS:_v0.U*_v1.V-_v0.V*_v1.U}}),$elm$core$Basics$sin=$mdgriffith$elm_ui$Element$rgb,$ianmackenzie$elm_geometry$Direction3d$rotateAround=F3(function(qxx,qwy,qyz){var qyy=qxx,d=qyz,qxy=.5*qwy,qwz=$elm$core$Basics$cos(qxy),qzz=$elm$core$Basics$sin(qxy),_v3=qyy.gm,qxz=_v3.U*qzz,qwx=qwz*qxz,qxx=qxz*qxz,qyz=_v3.V*qzz,qwy=qwz*qyz,qxy=qxz*qyz,qyy=qyz*qyz,qzz=_v3.iS*qzz,qwz=qwz*qzz,qxz=qxz*qzz,qyz=qyz*qzz,qzz=qzz*qzz;return{U:(1-2*(qyy+qzz))*d.U+2*(qxy-qwz)*d.V+2*(qxz+qwy)*d.iS,V:2*(qxy+qwz)*d.U+(1-2*(qxx+qzz))*d.V+2*(qyz-qwx)*d.iS,iS:2*(qxz-qwy)*d.U+2*(qyz+qwx)*d.V+(1-2*(qxx+qyy))*d.iS}}),$ianmackenzie$elm_geometry$Point3d$rotateAround=F3(function(wx,yz,xx){var yy=wx,xy=xx,wy=.5*yz,wz=$elm$core$Basics$cos(wy),zz=$elm$core$Basics$sin(wy),_v3=yy.fc,deltaX=xy.U-_v3.U,deltaY=xy.V-_v3.V,deltaZ=xy.iS-_v3.iS,_v4=yy.gm,xz=_v4.U*zz,wx=wz*xz,xx=xz*xz,yz=_v4.V*zz,wy=wz*yz,xy=xz*yz,yy=yz*yz,zz=_v4.iS*zz,wz=wz*zz,xz=xz*zz,yz=yz*zz,zz=zz*zz;return{U:_v3.U+(1-2*(yy+zz))*deltaX+2*(xy-wz)*deltaY+2*(xz+wy)*deltaZ,V:_v3.V+2*(xy+wz)*deltaX+(1-2*(xx+zz))*deltaY+2*(yz-wx)*deltaZ,iS:_v3.iS+2*(xz-wy)*deltaX+2*(yz+wx)*deltaY+(1-2*(xx+yy))*deltaZ}}),$ianmackenzie$elm_geometry$Frame3d$rotateAround=F3(function(axis,angle,frame){return{fc:A3($ianmackenzie$elm_geometry$Point3d$rotateAround,axis,angle,$ianmackenzie$elm_geometry$Frame3d$originPoint(frame)),fN:A3($ianmackenzie$elm_geometry$Direction3d$rotateAround,axis,angle,$ianmackenzie$elm_geometry$Frame3d$xDirection(frame)),fO:A3($ianmackenzie$elm_geometry$Direction3d$rotateAround,axis,angle,$ianmackenzie$elm_geometry$Frame3d$yDirection(frame)),fP:A3($ianmackenzie$elm_geometry$Direction3d$rotateAround,axis,angle,$ianmackenzie$elm_geometry$Frame3d$zDirection(frame))}}),$ianmackenzie$elm_geometry$Frame3d$rotateAroundOwn=F3(function(axis,angle,frame){return A3($ianmackenzie$elm_geometry$Frame3d$rotateAround,axis(frame),angle,frame)}),$ianmackenzie$elm_geometry$Frame3d$translateBy=F2(function(vector,frame){return{fc:A2($ianmackenzie$elm_geometry$Point3d$translateBy,vector,$ianmackenzie$elm_geometry$Frame3d$originPoint(frame)),fN:$ianmackenzie$elm_geometry$Frame3d$xDirection(frame),fO:$ianmackenzie$elm_geometry$Frame3d$yDirection(frame),fP:$ianmackenzie$elm_geometry$Frame3d$zDirection(frame)}}),$ianmackenzie$elm_geometry$Vector3d$withLength=F2(function(_v0,_v1){return{U:_v0*_v1.U,V:_v0*_v1.V,iS:_v0*_v1.iS}}),$ianmackenzie$elm_geometry$Frame3d$translateIn=F3(function(direction,distance,frame){return A2($ianmackenzie$elm_geometry$Frame3d$translateBy,A2($ianmackenzie$elm_geometry$Vector3d$withLength,distance,direction),frame)}),$ianmackenzie$elm_geometry$Frame3d$translateAlongOwn=F3(function(axis,distance,frame){return A3($ianmackenzie$elm_geometry$Frame3d$translateIn,$ianmackenzie$elm_geometry$Axis3d$direction(axis(frame)),distance,frame)}),$ianmackenzie$elm_geometry$SketchPlane3d$xy=$elm$core$Basics$identity({fc:$ianmackenzie$elm_geometry$Point3d$origin,fN:$ianmackenzie$elm_geometry$Direction3d$x,fO:$ianmackenzie$elm_geometry$Direction3d$y}),$elm$core$Basics$clamp=F3(function(low,high,number){return _Utils_cmp(number,low)<0?low:0<_Utils_cmp(number,high)?high:number}),$ianmackenzie$elm_geometry$Point3d$interpolateFrom=F3(function(_v0,_v1,t){return.5<t?{U:_v1.U+(1-t)*(_v0.U-_v1.U),V:_v1.V+(1-t)*(_v0.V-_v1.V),iS:_v1.iS+(1-t)*(_v0.iS-_v1.iS)}:{U:_v0.U+t*(_v1.U-_v0.U),V:_v0.V+t*(_v1.V-_v0.V),iS:_v0.iS+t*(_v1.iS-_v0.iS)}}),$author$project$Flythrough$flythrough=F4(function(newTime,flying,lookingAt,segFraction){var newDistance=($elm$time$Time$posixToMillis(newTime)-$elm$time$Time$posixToMillis(flying.eP))/1e3,newDistance=flying.e4+newDistance*A2($elm$core$Basics$pow,10,lookingAt),lookingAt=A2(F2(function(d,rs){for(;;){if(!rs.b)return{a:$elm$core$Maybe$Nothing,b:$elm$core$Maybe$Nothing};if(!rs.b.b)return _Utils_cmp(d,(r1=rs.a).gq)<0?{a:$elm$core$Maybe$Just(r1),b:$elm$core$Maybe$Nothing}:{a:$elm$core$Maybe$Nothing,b:$elm$core$Maybe$Nothing};var r1,rN=rs.b,r2=rN.a,rN=rN.b;if(-1<_Utils_cmp(d,(r1=rs.a).il)&&_Utils_cmp(d,r1.gq)<0)return{a:$elm$core$Maybe$Just(r1),b:$elm$core$Maybe$Just(r2)};d=d,rs=A2($elm$core$List$cons,r2,rN)}}),newDistance,segFraction),segFraction=lookingAt.a,nextSeg=lookingAt.b;if(flying.d4){if(segFraction.$)return _Utils_update(flying,{d4:!1});var seg=segFraction.a,lookingAt=newDistance-seg.il,segFraction=lookingAt/seg.gV,headTurnFraction=A3($elm$core$Basics$clamp,0,1,10-(seg.gV-lookingAt))/10,lookingAt=function(){if(nextSeg.$)return A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),seg.B.aq);var next3d=nextSeg.a,next3d=A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,next3d.bE.aq,next3d.B.aq,.5);return A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,seg.B.aq,next3d,headTurnFraction))}();return _Utils_update(flying,{fZ:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,seg.bE.aq,seg.B.aq,segFraction)),gA:lookingAt,eP:newTime,e4:newDistance,$8:seg})}return _Utils_update(flying,{d4:!1})}),$author$project$Main$advanceFlythrough=F2(function(newTime,model){var _v0=model.y;return _v0.$?model:$author$project$Main$checkSceneCamera(_Utils_update(model,{y:$elm$core$Maybe$Just(A4($author$project$Flythrough$flythrough,newTime,_v0.a,model.b$,model.t))}))}),$elm$core$List$drop=F2(function(n,list){for(;;){if(n<=0)return list;if(!list.b)return list;n=n-1,list=list.b}}),$elm$core$Array$fromListHelp=F3(function(list,nodeList,nodeListSize){for(;;){var remainingItems=A2($elm$core$Elm$JsArray$initializeFromList,32,list),jsArray=remainingItems.a,remainingItems=remainingItems.b;if(_Utils_cmp($elm$core$Elm$JsArray$length(jsArray),32)<0)return A2($elm$core$Array$builderToArray,!0,{P:nodeList,z:nodeListSize,D:jsArray});list=remainingItems,nodeList=A2($elm$core$List$cons,{$:1,a:jsArray},nodeList),nodeListSize=nodeListSize+1}}),$elm$core$List$map3=$mdgriffith$elm_ui$Internal$Style$classes_lP,$elm$core$Elm$JsArray$appendN=$mdgriffith$elm_ui$Internal$Style$classes_lQ,$elm$core$Elm$JsArray$slice=$mdgriffith$elm_ui$Internal$Style$classes_lR,$elm$core$Array$appendHelpBuilder=F2(function(tail,builder){var tailLen=$elm$core$Elm$JsArray$length(tail),notAppended=32-$elm$core$Elm$JsArray$length(builder.D)-tailLen,appended=A3($elm$core$Elm$JsArray$appendN,32,builder.D,tail);return notAppended<0?{P:A2($elm$core$List$cons,{$:1,a:appended},builder.P),z:builder.z+1,D:A3($elm$core$Elm$JsArray$slice,notAppended,tailLen,tail)}:notAppended?{P:builder.P,z:builder.z,D:appended}:{P:A2($elm$core$List$cons,{$:1,a:appended},builder.P),z:builder.z+1,D:$elm$core$Elm$JsArray$empty}}),$elm$core$Array$sliceLeft=F2(function(from,array){var skipNodes=array.a,rest=array.c,initialBuilder=array.d;if(from){if(-1<_Utils_cmp(from,skipNodes>>>5<<5))return A4($elm$core$Array$Array_elm_builtin,skipNodes-from,$elm$core$Array$shiftStep,$elm$core$Elm$JsArray$empty,A3($elm$core$Elm$JsArray$slice,from-(skipNodes>>>5<<5),$elm$core$Elm$JsArray$length(initialBuilder),initialBuilder));var skipNodes=from/32|0,helper=F2(function(node,acc){return node.$?A2($elm$core$List$cons,node.a,acc):A3($elm$core$Elm$JsArray$foldr,helper,acc,node.a)}),initialBuilder=A3($elm$core$Elm$JsArray$foldr,helper,_List_fromArray([initialBuilder]),rest),rest=A2($elm$core$List$drop,skipNodes,initialBuilder);if(rest.b){initialBuilder=rest.a,rest=rest.b,initialBuilder={P:_List_Nil,z:0,D:A3($elm$core$Elm$JsArray$slice,from-32*skipNodes,$elm$core$Elm$JsArray$length(initialBuilder),initialBuilder)};return A2($elm$core$Array$builderToArray,!0,A3($elm$core$List$foldl,$elm$core$Array$appendHelpBuilder,initialBuilder,rest))}return $elm$core$Array$empty}return array}),$elm$core$Array$fetchNewTail=F4(function(shift,end,treeEnd,tree){for(;;){var _v0=A2($elm$core$Elm$JsArray$unsafeGet,$elm$core$Array$bitMask&treeEnd>>>shift,tree);if(_v0.$)return A3($elm$core$Elm$JsArray$slice,0,$elm$core$Array$bitMask&end,_v0.a);shift=shift-$elm$core$Array$shiftStep,end=end,treeEnd=treeEnd,tree=_v0.a}}),$elm$core$Array$hoistTree=F3(function(oldShift,newShift,tree){for(;;){if(_Utils_cmp(oldShift,newShift)<1||!$elm$core$Elm$JsArray$length(tree))return tree;var _v0=A2($elm$core$Elm$JsArray$unsafeGet,0,tree);if(_v0.$)return tree;oldShift=oldShift-$elm$core$Array$shiftStep,newShift=newShift,tree=_v0.a}}),$elm$core$Elm$JsArray$unsafeSet=$mdgriffith$elm_ui$Internal$Style$classes_lS,$elm$core$Array$sliceTree=F3(function(shift,endIdx,tree){var lastPos=$elm$core$Array$bitMask&endIdx>>>shift,newSub=A2($elm$core$Elm$JsArray$unsafeGet,lastPos,tree);if(newSub.$)return A3($elm$core$Elm$JsArray$slice,0,lastPos,tree);newSub=A3($elm$core$Array$sliceTree,shift-$elm$core$Array$shiftStep,endIdx,newSub.a);return $elm$core$Elm$JsArray$length(newSub)?A3($elm$core$Elm$JsArray$unsafeSet,lastPos,{$:0,a:newSub},A3($elm$core$Elm$JsArray$slice,0,1+lastPos,tree)):A3($elm$core$Elm$JsArray$slice,0,lastPos,tree)}),$elm$core$Array$sliceRight=F2(function(end,array){var endIdx=array.a,startShift=array.b,tree=array.c,newShift=array.d;if(_Utils_eq(end,endIdx))return array;if(-1<_Utils_cmp(end,endIdx>>>5<<5))return A4($elm$core$Array$Array_elm_builtin,end,startShift,tree,A3($elm$core$Elm$JsArray$slice,0,$elm$core$Array$bitMask&end,newShift));endIdx=end>>>5<<5,newShift=$elm$core$Basics$floor(A2($elm$core$Basics$logBase,32,A2($elm$core$Basics$max,1,endIdx-1))),newShift=A2($elm$core$Basics$max,5,newShift*$elm$core$Array$shiftStep);return A4($elm$core$Array$Array_elm_builtin,end,newShift,A3($elm$core$Array$hoistTree,startShift,newShift,A3($elm$core$Array$sliceTree,startShift,endIdx,tree)),A4($elm$core$Array$fetchNewTail,startShift,end,endIdx,tree))}),$elm$core$Array$translateIndex=F2(function(posIndex,len){len=len.a,posIndex=posIndex<0?len+posIndex:posIndex;return posIndex<0?0:0<_Utils_cmp(posIndex,len)?len:posIndex}),$elm$core$Array$slice=F3(function(correctFrom,correctTo,array){correctTo=A2($elm$core$Array$translateIndex,correctTo,array),correctFrom=A2($elm$core$Array$translateIndex,correctFrom,array);return 0<_Utils_cmp(correctFrom,correctTo)?$elm$core$Array$empty:A2($elm$core$Array$sliceLeft,correctFrom,A2($elm$core$Array$sliceRight,correctTo,array))}),$author$project$Filters$weightedAverage=F4(function(bias,p0,p1,p2){return{cA:(1-bias)*p1.cA+bias*(p0.cA+p1.cA+p2.cA)/3,kl:p1.kl,cG:(1-bias)*p1.cG+bias*(p0.cG+p1.cG+p2.cG)/3,cK:(1-bias)*p1.cK+bias*(p0.cK+p1.cK+p2.cK)/3}}),$author$project$Filters$applyWeightedAverageFilter=F4(function(filteredLoop,filterBias,loopiness,fixedFirst){var start=filteredLoop.a,finish=filteredLoop.b,withinRange=A2($elm$core$Basics$composeR,$elm$core$Array$fromList,A2($elm$core$Basics$composeR,A2($elm$core$Array$slice,start+1,finish),$elm$core$Array$toList)),fixedLast=($elm$core$List$length(fixedFirst),_Utils_eq(loopiness,$author$project$Loop$IsALoop)?A2($elm$core$List$take,1,A2($elm$core$List$drop,1,$elm$core$List$reverse(fixedFirst))):A2($elm$core$List$take,1,$elm$core$List$reverse(fixedFirst))),filtered=_Utils_eq(loopiness,$author$project$Loop$IsALoop)?A2($elm$core$List$take,1,A2($elm$core$List$drop,1,fixedFirst)):A2($elm$core$List$take,1,fixedFirst),filteredLoop=(_Utils_ap(fixedFirst,filtered),A4($elm$core$List$map3,$author$project$Filters$weightedAverage(filterBias),_Utils_ap(fixedLast,fixedFirst),fixedFirst,_Utils_ap(A2($elm$core$List$drop,1,fixedFirst),filtered))),filtered=A4($elm$core$List$map3,$author$project$Filters$weightedAverage(filterBias),_Utils_ap(filtered,fixedFirst),fixedFirst,_Utils_ap(A2($elm$core$List$drop,1,fixedFirst),fixedLast)),fixedLast={a:A2($elm$core$List$take,start+1,fixedFirst),b:A2($elm$core$List$drop,finish,fixedFirst)},fixedFirst=fixedLast.a,fixedLast=fixedLast.b;return _Utils_eq(start,finish)&&_Utils_eq(loopiness,$author$project$Loop$IsALoop)?filteredLoop:_Utils_ap(fixedFirst,_Utils_ap(withinRange(filtered),fixedLast))}),$author$project$TrackPoint$interpolateSegment=F3(function(w,_v2,_v0){_v0={a:_v0.cK,b:_v0.cG,c:_v0.cA},_v2={a:_v2.cK,b:_v2.cG,c:_v2.cA},_v2={a:w*_v0.a+(1-w)*_v2.a,b:w*_v0.b+(1-w)*_v2.b,c:w*_v0.c+(1-w)*_v2.c};return{cA:_v2.c,kl:0,cG:_v2.b,cK:_v2.a}}),$author$project$TrackPoint$meanTrackPoint=F2(function(tp0,tp1){return{cA:(tp0.cA+tp1.cA)/2,kl:tp0.kl,cG:(tp0.cG+tp1.cG)/2,cK:(tp0.cK+tp1.cK)/2}}),$author$project$Spherical$range=F2(function(_v0,_v1){var lat1=_v0.a,x=_v1.a,y=x-lat1,x=(_v1.b-_v0.b)*$elm$core$Basics$cos((lat1+x)/2);return 6371e3*$elm$core$Basics$sqrt(x*x+y*y)}),$author$project$TrackPoint$trackPointSeparation=F2(function(tp1,tp2){return A2($author$project$Spherical$range,{a:tp1.cG,b:tp1.cK},{a:tp2.cG,b:tp2.cK})}),$author$project$AutoFix$chamfer=F3(function(tp0,secondTP,tp2){var t1t2Length=A2($author$project$TrackPoint$trackPointSeparation,secondTP,tp2),t0t2Length=A2($author$project$TrackPoint$trackPointSeparation,tp0,tp2),firstTP=A2($author$project$TrackPoint$trackPointSeparation,tp0,secondTP),cosineT1=(A2($elm$core$Basics$pow,firstTP,2)+A2($elm$core$Basics$pow,t1t2Length,2)-A2($elm$core$Basics$pow,t0t2Length,2))/(2*firstTP*t1t2Length),commonAmountToSteal=A2($elm$core$Basics$min,firstTP/2,t1t2Length/2),firstTP=A3($author$project$TrackPoint$interpolateSegment,commonAmountToSteal/firstTP,secondTP,tp0),secondTP=A3($author$project$TrackPoint$interpolateSegment,commonAmountToSteal/t1t2Length,secondTP,tp2);return t0t2Length<2||0<_Utils_cmp(cosineT1,$elm$core$Basics$cos(1.5707963267948966))?_List_fromArray([tp0,A2($author$project$TrackPoint$meanTrackPoint,tp0,tp2),tp2]):_List_fromArray([tp0,firstTP,secondTP,tp2])}),$elm_community$list_extra$List$Extra$splitAt=F2(function(n,xs){return{a:A2($elm$core$List$take,n,xs),b:A2($elm$core$List$drop,n,xs)}}),$elm_community$list_extra$List$Extra$findIndex=F3(function(index,predicate,list){for(;;){if(!list.b)return $elm$core$Maybe$Nothing;var xs=list.b;if(predicate(list.a))return $elm$core$Maybe$Just(index);index=index+1,predicate=predicate,list=xs}})(0),$elm_community$list_extra$List$Extra$splitWhen=F2(function(predicate,list){return A2($elm$core$Maybe$map,function(i){return A2($elm_community$list_extra$List$Extra$splitAt,i,list)},A2($elm_community$list_extra$List$Extra$findIndex,predicate,list))}),$author$project$AutoFix$autoFixInternal=F3(function(inputs,nodesToFix,diffList){for(;;){if(!nodesToFix.b)return $elm$core$List$concat($elm$core$List$reverse(A2($elm$core$List$cons,inputs,diffList)));var _v5,n=nodesToFix.a,nRest=nodesToFix.b,skipped=A2($elm_community$list_extra$List$Extra$splitWhen,function(t){return _Utils_eq(t.kl,n-1)},inputs);diffList=skipped.$?(inputs=inputs,nodesToFix=nRest,diffList):(skipped=(_v5=skipped.a).a,(_v5=A2($elm_community$list_extra$List$Extra$splitAt,3,_v5.b)).a.b&&_v5.a.b.b&&_v5.a.b.b.b&&!_v5.a.b.b.b.b?(inputs=_v5.b,nodesToFix=nRest,A2($elm$core$List$cons,A3($author$project$AutoFix$chamfer,(_v5=_v5.a).a,(_v5=_v5.b).a,_v5.b.a),A2($elm$core$List$cons,skipped,diffList))):(inputs=inputs,nodesToFix=nRest,diffList))}}),$author$project$AutoFix$autoFix=F2(function(tps,nodesToFix){return $author$project$TrackPoint$reindexTrackpoints(A3($author$project$AutoFix$autoFixInternal,tps,nodesToFix,_List_Nil))}),$ianmackenzie$elm_units$Quantity$max=F2(function(_v0,_v1){return A2($elm$core$Basics$max,_v0,_v1)}),$ianmackenzie$elm_units$Quantity$multiplyBy=F2(function(scale,_v0){return scale*_v0}),$ianmackenzie$elm_units$Quantity$ratio=F2(function(_v0,_v1){return _v0/_v1}),$ianmackenzie$elm_geometry$CubicSpline3d$numApproximationSegments=F2(function(u2,v2){return function(maxSecondDerivativeMagnitude){var computedNumSegments=maxSecondDerivativeMagnitude.hk,maxSecondDerivativeMagnitude=maxSecondDerivativeMagnitude.kK;if(A2($ianmackenzie$elm_units$Quantity$greaterThan,0,computedNumSegments)){computedNumSegments=$elm$core$Basics$sqrt(A2($ianmackenzie$elm_units$Quantity$ratio,maxSecondDerivativeMagnitude,A2($ianmackenzie$elm_units$Quantity$multiplyBy,8,computedNumSegments)));return A2($elm$core$Basics$max,$elm$core$Basics$ceiling(computedNumSegments),1)}return 0}({hk:u2,kK:(p2=$ianmackenzie$elm_geometry$CubicSpline3d$fourthControlPoint(p1=v2),u2=$ianmackenzie$elm_geometry$CubicSpline3d$thirdControlPoint(p1),v2=A2($ianmackenzie$elm_geometry$Vector3d$from,u2,p2),p2=$ianmackenzie$elm_geometry$CubicSpline3d$secondControlPoint(p1),v2=A2($ianmackenzie$elm_geometry$Vector3d$minus,u2=A2($ianmackenzie$elm_geometry$Vector3d$from,p2,u2),v2),p1=$ianmackenzie$elm_geometry$CubicSpline3d$firstControlPoint(p1),A2($ianmackenzie$elm_units$Quantity$multiplyBy,6,A2($ianmackenzie$elm_units$Quantity$max,$ianmackenzie$elm_geometry$Vector3d$length(A2($ianmackenzie$elm_geometry$Vector3d$minus,A2($ianmackenzie$elm_geometry$Vector3d$from,p1,p2),u2)),$ianmackenzie$elm_geometry$Vector3d$length(v2))))});var p1,p2}),$ianmackenzie$elm_geometry$CubicSpline3d$pointOn=F2(function(p1,parameterValue){var p2=$ianmackenzie$elm_geometry$CubicSpline3d$fourthControlPoint(p1),q2=$ianmackenzie$elm_geometry$CubicSpline3d$thirdControlPoint(p1),r2=A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,q2,p2,parameterValue),p2=$ianmackenzie$elm_geometry$CubicSpline3d$secondControlPoint(p1),q2=A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,p2,q2,parameterValue),r2=A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,q2,r2,parameterValue),p1=$ianmackenzie$elm_geometry$CubicSpline3d$firstControlPoint(p1);return A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,p1,p2,parameterValue),q2,parameterValue),r2,parameterValue)}),$ianmackenzie$elm_1d_parameter$Parameter1d$range=F5(function(startIndex,index,divisor,_function,accumulated){for(;;){var newAccumulated=_function(index/divisor),newAccumulated=A2($elm$core$List$cons,newAccumulated,accumulated);if(_Utils_eq(index,startIndex))return newAccumulated;startIndex=startIndex,index=index-1,divisor=divisor,_function=_function,accumulated=newAccumulated}}),$ianmackenzie$elm_1d_parameter$Parameter1d$steps=F2(function(n,_function){return n<1?_List_Nil:A5($ianmackenzie$elm_1d_parameter$Parameter1d$range,0,n,n,_function,_List_Nil)}),$ianmackenzie$elm_geometry$CubicSpline3d$segments=F2(function(numSegments,spline){return A2($ianmackenzie$elm_1d_parameter$Parameter1d$steps,numSegments,$ianmackenzie$elm_geometry$CubicSpline3d$pointOn(spline))}),$ianmackenzie$elm_geometry$CubicSpline3d$approximate=F2(function(maxError,spline){return A2($ianmackenzie$elm_geometry$CubicSpline3d$segments,A2($ianmackenzie$elm_geometry$CubicSpline3d$numApproximationSegments,maxError,spline),spline)}),$ianmackenzie$elm_geometry$LineSegment3d$from=F2(function(givenStartPoint,givenEndPoint){return{a:givenStartPoint,b:givenEndPoint}}),$ianmackenzie$elm_geometry$Triangle3d$from=F3(function(p1,p2,p3){return{a:p1,b:p2,c:p3}}),$ianmackenzie$elm_geometry$CubicSpline3d$fromControlPoints=F4(function(p1,p2,p3,p4){return{b_:p1,b0:p4,cS:p2,cZ:p3}}),$ianmackenzie$elm_geometry$Vector3d$scaleBy=F2(function(k,_v0){return{U:k*_v0.U,V:k*_v0.V,iS:k*_v0.iS}}),$author$project$Filters$bezierSplines=F4(function(isLoop,tension,tolerance,points){var makeSpline=F2(function(_v6,_v7){return A4($ianmackenzie$elm_geometry$CubicSpline3d$fromControlPoints,_v6.b,_v6.c,_v7.a,_v7.b)}),lastPoint=A2($elm$core$List$take,1,isLoop?A2($elm$core$List$drop,1,$elm$core$List$reverse(points)):$elm$core$List$reverse(points)),shiftedBack=A2($elm$core$List$take,1,isLoop?A2($elm$core$List$drop,1,points):points),asSegments=(asSegments=_Utils_ap(A2($elm$core$List$drop,1,points),isLoop?shiftedBack:lastPoint),shiftedBack=_Utils_ap(isLoop?lastPoint:shiftedBack,points),A4($elm$core$List$map3,$ianmackenzie$elm_geometry$Triangle3d$from,shiftedBack,points,asSegments)),asSegments=A2($elm$core$List$map,function(b){var _v5=(_v3=$ianmackenzie$elm_geometry$Triangle3d$vertices(entryEdge=b),_v2=_v3.a,entryEdge=_v3.b,_v3=_v3.c,{a:A2($ianmackenzie$elm_geometry$LineSegment3d$from,_v2,entryEdge),b:A2($ianmackenzie$elm_geometry$LineSegment3d$from,entryEdge,_v3),c:A2($ianmackenzie$elm_geometry$LineSegment3d$from,_v3,_v2)}),entryEdge=_v5.a,_v3=_v5.b,_v2=_v5.c,_v5=A2($ianmackenzie$elm_geometry$Vector3d$from,$ianmackenzie$elm_geometry$LineSegment3d$startPoint(_v3),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(_v3)),_v3={a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$LineSegment3d$length(entryEdge)),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$LineSegment3d$length(_v3)),c:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$LineSegment3d$length(_v2))},_v2=_v3.a,_v3=_v3.c,_v2={a:-1*tension*_v2/(_v2+_v3),b:tension*_v3/(_v2+_v3)},_v3=_v2.b,_v3={a:A2($ianmackenzie$elm_geometry$Vector3d$scaleBy,_v2.a,_v5),b:A2($ianmackenzie$elm_geometry$Vector3d$scaleBy,_v3,_v5)},_v5=_v3.b,b=$ianmackenzie$elm_geometry$Triangle3d$vertices(b).b,_v5={a:A2($ianmackenzie$elm_geometry$Point3d$translateBy,_v3.a,b),b:A2($ianmackenzie$elm_geometry$Point3d$translateBy,_v5,b)};return{a:_v5.a,b:b,c:_v5.b}},asSegments),asSegments=A3($elm$core$List$map2,makeSpline,asSegments,A2($elm$core$List$drop,1,asSegments)),asSegments=A2($elm$core$List$map,$ianmackenzie$elm_geometry$CubicSpline3d$approximate(tolerance),asSegments),asSegments=A2($elm$core$List$concatMap,$ianmackenzie$elm_geometry$Polyline3d$segments,asSegments);return _Utils_ap(A2($elm$core$List$map,$ianmackenzie$elm_geometry$LineSegment3d$startPoint,A2($elm$core$List$take,1,asSegments)),A2($elm$core$List$map,$ianmackenzie$elm_geometry$LineSegment3d$endPoint,asSegments))}),$author$project$Main$changeLoopStart=F2(function(n,model){var undoMessage="move start point to "+$elm$core$String$fromInt(n),remainingTPs=A2($elm$core$List$drop,n,model.iy),newTPs=_Utils_ap(remainingTPs,_Utils_ap(A2($elm$core$List$take,n,model.iy),A2($elm$core$List$take,1,remainingTPs)));return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{a:0,iy:$author$project$TrackPoint$reindexTrackpoints(newTPs)})}),$ianmackenzie$elm_geometry$Point2d$interpolateFrom=F3(function(_v0,_v1,t){return.5<t?{U:_v1.U+(1-t)*(_v0.U-_v1.U),V:_v1.V+(1-t)*(_v0.V-_v1.V)}:{U:_v0.U+t*(_v1.U-_v0.U),V:_v0.V+t*(_v1.V-_v0.V)}}),$ianmackenzie$elm_geometry$Point2d$meters=F2(function(x,y){return{U:x,V:y}}),$ianmackenzie$elm_geometry$Point3d$fromTuple=F2(function(toQuantity,_v0){var y=_v0.b,z=_v0.c;return A3($ianmackenzie$elm_geometry$Point3d$xyz,toQuantity(_v0.a),toQuantity(y),toQuantity(z))}),$ianmackenzie$elm_geometry$Point3d$toTuple=F2(function(fromQuantity,point){return{a:fromQuantity($ianmackenzie$elm_geometry$Point3d$xCoordinate(point)),b:fromQuantity($ianmackenzie$elm_geometry$Point3d$yCoordinate(point)),c:fromQuantity($ianmackenzie$elm_geometry$Point3d$zCoordinate(point))}}),$author$project$NodesAndRoads$deriveNodes=F2(function(_v0,tps){var _v0=A2($ianmackenzie$elm_geometry$Point3d$toTuple,$ianmackenzie$elm_units$Length$inMeters,$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(_v0)),midLon=_v0.a,midLat=_v0.b;return A2($elm$core$List$map,function(tp){var z=tp.cA,y=78846.81*(tp.cG-midLat),x=78846.81*(tp.cK-midLon)*$elm$core$Basics$cos(3.141592653589793*tp.cG/180);return{gd:$elm$core$Maybe$Nothing,aq:A2($ianmackenzie$elm_geometry$Point3d$fromTuple,$ianmackenzie$elm_units$Length$meters,{a:x,b:y,c:z}),b:tp}},tps)}),$elm$core$Basics$atan2=$mdgriffith$elm_ui$Element$Input$darkGrey,$author$project$Spherical$findBearingToTarget=F2(function(lon2,y){var lat1=lon2.a,x=lon2.b,lat2=y.a,lon2=y.b,y=$elm$core$Basics$sin(lon2-x)*$elm$core$Basics$cos(lat2),x=$elm$core$Basics$cos(lat1)*$elm$core$Basics$sin(lat2)-$elm$core$Basics$sin(lat1)*$elm$core$Basics$cos(lat2)*$elm$core$Basics$cos(lon2-x);return A2($elm$core$Basics$atan2,y,x)}),$ianmackenzie$elm_geometry$BoundingBox3d$hullHelp=F7(function(currentMinX,currentMaxX,currentMinY,currentMaxY,currentMinZ,currentMaxZ,points){for(;;){if(!points.b)return{hl:currentMaxX,hm:currentMaxY,kL:currentMaxZ,hr:currentMinX,hs:currentMinY,kN:currentMinZ};var z=points.a,rest=points.b,x=z.U,y=z.V,z=z.iS;currentMinX=A2($elm$core$Basics$min,x,currentMinX),currentMaxX=A2($elm$core$Basics$max,x,currentMaxX),currentMinY=A2($elm$core$Basics$min,y,currentMinY),currentMaxY=A2($elm$core$Basics$max,y,currentMaxY),currentMinZ=A2($elm$core$Basics$min,z,currentMinZ),currentMaxZ=A2($elm$core$Basics$max,z,currentMaxZ),points=rest}}),$ianmackenzie$elm_geometry$BoundingBox3d$hull=F2(function(z,rest){var x=z.U,y=z.V,z=z.iS;return A7($ianmackenzie$elm_geometry$BoundingBox3d$hullHelp,x,x,y,y,z,z,rest)}),$ianmackenzie$elm_geometry$Point3d$meters=F3(function(x,y,z){return{U:x,V:y,iS:z}}),$elm$core$List$maybeCons=F3(function(f,_v0,xs){_v0=f(_v0);return _v0.$?xs:A2($elm$core$List$cons,_v0.a,xs)}),$elm$core$List$filterMap=F2(function(f,xs){return A3($elm$core$List$foldr,$elm$core$List$maybeCons(f),_List_Nil,xs)}),$author$project$Main$trackPointGap=F2(function(tp2,tp1){tp2={a:tp2,b:tp1};if(tp2.a.$||tp2.b.$)return $elm$core$Maybe$Nothing;tp1=tp2.a.a,tp2=tp2.b.a;return $elm$core$Maybe$Just({a:A2($author$project$Spherical$range,{a:3.141592653589793*tp1.cK/180,b:3.141592653589793*tp1.cG/180},{a:3.141592653589793*tp2.cK/180,b:3.141592653589793*tp2.cG/180}),b:$elm$core$Basics$abs(tp1.cA-tp2.cA)})}),$avh4$elm_color$Color$RgbaSpace=F4(function(a,b,c,d){return{$:0,a:a,b:b,c:c,d:d}}),$avh4$elm_color$Color$lightRed=A4($avh4$elm_color$Color$RgbaSpace,239/255,41/255,41/255,1),$ianmackenzie$elm_3d_scene$Scene3d$Types$LambertianMaterial=F3(function(a,b,c){return{$:2,a:a,b:b,c:c}}),$elm_explorations$linear_algebra$Math$Vector3$vec3=$elm$svg$Svg$line,$ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyNode={$:0},$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty=$ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyNode,$ianmackenzie$elm_3d_scene$Scene3d$Entity$collectNodes=F2(function(drawables,accumulated){for(;;){if(!drawables.b)return accumulated;var node=drawables.a;drawables=drawables.b,accumulated=A2($elm$core$List$cons,node,accumulated)}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode=F2(function(a,b){return{$:1,a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$colorTextureFragment={src:"\n        precision mediump float;\n        \n        uniform mediump sampler2D colorTexture;\n        \n        varying mediump vec2 interpolatedUv;\n        \n        void main () {\n            gl_FragColor = texture2D(colorTexture, interpolatedUv);\n        }\n    ",attributes:{},uniforms:{colorTexture:"dl"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantFragment={src:"\n        precision lowp float;\n        \n        uniform lowp vec3 constantColor;\n        \n        void main () {\n            gl_FragColor = vec4(constantColor, 1.0);\n        }\n    ",attributes:{},uniforms:{constantColor:"bs"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveFragment={src:"\n        precision mediump float;\n        \n        uniform mediump vec3 emissiveColor;\n        uniform highp mat4 sceneProperties;\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main () {\n            gl_FragColor = toSrgb(emissiveColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{emissiveColor:"bX",sceneProperties:"k"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveTextureFragment={src:"\n        precision mediump float;\n        \n        uniform mediump sampler2D colorTexture;\n        uniform mediump float backlight;\n        uniform highp mat4 sceneProperties;\n        \n        varying mediump vec2 interpolatedUv;\n        \n        float inverseGamma(float u) {\n            if (u <= 0.04045) {\n                return clamp(u / 12.92, 0.0, 1.0);\n            } else {\n                return clamp(pow((u + 0.055) / 1.055, 2.4), 0.0, 1.0);\n            }\n        }\n        \n        vec3 fromSrgb(vec3 srgbColor) {\n            return vec3(\n                inverseGamma(srgbColor.r),\n                inverseGamma(srgbColor.g),\n                inverseGamma(srgbColor.b)\n            );\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main () {\n            vec3 emissiveColor = fromSrgb(texture2D(colorTexture, interpolatedUv).rgb) * backlight;\n            gl_FragColor = toSrgb(emissiveColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{backlight:"es",colorTexture:"dl",sceneProperties:"k"}},$elm_explorations$webgl$WebGL$Internal$enableOption=F2(function(ctx,option){switch(option.$){case 0:return A2(_WebGL_enableAlpha,ctx,option);case 1:return A2(_WebGL_enableDepth,ctx,option);case 2:return A2(_WebGL_enableStencil,ctx,option);case 3:return A2(_WebGL_enableAntialias,ctx,option);case 4:return A2(_WebGL_enableClearColor,ctx,option);default:return A2(_WebGL_enablePreserveDrawingBuffer,ctx,option)}}),$elm_explorations$webgl$WebGL$Internal$enableSetting=F2(function(cache,setting){switch(setting.$){case 0:return A2(_WebGL_enableBlend,cache,setting);case 1:return A2(_WebGL_enableDepthTest,cache,setting);case 2:return A2(_WebGL_enableStencilTest,cache,setting);case 3:return A2(_WebGL_enableScissor,cache,setting);case 4:return A2(_WebGL_enableColorMask,cache,setting);case 5:return A2(_WebGL_enableCullFace,cache,setting);case 6:return A2(_WebGL_enablePolygonOffset,cache,setting);case 7:return A2(_WebGL_enableSampleCoverage,cache,setting);default:return function(cache){var sampleAlphaToCoverage=cache.sampleAlphaToCoverage;sampleAlphaToCoverage.toggle=cache.toggle,sampleAlphaToCoverage.enabled||(cache.gl.enable(cache.gl.SAMPLE_ALPHA_TO_COVERAGE),sampleAlphaToCoverage.enabled=!0)}(cache)}}),$elm_explorations$webgl$WebGL$entityWith=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianFragment={src:"\n        precision highp float;\n        \n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 lights12;\n        uniform highp mat4 lights34;\n        uniform highp mat4 lights56;\n        uniform highp mat4 lights78;\n        uniform lowp vec4 enabledLights;\n        uniform lowp vec3 materialColor;\n        uniform highp mat4 viewMatrix;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        const lowp float kPerspectiveProjection = 0.0;\n        const lowp float kOrthographicProjection = 1.0;\n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const highp float kPi = 3.14159265359;\n        const lowp float kDisabledLight = 0.0;\n        const lowp float kSoftLighting = 3.0;\n        \n        float getNormalSign() {\n            return 2.0 * float(gl_FrontFacing) - 1.0;\n        }\n        \n        vec3 getDirectionToCamera(vec3 surfacePosition, mat4 sceneProperties) {\n            float projectionType = sceneProperties[1].w;\n            if (projectionType == kPerspectiveProjection) {\n                vec3 cameraPoint = sceneProperties[1].xyz;\n                return normalize(cameraPoint - surfacePosition);\n            } else if (projectionType == kOrthographicProjection) {\n                return sceneProperties[1].xyz;\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        void getDirectionToLightAndNormalIlluminance(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            out vec3 directionToLight,\n            out vec3 normalIlluminance\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                directionToLight = xyz_type.xyz;\n                normalIlluminance = rgb_parameter.rgb;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                vec3 displacement = lightPosition - surfacePosition;\n                float distance = length(displacement);\n                directionToLight = displacement / distance;\n                normalIlluminance = rgb_parameter.rgb / (4.0 * kPi * distance * distance);\n            }\n        }\n        \n        float positiveDotProduct(vec3 v1, vec3 v2) {\n            return clamp(dot(v1, v2), 0.0, 1.0);\n        }\n        \n        vec3 softLightingLuminance(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localLightDirection\n        ) {\n            float sinElevation = dot(localLightDirection, localUpDirection);\n            float t = (sinElevation + 1.0) / 2.0;\n            return aboveLuminance * t + belowLuminance * (1.0 - t);\n        }\n        \n        vec3 lambertianLight(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 materialColor,\n            vec4 xyz_type,\n            vec4 rgb_parameter\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDisabledLight) {\n                return vec3(0.0, 0.0, 0.0);\n            } else if (lightType == kSoftLighting) {\n                vec3 upDirection = xyz_type.xyz;\n                vec3 aboveLuminance = rgb_parameter.rgb;\n                vec3 belowLuminance = rgb_parameter.a * aboveLuminance;\n                vec3 luminance = softLightingLuminance(aboveLuminance, belowLuminance, upDirection, surfaceNormal);\n                return luminance * materialColor;\n            }\n        \n            vec3 directionToLight = vec3(0.0, 0.0, 0.0);\n            vec3 normalIlluminance = vec3(0.0, 0.0, 0.0);\n            getDirectionToLightAndNormalIlluminance(\n                xyz_type,\n                rgb_parameter,\n                surfacePosition,\n                directionToLight,\n                normalIlluminance\n            );\n        \n            float dotNL = positiveDotProduct(directionToLight, surfaceNormal);\n            return (normalIlluminance * dotNL) * (materialColor / kPi);\n        }\n        \n        vec3 lambertianLighting(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 materialColor,\n            mat4 lights12,\n            mat4 lights34,\n            mat4 lights56,\n            mat4 lights78,\n            vec4 enabledLights\n        ) {\n            vec3 litColor1 = enabledLights[0] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights12[0], lights12[1]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor2 = enabledLights[1] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights12[2], lights12[3]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor3 = enabledLights[2] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights34[0], lights34[1]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor4 = enabledLights[3] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights34[2], lights34[3]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor5 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights56[0], lights56[1]);\n            vec3 litColor6 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights56[2], lights56[3]);\n            vec3 litColor7 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights78[0], lights78[1]);\n            vec3 litColor8 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights78[2], lights78[3]);\n            return litColor1 + litColor2 + litColor3 + litColor4 + litColor5 + litColor6 + litColor7 + litColor8;\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main() {\n            vec3 normalDirection = normalize(interpolatedNormal) * getNormalSign();\n            vec3 directionToCamera = getDirectionToCamera(interpolatedPosition, sceneProperties);\n        \n            vec3 linearColor = lambertianLighting(\n                interpolatedPosition,\n                normalDirection,\n                materialColor,\n                lights12,\n                lights34,\n                lights56,\n                lights78,\n                enabledLights\n            );\n        \n            gl_FragColor = toSrgb(linearColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{enabledLights:"an",lights12:"cI",lights34:"dH",lights56:"dI",lights78:"dJ",materialColor:"e$",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianTextureFragment={src:"\n        precision highp float;\n        \n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 lights12;\n        uniform highp mat4 lights34;\n        uniform highp mat4 lights56;\n        uniform highp mat4 lights78;\n        uniform lowp vec4 enabledLights;\n        uniform mediump sampler2D materialColorTexture;\n        uniform mediump sampler2D normalMapTexture;\n        uniform lowp float useNormalMap;\n        uniform highp mat4 viewMatrix;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        const lowp float kPerspectiveProjection = 0.0;\n        const lowp float kOrthographicProjection = 1.0;\n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const highp float kPi = 3.14159265359;\n        const lowp float kDisabledLight = 0.0;\n        const lowp float kSoftLighting = 3.0;\n        \n        vec3 getLocalNormal(sampler2D normalMap, float useNormalMap, vec2 uv) {\n            vec3 rgb = useNormalMap * texture2D(normalMap, uv).rgb + (1.0 - useNormalMap) * vec3(0.5, 0.5, 1.0);\n            float x = 2.0 * (rgb.r - 0.5);\n            float y = 2.0 * (rgb.g - 0.5);\n            float z = 2.0 * (rgb.b - 0.5);\n            return normalize(vec3(-x, -y, z));\n        }\n        \n        float getNormalSign() {\n            return 2.0 * float(gl_FrontFacing) - 1.0;\n        }\n        \n        vec3 getMappedNormal(vec3 normal, vec3 tangent, float normalSign, vec3 localNormal) {\n            vec3 bitangent = cross(normal, tangent) * normalSign;\n            return normalize(localNormal.x * tangent + localNormal.y * bitangent + localNormal.z * normal);\n        }\n        \n        vec3 getDirectionToCamera(vec3 surfacePosition, mat4 sceneProperties) {\n            float projectionType = sceneProperties[1].w;\n            if (projectionType == kPerspectiveProjection) {\n                vec3 cameraPoint = sceneProperties[1].xyz;\n                return normalize(cameraPoint - surfacePosition);\n            } else if (projectionType == kOrthographicProjection) {\n                return sceneProperties[1].xyz;\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        void getDirectionToLightAndNormalIlluminance(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            out vec3 directionToLight,\n            out vec3 normalIlluminance\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                directionToLight = xyz_type.xyz;\n                normalIlluminance = rgb_parameter.rgb;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                vec3 displacement = lightPosition - surfacePosition;\n                float distance = length(displacement);\n                directionToLight = displacement / distance;\n                normalIlluminance = rgb_parameter.rgb / (4.0 * kPi * distance * distance);\n            }\n        }\n        \n        float positiveDotProduct(vec3 v1, vec3 v2) {\n            return clamp(dot(v1, v2), 0.0, 1.0);\n        }\n        \n        vec3 softLightingLuminance(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localLightDirection\n        ) {\n            float sinElevation = dot(localLightDirection, localUpDirection);\n            float t = (sinElevation + 1.0) / 2.0;\n            return aboveLuminance * t + belowLuminance * (1.0 - t);\n        }\n        \n        vec3 lambertianLight(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 materialColor,\n            vec4 xyz_type,\n            vec4 rgb_parameter\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDisabledLight) {\n                return vec3(0.0, 0.0, 0.0);\n            } else if (lightType == kSoftLighting) {\n                vec3 upDirection = xyz_type.xyz;\n                vec3 aboveLuminance = rgb_parameter.rgb;\n                vec3 belowLuminance = rgb_parameter.a * aboveLuminance;\n                vec3 luminance = softLightingLuminance(aboveLuminance, belowLuminance, upDirection, surfaceNormal);\n                return luminance * materialColor;\n            }\n        \n            vec3 directionToLight = vec3(0.0, 0.0, 0.0);\n            vec3 normalIlluminance = vec3(0.0, 0.0, 0.0);\n            getDirectionToLightAndNormalIlluminance(\n                xyz_type,\n                rgb_parameter,\n                surfacePosition,\n                directionToLight,\n                normalIlluminance\n            );\n        \n            float dotNL = positiveDotProduct(directionToLight, surfaceNormal);\n            return (normalIlluminance * dotNL) * (materialColor / kPi);\n        }\n        \n        vec3 lambertianLighting(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 materialColor,\n            mat4 lights12,\n            mat4 lights34,\n            mat4 lights56,\n            mat4 lights78,\n            vec4 enabledLights\n        ) {\n            vec3 litColor1 = enabledLights[0] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights12[0], lights12[1]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor2 = enabledLights[1] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights12[2], lights12[3]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor3 = enabledLights[2] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights34[0], lights34[1]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor4 = enabledLights[3] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights34[2], lights34[3]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor5 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights56[0], lights56[1]);\n            vec3 litColor6 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights56[2], lights56[3]);\n            vec3 litColor7 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights78[0], lights78[1]);\n            vec3 litColor8 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights78[2], lights78[3]);\n            return litColor1 + litColor2 + litColor3 + litColor4 + litColor5 + litColor6 + litColor7 + litColor8;\n        }\n        \n        float inverseGamma(float u) {\n            if (u <= 0.04045) {\n                return clamp(u / 12.92, 0.0, 1.0);\n            } else {\n                return clamp(pow((u + 0.055) / 1.055, 2.4), 0.0, 1.0);\n            }\n        }\n        \n        vec3 fromSrgb(vec3 srgbColor) {\n            return vec3(\n                inverseGamma(srgbColor.r),\n                inverseGamma(srgbColor.g),\n                inverseGamma(srgbColor.b)\n            );\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main() {\n            vec3 localNormal = getLocalNormal(normalMapTexture, useNormalMap, interpolatedUv);\n            float normalSign = getNormalSign();\n            vec3 originalNormal = normalize(interpolatedNormal) * normalSign;\n            vec3 normalDirection = getMappedNormal(originalNormal, interpolatedTangent, normalSign, localNormal);\n            vec3 directionToCamera = getDirectionToCamera(interpolatedPosition, sceneProperties);\n            vec3 materialColor = fromSrgb(texture2D(materialColorTexture, interpolatedUv).rgb);\n        \n            vec3 linearColor = lambertianLighting(\n                interpolatedPosition,\n                normalDirection,\n                materialColor,\n                lights12,\n                lights34,\n                lights56,\n                lights78,\n                enabledLights\n            );\n        \n            gl_FragColor = toSrgb(linearColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{enabledLights:"an",lights12:"cI",lights34:"dH",lights56:"dI",lights78:"dJ",materialColorTexture:"e0",normalMapTexture:"ca",sceneProperties:"k",useNormalMap:"cm",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$cullBackFaceSetting=($mdgriffith$elm_ui$Internal$Style$classes_lV=function(_v0){return{$:5,a:_v0}})(1029),$ianmackenzie$elm_3d_scene$Scene3d$Entity$cullFrontFaceSetting=$mdgriffith$elm_ui$Internal$Style$classes_lV(1028),$ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings=F3(function(isRightHanded,backFaceSetting,settings){return 1===backFaceSetting?A2($elm$core$List$cons,isRightHanded?$ianmackenzie$elm_3d_scene$Scene3d$Entity$cullBackFaceSetting:$ianmackenzie$elm_3d_scene$Scene3d$Entity$cullFrontFaceSetting,settings):settings}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalFragment={src:"\n        precision highp float;\n        \n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 lights12;\n        uniform highp mat4 lights34;\n        uniform highp mat4 lights56;\n        uniform highp mat4 lights78;\n        uniform lowp vec4 enabledLights;\n        uniform lowp vec3 baseColor;\n        uniform lowp float roughness;\n        uniform lowp float metallic;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        const lowp float kPerspectiveProjection = 0.0;\n        const lowp float kOrthographicProjection = 1.0;\n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const highp float kPi = 3.14159265359;\n        const mediump float kMediumpFloatMax = 65504.0;\n        const lowp float kDisabledLight = 0.0;\n        const lowp float kSoftLighting = 3.0;\n        \n        float getNormalSign() {\n            return 2.0 * float(gl_FrontFacing) - 1.0;\n        }\n        \n        vec3 getDirectionToCamera(vec3 surfacePosition, mat4 sceneProperties) {\n            float projectionType = sceneProperties[1].w;\n            if (projectionType == kPerspectiveProjection) {\n                vec3 cameraPoint = sceneProperties[1].xyz;\n                return normalize(cameraPoint - surfacePosition);\n            } else if (projectionType == kOrthographicProjection) {\n                return sceneProperties[1].xyz;\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        void getDirectionToLightAndNormalIlluminance(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            out vec3 directionToLight,\n            out vec3 normalIlluminance\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                directionToLight = xyz_type.xyz;\n                normalIlluminance = rgb_parameter.rgb;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                vec3 displacement = lightPosition - surfacePosition;\n                float distance = length(displacement);\n                directionToLight = displacement / distance;\n                normalIlluminance = rgb_parameter.rgb / (4.0 * kPi * distance * distance);\n            }\n        }\n        \n        float positiveDotProduct(vec3 v1, vec3 v2) {\n            return clamp(dot(v1, v2), 0.0, 1.0);\n        }\n        \n        // Adapted from https://google.github.io/filament/Filament.md.html#materialsystem/specularbrdf/normaldistributionfunction(speculard)\n        float specularD(float alpha, float dotNH, vec3 normalDirection, vec3 halfDirection) {\n            vec3 crossNH = cross(normalDirection, halfDirection);\n            float a = dotNH * alpha;\n            float k = alpha / (dot(crossNH, crossNH) + a * a);\n            float d = k * k * (1.0 / kPi);\n            return min(d, kMediumpFloatMax);\n        }\n        \n        float safeQuotient(float numerator, float denominator) {\n            if (denominator == 0.0) {\n                return 0.0;\n            } else {\n                return numerator / denominator;\n            }\n        }\n        \n        float g1(float dotNV, float alphaSquared) {\n            return safeQuotient(2.0 * dotNV, dotNV + sqrt(alphaSquared + (1.0 - alphaSquared) * dotNV * dotNV));\n        }\n        \n        float specularG(float dotNL, float dotNV, float alphaSquared) {\n            return g1(dotNV, alphaSquared) * g1(dotNL, alphaSquared);\n        }\n        \n        vec3 fresnelColor(vec3 specularBaseColor, float dotVH) {\n            vec3 one = vec3(1.0, 1.0, 1.0);\n            float scale = exp2((-5.55473 * dotVH - 6.98316) * dotVH);\n            return specularBaseColor + (one - specularBaseColor) * scale;\n        }\n        \n        vec3 brdf(vec3 normalDirection, vec3 directionToCamera, vec3 directionToLight, float alpha, float dotNV, float dotNL, vec3 specularBaseColor, vec3 normalIlluminance) {\n            vec3 halfDirection = normalize(directionToCamera + directionToLight);\n            float dotVH = positiveDotProduct(directionToCamera, halfDirection);\n            float dotNH = positiveDotProduct(normalDirection, halfDirection);\n            float dotNHSquared = dotNH * dotNH;\n        \n            float d = specularD(alpha, dotNH, normalDirection, halfDirection);\n            float g = specularG(dotNL, dotNV, alpha * alpha);\n            vec3 f = fresnelColor(specularBaseColor, dotVH);\n            return safeQuotient(d * g, 4.0 * dotNL * dotNV) * f;\n        }\n        \n        vec3 sampleFacetNormal(vec3 vH, vec3 vT1, vec3 vT2, float s, float alpha) {\n            float t2 = (1.0 - s);\n            vec3 vNh = t2 * vT2 + sqrt(max(0.0, 1.0 - t2 * t2)) * vH;\n            return normalize(vec3(alpha * vNh.x, alpha * vNh.y, max(0.0, vNh.z)));\n        }\n        \n        vec3 softLightingLuminance(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localLightDirection\n        ) {\n            float sinElevation = dot(localLightDirection, localUpDirection);\n            float t = (sinElevation + 1.0) / 2.0;\n            return aboveLuminance * t + belowLuminance * (1.0 - t);\n        }\n        \n        vec3 softLightingSpecularSample(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localViewDirection,\n            vec3 localLightDirection,\n            vec3 localHalfDirection,\n            float alphaSquared,\n            vec3 specularBaseColor\n        ) {\n            vec3 luminance = softLightingLuminance(aboveLuminance, belowLuminance, localUpDirection, localLightDirection);\n            float dotVH = positiveDotProduct(localViewDirection, localHalfDirection);\n            float dotNL = localLightDirection.z;\n            return luminance * (fresnelColor(specularBaseColor, dotVH) * g1(dotNL, alphaSquared));\n        }\n        \n        vec3 softLighting(\n            vec3 normalDirection,\n            vec3 diffuseBaseColor,\n            vec3 specularBaseColor,\n            float alpha,\n            vec3 directionToCamera,\n            vec3 viewY,\n            vec4 xyz_type,\n            vec4 rgb_parameter\n        ) {\n            float alphaSquared = alpha * alpha;\n            vec3 upDirection = xyz_type.xyz;\n            vec3 luminanceAbove = rgb_parameter.rgb;\n            vec3 luminanceBelow = rgb_parameter.a * luminanceAbove;\n            vec3 crossProduct = cross(normalDirection, directionToCamera);\n            float crossMagnitude = length(crossProduct);\n            vec3 xDirection = vec3(0.0, 0.0, 0.0);\n            vec3 yDirection = vec3(0.0, 0.0, 0.0);\n            if (crossMagnitude > 1.0e-6) {\n                yDirection = (1.0 / crossMagnitude) * crossProduct;\n                xDirection = cross(yDirection, normalDirection);\n            } else {\n                vec3 viewY = vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]);\n                xDirection = normalize(cross(viewY, normalDirection));\n                yDirection = cross(normalDirection, xDirection);\n            }\n            float localViewX = dot(directionToCamera, xDirection);\n            float localViewZ = dot(directionToCamera, normalDirection);\n            vec3 localViewDirection = vec3(localViewX, 0, localViewZ);\n            float localUpX = dot(upDirection, xDirection);\n            float localUpY = dot(upDirection, yDirection);\n            float localUpZ = dot(upDirection, normalDirection);\n            vec3 localUpDirection = vec3(localUpX, localUpY, localUpZ);\n        \n            vec3 vH = normalize(vec3(alpha * localViewX, 0.0, localViewZ));\n            vec3 vT1 = vec3(0.0, 1.0, 0.0);\n            vec3 vT2 = cross(vH, vT1);\n            float s = 0.5 * (1.0 + vH.z);\n            \n            vec3 localHalfDirection = sampleFacetNormal(vH, vT1, vT2, s, alpha);\n            vec3 localLightDirection = vec3(0.0, 0.0, 0.0);\n            \n            localLightDirection = -reflect(localViewDirection, localHalfDirection);\n            vec3 specular = softLightingSpecularSample(luminanceAbove, luminanceBelow, localUpDirection, localViewDirection, localLightDirection, localHalfDirection, alphaSquared, specularBaseColor);\n            \n            localLightDirection = vec3(0.000000, 0.000000, 1.000000);\n            vec3 diffuse = softLightingLuminance(luminanceAbove, luminanceBelow, localUpDirection, localLightDirection) * localLightDirection.z;\n            \n            return specular + diffuse * diffuseBaseColor;\n        }\n        \n        vec3 physicalLight(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            vec3 normalDirection,\n            vec3 directionToCamera,\n            vec3 viewY,\n            float dotNV,\n            vec3 diffuseBaseColor,\n            vec3 specularBaseColor,\n            float alpha\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDisabledLight) {\n                return vec3(0.0, 0.0, 0.0);\n            } else if (lightType == kSoftLighting) {\n                return softLighting(normalDirection, diffuseBaseColor, specularBaseColor, alpha, directionToCamera, viewY, xyz_type, rgb_parameter);\n            }\n        \n            vec3 directionToLight = vec3(0.0, 0.0, 0.0);\n            vec3 normalIlluminance = vec3(0.0, 0.0, 0.0);\n            getDirectionToLightAndNormalIlluminance(xyz_type, rgb_parameter, surfacePosition, directionToLight, normalIlluminance);\n        \n            float dotNL = positiveDotProduct(normalDirection, directionToLight);\n            vec3 specularColor = brdf(normalDirection, directionToCamera, directionToLight, alpha, dotNV, dotNL, specularBaseColor, normalIlluminance);\n            return (normalIlluminance * dotNL) * ((diffuseBaseColor / kPi) + specularColor);\n        }\n        \n        vec3 physicalLighting(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 baseColor,\n            vec3 directionToCamera,\n            mat4 viewMatrix,\n            float roughness,\n            float metallic,\n            mat4 lights12,\n            mat4 lights34,\n            mat4 lights56,\n            mat4 lights78,\n            vec4 enabledLights\n        ) {\n            float dotNV = positiveDotProduct(surfaceNormal, directionToCamera);\n            float alpha = roughness * roughness;\n            float nonmetallic = 1.0 - metallic;\n            vec3 diffuseBaseColor = nonmetallic * 0.96 * baseColor;\n            vec3 specularBaseColor = nonmetallic * 0.04 * vec3(1.0, 1.0, 1.0) + metallic * baseColor;\n            vec3 viewY = vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]);\n        \n            vec3 litColor1 = enabledLights[0] == 1.0 ? physicalLight(lights12[0], lights12[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor2 = enabledLights[1] == 1.0 ? physicalLight(lights12[2], lights12[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor3 = enabledLights[2] == 1.0 ? physicalLight(lights34[0], lights34[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor4 = enabledLights[3] == 1.0 ? physicalLight(lights34[2], lights34[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor5 = physicalLight(lights56[0], lights56[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor6 = physicalLight(lights56[2], lights56[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor7 = physicalLight(lights78[0], lights78[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor8 = physicalLight(lights78[2], lights78[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            return litColor1 + litColor2 + litColor3 + litColor4 + litColor5 + litColor6 + litColor7 + litColor8;\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main() {\n            vec3 normalDirection = normalize(interpolatedNormal) * getNormalSign();\n            vec3 directionToCamera = getDirectionToCamera(interpolatedPosition, sceneProperties);\n        \n            vec3 linearColor = physicalLighting(\n                interpolatedPosition,\n                normalDirection,\n                baseColor,\n                directionToCamera,\n                viewMatrix,\n                roughness,\n                metallic,\n                lights12,\n                lights34,\n                lights56,\n                lights78,\n                enabledLights\n            );\n        \n            gl_FragColor = toSrgb(linearColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{baseColor:"eu",enabledLights:"an",lights12:"cI",lights34:"dH",lights56:"dI",lights78:"dJ",metallic:"e2",roughness:"fv",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalTexturesFragment={src:"\n        precision highp float;\n        \n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 lights12;\n        uniform highp mat4 lights34;\n        uniform highp mat4 lights56;\n        uniform highp mat4 lights78;\n        uniform lowp vec4 enabledLights;\n        uniform mediump sampler2D baseColorTexture;\n        uniform lowp vec4 constantBaseColor;\n        uniform mediump sampler2D roughnessTexture;\n        uniform lowp vec2 constantRoughness;\n        uniform mediump sampler2D metallicTexture;\n        uniform lowp vec2 constantMetallic;\n        uniform mediump sampler2D normalMapTexture;\n        uniform lowp float useNormalMap;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        const lowp float kPerspectiveProjection = 0.0;\n        const lowp float kOrthographicProjection = 1.0;\n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const highp float kPi = 3.14159265359;\n        const mediump float kMediumpFloatMax = 65504.0;\n        const lowp float kDisabledLight = 0.0;\n        const lowp float kSoftLighting = 3.0;\n        \n        float getFloatValue(sampler2D texture, vec2 uv, vec2 constantValue) {\n            if (constantValue.y == 1.0) {\n                return constantValue.x;\n            } else {\n                vec4 textureColor = texture2D(texture, uv);\n                return dot(textureColor, vec4(0.2126, 0.7152, 0.0722, 0.0));\n            }\n        }\n        \n        vec3 getLocalNormal(sampler2D normalMap, float useNormalMap, vec2 uv) {\n            vec3 rgb = useNormalMap * texture2D(normalMap, uv).rgb + (1.0 - useNormalMap) * vec3(0.5, 0.5, 1.0);\n            float x = 2.0 * (rgb.r - 0.5);\n            float y = 2.0 * (rgb.g - 0.5);\n            float z = 2.0 * (rgb.b - 0.5);\n            return normalize(vec3(-x, -y, z));\n        }\n        \n        float getNormalSign() {\n            return 2.0 * float(gl_FrontFacing) - 1.0;\n        }\n        \n        vec3 getMappedNormal(vec3 normal, vec3 tangent, float normalSign, vec3 localNormal) {\n            vec3 bitangent = cross(normal, tangent) * normalSign;\n            return normalize(localNormal.x * tangent + localNormal.y * bitangent + localNormal.z * normal);\n        }\n        \n        vec3 getDirectionToCamera(vec3 surfacePosition, mat4 sceneProperties) {\n            float projectionType = sceneProperties[1].w;\n            if (projectionType == kPerspectiveProjection) {\n                vec3 cameraPoint = sceneProperties[1].xyz;\n                return normalize(cameraPoint - surfacePosition);\n            } else if (projectionType == kOrthographicProjection) {\n                return sceneProperties[1].xyz;\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        void getDirectionToLightAndNormalIlluminance(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            out vec3 directionToLight,\n            out vec3 normalIlluminance\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                directionToLight = xyz_type.xyz;\n                normalIlluminance = rgb_parameter.rgb;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                vec3 displacement = lightPosition - surfacePosition;\n                float distance = length(displacement);\n                directionToLight = displacement / distance;\n                normalIlluminance = rgb_parameter.rgb / (4.0 * kPi * distance * distance);\n            }\n        }\n        \n        float positiveDotProduct(vec3 v1, vec3 v2) {\n            return clamp(dot(v1, v2), 0.0, 1.0);\n        }\n        \n        // Adapted from https://google.github.io/filament/Filament.md.html#materialsystem/specularbrdf/normaldistributionfunction(speculard)\n        float specularD(float alpha, float dotNH, vec3 normalDirection, vec3 halfDirection) {\n            vec3 crossNH = cross(normalDirection, halfDirection);\n            float a = dotNH * alpha;\n            float k = alpha / (dot(crossNH, crossNH) + a * a);\n            float d = k * k * (1.0 / kPi);\n            return min(d, kMediumpFloatMax);\n        }\n        \n        float safeQuotient(float numerator, float denominator) {\n            if (denominator == 0.0) {\n                return 0.0;\n            } else {\n                return numerator / denominator;\n            }\n        }\n        \n        float g1(float dotNV, float alphaSquared) {\n            return safeQuotient(2.0 * dotNV, dotNV + sqrt(alphaSquared + (1.0 - alphaSquared) * dotNV * dotNV));\n        }\n        \n        float specularG(float dotNL, float dotNV, float alphaSquared) {\n            return g1(dotNV, alphaSquared) * g1(dotNL, alphaSquared);\n        }\n        \n        vec3 fresnelColor(vec3 specularBaseColor, float dotVH) {\n            vec3 one = vec3(1.0, 1.0, 1.0);\n            float scale = exp2((-5.55473 * dotVH - 6.98316) * dotVH);\n            return specularBaseColor + (one - specularBaseColor) * scale;\n        }\n        \n        vec3 brdf(vec3 normalDirection, vec3 directionToCamera, vec3 directionToLight, float alpha, float dotNV, float dotNL, vec3 specularBaseColor, vec3 normalIlluminance) {\n            vec3 halfDirection = normalize(directionToCamera + directionToLight);\n            float dotVH = positiveDotProduct(directionToCamera, halfDirection);\n            float dotNH = positiveDotProduct(normalDirection, halfDirection);\n            float dotNHSquared = dotNH * dotNH;\n        \n            float d = specularD(alpha, dotNH, normalDirection, halfDirection);\n            float g = specularG(dotNL, dotNV, alpha * alpha);\n            vec3 f = fresnelColor(specularBaseColor, dotVH);\n            return safeQuotient(d * g, 4.0 * dotNL * dotNV) * f;\n        }\n        \n        vec3 sampleFacetNormal(vec3 vH, vec3 vT1, vec3 vT2, float s, float alpha) {\n            float t2 = (1.0 - s);\n            vec3 vNh = t2 * vT2 + sqrt(max(0.0, 1.0 - t2 * t2)) * vH;\n            return normalize(vec3(alpha * vNh.x, alpha * vNh.y, max(0.0, vNh.z)));\n        }\n        \n        vec3 softLightingLuminance(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localLightDirection\n        ) {\n            float sinElevation = dot(localLightDirection, localUpDirection);\n            float t = (sinElevation + 1.0) / 2.0;\n            return aboveLuminance * t + belowLuminance * (1.0 - t);\n        }\n        \n        vec3 softLightingSpecularSample(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localViewDirection,\n            vec3 localLightDirection,\n            vec3 localHalfDirection,\n            float alphaSquared,\n            vec3 specularBaseColor\n        ) {\n            vec3 luminance = softLightingLuminance(aboveLuminance, belowLuminance, localUpDirection, localLightDirection);\n            float dotVH = positiveDotProduct(localViewDirection, localHalfDirection);\n            float dotNL = localLightDirection.z;\n            return luminance * (fresnelColor(specularBaseColor, dotVH) * g1(dotNL, alphaSquared));\n        }\n        \n        vec3 softLighting(\n            vec3 normalDirection,\n            vec3 diffuseBaseColor,\n            vec3 specularBaseColor,\n            float alpha,\n            vec3 directionToCamera,\n            vec3 viewY,\n            vec4 xyz_type,\n            vec4 rgb_parameter\n        ) {\n            float alphaSquared = alpha * alpha;\n            vec3 upDirection = xyz_type.xyz;\n            vec3 luminanceAbove = rgb_parameter.rgb;\n            vec3 luminanceBelow = rgb_parameter.a * luminanceAbove;\n            vec3 crossProduct = cross(normalDirection, directionToCamera);\n            float crossMagnitude = length(crossProduct);\n            vec3 xDirection = vec3(0.0, 0.0, 0.0);\n            vec3 yDirection = vec3(0.0, 0.0, 0.0);\n            if (crossMagnitude > 1.0e-6) {\n                yDirection = (1.0 / crossMagnitude) * crossProduct;\n                xDirection = cross(yDirection, normalDirection);\n            } else {\n                vec3 viewY = vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]);\n                xDirection = normalize(cross(viewY, normalDirection));\n                yDirection = cross(normalDirection, xDirection);\n            }\n            float localViewX = dot(directionToCamera, xDirection);\n            float localViewZ = dot(directionToCamera, normalDirection);\n            vec3 localViewDirection = vec3(localViewX, 0, localViewZ);\n            float localUpX = dot(upDirection, xDirection);\n            float localUpY = dot(upDirection, yDirection);\n            float localUpZ = dot(upDirection, normalDirection);\n            vec3 localUpDirection = vec3(localUpX, localUpY, localUpZ);\n        \n            vec3 vH = normalize(vec3(alpha * localViewX, 0.0, localViewZ));\n            vec3 vT1 = vec3(0.0, 1.0, 0.0);\n            vec3 vT2 = cross(vH, vT1);\n            float s = 0.5 * (1.0 + vH.z);\n            \n            vec3 localHalfDirection = sampleFacetNormal(vH, vT1, vT2, s, alpha);\n            vec3 localLightDirection = vec3(0.0, 0.0, 0.0);\n            \n            localLightDirection = -reflect(localViewDirection, localHalfDirection);\n            vec3 specular = softLightingSpecularSample(luminanceAbove, luminanceBelow, localUpDirection, localViewDirection, localLightDirection, localHalfDirection, alphaSquared, specularBaseColor);\n            \n            localLightDirection = vec3(0.000000, 0.000000, 1.000000);\n            vec3 diffuse = softLightingLuminance(luminanceAbove, luminanceBelow, localUpDirection, localLightDirection) * localLightDirection.z;\n            \n            return specular + diffuse * diffuseBaseColor;\n        }\n        \n        vec3 physicalLight(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            vec3 normalDirection,\n            vec3 directionToCamera,\n            vec3 viewY,\n            float dotNV,\n            vec3 diffuseBaseColor,\n            vec3 specularBaseColor,\n            float alpha\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDisabledLight) {\n                return vec3(0.0, 0.0, 0.0);\n            } else if (lightType == kSoftLighting) {\n                return softLighting(normalDirection, diffuseBaseColor, specularBaseColor, alpha, directionToCamera, viewY, xyz_type, rgb_parameter);\n            }\n        \n            vec3 directionToLight = vec3(0.0, 0.0, 0.0);\n            vec3 normalIlluminance = vec3(0.0, 0.0, 0.0);\n            getDirectionToLightAndNormalIlluminance(xyz_type, rgb_parameter, surfacePosition, directionToLight, normalIlluminance);\n        \n            float dotNL = positiveDotProduct(normalDirection, directionToLight);\n            vec3 specularColor = brdf(normalDirection, directionToCamera, directionToLight, alpha, dotNV, dotNL, specularBaseColor, normalIlluminance);\n            return (normalIlluminance * dotNL) * ((diffuseBaseColor / kPi) + specularColor);\n        }\n        \n        vec3 physicalLighting(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 baseColor,\n            vec3 directionToCamera,\n            mat4 viewMatrix,\n            float roughness,\n            float metallic,\n            mat4 lights12,\n            mat4 lights34,\n            mat4 lights56,\n            mat4 lights78,\n            vec4 enabledLights\n        ) {\n            float dotNV = positiveDotProduct(surfaceNormal, directionToCamera);\n            float alpha = roughness * roughness;\n            float nonmetallic = 1.0 - metallic;\n            vec3 diffuseBaseColor = nonmetallic * 0.96 * baseColor;\n            vec3 specularBaseColor = nonmetallic * 0.04 * vec3(1.0, 1.0, 1.0) + metallic * baseColor;\n            vec3 viewY = vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]);\n        \n            vec3 litColor1 = enabledLights[0] == 1.0 ? physicalLight(lights12[0], lights12[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor2 = enabledLights[1] == 1.0 ? physicalLight(lights12[2], lights12[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor3 = enabledLights[2] == 1.0 ? physicalLight(lights34[0], lights34[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor4 = enabledLights[3] == 1.0 ? physicalLight(lights34[2], lights34[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor5 = physicalLight(lights56[0], lights56[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor6 = physicalLight(lights56[2], lights56[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor7 = physicalLight(lights78[0], lights78[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor8 = physicalLight(lights78[2], lights78[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            return litColor1 + litColor2 + litColor3 + litColor4 + litColor5 + litColor6 + litColor7 + litColor8;\n        }\n        \n        float inverseGamma(float u) {\n            if (u <= 0.04045) {\n                return clamp(u / 12.92, 0.0, 1.0);\n            } else {\n                return clamp(pow((u + 0.055) / 1.055, 2.4), 0.0, 1.0);\n            }\n        }\n        \n        vec3 fromSrgb(vec3 srgbColor) {\n            return vec3(\n                inverseGamma(srgbColor.r),\n                inverseGamma(srgbColor.g),\n                inverseGamma(srgbColor.b)\n            );\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main() {\n            vec3 baseColor = fromSrgb(texture2D(baseColorTexture, interpolatedUv).rgb) * (1.0 - constantBaseColor.w) + constantBaseColor.rgb * constantBaseColor.w;\n            float roughness = getFloatValue(roughnessTexture, interpolatedUv, constantRoughness);\n            float metallic = getFloatValue(metallicTexture, interpolatedUv, constantMetallic);\n        \n            vec3 localNormal = getLocalNormal(normalMapTexture, useNormalMap, interpolatedUv);\n            float normalSign = getNormalSign();\n            vec3 originalNormal = normalize(interpolatedNormal) * normalSign;\n            vec3 normalDirection = getMappedNormal(originalNormal, interpolatedTangent, normalSign, localNormal);\n            vec3 directionToCamera = getDirectionToCamera(interpolatedPosition, sceneProperties);\n        \n            vec3 linearColor = physicalLighting(\n                interpolatedPosition,\n                normalDirection,\n                baseColor,\n                directionToCamera,\n                viewMatrix,\n                roughness,\n                metallic,\n                lights12,\n                lights34,\n                lights56,\n                lights78,\n                enabledLights\n            );\n        \n            gl_FragColor = toSrgb(linearColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{baseColorTexture:"ev",constantBaseColor:"eB",constantMetallic:"eC",constantRoughness:"eD",enabledLights:"an",lights12:"cI",lights34:"dH",lights56:"dI",lights78:"dJ",metallicTexture:"e3",normalMapTexture:"ca",roughnessTexture:"fw",sceneProperties:"k",useNormalMap:"cm",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainQuadVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 quadVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 quadVertexPositions;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadVertex.z), quadVertexPositions, position, normal, tangent);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n        }\n    ",attributes:{quadVertex:"d_"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",quadVertexPositions:"aW",sceneProperties:"k",viewMatrix:"l"}},$elm_explorations$linear_algebra$Math$Matrix4$fromRecord=function(r){var m=new Float64Array(16);return m[0]=r.g2,m[1]=r.g6,m[2]=r.ha,m[3]=r.he,m[4]=r.g3,m[5]=r.g7,m[6]=r.hb,m[7]=r.hf,m[8]=r.g4,m[9]=r.g8,m[10]=r.hc,m[11]=r.hg,m[12]=r.g5,m[13]=r.g9,m[14]=r.hd,m[15]=r.hh,m},$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions=F4(function(p1,p2,p3,p4){p4=$ianmackenzie$elm_geometry$Point3d$toMeters(p4),p3=$ianmackenzie$elm_geometry$Point3d$toMeters(p3),p2=$ianmackenzie$elm_geometry$Point3d$toMeters(p2),p1=$ianmackenzie$elm_geometry$Point3d$toMeters(p1);return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:p1.U,g3:p2.U,g4:p3.U,g5:p4.U,g6:p1.V,g7:p2.V,g8:p3.V,g9:p4.V,ha:p1.iS,hb:p2.iS,hc:p3.iS,hd:p4.iS,he:0,hf:0,hg:0,hh:0})}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices=($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick=F2(function(a,b){return{$:0,a:a,b:b}}))({go:1,gL:0,hu:6})(_List_fromArray([{d_:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,0,0,0)},{d_:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,1,0,1)},{d_:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,1,1,2)},{d_:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,0,1,3)}])),$ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedLambertianMaterial=F2(function(a,b){return{$:1,a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple=F2(function(fallbackData,channel){if(channel.$)return{a:channel.a.gh,b:1};return{a:fallbackData,b:0}}),$elm_explorations$linear_algebra$Math$Vector3$getX=function(a){return a[0]},$elm_explorations$linear_algebra$Math$Vector3$getY=function(a){return a[1]},$elm_explorations$linear_algebra$Math$Vector3$getZ=function(a){return a[2]},$elm_explorations$linear_algebra$Math$Vector4$vec4=$mdgriffith$elm_ui$Internal$Style$classes_lW,$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec4=A4($elm_explorations$linear_algebra$Math$Vector4$vec4,0,0,0,0),$ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple=F2(function(fallbackData,vector){return vector.$?{a:vector.a.gh,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec4}:{a:fallbackData,b:A4($elm_explorations$linear_algebra$Math$Vector4$vec4,$elm_explorations$linear_algebra$Math$Vector3$getX(vector=vector.a),$elm_explorations$linear_algebra$Math$Vector3$getY(vector),$elm_explorations$linear_algebra$Math$Vector3$getZ(vector),1)}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$resolveLambertian=F2(function(materialColorTexture,normalMapTexture){var data,_v0={a:materialColorTexture,b:normalMapTexture};if(_v0.a.$)return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedLambertianMaterial,{a:data=_v0.a.a.gh,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec4},A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));if(_v0.b.$)return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedLambertianMaterial,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple,data=_v0.b.a.gh,materialColorTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));return{$:0,a:_v0.a.a}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$ConstantPbrMaterial=F3(function(a,b,c){return{$:0,a:a,b:b,c:c}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial=F4(function(a,b,c,d){return{$:1,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$Tuple4=F4(function(a,b,c,d){return{$:0,a:a,b:b,c:c,d:d}}),$elm_explorations$linear_algebra$Math$Vector2$vec2=$mdgriffith$elm_ui$Internal$Style$classes_lX,$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec2=A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,0),$ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple=F2(function(fallbackData,texture){return texture.$?{a:texture.a.gh,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec2}:{a:fallbackData,b:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,texture.a,1)}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$resolvePbr=F4(function(baseColorTexture,roughnessTexture,metallicTexture,normalMapTexture){var data,_v0=A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$Tuple4,baseColorTexture,roughnessTexture,metallicTexture,normalMapTexture);if(_v0.a.$)return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial,{a:data=_v0.a.a.gh,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec4},A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,roughnessTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,metallicTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));if(_v0.b.$)return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple,data=_v0.b.a.gh,baseColorTexture),{a:data,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec2},A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,metallicTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));if(_v0.c.$)return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple,data=_v0.c.a.gh,baseColorTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,roughnessTexture),{a:data,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec2},A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));if(_v0.d.$)return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple,data=_v0.d.a.gh,baseColorTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,roughnessTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,metallicTexture),{a:data,b:1});return A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$ConstantPbrMaterial,_v0.a.a,_v0.b.a,_v0.c.a)}),$elm_explorations$linear_algebra$Math$Vector3$scale=$mdgriffith$elm_ui$Internal$Model$Attr,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothQuadVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 quadVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 quadVertexPositions;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadVertex.z), quadVertexPositions, position, normal, tangent);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n        }\n    ",attributes:{quadVertex:"d_"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",quadVertexPositions:"aW",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedQuadVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 quadVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 quadVertexPositions;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadVertex.z), quadVertexPositions, position, normal, tangent);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n            interpolatedUv = quadVertex.xy;\n            interpolatedTangent = tangent;\n        }\n    ",attributes:{quadVertex:"d_"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",quadVertexPositions:"aW",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_units$Quantity$minus=F2(function(_v0,_v1){return _v1-_v0}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitQuadVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 quadVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 quadVertexPositions;\n        \n        varying mediump vec2 interpolatedUv;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadVertex.z), quadVertexPositions, position, normal, tangent);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedUv = quadVertex.xy;\n        }\n    ",attributes:{quadVertex:"d_"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",quadVertexPositions:"aW",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadMesh=F5(function(givenMaterial,firstPoint,secondPoint,thirdPoint,fourthPoint){var bounds=A2($ianmackenzie$elm_geometry$BoundingBox3d$hull,firstPoint,_List_fromArray([secondPoint,thirdPoint,fourthPoint])),bounds=$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(bounds);return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,function(){switch(givenMaterial.$){case 0:if(givenMaterial.b.$){var data=givenMaterial.b.a.gh;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$colorTextureFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{dl:data,h:modelMatrix,i:modelScale,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),k:sceneProperties,l:viewMatrix})})}var color=givenMaterial.b.a;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{bs:color,h:modelMatrix,i:modelScale,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),k:sceneProperties,l:viewMatrix})});case 1:if(givenMaterial.b.$){data=givenMaterial.b.a.gh,backlight=givenMaterial.c;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveTextureFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{es:$ianmackenzie$elm_units$Luminance$inNits(backlight),dl:data,h:modelMatrix,i:modelScale,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),k:sceneProperties,l:viewMatrix})})}var emissiveColor=givenMaterial.b.a,backlight=givenMaterial.c;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{es:backlight,bX:A2($elm_explorations$linear_algebra$Math$Vector3$scale,$ianmackenzie$elm_units$Luminance$inNits(backlight),emissiveColor),h:modelMatrix,i:modelScale,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),k:sceneProperties,l:viewMatrix})});case 2:var _v15=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolveLambertian,givenMaterial.b,givenMaterial.c);if(_v15.$){var _v10=_v15.a,materialColorData=_v10.a,_v10=_v15.b,normalMapData=_v10.a,useNormalMap=_v10.b;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianTextureFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e0:materialColorData,h:modelMatrix,i:modelScale,ca:normalMapData,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),k:sceneProperties,cm:useNormalMap,l:viewMatrix})})}var materialColor=_v15.a;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e$:materialColor,h:modelMatrix,i:modelScale,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),k:sceneProperties,l:viewMatrix})});default:_v10=A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolvePbr,givenMaterial.b,givenMaterial.c,givenMaterial.d,givenMaterial.e);if(_v10.$){var _v15=_v10.a,baseColorData=_v15.a,constantBaseColor=_v15.b,_v15=_v10.b,roughnessData=_v15.a,constantRoughness=_v15.b,_v15=_v10.c,metallicData=_v15.a,constantMetallic=_v15.b,_v15=_v10.d,normalMapData=_v15.a,useNormalMap=_v15.b;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalTexturesFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{ev:baseColorData,eB:constantBaseColor,eC:constantMetallic,eD:constantRoughness,an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e3:metallicData,h:modelMatrix,i:modelScale,ca:normalMapData,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),fw:roughnessData,k:sceneProperties,cm:useNormalMap,l:viewMatrix})})}var baseColor=_v10.a,roughness=_v10.b,metallic=_v10.c;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{eu:baseColor,an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e2:metallic,h:modelMatrix,i:modelScale,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),fv:roughness,k:sceneProperties,l:viewMatrix})})}}())}),$elm_explorations$webgl$WebGL$indexedTriangles=F3(function(a,b,c){return{$:3,a:a,b:b,c:c}})({go:1,gL:3,hu:4}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadowMesh=($mdgriffith$elm_ui$Internal$Style$classes_lZ=_List_fromArray([{bb:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,1)},{bb:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,1)},{bb:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,2,1)},{bb:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,3,1)},{bb:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,-1)},{bb:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,-1)},{bb:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,2,-1)},{bb:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,3,-1)}]),$mdgriffith$elm_ui$Internal$Style$classes_l_=_List_fromArray([{a:0,b:1,c:2},{a:0,b:2,c:3},{a:4,b:6,c:5},{a:4,b:7,c:6},{a:4,b:5,c:1},{a:1,b:0,c:4},{a:5,b:6,c:2},{a:2,b:1,c:5},{a:6,b:7,c:3},{a:3,b:2,c:6},{a:7,b:4,c:0},{a:0,b:3,c:7}]),A2($elm_explorations$webgl$WebGL$indexedTriangles,$mdgriffith$elm_ui$Internal$Style$classes_lZ,$mdgriffith$elm_ui$Internal$Style$classes_l_)),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$quadShadowVertex={src:"\n        precision highp float;\n        \n        attribute highp vec2 quadShadowVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 shadowLight;\n        uniform highp mat4 quadVertexPositions;\n        \n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        vec3 getDirectionToLight(vec3 surfacePosition, vec4 xyz_type, vec4 rgb_parameter) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                return xyz_type.xyz;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                return normalize(lightPosition - surfacePosition);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 shadowVertexPosition(vec3 position, vec3 normal, mat4 shadowLight, vec4 modelScale, mat4 modelMatrix, mat4 viewMatrix, mat4 projectionMatrix, mat4 sceneProperties) {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            vec3 worldNormal = getWorldNormal(normal, vec4(modelScale.xyz, 1.0), modelMatrix);\n            vec4 xyz_type = shadowLight[0];\n            vec4 rgb_parameter = shadowLight[1];\n            vec3 directionToLight = getDirectionToLight(worldPosition.xyz, xyz_type, rgb_parameter);\n            vec3 offset = vec3(0.0, 0.0, 0.0);\n            float sceneDiameter = sceneProperties[3][1];\n            if (dot(directionToLight, worldNormal) <= 0.0) {\n                offset = -sceneDiameter * directionToLight;\n            } else {\n                offset = -0.001 * sceneDiameter * directionToLight;\n            }\n            vec4 offsetPosition = worldPosition + vec4(offset, 0.0);\n            return projectionMatrix * (viewMatrix * offsetPosition);\n        }\n        \n        void main () {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadShadowVertex.x), quadVertexPositions, position, normal, tangent);\n            normal *= quadShadowVertex.y;\n            gl_Position = shadowVertexPosition(\n                position,\n                normal,\n                shadowLight,\n                modelScale,\n                modelMatrix,\n                viewMatrix,\n                projectionMatrix,\n                sceneProperties\n            );\n        }\n    ",attributes:{quadShadowVertex:"bb"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",quadVertexPositions:"aW",sceneProperties:"k",shadowLight:"d6",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment={src:"\n        precision lowp float;\n        \n        void main () {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    ",attributes:{},uniforms:{}},$elm_explorations$webgl$WebGL$Settings$StencilTest$testSeparate=F3(function(expand,options1,options2){var ref=expand.fr,mask=expand.e_,writeMask=expand.fM,expandTest=F2(function(_v2,fn){return fn(_v2)}),expandOp=F2(function(_v1,fn){return fn(_v1)}),expand=function(options){return A2($elm$core$Basics$composeR,expandTest(options.cY),A2($elm$core$Basics$composeR,expandOp(options.cC),A2($elm$core$Basics$composeR,expandOp(options.c6),expandOp(options.c7))))};return A2(expand,options2,A2(expand,options1,A3($elm_explorations$webgl$WebGL$Internal$StencilTest,ref,mask,writeMask)))}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$leftHandedStencilTest=A3($elm_explorations$webgl$WebGL$Settings$StencilTest$testSeparate,{e_:0,fr:0,fM:15},{cC:7680,cY:519,c6:7680,c7:7683},{cC:7680,cY:519,c6:7680,c7:7682}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$rightHandedStencilTest=A3($elm_explorations$webgl$WebGL$Settings$StencilTest$testSeparate,{e_:0,fr:0,fM:15},{cC:7680,cY:519,c6:7680,c7:7682},{cC:7680,cY:519,c6:7680,c7:7683}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings=F2(function(isRightHanded,settings){return A2($elm$core$List$cons,isRightHanded?$ianmackenzie$elm_3d_scene$Scene3d$Entity$rightHandedStencilTest:$ianmackenzie$elm_3d_scene$Scene3d$Entity$leftHandedStencilTest,settings)}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadow=F4(function(firstPoint,secondPoint,thirdPoint,fourthPoint){return{$:2,a:F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,shadowLight,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings,isRightHanded,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$quadShadowVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadowMesh,{h:modelMatrix,i:modelScale,j:projectionMatrix,aW:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),k:sceneProperties,d6:shadowLight,l:viewMatrix})})}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$quad=F7(function(renderObject,_v0,meshEntity,firstPoint,secondPoint,thirdPoint,fourthPoint){meshEntity=A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadMesh,meshEntity,firstPoint,secondPoint,thirdPoint,fourthPoint),_v0={a:renderObject,b:_v0};return _v0.a?_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([meshEntity,A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadow,firstPoint,secondPoint,thirdPoint,fourthPoint)])):meshEntity:_v0.b?A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadow,firstPoint,secondPoint,thirdPoint,fourthPoint):$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}),$ianmackenzie$elm_3d_scene$Scene3d$quad=F5(function(givenMaterial,p1,p2,p3,p4){return A7($ianmackenzie$elm_3d_scene$Scene3d$Entity$quad,!0,!1,givenMaterial,p1,p2,p3,p4)}),$ianmackenzie$elm_geometry$LineSegment3d$mapEndpoints=F2(function(_function,p2){var _v0=$ianmackenzie$elm_geometry$LineSegment3d$endpoints(p2),p2=_v0.b;return{a:_function(_v0.a),b:_function(p2)}}),$ianmackenzie$elm_geometry$LineSegment3d$translateBy=F2(function(displacementVector,lineSegment){return A2($ianmackenzie$elm_geometry$LineSegment3d$mapEndpoints,$ianmackenzie$elm_geometry$Point3d$translateBy(displacementVector),lineSegment)}),$author$project$VisualEntities$makeMapEntities=F2(function(context,roadList){return $elm$core$List$concat(A2($elm$core$List$map,function(leftKerbVector){var leftKerb={a:leftKerbVector.bE.aq,b:leftKerbVector.B.aq},rightKerb={a:3*$elm$core$Basics$cos(leftKerbVector.da),b:3*$elm$core$Basics$sin(leftKerbVector.da)},leftKerbVector=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*rightKerb.a,rightKerb.b,0),rightKerb=$ianmackenzie$elm_geometry$Vector3d$reverse(leftKerbVector),rightKerb={a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftKerbVector,leftKerb),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightKerb,leftKerb)},leftKerb=rightKerb.a,rightKerb=rightKerb.b;return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$matte($avh4$elm_color$Color$lightRed),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(leftKerb),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(leftKerb),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(rightKerb),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(rightKerb))])},roadList))}),$avh4$elm_color$Color$black=A4($avh4$elm_color$Color$RgbaSpace,0,0,0,1),$avh4$elm_color$Color$brown=A4($avh4$elm_color$Color$RgbaSpace,193/255,125/255,17/255,1),$ianmackenzie$elm_3d_scene$Scene3d$Types$UnlitMaterial=F2(function(a,b){return{$:0,a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$Facets=F4(function(a,b,c,d){return{$:2,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$Indexed=F4(function(a,b,c,d){return{$:3,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormals=F4(function(a,b,c,d){return{$:4,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormalsAndUvs=F4(function(a,b,c,d){return{$:6,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithTangents=F4(function(a,b,c,d){return{$:7,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithUvs=F4(function(a,b,c,d){return{$:5,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$Triangles=F4(function(a,b,c,d){return{$:1,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_units$Quantity$divideBy=F2(function(divisor,_v0){return _v0/divisor}),$ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyMesh={$:0},$elm_explorations$linear_algebra$Math$Vector3$fromRecord=function(r){return new Float64Array([r.U,r.V,r.iS])},$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectSmooth=F2(function(_v0,accumulated){var position=_v0.dX;return A2($elm$core$List$cons,{C:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Vector3d$toVec3(_v0.C),dX:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(position)},accumulated)}),$ianmackenzie$elm_units$Quantity$lessThanOrEqualTo=F2(function(_v0,_v1){return _Utils_cmp(_v1,_v0)<1}),$ianmackenzie$elm_units$Quantity$min=F2(function(_v0,_v1){return A2($elm$core$Basics$min,_v0,_v1)}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBoundsHelp=F7(function(minX,maxX,minY,maxY,minZ,maxZ,remaining){for(;;){if(!remaining.b)return $ianmackenzie$elm_geometry$BoundingBox3d$fromExtrema({hl:maxX,hm:maxY,kL:maxZ,hr:minX,hs:minY,kN:minZ});var x=remaining.a,rest=remaining.b,z=$elm_explorations$linear_algebra$Math$Vector3$getZ(x.dX),y=$elm_explorations$linear_algebra$Math$Vector3$getY(x.dX),x=$elm_explorations$linear_algebra$Math$Vector3$getX(x.dX);minX=A2($elm$core$Basics$min,minX,x),maxX=A2($elm$core$Basics$max,maxX,x),minY=A2($elm$core$Basics$min,minY,y),maxY=A2($elm$core$Basics$max,maxY,y),minZ=A2($elm$core$Basics$min,minZ,z),maxZ=A2($elm$core$Basics$max,maxZ,z),remaining=rest}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBounds=F2(function(x,rest){var z=$elm_explorations$linear_algebra$Math$Vector3$getZ(x.dX),y=$elm_explorations$linear_algebra$Math$Vector3$getY(x.dX),x=$elm_explorations$linear_algebra$Math$Vector3$getX(x.dX);return A7($ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBoundsHelp,x,x,y,y,z,z,rest)}),$elm$core$Basics$modBy=$elm$html$Html$Attributes$spellcheck,$ianmackenzie$elm_geometry$Direction3d$negativeZ={U:0,V:0,iS:-1},$ianmackenzie$elm_geometry$Direction3d$xyZ=F2(function(phi,cosPhi){var theta=phi,phi=cosPhi,cosPhi=$elm$core$Basics$cos(phi);return{U:cosPhi*$elm$core$Basics$cos(theta),V:cosPhi*$elm$core$Basics$sin(theta),iS:$elm$core$Basics$sin(phi)}}),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cone=(tipPoint=A3($ianmackenzie$elm_geometry$Point3d$xyz,0,0,1),wedgeAngle=A2($ianmackenzie$elm_units$Quantity$divideBy,72,6.283185307179586),negativeZVector=$ianmackenzie$elm_geometry$Direction3d$toVector($ianmackenzie$elm_geometry$Direction3d$negativeZ),basePoint=A3($ianmackenzie$elm_geometry$Point3d$xyz,0,0,0),$mdgriffith$elm_ui$Internal$Style$classes_iB=$ianmackenzie$elm_triangular_mesh$TriangularMesh$triangles($elm$core$List$concat(A2($elm$core$List$map,function(endX){var tipNormal=$ianmackenzie$elm_geometry$Vector3d$zero,p0=A2($ianmackenzie$elm_units$Quantity$multiplyBy,endX,wedgeAngle),startNormal=$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$xyZ,p0,.7853981633974483)),p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(p0),1),endNormal=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(p0),1),p0=A3($ianmackenzie$elm_geometry$Point3d$xyz,p1,endNormal,0),p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,A2($elm$core$Basics$modBy,72,endX+1),wedgeAngle),endNormal=$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$xyZ,p1,.7853981633974483)),endX=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(p1),1),p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(p1),1),p1=A3($ianmackenzie$elm_geometry$Point3d$xyz,endX,p1,0);return _List_fromArray([{a:{C:negativeZVector,dX:basePoint},b:{C:negativeZVector,dX:p1},c:{C:negativeZVector,dX:p0}},{a:{C:startNormal,dX:p0},b:{C:endNormal,dX:p1},c:{C:tipNormal,dX:tipPoint}}])},A2($elm$core$List$range,0,71)))),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$cullBackFaces($ianmackenzie$elm_3d_scene$Scene3d$Mesh$indexedFaces($mdgriffith$elm_ui$Internal$Style$classes_iB))),$ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyShadow={$:0},$ianmackenzie$elm_3d_scene$Scene3d$Types$Shadow=F3(function(a,b,c){return{$:1,a:a,b:b,c:c}}),$ianmackenzie$elm_geometry$Vector3d$normalize=F2(function(scaledZ,scaledY){var q=scaledZ,scaledX=scaledY,scaledLength=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.U),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.V),$elm$core$Basics$abs(scaledX.iS)));if(scaledLength){scaledZ=scaledX.iS/scaledLength,scaledY=scaledX.V/scaledLength,scaledX=scaledX.U/scaledLength,scaledLength=$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ);return{U:q*scaledX/scaledLength,V:q*scaledY/scaledLength,iS:q*scaledZ/scaledLength}}return $ianmackenzie$elm_geometry$Vector3d$zero})(1),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$triangleNormal=F3(function(p1,p2,p3){return $ianmackenzie$elm_geometry$Vector3d$normalize(A2($ianmackenzie$elm_geometry$Vector3d$cross,A2($ianmackenzie$elm_geometry$Vector3d$from,p2,p3),A2($ianmackenzie$elm_geometry$Vector3d$from,p1,p2)))}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectShadowVertices=F3(function(sv1,sv3,accumulated){var faceNormal=sv3.a,sv2=sv3.b,sv3=sv1(sv3.c),sv2=sv1(sv2),sv1=sv1(faceNormal),faceNormal=$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Vector3d$toVec3(A3($ianmackenzie$elm_3d_scene$Scene3d$Mesh$triangleNormal,sv1,sv2,sv3)),sv1={C:faceNormal,dX:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(sv1)},sv2={C:faceNormal,dX:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(sv2)},sv3={C:faceNormal,dX:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(sv3)};return A2($elm$core$List$cons,sv1,A2($elm$core$List$cons,sv2,A2($elm$core$List$cons,sv3,accumulated)))}),$elm$core$Maybe$map3=F4(function(func,ma,mb,mc){return 1===ma.$||1===mb.$||1===mc.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(A3(func,ma.a,mb.a,mc.a))}),$ianmackenzie$elm_triangular_mesh$TriangularMesh$vertex=F2(function(index,mesh){return A2($elm$core$Array$get,index,$ianmackenzie$elm_triangular_mesh$TriangularMesh$vertices(mesh))}),$elm$core$List$any=F2(function(isOkay,list){for(;;){if(!list.b)return!1;var xs=list.b;if(isOkay(list.a))return!0;isOkay=isOkay,list=xs}}),$elm$core$List$all=F2(function(isOkay,list){return!A2($elm$core$List$any,A2($elm$core$Basics$composeL,$elm$core$Basics$not,isOkay),list)}),$ianmackenzie$elm_triangular_mesh$TriangularMesh$indexed=F2(function(vertices_,faceIndices_){function validIndices(k){var i=k.a,j=k.b,k=k.c;return 0<=i&&_Utils_cmp(i,numVertices)<0&&0<=j&&_Utils_cmp(j,numVertices)<0&&0<=k&&_Utils_cmp(k,numVertices)<0}var numVertices=$elm$core$Array$length(vertices_);return A2($elm$core$List$all,validIndices,faceIndices_)?{W:faceIndices_,mf:vertices_}:{W:A2($elm$core$List$filter,validIndices,faceIndices_),mf:vertices_}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey=F2(function(p1,p2){p2=$ianmackenzie$elm_geometry$Point3d$toMeters(p2),p1=$ianmackenzie$elm_geometry$Point3d$toMeters(p1);return{a:{a:p1.U,b:p1.V,c:p1.iS},b:{a:p2.U,b:p2.V,c:p2.iS}}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$zeroVec3=A3($elm_explorations$linear_algebra$Math$Vector3$vec3,0,0,0),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdge=F6(function(b,v1,start,end,v2,_v1){var shadowFaceIndices=_v1.a,extraShadowVertices=_v1.b,nextShadowVertexIndex=_v1.c,_v1=A2($elm$core$Dict$get,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey,b,v1),v2);if(_v1.$){v2={C:$ianmackenzie$elm_3d_scene$Scene3d$Mesh$zeroVec3,dX:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(v1)},v1={C:$ianmackenzie$elm_3d_scene$Scene3d$Mesh$zeroVec3,dX:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(b)},b=nextShadowVertexIndex+1;return{a:A2($elm$core$List$cons,{a:start,b:nextShadowVertexIndex,c:b},A2($elm$core$List$cons,{a:start,b:b,c:end},shadowFaceIndices)),b:A2($elm$core$List$cons,v2,A2($elm$core$List$cons,v1,extraShadowVertices)),c:nextShadowVertexIndex+2}}return{a:A2($elm$core$List$cons,{a:start,b:_v1.a,c:end},shadowFaceIndices),b:extraShadowVertices,c:nextShadowVertexIndex}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdges=F5(function(getPosition,neighborDict,meshFaceVertices,nextShadowVertexIndex,state){for(;;){if(!meshFaceVertices.b)return{a:state.a,b:$elm$core$List$reverse(state.b)};var $temp$getPosition=meshFaceVertices.a,$temp$meshFaceVertices=$temp$getPosition.a,$temp$neighborDict=$temp$getPosition.b,$temp$nextShadowVertexIndex=meshFaceVertices.b,p3=getPosition($temp$getPosition.c),p2=getPosition($temp$neighborDict),p1=getPosition($temp$meshFaceVertices),c=nextShadowVertexIndex+2,$temp$state=nextShadowVertexIndex+1,$temp$getPosition=getPosition,$temp$neighborDict=neighborDict,$temp$meshFaceVertices=$temp$nextShadowVertexIndex,$temp$nextShadowVertexIndex=nextShadowVertexIndex+3,$temp$state=A6($ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdge,p3,p1,c,nextShadowVertexIndex,neighborDict,A6($ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdge,p2,p3,$temp$state,c,neighborDict,A6($ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdge,p1,p2,nextShadowVertexIndex,$temp$state,neighborDict,state)));getPosition=$temp$getPosition,neighborDict=$temp$neighborDict,meshFaceVertices=$temp$meshFaceVertices,nextShadowVertexIndex=$temp$nextShadowVertexIndex,state=$temp$state}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$visitFaces=F5(function(getPosition,meshFaceVertices,nextShadowVertexIndex,shadowFaceIndices,neighborDict){for(;;){if(!meshFaceVertices.b)return{a:shadowFaceIndices,b:neighborDict,c:nextShadowVertexIndex};var c=meshFaceVertices.a,a=c.a,b=c.b,remainingMeshFaceVertices=meshFaceVertices.b,p3=getPosition(c.c),p2=getPosition(b),updatedNeighborDict=getPosition(a),c=nextShadowVertexIndex+2,b=nextShadowVertexIndex+1,a=nextShadowVertexIndex,updatedNeighborDict=A3($elm$core$Dict$insert,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey,updatedNeighborDict,p3),c,A3($elm$core$Dict$insert,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey,p3,p2),b,A3($elm$core$Dict$insert,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey,p2,updatedNeighborDict),a,neighborDict)));getPosition=getPosition,meshFaceVertices=remainingMeshFaceVertices,nextShadowVertexIndex=nextShadowVertexIndex+3,shadowFaceIndices=A2($elm$core$List$cons,{a:a,b:b,c:c},shadowFaceIndices),neighborDict=updatedNeighborDict}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$shadowImpl=F3(function(meshBounds,getPosition,allShadowFaceIndices){var mesh,extraShadowVertices=A2($elm$core$List$filterMap,function(k){var i=k.a,j=k.b,k=k.c;return A4($elm$core$Maybe$map3,F3(function(firstVertex,secondVertex,thirdVertex){return{a:firstVertex,b:secondVertex,c:thirdVertex}}),A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$vertex,i,mesh),A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$vertex,j,mesh),A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$vertex,k,mesh))},$ianmackenzie$elm_triangular_mesh$TriangularMesh$faceIndices(mesh=allShadowFaceIndices)),allShadowVertices=A3($elm$core$List$foldr,$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectShadowVertices(getPosition),_List_Nil,extraShadowVertices),allShadowFaceIndices=A5($ianmackenzie$elm_3d_scene$Scene3d$Mesh$visitFaces,getPosition,extraShadowVertices,0,_List_Nil,$elm$core$Dict$empty),extraShadowVertices=A5($ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdges,getPosition,allShadowFaceIndices.b,extraShadowVertices,0,{a:allShadowFaceIndices.a,b:_List_Nil,c:allShadowFaceIndices.c}),allShadowFaceIndices=extraShadowVertices.a,extraShadowVertices=extraShadowVertices.b,allShadowVertices=extraShadowVertices.b?_Utils_ap(allShadowVertices,extraShadowVertices):allShadowVertices;return A3($ianmackenzie$elm_3d_scene$Scene3d$Types$Shadow,meshBounds,A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$indexed,$elm$core$Array$fromList(allShadowVertices),allShadowFaceIndices),A2($elm_explorations$webgl$WebGL$indexedTriangles,allShadowVertices,allShadowFaceIndices))}),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$coneShadow=($mdgriffith$elm_ui$Internal$Style$classes_bJ=function(mesh){switch(mesh.$){case 0:return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyShadow;case 1:case 2:return A3($ianmackenzie$elm_3d_scene$Scene3d$Mesh$shadowImpl,mesh.a,$elm$core$Basics$identity,$ianmackenzie$elm_triangular_mesh$TriangularMesh$triangles(A2($elm$core$List$map,$ianmackenzie$elm_geometry$Triangle3d$vertices,mesh.b)));case 3:return A3($ianmackenzie$elm_3d_scene$Scene3d$Mesh$shadowImpl,mesh.a,$elm$core$Basics$identity,mesh.b);case 4:case 5:case 6:case 7:return A3($ianmackenzie$elm_3d_scene$Scene3d$Mesh$shadowImpl,mesh.a,function($){return $.dX},mesh.b);case 8:case 9:default:return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyShadow}})($ianmackenzie$elm_3d_scene$Scene3d$Primitives$cone),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute mediump vec2 uv;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        varying mediump vec2 interpolatedUv;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main() {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedUv = uv;\n        }\n    ",attributes:{position:"dX",uv:"ad"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$colorTextureMesh=F4(function(data,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$colorTextureFragment,webGLMesh,{dl:data,h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n        }\n    ",attributes:{position:"dX"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$constantMesh=F4(function(color,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantFragment,webGLMesh,{bs:color,h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$Types$PointNode=F2(function(a,b){return{$:3,a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantPointFragment={src:"\n        precision lowp float;\n        \n        uniform lowp vec3 constantColor;\n        uniform lowp float pointRadius;\n        uniform highp mat4 sceneProperties;\n        \n        float pointAlpha(float pointRadius, vec2 pointCoord) {\n            float pointSize = 2.0 * pointRadius;\n            float x = (pointSize + 2.0) * (pointCoord.s - 0.5);\n            float y = (pointSize + 2.0) * (pointCoord.t - 0.5);\n            float r = sqrt(x * x + y * y);\n            float innerRadius = pointRadius;\n            float outerRadius = pointRadius + 1.0;\n            if (r > outerRadius) {\n                return 0.0;\n            } else if (r > innerRadius) {\n                return outerRadius - r;\n            } else {\n                return 1.0;\n            }\n        }\n        \n        void main () {\n            float supersampling = sceneProperties[3][0];\n            float alpha = pointAlpha(pointRadius * supersampling, gl_PointCoord);\n            gl_FragColor = vec4(constantColor, alpha);\n        }\n    ",attributes:{},uniforms:{constantColor:"bs",pointRadius:"dW",sceneProperties:"k"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$pointVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform lowp float pointRadius;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            float supersampling = sceneProperties[3][0];\n            gl_PointSize = 2.0 * pointRadius * supersampling + 2.0;\n        }\n    ",attributes:{position:"dX"},uniforms:{modelMatrix:"h",modelScale:"i",pointRadius:"dW",projectionMatrix:"j",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$constantPointMesh=F4(function(color,radius,bounds,webGLMesh){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$PointNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,settings,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$pointVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantPointFragment,webGLMesh,{bs:color,h:modelMatrix,i:modelScale,dW:radius,j:projectionMatrix,k:sceneProperties,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$emissiveMesh=F5(function(color,backlight,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveFragment,webGLMesh,{bX:A2($elm_explorations$linear_algebra$Math$Vector3$scale,$ianmackenzie$elm_units$Luminance$inNits(backlight),color),h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissivePointFragment={src:"\n        precision mediump float;\n        \n        uniform mediump vec3 emissiveColor;\n        uniform lowp float pointRadius;\n        uniform highp mat4 sceneProperties;\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        float pointAlpha(float pointRadius, vec2 pointCoord) {\n            float pointSize = 2.0 * pointRadius;\n            float x = (pointSize + 2.0) * (pointCoord.s - 0.5);\n            float y = (pointSize + 2.0) * (pointCoord.t - 0.5);\n            float r = sqrt(x * x + y * y);\n            float innerRadius = pointRadius;\n            float outerRadius = pointRadius + 1.0;\n            if (r > outerRadius) {\n                return 0.0;\n            } else if (r > innerRadius) {\n                return outerRadius - r;\n            } else {\n                return 1.0;\n            }\n        }\n        \n        void main () {\n            vec4 color = toSrgb(emissiveColor, sceneProperties);\n            float supersampling = sceneProperties[3][0];\n            float alpha = pointAlpha(pointRadius * supersampling, gl_PointCoord);\n            gl_FragColor = vec4(color.rgb, alpha);\n        }\n    ",attributes:{},uniforms:{emissiveColor:"bX",pointRadius:"dW",sceneProperties:"k"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$emissivePointMesh=F5(function(color,backlight,radius,bounds,webGLMesh){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$PointNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,settings,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$pointVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissivePointFragment,webGLMesh,{bX:A2($elm_explorations$linear_algebra$Math$Vector3$scale,$ianmackenzie$elm_units$Luminance$inNits(backlight),color),h:modelMatrix,i:modelScale,dW:radius,j:projectionMatrix,k:sceneProperties,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$uniformVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute highp vec3 normal;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n        }\n    ",attributes:{normal:"C",position:"dX"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$lambertianMesh=F4(function(color,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$uniformVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianFragment,webGLMesh,{an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e$:color,h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$normalMappedVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute highp vec3 normal;\n        attribute mediump vec2 uv;\n        attribute highp vec3 tangent;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        vec3 getWorldTangent(vec3 modelTangent, vec4 modelScale, mat4 modelMatrix) {\n            return (modelMatrix * vec4(safeNormalize(modelScale.xyz * modelTangent), 0.0)).xyz;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n            interpolatedUv = uv;\n            interpolatedTangent = getWorldTangent(tangent, modelScale, modelMatrix);\n        }\n    ",attributes:{normal:"C",position:"dX",tangent:"ir",uv:"ad"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMappedLambertianMesh=F6(function(materialColorData,normalMapData,useNormalMap,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$normalMappedVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianTextureFragment,webGLMesh,{an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e0:materialColorData,h:modelMatrix,i:modelScale,ca:normalMapData,j:projectionMatrix,k:sceneProperties,cm:useNormalMap,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$physicalMesh=F6(function(color,roughness,metallic,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$uniformVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalFragment,webGLMesh,{eu:color,an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e2:metallic,h:modelMatrix,i:modelScale,j:projectionMatrix,fv:roughness,k:sceneProperties,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedEmissiveMesh=F5(function(colorData,backlight,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveTextureFragment,webGLMesh,{es:$ianmackenzie$elm_units$Luminance$inNits(backlight),dl:colorData,h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute highp vec3 normal;\n        attribute mediump vec2 uv;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n            interpolatedUv = uv;\n            interpolatedTangent = vec3(0.0, 0.0, 0.0);\n        }\n    ",attributes:{normal:"C",position:"dX",uv:"ad"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedLambertianMesh=F4(function(materialColorData,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianTextureFragment,webGLMesh,{an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e0:materialColorData,h:modelMatrix,i:modelScale,ca:materialColorData,j:projectionMatrix,k:sceneProperties,cm:0,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedPhysicalMesh=F9(function(baseColorData,constantBaseColor,roughnessData,constantRoughness,metallicData,constantMetallic,bounds,webGLMesh,backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalTexturesFragment,webGLMesh,{ev:baseColorData,eB:constantBaseColor,eC:constantMetallic,eD:constantRoughness,an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e3:metallicData,h:modelMatrix,i:modelScale,ca:baseColorData,j:projectionMatrix,fw:roughnessData,k:sceneProperties,cm:0,l:viewMatrix})}))}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$mesh=F2(function(givenMaterial,givenMesh){switch(givenMaterial.$){case 0:if(givenMaterial.b.$){var data=givenMaterial.b.a.gh;switch(givenMesh.$){case 0:case 1:case 2:case 3:case 4:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 5:case 6:case 7:webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$colorTextureMesh,data,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case 8:case 9:default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}else{var color=givenMaterial.b.a;switch(givenMesh.$){case 0:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 1:case 2:case 3:case 4:case 5:case 6:case 7:webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$constantMesh,color,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case 8:case 9:webGLMesh=givenMesh.c;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$constantMesh,color,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,0);default:webGLMesh=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$constantPointMesh,color,givenMesh.b,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh)}}case 1:if(givenMaterial.b.$){data=givenMaterial.b.a.gh,backlight=givenMaterial.c;switch(givenMesh.$){case 0:case 1:case 2:case 3:case 4:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 5:case 6:case 7:webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedEmissiveMesh,data,backlight,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case 8:case 9:default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}else{var emissiveColor=givenMaterial.b.a,backlight=givenMaterial.c;switch(givenMesh.$){case 0:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 1:case 2:case 3:case 4:case 5:case 6:case 7:webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$emissiveMesh,emissiveColor,backlight,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case 8:case 9:webGLMesh=givenMesh.c;return A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$emissiveMesh,emissiveColor,backlight,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,0);default:webGLMesh=givenMesh.d;return A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$emissivePointMesh,emissiveColor,backlight,givenMesh.b,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh)}}case 2:var _v19=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolveLambertian,givenMaterial.b,givenMaterial.c);if(_v19.$){var _v14=_v19.a,materialColorData=_v14.a,_v14=_v19.b,normalMapData=_v14.a,useNormalMap=_v14.b;switch(givenMesh.$){case 0:case 1:case 2:case 3:case 4:case 5:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 6:webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedLambertianMesh,materialColorData,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case 7:webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A6($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMappedLambertianMesh,materialColorData,normalMapData,useNormalMap,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case 8:case 9:default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}else{var materialColor=_v19.a;switch(givenMesh.$){case 0:case 1:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 2:var webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$lambertianMesh,materialColor,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case 3:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 4:var webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$lambertianMesh,materialColor,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case 5:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 6:case 7:webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$lambertianMesh,materialColor,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case 8:case 9:default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}default:_v14=A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolvePbr,givenMaterial.b,givenMaterial.c,givenMaterial.d,givenMaterial.e);if(_v14.$){var _v19=_v14.a,baseColorData=_v19.a,constantBaseColor=_v19.b,_v19=_v14.b,roughnessData=_v19.a,constantRoughness=_v19.b,_v19=_v14.c,metallicData=_v19.a,constantMetallic=_v19.b,_v19=_v14.d,normalMapData=_v19.a,useNormalMap=_v19.b;switch(givenMesh.$){case 0:case 1:case 2:case 3:case 4:case 5:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 6:webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A9($ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedPhysicalMesh,baseColorData,constantBaseColor,roughnessData,constantRoughness,metallicData,constantMetallic,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case 7:boundingBox=givenMesh.a,webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return function(baseColorData){return function(constantBaseColor){return function(roughnessData){return function(constantRoughness){return function(metallicData){return function(constantMetallic){return function(normalMapData){return function(useNormalMap){return function(bounds){return function(webGLMesh){return function(backFaceSetting){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$normalMappedVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalTexturesFragment,webGLMesh,{ev:baseColorData,eB:constantBaseColor,eC:constantMetallic,eD:constantRoughness,an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e3:metallicData,h:modelMatrix,i:modelScale,ca:normalMapData,j:projectionMatrix,fw:roughnessData,k:sceneProperties,cm:useNormalMap,l:viewMatrix})}))}}}}}}}}}}}(baseColorData)(constantBaseColor)(roughnessData)(constantRoughness)(metallicData)(constantMetallic)(normalMapData)(useNormalMap)($ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox))(webGLMesh)(backFaceSetting);case 8:case 9:default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}else{var baseColor=_v14.a,roughness=_v14.b,metallic=_v14.c;switch(givenMesh.$){case 0:case 1:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 2:webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A6($ianmackenzie$elm_3d_scene$Scene3d$Entity$physicalMesh,baseColor,roughness,metallic,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case 3:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 4:webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A6($ianmackenzie$elm_3d_scene$Scene3d$Entity$physicalMesh,baseColor,roughness,metallic,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case 5:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 6:case 7:var boundingBox,webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A6($ianmackenzie$elm_3d_scene$Scene3d$Entity$physicalMesh,baseColor,roughness,metallic,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case 8:case 9:default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$Transformed=F2(function(a,b){return{$:5,a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$Transformation$compose=F2(function(t1,t2){return{gQ:_Utils_eq(t1.gQ,t2.gQ),F:t1.F*t2.F+t1.G*t2.I+t1.H*t2.L,G:t1.F*t2.G+t1.G*t2.J+t1.H*t2.M,H:t1.F*t2.H+t1.G*t2.K+t1.H*t2.N,I:t1.I*t2.F+t1.J*t2.I+t1.K*t2.L,J:t1.I*t2.G+t1.J*t2.J+t1.K*t2.M,K:t1.I*t2.H+t1.J*t2.K+t1.K*t2.N,L:t1.L*t2.F+t1.M*t2.I+t1.N*t2.L,M:t1.L*t2.G+t1.M*t2.J+t1.N*t2.M,N:t1.L*t2.H+t1.M*t2.K+t1.N*t2.N,_:t2._+(t1._*t2.F+t1.aa*t2.I+t1.ab*t2.L)*t2.d5,aa:t2.aa+(t1._*t2.G+t1.aa*t2.J+t1.ab*t2.M)*t2.d5,ab:t2.ab+(t1._*t2.H+t1.aa*t2.K+t1.ab*t2.N)*t2.d5,d5:t1.d5*t2.d5}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$transformBy=F2(function(transformation,_v0){var node=_v0;switch(node.$){case 0:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case 5:var underlyingNode=node.b;return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$Transformed,A2($ianmackenzie$elm_3d_scene$Scene3d$Transformation$compose,node.a,transformation),underlyingNode);case 1:case 3:case 2:default:return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$Transformed,transformation,node)}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$placeIn=F2(function(frame,givenDrawable){return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$transformBy,$ianmackenzie$elm_3d_scene$Scene3d$Transformation$placeIn(frame),givenDrawable)}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleBounds=F2(function(originalCenterPoint,bounds){var scaleX=originalCenterPoint.a,scaleY=originalCenterPoint.b,scaleZ=originalCenterPoint.c,originalCenterPoint=bounds.jt;return{jt:{U:scaleX*originalCenterPoint.U,V:scaleY*originalCenterPoint.V,iS:scaleZ*originalCenterPoint.iS},ka:scaleX*bounds.ka,kb:scaleY*bounds.kb,kc:scaleZ*bounds.kc}}),$elm_explorations$linear_algebra$Math$Vector4$fromRecord=function(r){return new Float64Array([r.U,r.V,r.iS,r.iI])},$elm_explorations$linear_algebra$Math$Vector4$toRecord=function(a){return{U:a[0],V:a[1],iS:a[2],iI:a[3]}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleNode=F2(function(scalingFactors,node){switch(node.$){case 0:return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyNode;case 5:return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$Transformed,node.a,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleNode,scalingFactors,node.b));case 1:var childNodes=node.b;return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleBounds,scalingFactors,node.a),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleDrawFunction,scalingFactors,childNodes));case 3:return node;case 2:return{$:2,a:A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleDrawFunction,scalingFactors,childNodes=node.a)};default:childNodes=node.a;return{$:4,a:A2($elm$core$List$map,$ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleNode(scalingFactors),childNodes)}}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$preScale=F2(function(scalingFactors,_v0){return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleNode,scalingFactors,_v0)}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute highp vec3 normal;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 shadowLight;\n        \n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        vec3 getDirectionToLight(vec3 surfacePosition, vec4 xyz_type, vec4 rgb_parameter) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                return xyz_type.xyz;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                return normalize(lightPosition - surfacePosition);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 shadowVertexPosition(vec3 position, vec3 normal, mat4 shadowLight, vec4 modelScale, mat4 modelMatrix, mat4 viewMatrix, mat4 projectionMatrix, mat4 sceneProperties) {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            vec3 worldNormal = getWorldNormal(normal, vec4(modelScale.xyz, 1.0), modelMatrix);\n            vec4 xyz_type = shadowLight[0];\n            vec4 rgb_parameter = shadowLight[1];\n            vec3 directionToLight = getDirectionToLight(worldPosition.xyz, xyz_type, rgb_parameter);\n            vec3 offset = vec3(0.0, 0.0, 0.0);\n            float sceneDiameter = sceneProperties[3][1];\n            if (dot(directionToLight, worldNormal) <= 0.0) {\n                offset = -sceneDiameter * directionToLight;\n            } else {\n                offset = -0.001 * sceneDiameter * directionToLight;\n            }\n            vec4 offsetPosition = worldPosition + vec4(offset, 0.0);\n            return projectionMatrix * (viewMatrix * offsetPosition);\n        }\n        \n        void main () {\n            gl_Position = shadowVertexPosition(\n                position,\n                normal,\n                shadowLight,\n                modelScale,\n                modelMatrix,\n                viewMatrix,\n                projectionMatrix,\n                sceneProperties\n            );\n        }\n    ",attributes:{normal:"C",position:"dX"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",shadowLight:"d6",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$cone=F4(function(renderObject,_v0,untransformedEntity,_v1){var baseFrame=$ianmackenzie$elm_geometry$Frame3d$fromZAxis(function(_v0){return _v0.v}(_v1)),untransformedEntity=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$mesh,untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cone),untransformedEntity=(_v0={a:renderObject,b:_v0}).a?_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow($ianmackenzie$elm_3d_scene$Scene3d$Primitives$coneShadow)])):untransformedEntity:_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow($ianmackenzie$elm_3d_scene$Scene3d$Primitives$coneShadow):$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty,_v0=function(_v0){return _v0.hW}(_v1),_v1=function(_v0){return _v0.gV}(_v1);return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$placeIn,baseFrame,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScale,{a:_v0,b:_v0,c:_v1},untransformedEntity))}),$ianmackenzie$elm_3d_scene$Scene3d$cone=F2(function(givenMaterial,givenCone){return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$cone,!0,!1,givenMaterial,givenCone)}),$ianmackenzie$elm_geometry$Direction3d$on=F2(function(_v3,_v1){var _v2=_v3.fO,_v3=_v3.fN;return{U:_v1.U*_v3.U+_v1.V*_v2.U,V:_v1.U*_v3.V+_v1.V*_v2.V,iS:_v1.U*_v3.iS+_v1.V*_v2.iS}}),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinder=function(){var wedgeAngle=A2($ianmackenzie$elm_units$Quantity$divideBy,72,6.283185307179586),positiveZVector=$ianmackenzie$elm_geometry$Direction3d$toVector($ianmackenzie$elm_geometry$Direction3d$positiveZ),negativeZVector=$ianmackenzie$elm_geometry$Direction3d$toVector($ianmackenzie$elm_geometry$Direction3d$negativeZ),topZ=A2($ianmackenzie$elm_units$Quantity$multiplyBy,.5,1),topCenter=A3($ianmackenzie$elm_geometry$Point3d$xyz,0,0,topZ),bottomZ=A2($ianmackenzie$elm_units$Quantity$multiplyBy,-.5,1),bottomCenter=A3($ianmackenzie$elm_geometry$Point3d$xyz,0,0,bottomZ),triangularMesh=$ianmackenzie$elm_triangular_mesh$TriangularMesh$triangles($elm$core$List$concat(A2($elm$core$List$map,function(p3){var p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,p3,wedgeAngle),startNormal=$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$on,$ianmackenzie$elm_geometry$SketchPlane3d$xy,$ianmackenzie$elm_geometry$Direction2d$fromAngle(p1))),endNormal=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(p1),1),endX=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(p1),1),p2=A3($ianmackenzie$elm_geometry$Point3d$xyz,endNormal,endX,topZ),p0=A3($ianmackenzie$elm_geometry$Point3d$xyz,endNormal,endX,bottomZ),p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,A2($elm$core$Basics$modBy,72,p3+1),wedgeAngle),endNormal=$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$on,$ianmackenzie$elm_geometry$SketchPlane3d$xy,$ianmackenzie$elm_geometry$Direction2d$fromAngle(p1))),endX=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(p1),1),p3=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(p1),1),p1=A3($ianmackenzie$elm_geometry$Point3d$xyz,endX,p3,bottomZ),p3=A3($ianmackenzie$elm_geometry$Point3d$xyz,endX,p3,topZ);return _List_fromArray([{a:{C:negativeZVector,dX:bottomCenter},b:{C:negativeZVector,dX:p1},c:{C:negativeZVector,dX:p0}},{a:{C:startNormal,dX:p0},b:{C:endNormal,dX:p1},c:{C:endNormal,dX:p3}},{a:{C:startNormal,dX:p0},b:{C:endNormal,dX:p3},c:{C:startNormal,dX:p2}},{a:{C:positiveZVector,dX:topCenter},b:{C:positiveZVector,dX:p2},c:{C:positiveZVector,dX:p3}}])},A2($elm$core$List$range,0,71))));return $ianmackenzie$elm_3d_scene$Scene3d$Mesh$cullBackFaces($ianmackenzie$elm_3d_scene$Scene3d$Mesh$indexedFaces(triangularMesh))}(),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinderShadow=$mdgriffith$elm_ui$Internal$Style$classes_bJ($ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinder),$ianmackenzie$elm_3d_scene$Scene3d$Entity$cylinder=F4(function(renderObject,_v0,untransformedEntity,_v1){var centerFrame=$ianmackenzie$elm_geometry$Frame3d$fromZAxis(function(_v0){return _v0.v}(_v1)),untransformedEntity=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$mesh,untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinder),untransformedEntity=(_v0={a:renderObject,b:_v0}).a?_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow($ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinderShadow)])):untransformedEntity:_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow($ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinderShadow):$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty,_v0=function(_v0){return _v0.hW}(_v1),_v1=function(_v0){return _v0.gV}(_v1);return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$placeIn,centerFrame,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScale,{a:_v0,b:_v0,c:_v1},untransformedEntity))}),$ianmackenzie$elm_3d_scene$Scene3d$cylinder=F2(function(givenMaterial,givenCylinder){return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$cylinder,!0,!1,givenMaterial,givenCylinder)}),$avh4$elm_color$Color$darkGreen=A4($avh4$elm_color$Color$RgbaSpace,78/255,154/255,6/255,1),$ianmackenzie$elm_units$Quantity$plus=F2(function(_v0,_v1){return _v1+_v0}),$ianmackenzie$elm_geometry$BoundingBox3d$unsafeOffsetBy=F2(function(amount,boundingBox){return{hl:A2($ianmackenzie$elm_units$Quantity$plus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$maxX(boundingBox)),hm:A2($ianmackenzie$elm_units$Quantity$plus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$maxY(boundingBox)),kL:A2($ianmackenzie$elm_units$Quantity$plus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$maxZ(boundingBox)),hr:A2($ianmackenzie$elm_units$Quantity$minus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$minX(boundingBox)),hs:A2($ianmackenzie$elm_units$Quantity$minus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$minY(boundingBox)),kN:A2($ianmackenzie$elm_units$Quantity$minus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$minZ(boundingBox))}}),$ianmackenzie$elm_geometry$BoundingBox3d$expandBy=F2(function(amount,boundingBox){return A2($ianmackenzie$elm_geometry$BoundingBox3d$unsafeOffsetBy,$ianmackenzie$elm_units$Quantity$abs(amount),boundingBox)}),$avh4$elm_color$Color$hsla=F4(function(r,b,g,alpha){var hueToRgb={a:r,b:b,c:g},r=hueToRgb.a,b=hueToRgb.b,g=hueToRgb.c,m2=.5<g?g+b-g*b:g*(b+1),m1=2*g-m2,hueToRgb=function(h_){h_=h_<0?h_+1:1<h_?h_-1:h_;return 6*h_<1?m1+(m2-m1)*h_*6:2*h_<1?m2:3*h_<2?m1+(m2-m1)*(2/3-h_)*6:m1},b=hueToRgb(r-1/3),g=hueToRgb(r),r=hueToRgb(r+1/3);return A4($avh4$elm_color$Color$RgbaSpace,r,g,b,alpha)}),$avh4$elm_color$Color$hsl=F3(function(h,s,l){return A4($avh4$elm_color$Color$hsla,h,s,l,1)}),$avh4$elm_color$Color$purple=A4($avh4$elm_color$Color$RgbaSpace,117/255,80/255,123/255,1),$avh4$elm_color$Color$red=A4($avh4$elm_color$Color$RgbaSpace,.8,0,0,1),$elm$core$Basics$isNaN=$elm$svg$Svg$Attributes$y1,$avh4$elm_color$Color$grey=A4($avh4$elm_color$Color$RgbaSpace,211/255,215/255,207/255,1),$author$project$VisualEntities$optionally=F2(function(test,element){return test?element:_List_Nil}),$avh4$elm_color$Color$rgb255=F3(function(r,g,b){return A4($avh4$elm_color$Color$RgbaSpace,r/255,g/255,b/255,1)}),$ianmackenzie$elm_geometry$Cone3d$startingAt=F3(function(givenBasePoint,givenDirection,_arguments){return{v:A2($ianmackenzie$elm_geometry$Axis3d$through,givenBasePoint,givenDirection),gV:$ianmackenzie$elm_units$Quantity$abs(_arguments.gV),hW:$ianmackenzie$elm_units$Quantity$abs(_arguments.hW)}}),$ianmackenzie$elm_geometry$Point3d$translateIn=F3(function(_v0,_v1,_v2){return{U:_v2.U+_v1*_v0.U,V:_v2.V+_v1*_v0.V,iS:_v2.iS+_v1*_v0.iS}}),$ianmackenzie$elm_geometry$Cylinder3d$startingAt=F3(function(computedCenterPoint,givenDirection,_arguments){var computedLength=$ianmackenzie$elm_units$Quantity$abs(_arguments.gV),computedCenterPoint=A3($ianmackenzie$elm_geometry$Point3d$translateIn,givenDirection,$ianmackenzie$elm_units$Quantity$half(computedLength),computedCenterPoint);return{v:A2($ianmackenzie$elm_geometry$Axis3d$through,computedCenterPoint,givenDirection),gV:computedLength,hW:$ianmackenzie$elm_units$Quantity$abs(_arguments.hW)}}),$author$project$VisualEntities$makeStatic3DEntities=F2(function(context,_v0){function trackpointmarker(loc){return A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$black),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,-1),loc),$ianmackenzie$elm_geometry$Direction3d$positiveZ,{gV:1,hW:.6}))}var trackpointMarkers=_Utils_ap(A2($elm$core$List$map,function(road){return trackpointmarker(road.bE.aq)},A2($elm$core$List$take,1,_v0)),A2($elm$core$List$map,makeEndCone,_v0));function makeEndCone(road){return trackpointmarker(road.B.aq)}function brownPillar(loc){return A2($ianmackenzie$elm_3d_scene$Scene3d$cylinder,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$brown),A3($ianmackenzie$elm_geometry$Cylinder3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,-1),loc),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{gV:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$Point3d$zCoordinate(loc),1),hW:.5}))}var seaLevel,pillars=function(road){var leftEdge={a:road.bE.aq,b:road.B.aq},rightEdge={a:.3*$elm$core$Basics$cos(road.da),b:.3*$elm$core$Basics$sin(road.da)},leftVector=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*rightEdge.a,rightEdge.b,.05),rightEdge=$ianmackenzie$elm_geometry$Vector3d$reverse(leftVector),rightEdge={a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftVector,leftEdge),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightEdge,leftEdge)},leftEdge=rightEdge.a,rightEdge=rightEdge.b;return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($author$project$Utils$gradientColourPastel(road.gF)),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(leftEdge),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(leftEdge),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(rightEdge),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(rightEdge))])},seaLevel=(roadSurfaces=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(A2($ianmackenzie$elm_geometry$BoundingBox3d$expandBy,1e3,context.ar)),seaLevel=roadSurfaces.hr,curtains=roadSurfaces.hl,centreLine=roadSurfaces.hs,roadSurfaces=roadSurfaces.hm,A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$darkGreen),A3($ianmackenzie$elm_geometry$Point3d$xyz,seaLevel,centreLine,0),A3($ianmackenzie$elm_geometry$Point3d$xyz,seaLevel,roadSurfaces,0),A3($ianmackenzie$elm_geometry$Point3d$xyz,curtains,roadSurfaces,0),A3($ianmackenzie$elm_geometry$Point3d$xyz,curtains,centreLine,0))),roadSurfaces=A2($elm$core$List$concatMap,function(leftKerbVector){var leftKerb={a:leftKerbVector.bE.aq,b:leftKerbVector.B.aq},rightKerb={a:3*$elm$core$Basics$cos(leftKerbVector.da),b:3*$elm$core$Basics$sin(leftKerbVector.da)},leftKerbVector=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*rightKerb.a,rightKerb.b,0),rightKerb=$ianmackenzie$elm_geometry$Vector3d$reverse(leftKerbVector),rightKerb={a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftKerbVector,leftKerb),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightKerb,leftKerb)},leftKerb=rightKerb.a,rightKerb=rightKerb.b;return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$matte($avh4$elm_color$Color$grey),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(leftKerb),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(leftKerb),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(rightKerb),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(rightKerb))])},_v0),curtains=A2($elm$core$List$concatMap,function(road){return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color(function(gradient){switch(context.s.gg){case 2:return $author$project$Utils$gradientColourVivid(gradient);case 3:return $author$project$Utils$gradientColourPastel(gradient);case 1:return A3($avh4$elm_color$Color$rgb255,0,100,0);default:return A3($avh4$elm_color$Color$rgb255,0,0,0)}}(road.gF)),road.bE.aq,road.B.aq,A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,road.B.aq),A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,road.bE.aq))])},_v0),centreLine=A2($elm$core$List$concatMap,pillars,_v0),pillars=_Utils_ap(A2($elm$core$List$map,function(r){return brownPillar(r.bE.aq)},A2($elm$core$List$take,1,_v0)),A2($elm$core$List$map,function(r){return brownPillar(r.B.aq)},_v0)),_v0={a:A2($ianmackenzie$elm_geometry$Vector3d$withLength,.5,$ianmackenzie$elm_geometry$Direction3d$x),b:A2($ianmackenzie$elm_geometry$Vector3d$withLength,.5,$ianmackenzie$elm_geometry$Direction3d$y)};return _Utils_ap(_List_fromArray([seaLevel]),_Utils_ap(A2($author$project$VisualEntities$optionally,context.s.h5,pillars),_Utils_ap(A2($author$project$VisualEntities$optionally,context.s.h4,trackpointMarkers),_Utils_ap(A2($author$project$VisualEntities$optionally,context.s.h6,roadSurfaces),_Utils_ap(A2($author$project$VisualEntities$optionally,!!context.s.gg,curtains),A2($author$project$VisualEntities$optionally,context.s.f0,centreLine))))))}),$author$project$VisualEntities$exaggerateRoad=F2(function(context,road){return _Utils_update(road,{dZ:A2($author$project$VisualEntities$exaggerateNode,context,road.dZ),cc:A2($author$project$VisualEntities$exaggerateNode,context,road.cc)})}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectSmoothTextured=F2(function(_v0,accumulated){var position=_v0.dX,v=_v0.ad,u=v.a,v=v.b;return A2($elm$core$List$cons,{C:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Vector3d$toVec3(_v0.C),dX:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(position),ad:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,u,v)},accumulated)}),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$sphere=(alpha=A2($elm$core$List$range,0,71),$mdgriffith$elm_ui$Element$Input$defaultTextPadding=A2($ianmackenzie$elm_1d_parameter$Parameter1d$steps,72,A2($ianmackenzie$elm_units$Quantity$interpolateFrom,0,6.283185307179586)),m=$elm$core$Basics$ceiling(36),phiStartIndices=A2($elm$core$List$range,0,m-1),phiValues=A2($ianmackenzie$elm_1d_parameter$Parameter1d$steps,m,A2($ianmackenzie$elm_units$Quantity$interpolateFrom,1.5707963267948966,-1.5707963267948966)),$mdgriffith$elm_ui$Element$Input$defaultTextPadding=$elm$core$Array$fromList($elm$core$List$concat(A2($elm$core$List$map,function(theta){return A2($elm$core$List$map,function(phi){return{C:$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$xyZ,theta,phi)),dX:A3($ianmackenzie$elm_geometry$Point3d$xyz,A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(phi)*$ianmackenzie$elm_units$Angle$cos(theta),1),A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(phi)*$ianmackenzie$elm_units$Angle$sin(theta),1),A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(phi),1)),ad:{a:A2($ianmackenzie$elm_units$Quantity$ratio,theta,6.283185307179586),b:A2($ianmackenzie$elm_units$Quantity$ratio,A2($ianmackenzie$elm_units$Quantity$plus,1.5707963267948966,phi),3.141592653589793)}}},phiValues)},$mdgriffith$elm_ui$Element$Input$defaultTextPadding))),linearIndex=F2(function(i,j){return i*(m+1)+j}),alpha=$elm$core$List$concat(A2($elm$core$List$map,function(i){return $elm$core$List$concat(A2($elm$core$List$map,function(bottomLeftIndex){var topRightIndex=A2(linearIndex,i+1,bottomLeftIndex),topLeftIndex=A2(linearIndex,i,bottomLeftIndex),bottomRightIndex=A2(linearIndex,i+1,bottomLeftIndex+1),bottomLeftIndex=A2(linearIndex,i,bottomLeftIndex+1);return _List_fromArray([{a:bottomLeftIndex,b:bottomRightIndex,c:topRightIndex},{a:bottomLeftIndex,b:topRightIndex,c:topLeftIndex}])},phiStartIndices))},alpha)),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$cullBackFaces(function(givenMesh){var webGLMesh=A3($elm$core$Array$foldr,$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectSmoothTextured,_List_Nil,$ianmackenzie$elm_triangular_mesh$TriangularMesh$vertices(givenMesh));if(webGLMesh.b){var first=webGLMesh.a,rest=webGLMesh.b,webGLMesh=A2($elm_explorations$webgl$WebGL$indexedTriangles,webGLMesh,$ianmackenzie$elm_triangular_mesh$TriangularMesh$faceIndices(givenMesh));return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormalsAndUvs,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBounds,first,rest),givenMesh,webGLMesh,0)}return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyMesh}(A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$indexed,$mdgriffith$elm_ui$Element$Input$defaultTextPadding,alpha)))),$mdgriffith$elm_ui$Internal$Style$Supports=F2(function(stripIndex,accumulated){for(;;){var updated=A2($elm$core$Basics$modBy,144,2*stripIndex+3),d=A2($elm$core$Basics$modBy,144,2*stripIndex+2),c=2*stripIndex+1,b=2*stripIndex,updated=A2($elm$core$List$cons,{a:144,b:b,c:d},A2($elm$core$List$cons,{a:b,b:updated,c:d},A2($elm$core$List$cons,{a:b,b:c,c:updated},A2($elm$core$List$cons,{a:c,b:145,c:updated},accumulated))));if(!stripIndex)return updated;stripIndex=stripIndex-1,accumulated=updated}}),$ianmackenzie$elm_float_extra$Float$Extra$interpolateFrom=F3(function(start,end,parameter){return.5<parameter?end+(1-parameter)*(start-end):start+parameter*(end-start)}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadowMesh=($mdgriffith$elm_ui$Internal$Style$AllChildren=A2(F2(function(stripIndex,accumulated){for(;;){var updated=A3($ianmackenzie$elm_float_extra$Float$Extra$interpolateFrom,0,6.283185307179586,stripIndex/72),updated=A2($elm$core$List$cons,{c8:updated,dP:0,d0:1},A2($elm$core$List$cons,{c8:updated,dP:1,d0:1},accumulated));if(!stripIndex)return updated;stripIndex=stripIndex-1,accumulated=updated}}),71,_List_fromArray([{c8:0,dP:0,d0:0},{c8:0,dP:1,d0:0}])),A2($elm_explorations$webgl$WebGL$indexedTriangles,$mdgriffith$elm_ui$Internal$Style$AllChildren,A2($mdgriffith$elm_ui$Internal$Style$Supports,71,_List_Nil))),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$sphereShadowVertex={src:"\n        precision highp float;\n        \n        attribute highp float angle;\n        attribute highp float offsetScale;\n        attribute highp float radiusScale;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 shadowLight;\n        \n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const lowp float kPerspectiveProjection = 0.0;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 getDirectionToLight(vec3 surfacePosition, vec4 xyz_type, vec4 rgb_parameter) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                return xyz_type.xyz;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                return normalize(lightPosition - surfacePosition);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec3 perpendicularTo(vec3 d) {\n            float absX = abs(d.x);\n            float absY = abs(d.y);\n            float absZ = abs(d.z);\n            if (absX <= absY) {\n                if (absX <= absZ) {\n                    float scale = 1.0 / length(d.zy);\n                    return vec3(0.0, -d.z * scale, d.y * scale);\n                } else {\n                    float scale = 1.0 / length(d.xy);\n                    return vec3(-d.y * scale, d.x * scale, 0.0);\n                }\n            } else {\n                if (absY <= absZ) {\n                    float scale = 1.0 / length(d.xz);\n                    return vec3(d.z * scale, 0.0, -d.x * scale);\n                } else {\n                    float scale = 1.0 / length(d.xy);\n                    return vec3(-d.y * scale, d.x * scale, 0.0);\n                }\n            }\n        }\n        \n        void main () {\n            vec4 worldCenter = getWorldPosition(vec3(0.0, 0.0, 0.0), modelScale, modelMatrix);\n            vec4 xyz_type = shadowLight[0];\n            vec4 rgb_parameter = shadowLight[1];\n            vec3 zDirection = getDirectionToLight(worldCenter.xyz, xyz_type, rgb_parameter);\n            vec3 xDirection = perpendicularTo(zDirection);\n            vec3 yDirection = cross(zDirection, xDirection);\n            float r = modelScale.x;\n            float adjustedRadius = r;\n            float zOffset = 0.0;\n            if (xyz_type.w == kPointLight) {\n                float distanceToLight = length(xyz_type.xyz - worldCenter.xyz);\n                float rSquared = r * r;\n                zOffset = rSquared / distanceToLight;\n                float zSquared = zOffset * zOffset;\n                adjustedRadius = sqrt(rSquared - zSquared) * radiusScale;\n            }\n            vec3 worldPosition =\n                worldCenter.xyz\n                    + zDirection * zOffset\n                    + xDirection * adjustedRadius * cos(angle)\n                    + yDirection * adjustedRadius * sin(angle);\n            vec3 directionToLight = getDirectionToLight(worldPosition, xyz_type, rgb_parameter);\n            float sceneDiameter = sceneProperties[3][1];\n            vec3 offset = -sceneDiameter * offsetScale * directionToLight;\n            vec4 offsetPosition = vec4(worldPosition + offset, 1.0);\n            gl_Position = projectionMatrix * (viewMatrix * offsetPosition);\n        }\n    ",attributes:{angle:"c8",offsetScale:"dP",radiusScale:"d0"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",shadowLight:"d6",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$translateBy=F2(function(displacement,givenDrawable){return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$transformBy,function(v){v=$ianmackenzie$elm_geometry$Vector3d$unwrap(v);return{gQ:!0,F:1,G:0,H:0,I:0,J:1,K:0,L:0,M:0,N:1,_:v.U,aa:v.V,ab:v.iS,d5:1}}(displacement),givenDrawable)}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphere=F4(function(renderObject,r,untransformedEntity,givenSphere){untransformedEntity=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$mesh,untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Primitives$sphere),untransformedEntity=(r={a:renderObject,b:r}).a?r.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadow()])):untransformedEntity:r.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadow():$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty,r=function(_v0){return _v0.hW}(givenSphere);return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$translateBy,A2($ianmackenzie$elm_geometry$Vector3d$from,$ianmackenzie$elm_geometry$Point3d$origin,function(_v0){return _v0.jt}(givenSphere)),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScale,{a:r,b:r,c:r},untransformedEntity))}),$ianmackenzie$elm_3d_scene$Scene3d$sphere=F2(function(givenMaterial,givenSphere){return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$sphere,!0,!1,givenMaterial,givenSphere)}),$ianmackenzie$elm_geometry$Sphere3d$withRadius=F2(function(givenRadius,givenCenterPoint){return{jt:givenCenterPoint,hW:$ianmackenzie$elm_units$Quantity$abs(givenRadius)}}),$author$project$VisualEntities$makeStaticProfileEntities=F2(function(context,curtains){function trackpointmarker(loc){return A2($ianmackenzie$elm_3d_scene$Scene3d$sphere,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$black),A2($ianmackenzie$elm_geometry$Sphere3d$withRadius,.2,loc))}function brownPillar(loc){return A2($ianmackenzie$elm_3d_scene$Scene3d$cylinder,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$brown),A3($ianmackenzie$elm_geometry$Cylinder3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,-.2),loc),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{gV:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$Point3d$zCoordinate(loc),.2),hW:.1}))}var pillars=A2($elm$core$List$map,$author$project$VisualEntities$exaggerateRoad(context),curtains),trackpointMarkers=_Utils_ap(A2($elm$core$List$map,function(r){return trackpointmarker(r.cc.aq)},A2($elm$core$List$take,1,pillars)),A2($elm$core$List$map,function(r){return trackpointmarker(r.dZ.aq)},pillars)),curtains=$elm$core$List$concat(A2($elm$core$List$map,function(road){return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color(function(gradient){switch(context.s.gg){case 2:return $author$project$Utils$gradientColourVivid(gradient);case 3:return $author$project$Utils$gradientColourPastel(gradient);case 1:return A3($avh4$elm_color$Color$rgb255,0,100,0);default:return A3($avh4$elm_color$Color$rgb255,0,0,0)}}(road.gF)),road.cc.aq,road.dZ.aq,A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,road.dZ.aq),A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,road.cc.aq))])},pillars)),pillars=_Utils_ap(A2($elm$core$List$map,function(r){return brownPillar(r.cc.aq)},A2($elm$core$List$take,1,pillars)),A2($elm$core$List$map,function(r){return brownPillar(r.dZ.aq)},pillars));return _Utils_ap(_List_Nil,_Utils_ap(A2($author$project$VisualEntities$optionally,context.s.h5,pillars),_Utils_ap(A2($author$project$VisualEntities$optionally,context.s.h4,trackpointMarkers),A2($author$project$VisualEntities$optionally,!!context.s.gg,curtains))))}),$avh4$elm_color$Color$lightOrange=A4($avh4$elm_color$Color$RgbaSpace,252/255,175/255,62/255,1),$avh4$elm_color$Color$lightYellow=A4($avh4$elm_color$Color$RgbaSpace,1,233/255,79/255,1),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainTriangleVertex={src:"\n        precision highp float;\n        \n        attribute lowp float triangleVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 triangleVertexPositions;\n        \n        void getTriangleVertex(int triangleVertexIndex, mat4 triangleVertexPositions, out vec3 position, out vec3 normal) {\n            vec3 p1 = triangleVertexPositions[0].xyz;\n            vec3 p2 = triangleVertexPositions[1].xyz;\n            vec3 p3 = triangleVertexPositions[2].xyz;\n            normal = normalize(cross(p2 - p1, p3 - p2));\n            float t1 = float(triangleVertexIndex == 0);\n            float t2 = float(triangleVertexIndex == 1);\n            float t3 = float(triangleVertexIndex == 2);\n            position = t1 * p1 + t2 * p2 + t3 * p3;\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            getTriangleVertex(int(triangleVertex), triangleVertexPositions, position, normal);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n        }\n    ",attributes:{triangleVertex:"fE"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",triangleVertexPositions:"c1",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothTriangleVertex={src:"\n        precision highp float;\n        \n        attribute lowp float triangleVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 triangleVertexPositions;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        void getTriangleVertex(int triangleVertexIndex, mat4 triangleVertexPositions, out vec3 position, out vec3 normal) {\n            vec3 p1 = triangleVertexPositions[0].xyz;\n            vec3 p2 = triangleVertexPositions[1].xyz;\n            vec3 p3 = triangleVertexPositions[2].xyz;\n            normal = normalize(cross(p2 - p1, p3 - p2));\n            float t1 = float(triangleVertexIndex == 0);\n            float t2 = float(triangleVertexIndex == 1);\n            float t3 = float(triangleVertexIndex == 2);\n            position = t1 * p1 + t2 * p2 + t3 * p3;\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            getTriangleVertex(int(triangleVertex), triangleVertexPositions, position, normal);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n        }\n    ",attributes:{triangleVertex:"fE"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",triangleVertexPositions:"c1",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices=F2(function(a,b){return{$:2,a:a,b:b}})({go:3,gL:0,hu:4})(_List_fromArray([{a:{fE:0},b:{fE:1},c:{fE:2}}])),$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleMesh=F2(function(givenMaterial,givenTriangle){var y2,z2,x3,y3,boundingBox,x1,y1,z1,x2,boundingBox=(z2=$ianmackenzie$elm_geometry$Triangle3d$vertices(y2=givenTriangle),boundingBox=z2.c,x1=$ianmackenzie$elm_geometry$Point3d$xCoordinate(x3=z2.a),y1=$ianmackenzie$elm_geometry$Point3d$yCoordinate(x3),z1=$ianmackenzie$elm_geometry$Point3d$zCoordinate(x3),x2=$ianmackenzie$elm_geometry$Point3d$xCoordinate(y3=z2.b),y2=$ianmackenzie$elm_geometry$Point3d$yCoordinate(y3),z2=$ianmackenzie$elm_geometry$Point3d$zCoordinate(y3),x3=$ianmackenzie$elm_geometry$Point3d$xCoordinate(boundingBox),y3=$ianmackenzie$elm_geometry$Point3d$yCoordinate(boundingBox),boundingBox=$ianmackenzie$elm_geometry$Point3d$zCoordinate(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$fromExtrema({hl:A2($ianmackenzie$elm_units$Quantity$max,x1,A2($ianmackenzie$elm_units$Quantity$max,x2,x3)),hm:A2($ianmackenzie$elm_units$Quantity$max,y1,A2($ianmackenzie$elm_units$Quantity$max,y2,y3)),kL:A2($ianmackenzie$elm_units$Quantity$max,z1,A2($ianmackenzie$elm_units$Quantity$max,z2,boundingBox)),hr:A2($ianmackenzie$elm_units$Quantity$min,x1,A2($ianmackenzie$elm_units$Quantity$min,x2,x3)),hs:A2($ianmackenzie$elm_units$Quantity$min,y1,A2($ianmackenzie$elm_units$Quantity$min,y2,y3)),kN:A2($ianmackenzie$elm_units$Quantity$min,z1,A2($ianmackenzie$elm_units$Quantity$min,z2,boundingBox))})),bounds=$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox);switch(givenMaterial.$){case 0:if(givenMaterial.b.$)return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;var color=givenMaterial.b.a;return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainTriangleVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices,{bs:color,h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,c1:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),l:viewMatrix})}));case 1:if(givenMaterial.b.$)return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;var emissiveColor=givenMaterial.b.a,backlight=givenMaterial.c;return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainTriangleVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices,{bX:A2($elm_explorations$linear_algebra$Math$Vector3$scale,$ianmackenzie$elm_units$Luminance$inNits(backlight),emissiveColor),h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,c1:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),l:viewMatrix})}));case 2:var _v7=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolveLambertian,givenMaterial.b,givenMaterial.c);if(_v7.$)return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;var materialColor=_v7.a;return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothTriangleVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices,{an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e$:materialColor,h:modelMatrix,i:modelScale,j:projectionMatrix,k:sceneProperties,c1:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),l:viewMatrix})}));default:_v7=A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolvePbr,givenMaterial.b,givenMaterial.c,givenMaterial.d,givenMaterial.e);if(_v7.$)return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;var baseColor=_v7.a,roughness=_v7.b,metallic=_v7.c;return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothTriangleVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices,{eu:baseColor,an:enabledLights,cI:lights.cI,dH:lights.dH,dI:lights.dI,dJ:lights.dJ,e2:metallic,h:modelMatrix,i:modelScale,j:projectionMatrix,fv:roughness,k:sceneProperties,c1:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),l:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadowMesh=($mdgriffith$elm_ui$Internal$Style$describeAlignment=_List_fromArray([{cl:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,1)},{cl:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,1)},{cl:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,2,1)},{cl:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,-1)},{cl:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,-1)},{cl:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,2,-1)}]),$mdgriffith$elm_ui$Internal$Style$elDescription=_List_fromArray([{a:0,b:1,c:2},{a:3,b:5,c:4},{a:3,b:4,c:1},{a:3,b:1,c:0},{a:4,b:5,c:2},{a:4,b:2,c:1},{a:5,b:3,c:0},{a:5,b:0,c:2}]),A2($elm_explorations$webgl$WebGL$indexedTriangles,$mdgriffith$elm_ui$Internal$Style$describeAlignment,$mdgriffith$elm_ui$Internal$Style$elDescription)),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$triangleShadowVertex={src:"\n        precision highp float;\n        \n        attribute highp vec2 triangleShadowVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 shadowLight;\n        uniform highp mat4 triangleVertexPositions;\n        \n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        \n        void getTriangleVertex(int triangleVertexIndex, mat4 triangleVertexPositions, out vec3 position, out vec3 normal) {\n            vec3 p1 = triangleVertexPositions[0].xyz;\n            vec3 p2 = triangleVertexPositions[1].xyz;\n            vec3 p3 = triangleVertexPositions[2].xyz;\n            normal = normalize(cross(p2 - p1, p3 - p2));\n            float t1 = float(triangleVertexIndex == 0);\n            float t2 = float(triangleVertexIndex == 1);\n            float t3 = float(triangleVertexIndex == 2);\n            position = t1 * p1 + t2 * p2 + t3 * p3;\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        vec3 getDirectionToLight(vec3 surfacePosition, vec4 xyz_type, vec4 rgb_parameter) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                return xyz_type.xyz;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                return normalize(lightPosition - surfacePosition);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 shadowVertexPosition(vec3 position, vec3 normal, mat4 shadowLight, vec4 modelScale, mat4 modelMatrix, mat4 viewMatrix, mat4 projectionMatrix, mat4 sceneProperties) {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            vec3 worldNormal = getWorldNormal(normal, vec4(modelScale.xyz, 1.0), modelMatrix);\n            vec4 xyz_type = shadowLight[0];\n            vec4 rgb_parameter = shadowLight[1];\n            vec3 directionToLight = getDirectionToLight(worldPosition.xyz, xyz_type, rgb_parameter);\n            vec3 offset = vec3(0.0, 0.0, 0.0);\n            float sceneDiameter = sceneProperties[3][1];\n            if (dot(directionToLight, worldNormal) <= 0.0) {\n                offset = -sceneDiameter * directionToLight;\n            } else {\n                offset = -0.001 * sceneDiameter * directionToLight;\n            }\n            vec4 offsetPosition = worldPosition + vec4(offset, 0.0);\n            return projectionMatrix * (viewMatrix * offsetPosition);\n        }\n        \n        void main () {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            getTriangleVertex(int(triangleShadowVertex.x), triangleVertexPositions, position, normal);\n            normal *= triangleShadowVertex.y;\n            gl_Position = shadowVertexPosition(\n                position,\n                normal,\n                shadowLight,\n                modelScale,\n                modelMatrix,\n                viewMatrix,\n                projectionMatrix,\n                sceneProperties\n            );\n        }\n    ",attributes:{triangleShadowVertex:"cl"},uniforms:{modelMatrix:"h",modelScale:"i",projectionMatrix:"j",sceneProperties:"k",shadowLight:"d6",triangleVertexPositions:"c1",viewMatrix:"l"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangle=F4(function(renderObject,_v0,meshEntity,givenTriangle){meshEntity=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleMesh,meshEntity,givenTriangle),_v0={a:renderObject,b:_v0};return _v0.a?_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([meshEntity,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadow(givenTriangle)])):meshEntity:_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadow(givenTriangle):$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}),$ianmackenzie$elm_3d_scene$Scene3d$facet=F2(function(givenMaterial,givenTriangle){return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$triangle,!0,!1,givenMaterial,givenTriangle)}),$ianmackenzie$elm_3d_scene$Scene3d$Types$EmissiveMaterial=F3(function(a,b,c){return{$:1,a:a,b:b,c:c}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$PbrMaterial=F5(function(a,b,c,d,e){return{$:3,a:a,b:b,c:c,d:d,e:e}}),$ianmackenzie$elm_3d_scene$Scene3d$Material$plain=function(material){switch(material.$){case 0:return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$UnlitMaterial,material.a,material.b);case 1:return A3($ianmackenzie$elm_3d_scene$Scene3d$Types$EmissiveMaterial,material.a,material.b,material.c);case 2:return A3($ianmackenzie$elm_3d_scene$Scene3d$Types$LambertianMaterial,material.a,material.b,material.c);default:return A5($ianmackenzie$elm_3d_scene$Scene3d$Types$PbrMaterial,material.a,material.b,material.c,material.d,material.e)}},$ianmackenzie$elm_3d_scene$Scene3d$triangle=F2(function(givenMaterial,givenTriangle){return A2($ianmackenzie$elm_3d_scene$Scene3d$facet,$ianmackenzie$elm_3d_scene$Scene3d$Material$plain(givenMaterial),givenTriangle)}),$author$project$VisualEntities$makeVaryingProfileEntities=F2(function(context,markedNode){function triangleForNode(apex){var relativeSize=A2($elm$core$Basics$pow,2,14-context.fR),apex=A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,.3),apex.aq);return{a:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,-.3*relativeSize,relativeSize),apex),b:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,.3*relativeSize,relativeSize),apex),c:apex}}var roadList=A2($elm$core$List$map,$author$project$VisualEntities$exaggerateRoad(context),markedNode),nudgedNodes=function(){var segmentsInvolved=context.aD;if(segmentsInvolved.$)return _List_Nil;var segmentsInvolved=A2($elm$core$List$drop,segmentsInvolved.a-1,roadList),baselineWithElevationFromNudged=F2(function(baseline,nudgedRecord){nudgedRecord=$ianmackenzie$elm_geometry$Point3d$toMeters(nudgedRecord);return _Utils_update($ianmackenzie$elm_geometry$Point3d$toMeters(baseline),{iS:nudgedRecord.iS*context.Z})});return A3($elm$core$List$map2,F2(function(baseline,nudged){return A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$lightYellow),baseline.cc.aq,A2(baselineWithElevationFromNudged,baseline.cc.aq,nudged.bE.aq),A2(baselineWithElevationFromNudged,baseline.dZ.aq,nudged.B.aq),baseline.dZ.aq)}),segmentsInvolved,A2($elm$core$List$map,$author$project$VisualEntities$exaggerateRoad(context),context.e9))}(),markedNode=function(){var node=context.c;if(node.$)return _List_Nil;node=node.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$triangle,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$purple),triangleForNode(A2($author$project$VisualEntities$exaggerateNode,context,node)))])}();return _Utils_ap(function(){var node=context.a;if(node.$)return _List_Nil;node=node.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$triangle,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$lightOrange),triangleForNode(A2($author$project$VisualEntities$exaggerateNode,context,node)))])}(),_Utils_ap(markedNode,nudgedNodes))}),$ianmackenzie$elm_geometry$Direction3d$from=F2(function(scaledLength,scaledX){var scaledZ=scaledX.iS-scaledLength.iS,scaledY=scaledX.V-scaledLength.V,scaledX=scaledX.U-scaledLength.U,scaledLength=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledY),$elm$core$Basics$abs(scaledZ)));if(scaledLength){scaledZ=scaledZ/scaledLength,scaledY=scaledY/scaledLength,scaledX=scaledX/scaledLength,scaledLength=$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ);return $elm$core$Maybe$Just({U:scaledX/scaledLength,V:scaledY/scaledLength,iS:scaledZ/scaledLength})}return $elm$core$Maybe$Nothing}),$author$project$VisualEntities$makeVaryingVisualEntities=F2(function(context){var nudgeElement=F2(function(colour,leftVector){var leftEdge=A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,.1),{a:leftVector.bE.aq,b:leftVector.B.aq}),rightEdge={a:+$elm$core$Basics$cos(leftVector.da),b:+$elm$core$Basics$sin(leftVector.da)},leftVector=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*rightEdge.a,rightEdge.b,.05),rightEdge=$ianmackenzie$elm_geometry$Vector3d$reverse(leftVector),rightEdge={a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftVector,leftEdge),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightEdge,leftEdge)},leftEdge=rightEdge.a,rightEdge=rightEdge.b;return A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color(colour),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(leftEdge),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(leftEdge),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(rightEdge),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(rightEdge))}),nudges=A2($elm$core$List$map,nudgeElement($avh4$elm_color$Color$lightOrange),context.e9),markedNode=function(){var _v5={a:context.c,b:context.x};_v5$2:for(;!_v5.a.$;)switch(_v5.b){case 1:var node=_v5.a.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$purple),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,10.1),node.aq),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{gV:8,hW:3.5}))]);case 5:node=_v5.a.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$purple),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,10.1),node.aq),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{gV:8,hW:1.6}))]);default:break _v5$2}return _List_Nil}();return _Utils_ap(function(){var _v2={a:context.a,b:context.x};_v2$2:for(;!_v2.a.$;)switch(_v2.b){case 1:var node=_v2.a.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$lightOrange),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,10.1),node.aq),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{gV:10,hW:3}))]);case 5:node=_v2.a.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$lightOrange),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,10.1),node.aq),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{gV:10,hW:1.5}))]);default:break _v2$2}return _List_Nil}(),_Utils_ap(markedNode,_Utils_ap(A2($elm$core$List$map,nudgeElement($avh4$elm_color$Color$lightYellow),A3($elm$core$List$map2,F2(function(n1,n2){return{da:function(){var direction=A2($ianmackenzie$elm_geometry$Direction3d$from,n1,n2);if(direction.$)return 0;direction=direction.a;return A2($elm$core$Basics$atan2,$ianmackenzie$elm_geometry$Direction3d$xComponent(direction),$ianmackenzie$elm_geometry$Direction3d$yComponent(direction))}(),B:{aq:n2},bE:{aq:n1}}}),context.T,A2($elm$core$List$drop,1,context.T))),nudges)))}),$author$project$Main$lookupRoad=F2(function(model,idx){return A2($elm$core$Array$get,idx,model.g)}),$mdgriffith$elm_ui$Element$centerX={$:6,a:1},$mdgriffith$elm_ui$Internal$Style$classes_iV="a",$mdgriffith$elm_ui$Internal$Style$classes_em="atv",$mdgriffith$elm_ui$Internal$Style$classes_iX="ab",$mdgriffith$elm_ui$Internal$Style$classes_iY="cx",$mdgriffith$elm_ui$Internal$Style$classes_iZ="cy",$mdgriffith$elm_ui$Internal$Style$classes_i_="acb",$mdgriffith$elm_ui$Internal$Style$classes_i$="accx",$mdgriffith$elm_ui$Internal$Style$classes_i0="accy",$mdgriffith$elm_ui$Internal$Style$classes_i1="acr",$mdgriffith$elm_ui$Internal$Style$classes_fT="al",$mdgriffith$elm_ui$Internal$Style$classes_fU="ar",$mdgriffith$elm_ui$Internal$Style$classes_i2="at",$mdgriffith$elm_ui$Internal$Style$classes_eo="ah",$mdgriffith$elm_ui$Internal$Style$classes_ep="av",$mdgriffith$elm_ui$Internal$Style$classes_i6="s",$mdgriffith$elm_ui$Internal$Style$classes_jd="bh",$mdgriffith$elm_ui$Internal$Style$classes_je="b",$mdgriffith$elm_ui$Internal$Style$classes_jg="w7",$mdgriffith$elm_ui$Internal$Style$classes_ji="bd",$mdgriffith$elm_ui$Internal$Style$classes_jj="bdt",$mdgriffith$elm_ui$Internal$Style$classes_db="bn",$mdgriffith$elm_ui$Internal$Style$classes_jk="bs",$mdgriffith$elm_ui$Internal$Style$classes_de="cpe",$mdgriffith$elm_ui$Element$Input$white="cp",$mdgriffith$elm_ui$Internal$Style$classes_jz="cpx",$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown="cpy",$mdgriffith$elm_ui$Internal$Style$classes_a1="c",$mdgriffith$elm_ui$Internal$Style$classes_dn="ctr",$mdgriffith$elm_ui$Internal$Style$classes_$7="cb",$mdgriffith$elm_ui$Internal$Style$classes_dp="ccx",$mdgriffith$elm_ui$Internal$Style$classes_a2="ccy",$mdgriffith$elm_ui$Internal$Style$classes_cv="cl",$mdgriffith$elm_ui$Internal$Style$classes_dq="cr",$mdgriffith$elm_ui$Internal$Style$classes_jD="ct",$elm$svg$Svg$circle="cptr",$mdgriffith$elm_ui$Internal$Style$classes_jI="ctxt",$mdgriffith$elm_ui$Internal$Style$classes_j6="fcs",$mdgriffith$elm_ui$Internal$Style$classes_gB="focus-within",$mdgriffith$elm_ui$Internal$Style$classes_j7="fs",$mdgriffith$elm_ui$Internal$Style$classes_eH="hbh",$mdgriffith$elm_ui$Internal$Style$classes_eI="hc",$mdgriffith$elm_ui$Internal$Style$classes_gI="he",$mdgriffith$elm_ui$Internal$Style$classes_eJ="hf",$mdgriffith$elm_ui$Internal$Style$classes_gJ="hfp",$mdgriffith$elm_ui$Internal$Style$classes_kh="hv",$mdgriffith$elm_ui$Internal$Style$classes_km="ic",$mdgriffith$elm_ui$Internal$Style$classes_ko="fr",$mdgriffith$elm_ui$Internal$Style$classes_dC="lbl",$mdgriffith$elm_ui$Internal$Style$classes_kq="iml",$mdgriffith$elm_ui$Internal$Style$classes_kr="imlf",$mdgriffith$elm_ui$Internal$Style$classes_ks="imlp",$mdgriffith$elm_ui$Internal$Style$classes_kt="implw",$mdgriffith$elm_ui$Internal$Style$classes_ku="it",decs="i",$mdgriffith$elm_ui$Internal$Style$classes_g0="lnk",$mdgriffith$elm_ui$Internal$Style$classes_b8="nb",$mdgriffith$elm_ui$Internal$Style$classes_hB="notxt",$mdgriffith$elm_ui$Internal$Style$classes_kU="ol",$mdgriffith$elm_ui$Internal$Style$classes_kW="or",$mdgriffith$elm_ui$Internal$Style$classes_bB="oq",$mdgriffith$elm_ui$Internal$Style$classes_hL="pg",$mdgriffith$elm_ui$Internal$Style$classes_hM="p",$mdgriffith$elm_ui$Internal$Style$classes_k0="ppe",$mdgriffith$elm_ui$Internal$Style$classes_lf="ui",$mdgriffith$elm_ui$Internal$Style$classes_h7="r",$mdgriffith$elm_ui$Internal$Style$classes_lj="sb",$mdgriffith$elm_ui$Internal$Style$classes_lk="sbx",$mdgriffith$elm_ui$Internal$Style$classes_ll="sby",$mdgriffith$elm_ui$Internal$Style$classes_lm="sbt",$mdgriffith$elm_ui$Internal$Style$classes_lt="e",$mdgriffith$elm_ui$Internal$Style$classes_lv="cap",color="sev",$mdgriffith$elm_ui$Element$rgb="sk",$mdgriffith$elm_ui$Internal$Style$classes_fC="t",$mdgriffith$elm_ui$Internal$Style$classes_lP="tc",$mdgriffith$elm_ui$Internal$Style$classes_lQ="w8",$mdgriffith$elm_ui$Internal$Style$classes_lR="w2",$mdgriffith$elm_ui$Internal$Style$classes_lS="w9",$mdgriffith$elm_ui$Element$Input$darkGrey="tj",$elm$svg$Svg$line="tja",$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver="tl",$mdgriffith$elm_ui$Internal$Style$classes_lV="w3",$mdgriffith$elm_ui$Internal$Style$classes_lW="w5",$mdgriffith$elm_ui$Internal$Style$classes_lX="w4",$mdgriffith$elm_ui$Internal$Model$Attr="tr",$mdgriffith$elm_ui$Internal$Style$classes_lZ="w6",$mdgriffith$elm_ui$Internal$Style$classes_l_="w1",$elm$html$Html$Attributes$spellcheck="tun",$mdgriffith$elm_ui$Internal$Style$classes_iB="ts",$mdgriffith$elm_ui$Internal$Style$classes_bJ="clr",$elm$svg$Svg$Attributes$y1="u",$mdgriffith$elm_ui$Internal$Style$classes_fJ="wc",$mdgriffith$elm_ui$Internal$Style$classes_iK="we",$mdgriffith$elm_ui$Internal$Style$classes_fK="wf",$mdgriffith$elm_ui$Internal$Style$classes_iL="wfp",$mdgriffith$elm_ui$Internal$Style$classes_fL="wrp",$mdgriffith$elm_ui$Internal$Model$div={$:0},$mdgriffith$elm_ui$Internal$Model$NoNearbyChildren={$:0},$mdgriffith$elm_ui$Internal$Model$columnClass=$mdgriffith$elm_ui$Internal$Style$classes_i6+" "+$mdgriffith$elm_ui$Internal$Style$classes_a1,$mdgriffith$elm_ui$Internal$Model$gridClass=$mdgriffith$elm_ui$Internal$Style$classes_i6+" "+($mdgriffith$elm_ui$Internal$Style$classes_j9="g"),$mdgriffith$elm_ui$Internal$Model$pageClass=$mdgriffith$elm_ui$Internal$Style$classes_i6+" "+$mdgriffith$elm_ui$Internal$Style$classes_hL,$mdgriffith$elm_ui$Internal$Model$paragraphClass=$mdgriffith$elm_ui$Internal$Style$classes_i6+" "+$mdgriffith$elm_ui$Internal$Style$classes_hM,$mdgriffith$elm_ui$Internal$Model$rowClass=$mdgriffith$elm_ui$Internal$Style$classes_i6+" "+$mdgriffith$elm_ui$Internal$Style$classes_h7,$mdgriffith$elm_ui$Internal$Model$singleClass=$mdgriffith$elm_ui$Internal$Style$classes_i6+" "+$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Model$NoStyleSheet={$:0},$mdgriffith$elm_ui$Element$Input$defaultTextPadding=function(a){return{$:0,a:a}},$mdgriffith$elm_ui$Internal$Model$addChildren=F2(function(existing,nearbyChildren){switch(nearbyChildren.$){case 0:return existing;case 1:return _Utils_ap(nearbyChildren.a,existing);case 2:return _Utils_ap(existing,nearbyChildren.a);default:return _Utils_ap(nearbyChildren.a,_Utils_ap(existing,nearbyChildren.b))}}),$mdgriffith$elm_ui$Internal$Model$addKeyedChildren=F3(function(key,existing,nearbyChildren){switch(nearbyChildren.$){case 0:return existing;case 1:return _Utils_ap(A2($elm$core$List$map,function(x){return{a:key,b:x}},nearbyChildren.a),existing);case 2:return _Utils_ap(existing,A2($elm$core$List$map,function(x){return{a:key,b:x}},inFront=nearbyChildren.a));default:var inFront=nearbyChildren.b;return _Utils_ap(A2($elm$core$List$map,function(x){return{a:key,b:x}},nearbyChildren.a),_Utils_ap(existing,A2($elm$core$List$map,function(x){return{a:key,b:x}},inFront)))}}),$mdgriffith$elm_ui$Internal$Flag$alignBottom=(alpha=function(i){return 31<i?{$:1,a:1<<i-32}:{$:0,a:1<<i}})(41),$mdgriffith$elm_ui$Internal$Flag$alignRight=alpha(40),$mdgriffith$elm_ui$Internal$Flag$centerX=alpha(42),$mdgriffith$elm_ui$Internal$Flag$centerY=alpha(43),$elm$json$Json$Encode$string=_Json_wrap,$elm$html$Html$Attributes$stringProperty=F2(function(key,string){return A2(_VirtualDom_property,key,$elm$json$Json$Encode$string(string))}),$elm$html$Html$Attributes$class=$elm$html$Html$Attributes$stringProperty("className"),$elm$html$Html$div=_VirtualDom_node("div"),$elm$core$Set$empty=$elm$core$Dict$empty,$mdgriffith$elm_ui$Internal$Model$lengthClassName=function(x){switch(x.$){case 0:return $elm$core$String$fromInt(x.a)+"px";case 1:return"auto";case 2:return $elm$core$String$fromInt(x.a)+"fr";case 3:var len=x.b;return"min"+($elm$core$String$fromInt(x.a)+$mdgriffith$elm_ui$Internal$Model$lengthClassName(len));default:len=x.b;return"max"+($elm$core$String$fromInt(x.a)+$mdgriffith$elm_ui$Internal$Model$lengthClassName(len))}},$elm$core$Basics$round=$mdgriffith$elm_ui$Internal$Style$locations,$mdgriffith$elm_ui$Internal$Model$getStyleName=function(style){switch(style.$){case 13:return name=style.a;case 12:return name=style.a;case 0:return style.a;case 1:return name=style.a;case 2:return"font-size-"+$elm$core$String$fromInt(style.a);case 3:case 4:return style.a;case 5:return style.a;case 7:case 6:return style.a;case 8:var template=style.a;return"grid-rows-"+A2($elm$core$String$join,"-",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$lengthClassName,template.lg))+("-cols-"+A2($elm$core$String$join,"-",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$lengthClassName,template.aQ))+("-space-x-"+$mdgriffith$elm_ui$Internal$Model$lengthClassName(template.ly.a)+("-space-y-"+$mdgriffith$elm_ui$Internal$Model$lengthClassName(template.ly.b))));case 9:var subStyle=style.a;return"gp grid-pos-"+$elm$core$String$fromInt(subStyle.h7)+("-"+$elm$core$String$fromInt(subStyle.f9)+("-"+$elm$core$String$fromInt(subStyle.iJ)+("-"+$elm$core$String$fromInt(subStyle.gH))));case 11:var selector=style.a,subStyle=style.b,name=function(){switch(selector){case 0:return"fs";case 1:return"hv";default:return"act"}}();return A2($elm$core$String$join," ",A2($elm$core$List$map,function(_v1){_v1=$mdgriffith$elm_ui$Internal$Model$getStyleName(_v1);return""===_v1?"":_v1+"-"+name},subStyle));default:return A2($elm$core$Maybe$withDefault,"",$mdgriffith$elm_ui$Internal$Model$transformClass(style.a))}},$elm$core$Set$insert=F2(function(key,_v0){return A3($elm$core$Dict$insert,key,0,_v0)}),$elm$core$Dict$member=F2(function(key,dict){return!A2($elm$core$Dict$get,key,dict).$}),$elm$core$Set$member=F2(function(key,_v0){return A2($elm$core$Dict$member,key,_v0)}),$mdgriffith$elm_ui$Internal$Model$reduceStyles=F2(function(style,nevermind){var cache=nevermind.a,existing=nevermind.b,styleName=$mdgriffith$elm_ui$Internal$Model$getStyleName(style);return A2($elm$core$Set$member,styleName,cache)?nevermind:{a:A2($elm$core$Set$insert,styleName,cache),b:A2($elm$core$List$cons,style,existing)}}),$mdgriffith$elm_ui$Internal$Model$Property=F2(function(a,b){return{$:0,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$Style=F2(function(a,b){return{$:0,a:a,b:b}}),$elm$core$String$fromFloat=_String_fromNumber,$elm$core$Tuple$mapFirst=F2(function(func,_v0){var y=_v0.b;return{a:func(_v0.a),b:y}}),$elm$core$Tuple$mapSecond=F2(function(func,_v0){return{a:_v0.a,b:func(_v0.b)}}),$elm$virtual_dom$VirtualDom$property=F2(function(key,value){return A2(_VirtualDom_property,function(key){return"innerHTML"==key||"formAction"==key?"data-"+key:key}(key),_VirtualDom_noJavaScriptOrHtmlUri(value))}),$mdgriffith$elm_ui$Internal$Style$AllChildren=F2(function(a,b){return{$:2,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Child=F2(function(a,b){return{$:1,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Class=F2(function(a,b){return{$:0,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Descriptor=F2(function(a,b){return{$:4,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Prop=F2(function(a,b){return{$:0,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Supports=F2(function(a,b){return{$:3,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$alignments=_List_fromArray([0,1,2,3,4,5]),$mdgriffith$elm_ui$Internal$Style$describeAlignment=function(values){return{$:6,a:A2($elm$core$List$concatMap,function(alignment){var indiv=values(alignment),content=indiv.a,indiv=indiv.b;return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,function(desc){switch(desc){case 0:return"."+$mdgriffith$elm_ui$Internal$Style$classes_jD;case 1:return"."+$mdgriffith$elm_ui$Internal$Style$classes_$7;case 2:return"."+$mdgriffith$elm_ui$Internal$Style$classes_dq;case 3:return"."+$mdgriffith$elm_ui$Internal$Style$classes_cv;case 4:return"."+$mdgriffith$elm_ui$Internal$Style$classes_dp;default:return"."+$mdgriffith$elm_ui$Internal$Style$classes_a2}}(alignment),content),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$selfName(alignment),indiv)]))])},$mdgriffith$elm_ui$Internal$Style$alignments)}},$mdgriffith$elm_ui$Internal$Style$elDescription=_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","column"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_eH,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","0"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_jd,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","-1")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lm,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_fC,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_eJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_fK,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","auto !important")]))]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_eI,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_eJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","100000")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_fK,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_iL,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_fJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment){case 0:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","0 !important")])};case 1:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","0 !important")])};case 2:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-end")])};case 3:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])};case 4:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","center")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","center")])};default:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto")]))]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important")])}}})]),$mdgriffith$elm_ui$Internal$Style$locations=_List_fromArray([0,1,2,3,4,5]),$elm$svg$Svg$Attributes$y1=_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Class,"html,body",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"padding","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0")])),A2($mdgriffith$elm_ui$Internal$Style$Class,_Utils_ap("."+$mdgriffith$elm_ui$Internal$Style$classes_i6,_Utils_ap("."+$mdgriffith$elm_ui$Internal$Style$classes_lt,"."+$mdgriffith$elm_ui$Internal$Style$classes_km)),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","block"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_eJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"img",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"max-height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"object-fit","cover")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_fK,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"img",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"max-width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"object-fit","cover")]))]))])),A2($mdgriffith$elm_ui$Internal$Style$Class,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6+":focus",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"outline","none")])),A2($mdgriffith$elm_ui$Internal$Style$Class,"."+$mdgriffith$elm_ui$Internal$Style$classes_lf,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"min-height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","0"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,_Utils_ap("."+$mdgriffith$elm_ui$Internal$Style$classes_i6,"."+$mdgriffith$elm_ui$Internal$Style$classes_eJ),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_eJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_ko,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_b8,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","fixed"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20")]))]))])),A2($mdgriffith$elm_ui$Internal$Style$Class,"."+$mdgriffith$elm_ui$Internal$Style$classes_b8,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","relative"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"border","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","row"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$elDescription),{$:6,a:A2($elm$core$List$map,function(loc){switch(loc){case 0:return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_iV),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"bottom","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Child,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_eJ),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Child,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_fK),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]));case 1:return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_je),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"bottom","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Child,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_eJ),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","auto")]))]));case 2:return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_kW),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]));case 3:return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_kU),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"right","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]));case 4:return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_ko),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]));default:return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_jd),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]))}},$mdgriffith$elm_ui$Internal$Style$locations)}])),A2($mdgriffith$elm_ui$Internal$Style$Class,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","relative"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"border","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","row"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"resize","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-feature-settings","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"box-sizing","border-box"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"padding","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-width","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-style","solid"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-size","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"color","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-family","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"line-height","1"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-style","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_fL,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-wrap","wrap")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_hB,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"-moz-user-select","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"-webkit-user-select","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"-ms-user-select","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"user-select","none")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm$svg$Svg$circle,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"cursor","pointer")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_jI,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"cursor","text")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_k0,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none !important")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_de,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto !important")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_bJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_bB,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_kh,$mdgriffith$elm_ui$Internal$Style$classes_bJ)+":hover",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_kh,$mdgriffith$elm_ui$Internal$Style$classes_bB)+":hover",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_j6,$mdgriffith$elm_ui$Internal$Style$classes_bJ)+":focus",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_j6,$mdgriffith$elm_ui$Internal$Style$classes_bB)+":focus",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_em,$mdgriffith$elm_ui$Internal$Style$classes_bJ)+":active",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_em,$mdgriffith$elm_ui$Internal$Style$classes_bB)+":active",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_iB,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"transition",A2($elm$core$String$join,", ",A2($elm$core$List$map,function(x){return x+" 160ms"},_List_fromArray(["transform","opacity","filter","background-color","color","font-size"]))))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lj,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lk,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-x","auto"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_h7,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","1")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_ll,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-y","auto"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_a1,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lt,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","1")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Element$Input$white,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow","hidden")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_jz,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-x","hidden")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-y","hidden")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_fJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_db,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-width","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_ji,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-style","dashed")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_jj,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-style","dotted")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_jk,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-style","solid")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_fC,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline-block")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_ku,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"line-height","1.05"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"background","transparent"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","inherit")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$elDescription),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_h7,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","row"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","0%"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_iK,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_g0,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_eJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","stretch !important")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_gJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","stretch !important")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_fK,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","100000")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_dn,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","stretch")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"u:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i1,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i$,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_iY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-left","auto !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:last-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i$,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_iY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-right","auto !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:only-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i$,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_iZ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:last-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i$+" ~ u",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"u:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i1+" ~ s."+$mdgriffith$elm_ui$Internal$Style$classes_i$,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment){case 0:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])};case 1:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-end")])};case 2:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-end")]),b:_List_Nil};case 3:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-start")]),b:_List_Nil};case 4:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","center")]),b:_List_Nil};default:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","center")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","center")])}}}),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+color,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","space-between")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_dC,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","baseline")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_a1,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","column"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","0px"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"min-height","min-content"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_gI,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_eJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","100000")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_fK,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_iL,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_fJ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"u:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i_,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i0,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_iZ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","0 !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:last-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i0,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_iZ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","0 !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:only-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i0,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_iZ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:last-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i0+" ~ u",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"u:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_i_+" ~ s."+$mdgriffith$elm_ui$Internal$Style$classes_i0,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment){case 0:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto")])};case 1:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto")])};case 2:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-end")])};case 3:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])};case 4:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","center")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","center")])};default:return{a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","center")]),b:_List_Nil}}}),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_dn,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","stretch !important")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+color,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","space-between")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_j9,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","-ms-grid"),A2($mdgriffith$elm_ui$Internal$Style$Child,".gp",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")]))])),A2($mdgriffith$elm_ui$Internal$Style$Supports,{a:"display",b:"grid"},_List_fromArray([{a:"display",b:"grid"}])),(values=function(alignment){switch(alignment){case 0:return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-start")]);case 1:return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-end")]);case 2:return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-end")]);case 3:return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-start")]);case 4:return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","center")]);default:return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","center")])}},{$:6,a:A2($elm$core$List$concatMap,function(alignment){return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$selfName(alignment),values(alignment))]))])},$mdgriffith$elm_ui$Internal$Style$alignments)})])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_hL,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","block"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6+":first-child",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6+($mdgriffith$elm_ui$Internal$Style$selfName(3)+":first-child + .")+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_i6+($mdgriffith$elm_ui$Internal$Style$selfName(2)+":first-child + .")+$mdgriffith$elm_ui$Internal$Style$classes_i6,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment){case 0:case 1:return{a:_List_Nil,b:_List_Nil};case 2:return{a:_List_Nil,b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"float","right"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"::after",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"content",'""'),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","table"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"clear","both")]))])};case 3:return{a:_List_Nil,b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"float","left"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"::after",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"content",'""'),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","table"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"clear","both")]))])};case 4:default:return{a:_List_Nil,b:_List_Nil}}})])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_kq,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre-wrap !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"background-color","transparent")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_kt,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lt,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_ks,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre-wrap !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"cursor","text"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_kr,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre-wrap !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"color","transparent")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_hM,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","block"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","normal"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-wrap","break-word"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_eH,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","0"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_jd,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","-1")]))])),A2($mdgriffith$elm_ui$Internal$Style$AllChildren,"."+$mdgriffith$elm_ui$Internal$Style$classes_fC,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","normal")])),A2($mdgriffith$elm_ui$Internal$Style$AllChildren,"."+$mdgriffith$elm_ui$Internal$Style$classes_hM,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"::after",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"content","none")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"::before",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"content","none")]))])),A2($mdgriffith$elm_ui$Internal$Style$AllChildren,"."+$mdgriffith$elm_ui$Internal$Style$classes_lt,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","normal"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_iK,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline-block")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_ko,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_jd,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_iV,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_je,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_kW,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_kU,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_fC,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","normal")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_h7,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_a1,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline-flex")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_j9,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline-grid")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment){case 0:case 1:return{a:_List_Nil,b:_List_Nil};case 2:return{a:_List_Nil,b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"float","right")])};case 3:return{a:_List_Nil,b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"float","left")])};case 4:default:return{a:_List_Nil,b:_List_Nil}}})])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,".hidden",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","none")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_l_,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","100")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lR,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","200")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lV,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","300")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","400")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lW,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","500")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lZ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","600")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_jg,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","700")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lQ,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","800")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lS,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","900")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+decs,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-style","italic")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Element$rgb,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration","line-through")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm$svg$Svg$Attributes$y1,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration","underline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration-skip-ink","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration-skip","ink")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,_Utils_ap("."+$elm$svg$Svg$Attributes$y1,"."+$mdgriffith$elm_ui$Element$rgb),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration","line-through underline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration-skip-ink","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration-skip","ink")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm$html$Html$Attributes$spellcheck,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-style","normal")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Element$Input$darkGrey,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","justify")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm$svg$Svg$line,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","justify-all")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_lP,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","center")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Model$Attr,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","right")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","left")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,".modal",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","fixed"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none")]))]))]),$mdgriffith$elm_ui$Element$rgb=function(_var){return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Class,".v-"+_var,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-feature-settings",'"'+_var+'"')])),A2($mdgriffith$elm_ui$Internal$Style$Class,".v-"+_var+"-off",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-feature-settings",'"'+_var+'" 0')]))])},$elm$html$Html$Attributes$spellcheck=$elm$core$List$concat(_List_fromArray([A2($elm$core$List$map,function(x){return A2($mdgriffith$elm_ui$Internal$Style$Class,".border-"+$elm$core$String$fromInt(x),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-width",$elm$core$String$fromInt(x)+"px")]))},A2($elm$core$List$range,0,6)),A2($elm$core$List$map,function(i){return A2($mdgriffith$elm_ui$Internal$Style$Class,".font-size-"+$elm$core$String$fromInt(i),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-size",$elm$core$String$fromInt(i)+"px")]))},A2($elm$core$List$range,8,32)),A2($elm$core$List$map,function(i){return A2($mdgriffith$elm_ui$Internal$Style$Class,".p-"+$elm$core$String$fromInt(i),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"padding",$elm$core$String$fromInt(i)+"px")]))},A2($elm$core$List$range,0,24)),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Class,".v-smcp",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-variant","small-caps")])),A2($mdgriffith$elm_ui$Internal$Style$Class,".v-smcp-off",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-variant","normal")]))]),$mdgriffith$elm_ui$Element$rgb("zero"),$mdgriffith$elm_ui$Element$rgb("onum"),$mdgriffith$elm_ui$Element$rgb("liga"),$mdgriffith$elm_ui$Element$rgb("dlig"),$mdgriffith$elm_ui$Element$rgb("ordn"),$mdgriffith$elm_ui$Element$rgb("tnum"),$mdgriffith$elm_ui$Element$rgb("afrc"),$mdgriffith$elm_ui$Element$rgb("frac")])),$mdgriffith$elm_ui$Element$Input$darkGrey="@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {."+$mdgriffith$elm_ui$Internal$Style$classes_i6+"."+$mdgriffith$elm_ui$Internal$Style$classes_h7+" > ."+$mdgriffith$elm_ui$Internal$Style$classes_i6+" { flex-basis: auto !important; } ."+$mdgriffith$elm_ui$Internal$Style$classes_i6+"."+$mdgriffith$elm_ui$Internal$Style$classes_h7+" > ."+$mdgriffith$elm_ui$Internal$Style$classes_i6+"."+$mdgriffith$elm_ui$Internal$Style$classes_dn+' { flex-basis: auto !important; }}\ninput[type="search"],\ninput[type="search"]::-webkit-search-decoration,\ninput[type="search"]::-webkit-search-cancel-button,\ninput[type="search"]::-webkit-search-results-button,\ninput[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance:none;\n}\n\ninput[type=range] {\n  -webkit-appearance: none; \n  background: transparent;\n  position:absolute;\n  left:0;\n  top:0;\n  z-index:10;\n  width: 100%;\n  outline: dashed 1px;\n  height: 100%;\n  opacity: 0;\n}\n\ninput[type=range]::-moz-range-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-ms-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-webkit-slider-runnable-track {\n    background: transparent;\n    cursor: pointer;\n}\n\ninput[type=range]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-moz-range-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-ms-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range][orient=vertical]{\n    writing-mode: bt-lr; /* IE */\n    -webkit-appearance: slider-vertical;  /* WebKit */\n}\n'+("\n.explain {\n    border: 6px solid rgb(174, 121, 15) !important;\n}\n.explain > ."+$mdgriffith$elm_ui$Internal$Style$classes_i6+" {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n.ctr {\n    border: none !important;\n}\n.explain > .ctr > ."+$mdgriffith$elm_ui$Internal$Style$classes_i6+" {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n"),$mdgriffith$elm_ui$Internal$Style$emptyIntermediate=F2(function(selector,closing){return{dk:closing,S:_List_Nil,ba:_List_Nil,aH:selector}}),$mdgriffith$elm_ui$Internal$Style$renderRules=F2(function(_v0,rulesToRender){var parent=_v0;return A3($elm$core$List$foldr,F2(function(rule,rendered){switch(rule.$){case 0:return _Utils_update(rendered,{ba:A2($elm$core$List$cons,{a:rule.a,b:rule.b},rendered.ba)});case 3:var adjRules=rule.a;return _Utils_update(rendered,{S:A2($elm$core$List$cons,{dk:"\n}",S:_List_Nil,ba:rule.b,aH:"@supports ("+adjRules.a+":"+adjRules.b+") {"+parent.aH},rendered.S)});case 5:adjRules=rule.b;return _Utils_update(rendered,{S:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,parent.aH+" + "+rule.a,""),adjRules),rendered.S)});case 1:var childRules=rule.b;return _Utils_update(rendered,{S:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,parent.aH+" > "+rule.a,""),childRules),rendered.S)});case 2:childRules=rule.b;return _Utils_update(rendered,{S:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,parent.aH+" "+rule.a,""),childRules),rendered.S)});case 4:var batched=rule.b;return _Utils_update(rendered,{S:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,_Utils_ap(parent.aH,rule.a),""),batched),rendered.S)});default:batched=rule.a;return _Utils_update(rendered,{S:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,parent.aH,""),batched),rendered.S)})}}),parent,rulesToRender)}),$mdgriffith$elm_ui$Internal$Style$rules=_Utils_ap($mdgriffith$elm_ui$Element$Input$darkGrey,(decs=_Utils_ap($elm$svg$Svg$Attributes$y1,$elm$html$Html$Attributes$spellcheck),$elm$core$String$concat(A2($elm$core$List$map,renderIntermediate=function(rule){return _Utils_ap(renderClass(rule),$elm$core$String$concat(A2($elm$core$List$map,renderIntermediate,rule.S)))},A3($elm$core$List$foldr,F2(function(_v1,existing){var styleRules=_v1.b;return A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,_v1.a,""),styleRules),existing)}),_List_Nil,decs)))));function renderClass(rule){return rule.ba.b?rule.aH+("{"+($elm$core$String$concat(A2($elm$core$List$map,function(_v3){return _v3.a+":"+_v3.b+";"},rule.ba))+(rule.dk+"}"))):""}function $mdgriffith$elm_ui$Internal$Model$staticRoot(opts){switch(opts.hu){case 0:return A3($elm$virtual_dom$VirtualDom$node,"div",_List_Nil,_List_fromArray([A3($elm$virtual_dom$VirtualDom$node,"style",_List_Nil,_List_fromArray([$elm$virtual_dom$VirtualDom$text($mdgriffith$elm_ui$Internal$Style$rules)]))]));case 1:return $elm$virtual_dom$VirtualDom$text("");default:return A3($elm$virtual_dom$VirtualDom$node,"elm-ui-static-rules",_List_fromArray([A2($elm$virtual_dom$VirtualDom$property,"rules",$elm$json$Json$Encode$string($mdgriffith$elm_ui$Internal$Style$rules))]),_List_Nil)}}function $elm$json$Json$Encode$object(pairs){return A3($elm$core$List$foldl,F2(function(_v0,obj){return A3(_Json_addField,_v0.a,_v0.b,obj)}),{},pairs)}function $mdgriffith$elm_ui$Internal$Model$fontName(font){switch(font.$){case 0:return"serif";case 1:return"sans-serif";case 2:return"monospace";case 3:return'"'+font.a+'"';case 4:return'"'+font.a+'"';default:return'"'+font.a.hy+'"'}}function $mdgriffith$elm_ui$Internal$Model$isSmallCaps(_var){switch(_var.$){case 0:return"smcp"===_var.a;case 1:return!1;default:return"smcp"===_var.a&&1===_var.b}}function $mdgriffith$elm_ui$Internal$Model$hasSmallCaps(typeface){return 5===typeface.$&&A2($elm$core$List$any,$mdgriffith$elm_ui$Internal$Model$isSmallCaps,typeface.a.iD)}function $mdgriffith$elm_ui$Internal$Model$renderVariant(_var){switch(_var.$){case 0:return'"'+_var.a+'"';case 1:return'"'+_var.a+'" 0';default:return'"'+_var.a+('" '+$elm$core$String$fromInt(_var.b))}}function $mdgriffith$elm_ui$Internal$Model$renderVariants(typeface){return 5!==typeface.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(A2($elm$core$String$join,", ",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$renderVariant,typeface.a.iD)))}function $elm$core$List$minimum(list){return list.b?$elm$core$Maybe$Just(A3($elm$core$List$foldl,$elm$core$Basics$min,list.a,list.b)):$elm$core$Maybe$Nothing}function $mdgriffith$elm_ui$Internal$Model$convertAdjustment(ascender){var fullSize=_List_fromArray([ascender.jq,ascender.jc,ascender.jN,ascender.kH]),descender=A2($elm$core$Maybe$withDefault,ascender.jN,$elm$core$List$minimum(fullSize)),newBaseline=A2($elm$core$Maybe$withDefault,ascender.jc,$elm$core$List$minimum(A2($elm$core$List$filter,function(x){return!_Utils_eq(x,descender)},fullSize))),fullSize=1/((ascender=A2($elm$core$Maybe$withDefault,ascender.jq,(fullVertical=fullSize).b?$elm$core$Maybe$Just(A3($elm$core$List$foldl,$elm$core$Basics$max,fullVertical.a,fullVertical.b)):$elm$core$Maybe$Nothing))-descender),fullVertical=1-ascender;return{jq:A3($mdgriffith$elm_ui$Internal$Model$adjust,1/(ascender-newBaseline),ascender-newBaseline,1-ascender),gD:A3($mdgriffith$elm_ui$Internal$Model$adjust,fullSize,ascender-descender,fullVertical)}}function $mdgriffith$elm_ui$Internal$Model$fontAdjustmentRules(converted){return{a:_List_fromArray([{a:"display",b:"block"}]),b:_List_fromArray([{a:"display",b:"inline-block"},{a:"line-height",b:$elm$core$String$fromFloat(converted.gH)},{a:"vertical-align",b:$elm$core$String$fromFloat(converted.iE)+"em"},{a:"font-size",b:$elm$core$String$fromFloat(converted.lu)+"em"}])}}function $mdgriffith$elm_ui$Internal$Model$renderTopLevelValues(rules){function withImport(font){return 4!==font.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just("@import url('"+font.b+"');")}function fontImports(_v2){return A2($elm$core$String$join,"\n",A2($elm$core$List$filterMap,withImport,_v2.b))}function fontAdjustments(_v0){var name=_v0.a,_v0=function(typefaces){return A3($elm$core$List$foldl,F2(function(adjustment,found){if(1!==found.$)return found;if(5!==adjustment.$)return found;adjustment=adjustment.a.iW;if(1===adjustment.$)return found;adjustment=adjustment.a;return $elm$core$Maybe$Just({a:$mdgriffith$elm_ui$Internal$Model$fontAdjustmentRules($mdgriffith$elm_ui$Internal$Model$convertAdjustment(adjustment).gD),b:$mdgriffith$elm_ui$Internal$Model$fontAdjustmentRules($mdgriffith$elm_ui$Internal$Model$convertAdjustment(adjustment).jq)})}),$elm$core$Maybe$Nothing,typefaces)}(_v0.b);return A2($elm$core$String$join,"",A2($elm$core$List$map,1===_v0.$?$mdgriffith$elm_ui$Internal$Model$renderNullAdjustmentRule(name):A2($mdgriffith$elm_ui$Internal$Model$renderFontAdjustmentRule,name,_v0.a),allNames))}var allNames=A2($elm$core$List$map,$elm$core$Tuple$first,rules);return _Utils_ap(A2($elm$core$String$join,"\n",A2($elm$core$List$map,fontImports,rules)),A2($elm$core$String$join,"\n",A2($elm$core$List$map,fontAdjustments,rules)))}function $elm$virtual_dom$VirtualDom$keyedNode(tag){return _VirtualDom_keyedNode(_VirtualDom_noScript(tag))}function $mdgriffith$elm_ui$Internal$Model$textElement(str){return A2($elm$html$Html$div,_List_fromArray([$elm$html$Html$Attributes$class($mdgriffith$elm_ui$Internal$Model$textElementClasses)]),_List_fromArray([$elm$html$Html$text(str)]))}function $mdgriffith$elm_ui$Internal$Model$textElementFill(str){return A2($elm$html$Html$div,_List_fromArray([$elm$html$Html$Attributes$class($mdgriffith$elm_ui$Internal$Model$textElementFillClasses)]),_List_fromArray([$elm$html$Html$text(str)]))}function $mdgriffith$elm_ui$Internal$Model$htmlClass(cls){return{$:1,a:$elm$html$Html$Attributes$class(cls)}}function $mdgriffith$elm_ui$Element$padding(x){var f=x;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,"p-"+$elm$core$String$fromInt(x),f,f,f,f))}function $cuducos$elm_format_number$FormatNumber$Parser$classify(formatted){return A2($elm$core$String$all,function(_char){return"0"===_char},$elm$core$String$concat(A2($elm$core$List$append,formatted.gP,_List_fromArray([formatted.gj]))))?1:formatted.hK<0?2:0}function $elm$core$String$fromChar(_char){return A2($elm$core$String$cons,_char,"")}function $myrho$elm_round$Round$splitComma(_v0){return(_v0=A2($elm$core$String$split,".",_v0)).b?_v0.b.b?{a:_v0.a,b:_v0.b.a}:{a:_v0.a,b:"0"}:{a:"0",b:"0"}}function $author$project$Utils$showDecimal2(x){var locale=_Utils_update($cuducos$elm_format_number$FormatNumber$Locales$usLocale,{gj:{$:2,a:2},hA:"-",it:""});return A2($cuducos$elm_format_number$FormatNumber$format,locale,x)}function $mdgriffith$elm_ui$Element$spacing(x){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$spacing,A3($mdgriffith$elm_ui$Internal$Model$SpacingStyle,A2($mdgriffith$elm_ui$Internal$Model$spacingName,x,x),x,x))}function $author$project$Utils$showDecimal6(x){var locale=_Utils_update($cuducos$elm_format_number$FormatNumber$Locales$usLocale,{gj:{$:2,a:6},hA:"-",it:""});return A2($cuducos$elm_format_number$FormatNumber$format,locale,x)}function $author$project$NodesAndRoads$summaryData(x){if(x.$)return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:"You appear to be at the end of the track."},{$:2,a:"Go back one track point and see if that helps."}]));var road=x.a;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:"Start point index "},{$:2,a:"Length "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:$elm$core$String$fromInt(road.gK)},{$:2,a:$author$project$Utils$showDecimal2(road.gV)}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:"Gradient "},{$:2,a:"Bearing "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:$author$project$Utils$showDecimal2(road.gF)},{$:2,a:$author$project$Utils$showDecimal2(180*((x=road.da)<0?6.283185307179586+x:x)/3.141592653589793)}]))])),A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:"   "},{$:2,a:"Latitude "},{$:2,a:"Longitude "},{$:2,a:"Elevation "},{$:2,a:"Distance "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:"At start"},{$:2,a:$author$project$Utils$showDecimal6(road.bE.b.cG)},{$:2,a:$author$project$Utils$showDecimal6(road.bE.b.cK)},{$:2,a:$author$project$Utils$showDecimal2(road.bE.b.cA)},{$:2,a:$author$project$Utils$showDecimal2(road.il)}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:"At end"},{$:2,a:$author$project$Utils$showDecimal6(road.B.b.cG)},{$:2,a:$author$project$Utils$showDecimal6(road.B.b.cK)},{$:2,a:$author$project$Utils$showDecimal2(road.B.b.cA)},{$:2,a:$author$project$Utils$showDecimal2(road.gq)}]))]))]))}function $author$project$Msg$UserMovedNodeSlider(a){return{$:4,a:a}}function $author$project$Msg$SetBearingChangeThreshold(a){return{$:20,a:a}}function $mdgriffith$elm_ui$Element$behindContent(element){return A2($mdgriffith$elm_ui$Element$createNearby,5,element)}function $mdgriffith$elm_ui$Internal$Model$formatColorClass(_v0){var green=_v0.b,blue=_v0.c,alpha=_v0.d;return $mdgriffith$elm_ui$Internal$Model$floatClass(_v0.a)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(green)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(blue)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(alpha))))}function $mdgriffith$elm_ui$Element$Background$color(clr){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$bgColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"bg-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(clr),"background-color",clr))}function $mdgriffith$elm_ui$Element$Border$rounded(radius){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderRound,A3($mdgriffith$elm_ui$Internal$Model$Single,"br-"+$elm$core$String$fromInt(radius),"border-radius",$elm$core$String$fromInt(radius)+"px"))}function $mdgriffith$elm_ui$Element$Border$color(clr){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"bc-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(clr),"border-color",clr))}function $mdgriffith$elm_ui$Element$Border$width(v){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderWidth,A5($mdgriffith$elm_ui$Internal$Model$BorderWidth,"b-"+$elm$core$String$fromInt(v),v,v,v,v))}function $mdgriffith$elm_ui$Internal$Model$getHeight(attrs){return A3($elm$core$List$foldr,F2(function(attr,acc){return acc.$?8!==attr.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(attr.a):$elm$core$Maybe$Just(acc.a)}),$elm$core$Maybe$Nothing,attrs)}function $mdgriffith$elm_ui$Internal$Model$getWidth(attrs){return A3($elm$core$List$foldr,F2(function(attr,acc){return acc.$?7!==attr.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(attr.a):$elm$core$Maybe$Just(acc.a)}),$elm$core$Maybe$Nothing,attrs)}function $mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(label){return 1!==label.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:{$:2,a:{$:5,a:label.a}}}function $elm$html$Html$Events$alwaysStop(x){return{a:x,b:!0}}function $elm$html$Html$Events$onInput(tagger){return A2($elm$html$Html$Events$stopPropagationOn,"input",A2($elm$json$Json$Decode$map,$elm$html$Html$Events$alwaysStop,A2($elm$json$Json$Decode$map,tagger,$elm$html$Html$Events$targetValue)))}function $mdgriffith$elm_ui$Element$Input$hasFocusStyle(attr){return 4===attr.$&&11===attr.b.$&&!attr.b.a}function $elm$html$Html$Events$onClick(msg){return A2($elm$html$Html$Events$on,"click",$elm$json$Json$Decode$succeed(msg))}function $mdgriffith$elm_ui$Element$Input$onKeyLookup(lookup){return{$:1,a:A2($elm$html$Html$Events$preventDefaultOn,"keydown",A2($elm$json$Json$Decode$map,function(fired){return{a:fired,b:!0}},A2($elm$json$Json$Decode$andThen,function(_v0){_v0=lookup(_v0);return 1===_v0.$?$elm$json$Json$Decode$fail("No key matched"):$elm$json$Json$Decode$succeed(_v0.a)},A2($elm$json$Json$Decode$field,"key",$elm$json$Json$Decode$string))))}}function $elm$html$Html$Attributes$tabindex(n){return A2(_VirtualDom_attribute,"tabIndex",$elm$core$String$fromInt(n))}function $mdgriffith$elm_ui$Element$Font$color(fontColor){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"fc-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(fontColor),"color",fontColor))}function $mdgriffith$elm_ui$Internal$Model$unwrapDecorations(_v0){return A2($elm$core$List$cons,{$:10,a:(_v0=A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$unwrapDecsHelper,{a:_List_Nil,b:$mdgriffith$elm_ui$Internal$Model$Untransformed},_v0)).b},_v0.a)}function $mdgriffith$elm_ui$Element$mouseOver(decs){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$hover,A2($mdgriffith$elm_ui$Internal$Model$PseudoSelector,1,$mdgriffith$elm_ui$Internal$Model$unwrapDecorations(decs)))}function $mdgriffith$elm_ui$Element$Border$shadow(shadow){var shade={jf:shadow.jf,jB:shadow.jB,gN:!1,kT:shadow.kT,lu:shadow.lu};return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$shadows,A3($mdgriffith$elm_ui$Internal$Model$Single,$elm$core$String$concat(_List_fromArray([(shadow=shade).gN?"box-inset":"box-",$mdgriffith$elm_ui$Internal$Model$floatClass(shadow.kT.a)+"px",$mdgriffith$elm_ui$Internal$Model$floatClass(shadow.kT.b)+"px",$mdgriffith$elm_ui$Internal$Model$floatClass(shadow.jf)+"px",$mdgriffith$elm_ui$Internal$Model$floatClass(shadow.lu)+"px",$mdgriffith$elm_ui$Internal$Model$formatColorClass(shadow.jB)])),"box-shadow",$mdgriffith$elm_ui$Internal$Model$formatBoxShadow(shade)))}function $mdgriffith$elm_ui$Element$Font$size(i){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontSize,{$:2,a:i})}function $author$project$Main$viewBearingChanges(model){function linkButton(nodeNum){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:$elm$core$String$fromInt(nodeNum)},kV:$elm$core$Maybe$Just({$:4,a:nodeNum})})}var nodeList=A2($elm$core$List$map,function(change){return change.cO.b.kl},model.cp),autosmoothButton=nodeList.b?A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Try Autosmooth today"},kV:$elm$core$Maybe$Just({$:73,a:nodeList})}):$mdgriffith$elm_ui$Element$none;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Direction change threshold = "+$elm$core$String$fromInt(model.bP)}),aA:120,aB:20,w:$author$project$Msg$SetBearingChangeThreshold,aJ:$elm$core$Maybe$Just(1),aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.bP})}(model),autosmoothButton])),A2($mdgriffith$elm_ui$Element$wrappedRow,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$alignLeft]),A2($elm$core$List$map,linkButton,nodeList))]))}function $author$project$Msg$SetGradientChangeThreshold(a){return{$:19,a:a}}function $author$project$Main$viewGradientChanges(model){function linkButton(nodeNum){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:$elm$core$String$fromInt(nodeNum)},kV:$elm$core$Maybe$Just({$:4,a:nodeNum})})}var nodeList=A2($elm$core$List$map,function(change){return change.cO.b.kl},model.cq),autosmoothButton=nodeList.b?A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Try AutoFix today"},kV:$elm$core$Maybe$Just({$:73,a:nodeList})}):$mdgriffith$elm_ui$Element$none;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Gradient change threshold = "+$author$project$Utils$showDecimal2(model.b3)}),aA:20,aB:5,w:$author$project$Msg$SetGradientChangeThreshold,aJ:$elm$core$Maybe$Just(1),aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.b3})}(model),autosmoothButton])),A2($mdgriffith$elm_ui$Element$wrappedRow,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$alignLeft]),A2($elm$core$List$map,linkButton,nodeList))]))}function $author$project$Msg$ToggleMapNodesDraggable(a){return{$:72,a:a}}function $author$project$ViewElements$checkboxIcon(isChecked){return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(32)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(32)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$padding(4),$mdgriffith$elm_ui$Element$Border$rounded(6),$mdgriffith$elm_ui$Element$Border$width(2),$mdgriffith$elm_ui$Element$Border$color($author$project$ColourPalette$buttonShadow)]),A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$Border$rounded(4),$mdgriffith$elm_ui$Element$Background$color(isChecked?$author$project$ColourPalette$buttonBackground:$author$project$ColourPalette$collapsedTabBorder)]),$mdgriffith$elm_ui$Element$none))}function $author$project$Msg$SetCurtainStyle(a){return{$:18,a:a}}function $author$project$Msg$SetVerticalExaggeration(a){return{$:34,a:a}}function $author$project$Msg$ToggleCentreLine(a){return{$:17,a:a}}function $author$project$Msg$ToggleCones(a){return{$:16,a:a}}function $author$project$Msg$ToggleLighting(a){return{$:14,a:a}}function $author$project$Msg$TogglePillars(a){return{$:13,a:a}}function $author$project$Msg$ToggleRoad(a){return{$:15,a:a}}function $mdgriffith$elm_ui$Element$paddingEach(topFloat){var top=topFloat.l5,right=topFloat.le,bottom=topFloat.jl,left=topFloat.kF;if(_Utils_eq(top,right)&&_Utils_eq(top,bottom)&&_Utils_eq(top,left)){topFloat=top;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,"p-"+$elm$core$String$fromInt(top),topFloat,topFloat,topFloat,topFloat))}return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,A4($mdgriffith$elm_ui$Internal$Model$paddingName,top,right,bottom,left),top,right,bottom,left))}function $mdgriffith$elm_ui$Element$Border$roundEach(bottomRight){var topLeft=bottomRight.l6,topRight=bottomRight.l7,bottomLeft=bottomRight.jm,bottomRight=bottomRight.jn;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderRound,A3($mdgriffith$elm_ui$Internal$Model$Single,"br-"+$elm$core$String$fromInt(topLeft)+("-"+$elm$core$String$fromInt(topRight)+($elm$core$String$fromInt(bottomLeft)+("-"+$elm$core$String$fromInt(bottomRight)))),"border-radius",$elm$core$String$fromInt(topLeft)+("px "+$elm$core$String$fromInt(topRight)+("px "+$elm$core$String$fromInt(bottomRight)+("px "+$elm$core$String$fromInt(bottomLeft))))+"px"))}function $mdgriffith$elm_ui$Element$Border$widthEach(right){var bottom=right.jl,top=right.l5,left=right.kF,right=right.le;return _Utils_eq(top,bottom)&&_Utils_eq(left,right)?_Utils_eq(top,right)?$mdgriffith$elm_ui$Element$Border$width(top):A2($mdgriffith$elm_ui$Element$Border$widthXY,left,top):A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderWidth,A5($mdgriffith$elm_ui$Internal$Model$BorderWidth,"b-"+$elm$core$String$fromInt(top)+("-"+$elm$core$String$fromInt(right)+("-"+$elm$core$String$fromInt(bottom)+("-"+$elm$core$String$fromInt(left)))),top,right,bottom,left))}function $author$project$Main$infoAccordion(model){return _List_fromArray([{gb:function(summary){summary=summary.cg;if(summary.$)return $mdgriffith$elm_ui$Element$none;summary=summary.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:"Highest point "},{$:2,a:"Lowest point "},{$:2,a:"Track length "},{$:2,a:"Climbing distance "},{$:2,a:"Elevation gain "},{$:2,a:"Descending distance "},{$:2,a:"Elevation loss "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:$author$project$Utils$showDecimal2(summary.kf)},{$:2,a:$author$project$Utils$showDecimal2(summary.kI)},{$:2,a:$author$project$Utils$showDecimal2(summary.ix)},{$:2,a:$author$project$Utils$showDecimal2(summary.jy)},{$:2,a:$author$project$Utils$showDecimal2(summary.l8)},{$:2,a:$author$project$Utils$showDecimal2(summary.jO)},{$:2,a:$author$project$Utils$showDecimal2(summary.l9)}]))]))}(model),bz:"Summary",cf:0},{gb:$author$project$NodesAndRoads$summaryData(A2($author$project$Main$lookupRoad,model,model.a)),bz:"Road segment data",cf:1},{gb:function(model){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$paddingEach({jl:0,kF:10,le:10,l5:10}),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Font$size(14)]),_List_fromArray([_Utils_eq(model.bc,_List_Nil)?A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Build terrain\n(I understand this may take several\nminutes and will be lost if I make changes)"},kV:$elm$core$Maybe$Just($author$project$Msg$MakeTerrain)}):A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Remove the terrain."},kV:$elm$core$Maybe$Just($author$project$Msg$ClearTerrain)}),A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{bV:model.s.h6,b4:$author$project$ViewElements$checkboxIcon,bz:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:2,a:"Road surface"}),w:$author$project$Msg$ToggleRoad}),A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{bV:model.s.f0,b4:$author$project$ViewElements$checkboxIcon,bz:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:2,a:"Centre line"}),w:$author$project$Msg$ToggleCentreLine})])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{bV:model.s.h5,b4:$author$project$ViewElements$checkboxIcon,bz:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:2,a:"Road support pillars"}),w:$author$project$Msg$TogglePillars}),A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{bV:model.s.h4,b4:$author$project$ViewElements$checkboxIcon,bz:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:2,a:"Trackpoint cones"}),w:$author$project$Msg$ToggleCones})])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{bV:model.s.iM,b4:$author$project$ViewElements$checkboxIcon,bz:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:2,a:"Lighting"}),w:$author$project$Msg$ToggleLighting}),A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Elevation exaggeration = "+$author$project$Utils$showDecimal2(model.Z)}),aA:10,aB:1,w:$author$project$Msg$SetVerticalExaggeration,aJ:$elm$core$Maybe$Nothing,aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.Z})]))])),A2($mdgriffith$elm_ui$Element$Input$radioRow,_List_fromArray([$mdgriffith$elm_ui$Element$Border$rounded(6),$mdgriffith$elm_ui$Element$Border$shadow({jf:10,jB:A3($mdgriffith$elm_ui$Element$rgb255,224,224,224),kT:{a:0,b:0},lu:3})]),{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_fromArray([$mdgriffith$elm_ui$Element$centerX]),{$:2,a:"Curtain style"}),w:$author$project$Msg$SetCurtainStyle,hI:_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$optionWith,0,A2($author$project$ViewElements$radioButton,0,"None")),A2($mdgriffith$elm_ui$Element$Input$optionWith,1,A2($author$project$ViewElements$radioButton,1,"Plain")),A2($mdgriffith$elm_ui$Element$Input$optionWith,3,A2($author$project$ViewElements$radioButton,1,"Pastel")),A2($mdgriffith$elm_ui$Element$Input$optionWith,2,A2($author$project$ViewElements$radioButton,2,"Rainbow"))]),ig:$elm$core$Maybe$Just(model.s.gg)})]))}(model),bz:"Visual styles",cf:1},{gb:$author$project$Main$viewGradientChanges(model),bz:"Gradient problems",cf:1},{gb:$author$project$Main$viewBearingChanges(model),bz:"Bend problems",cf:1},{gb:function(model){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Font$size(14)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{bV:model.dM,b4:$author$project$ViewElements$checkboxIcon,bz:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:2,a:"Drag track points"}),w:$author$project$Msg$ToggleMapNodesDraggable})]))}(model),bz:"Map options",cf:1}])}function $author$project$Msg$SetFlythroughSpeed(a){return{$:36,a:a}}function $author$project$Msg$SetBendTrackPointSpacing(a){return{$:33,a:a}}function $author$project$Main$viewBendFixerPane(model){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([function(){var smooth=model.T;if(smooth.$)return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:2,a:"Sorry, failed to find a nice bend."},{$:2,a:"Try re-positioning the current pointer or marker."}]));smooth=smooth.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([function(smooth){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Smooth between markers\nRadius "+$author$project$Utils$showDecimal2(smooth.hW)},kV:$elm$core$Maybe$Just($author$project$Msg$SmoothBend)})}(smooth),function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Spacing = "+$author$project$Utils$showDecimal2(model.bQ)}),aA:10,aB:1,w:$author$project$Msg$SetBendTrackPointSpacing,aJ:$elm$core$Maybe$Nothing,aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.bQ})}(model)]))}()]))}function $author$project$Msg$SetBezierTension(a){return{$:80,a:a}}function $author$project$Msg$SetBezierTolerance(a){return{$:81,a:a}}function $author$project$Msg$SetFilterBias(a){return{$:78,a:a}}function $author$project$Main$wholeTrackTextHelper(_v0){var wholeTrack=!!(wholeTrack=_v0.c).$||_Utils_eq(wholeTrack.a,_v0.a),_v0=_Utils_eq(_v0.aU,$author$project$Loop$IsALoop);return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$warningColor),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),_List_fromArray([$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$info)),A2($mdgriffith$elm_ui$Element$column,_List_Nil,_List_fromArray((_v0={a:wholeTrack,b:_v0}).a?_v0.b?[{$:2,a:"Applies to the whole route and include the start/finish."},{$:2,a:"Position markers to apply only to a range of points."}]:[{$:2,a:"Applies to the whole route but not the start/finish."},{$:2,a:"Position markers to apply only to a range of points."},{$:2,a:"Convert the track to a loop to smooth the start/finish."}]:_v0.b?[{$:2,a:"Applies between the marker cones, avoiding the start/finish."},{$:2,a:"Clear the marker to apply to the whole route."}]:[{$:2,a:"Applies between the marker cones only."},{$:2,a:"Clear the marker to apply to the whole route."}]))]))}function $elm$core$List$sum(numbers){return A3($elm$core$List$foldl,$elm$core$Basics$add,0,numbers)}function $author$project$Msg$SetBumpinessFactor(a){return{$:35,a:a}}function $author$project$Main$viewGradientFixerPane(model){var avg=A3($author$project$Main$averageGradient,model,A2($elm$core$Basics$min,model.a,gradientSmoothControls=A2($elm$core$Maybe$withDefault,model.a,model.c)),A2($elm$core$Basics$max,model.a,gradientSmoothControls)),gradientSmoothControls=function(){if(avg.$)return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:2,a:"Gradient smoothing works over a range of track segments."},{$:2,a:"Try re-positioning the current pointer or marker."}]));var gradient=avg.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Smooth between markers\nAverage gradient "+$author$project$Utils$showDecimal2(gradient)},kV:$elm$core$Maybe$Just({$:26,a:gradient})}),function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Bumpiness = "+$author$project$Utils$showDecimal2(model.a$)}),aA:1,aB:0,w:$author$project$Msg$SetBumpinessFactor,aJ:$elm$core$Maybe$Nothing,aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.a$})}(model)]))}();return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([gradientSmoothControls]))}function $author$project$Main$viewLoopTools(model){var reverseButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Reverse the track"},kV:$elm$core$Maybe$Just($author$project$Msg$ReverseTrack)}),loopButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Make the track into a loop"},kV:$elm$core$Maybe$Just($author$project$Msg$CloseTheLoop)}),commonButtons=A2($mdgriffith$elm_ui$Element$wrappedRow,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([reverseButton]));return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX]),function(){var _v0=model.aU;switch(_v0.$){case 1:return _List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:2,a:"This track is a loop."},A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Move start/finish to current point"},kV:$elm$core$Maybe$Just({$:50,a:model.a})})])),commonButtons]);case 2:var gap=_v0.a;return _List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:2,a:"This track is "+$author$project$Utils$showDecimal2(gap)+"\naway from a loop"},loopButton])),commonButtons]);default:gap=_v0.a;return _List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:2,a:"This track is "+$author$project$Utils$showDecimal2(gap)+" away from a loop"},loopButton])),commonButtons])}}())}function $author$project$Msg$SetHorizontalNudgeFactor(a){return{$:44,a:a}}function $author$project$Msg$SetVerticalNudgeFactor(a){return{$:45,a:a}}function $author$project$Main$viewNudgeTools(model){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([(value=model.au,A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(80)),$mdgriffith$elm_ui$Element$centerX]),A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortVerticalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_fromArray([$mdgriffith$elm_ui$Element$centerX]),{$:2,a:"Height = "+$author$project$Utils$showDecimal2(value)+"m"}),aA:5,aB:-5,w:$author$project$Msg$SetVerticalNudgeFactor,aJ:$elm$core$Maybe$Nothing,aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:value}))),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$centerY]),_List_fromArray([function(value){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Offset = "+$author$project$Utils$showDecimal2(value)+"m"}),aA:5,aB:-5,w:$author$project$Msg$SetHorizontalNudgeFactor,aJ:$elm$core$Maybe$Nothing,aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:value})}(model.as),A2($author$project$ViewElements$nudgeButton,model.as,model.au)]))]))]));var value}function $author$project$Msg$UserChangedSegmentId(a){return{$:63,a:a}}function $elm$url$Url$Builder$toQueryPair(_v0){return _v0.a+"="+_v0.b}function $elm$url$Url$Builder$toQuery(parameters){return parameters.b?"?"+A2($elm$core$String$join,"&",A2($elm$core$List$map,$elm$url$Url$Builder$toQueryPair,parameters)):""}function $author$project$ViewElements$displayName(s){return s.$?$mdgriffith$elm_ui$Element$none:(s=s.a,A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$Font$size(20)]),{$:2,a:s}))}function $mdgriffith$elm_ui$Element$Input$calcMoveToCompensateForPadding(y){return 1===(y=A3($elm$core$List$foldr,F2(function(_v2,found){if(4!==_v2.$||5!==_v2.b.$)return found;_v2=_v2.b;return 1===found.$?$elm$core$Maybe$Just(_v2.c):found}),$elm$core$Maybe$Nothing,y)).$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:(y=$elm$core$Basics$floor(y.a/2),A2($mdgriffith$elm_ui$Internal$Model$TransformComponent,$mdgriffith$elm_ui$Internal$Flag$moveY,{$:1,a:-y}))}function $mdgriffith$elm_ui$Element$Input$getHeight(attr){return 8!==attr.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(attr.a)}function $mdgriffith$elm_ui$Element$Input$isConstrained(len){isConstrained:for(;;)switch(len.$){case 1:return!1;case 0:case 2:return!0;case 3:len=len.b;continue isConstrained;default:return!0}}function $mdgriffith$elm_ui$Element$Input$isFill(len){isFill:for(;;)switch(len.$){case 2:return 1;case 1:case 0:return;case 3:default:len=len.b;continue isFill}}function $mdgriffith$elm_ui$Element$alpha(transparency){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$transparency,A2($mdgriffith$elm_ui$Internal$Model$Transparency,"transparency-"+$mdgriffith$elm_ui$Internal$Model$floatClass(transparency=1-A2($elm$core$Basics$min,1,A2($elm$core$Basics$max,0,transparency))),transparency))}function $author$project$Msg$SetMaxTrackpointSpacing(a){return{$:52,a:a}}function $author$project$Main$viewTrackPointTools(model){var c,start=(c={a:A2($elm$core$Basics$min,model.a,value=A2($elm$core$Maybe$withDefault,model.a,model.c)),b:A2($elm$core$Basics$max,model.a,value)}).a,value=c.b;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(20)]),_List_fromArray([(c=model.a,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Put two trackpoints in\nplace of this one"},kV:$elm$core$Maybe$Just(A2($author$project$Msg$InsertBeforeOrAfter,c,1))})]))),function(message){var start=message.a,finish=message.b,message=_Utils_eq(start,finish)?"Delete current point":"Delete from "+$elm$core$String$fromInt(start)+(" to "+$elm$core$String$fromInt(finish));return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:message},kV:$elm$core$Maybe$Just({$:49,a:{a:start,b:finish}})})}({a:start,b:value})])),(value=model.cL,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Maximum gap = "+$author$project$Utils$showDecimal2(value=value)+"m"}),aA:50,aB:5,w:$author$project$Msg$SetMaxTrackpointSpacing,aJ:$elm$core$Maybe$Just(5),aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:value}),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Add track points"},kV:$elm$core$Maybe$Just($author$project$Msg$SplitRoad)})]))),$author$project$Main$wholeTrackTextHelper(model)]))}function $author$project$Main$toolsAccordion(model){return _List_fromArray([{gb:$author$project$Main$viewLoopTools(model),bz:"Loop maker",cf:1},{gb:$author$project$Main$viewBendFixerPane(model),bz:"Smooth bend",cf:1},{gb:$author$project$Main$viewGradientFixerPane(model),bz:"Smooth gradient",cf:1},{gb:$author$project$Main$viewNudgeTools(model),bz:"Nudge ",cf:1},{gb:function(model){var simplifyButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Remove up to "+$elm$core$String$fromInt($elm$core$List$length(model.cN))+" track points\nto simplify the route."},kV:$elm$core$Maybe$Just($author$project$Msg$SimplifyTrack)}),marker=A2($elm$core$Maybe$withDefault,model.a,model.c);return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([_Utils_eq(model.a,marker)?A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:2,a:"The straighten tool requires a range."},{$:2,a:"Drop the marker and move it away from the current pointer."}])):$author$project$ViewElements$straightenButton,simplifyButton,{$:2,a:"Simplify works across a range if available,\notherwise the whole track."}]))}(model),bz:"Straighten",cf:1},{gb:$author$project$Main$viewTrackPointTools(model),bz:"Trackpoints",cf:1},{gb:function(model){var _v1,resetButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$rewind)),kV:$elm$core$Maybe$Just($author$project$Msg$ResetFlythrough)}),flythroughSpeedSlider=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$play)),kV:$elm$core$Maybe$Just({$:37,a:!0})}),playPauseButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$pause)),kV:$elm$core$Maybe$Just({$:37,a:!1})}),playPauseButton=1!==(_v1=model.y).$&&_v1.a.d4?playPauseButton:flythroughSpeedSlider,flythroughSpeedSlider=A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Fly-through speed = "+$author$project$Utils$showDecimal2(A2($elm$core$Basics$pow,10,model.b$))+" m/sec"}),aA:3,aB:1,w:$author$project$Msg$SetFlythroughSpeed,aJ:$elm$core$Maybe$Nothing,aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.b$});return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([resetButton,playPauseButton,flythroughSpeedSlider])),function(){var flythrough=model.y;if(flythrough.$)return $mdgriffith$elm_ui$Element$none;flythrough=flythrough.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:"Segment "},{$:2,a:"Metres from start "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:2,a:$elm$core$String$fromInt(flythrough.$8.gK)},{$:2,a:$author$project$Utils$showDecimal2(flythrough.e4)}]))]))}()]))}(model),bz:"Fly-through",cf:1},{gb:function(model){var stravaLink=(segmentButton=A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["routes",model.bv]),_List_Nil),2===model.b2?A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$Font$size(14),$mdgriffith$elm_ui$Element$padding(5)]),_List_fromArray([$author$project$ViewElements$displayName(model.bI),A2($mdgriffith$elm_ui$Element$newTabLink,_List_fromArray([$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$stravaOrange)]),{bz:{$:2,a:"View on Strava"},ee:segmentButton})])):$mdgriffith$elm_ui$Element$none),segmentInfo=function(){var _v2=model.a5;switch(_v2.$){case 1:return{$:2,a:"Waiting for segment"};case 2:return{$:2,a:_v2.a};case 0:return{$:2,a:"Segment data not loaded, or not yet."};case 3:default:return{$:2,a:_v2.a.hy}}}(),segmentIdField=A2($mdgriffith$elm_ui$Element$Input$text,_List_Nil,{bz:$mdgriffith$elm_ui$Element$Input$labelHidden("Segment ID"),w:$author$project$Msg$UserChangedSegmentId,fn:$elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Element$Input$placeholder,_List_Nil,{$:2,a:"Segment ID"})),fC:model.bZ}),segmentButton=function(){var _v0=model.a5;switch(_v0.$){case 3:var buttonText=_v0.a,buttonText=(buttonText={a:A3($author$project$TrackPoint$trackPointFromLatLon,buttonText.lC,buttonText.lD,model.iy),b:A3($author$project$TrackPoint$trackPointFromLatLon,buttonText.jZ,buttonText.j_,model.iy)}).a.$||buttonText.b.$?"Oh! Can't work out how to paste this.":_Utils_cmp(buttonText.a.a.kl,buttonText.b.a.kl)<0?"Paste segment into route":"Reverse segment and paste into route";return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:buttonText},kV:$elm$core$Maybe$Just($author$project$Msg$LoadSegmentStreams)});case 0:return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Fetch header"},kV:$elm$core$Maybe$Just($author$project$Msg$LoadExternalSegment)});case 4:return{$:2,a:"This segment is not\ncontained in the route"};default:return $mdgriffith$elm_ui$Element$none}}();return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),_List_fromArray([stravaLink,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([segmentIdField,segmentButton])),segmentInfo]))}(model),bz:"Strava",cf:1},{gb:function(model){var bezierControls=100*model.cD,centroidFilterControls=_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Smoothing "+$elm$core$String$fromInt($elm$core$Basics$round(bezierControls))+"%"}),aA:100,aB:0,w:$author$project$Msg$SetFilterBias,aJ:$elm$core$Maybe$Just(5),aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:bezierControls}),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Centroid averaging"},kV:$elm$core$Maybe$Just($author$project$Msg$FilterWeightedAverage)})]),bezierControls=_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Tension "+$author$project$Utils$showDecimal2(model.bR)}),aA:1,aB:0,w:$author$project$Msg$SetBezierTension,aJ:$elm$core$Maybe$Just(.1),aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.bR}),A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{bz:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:2,a:"Tolerance "+$author$project$Utils$showDecimal2(model.bS)}),aA:10,aB:1,w:$author$project$Msg$SetBezierTolerance,aJ:$elm$core$Maybe$Just(.5),aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.bS}),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Bezier splines"},kV:$elm$core$Maybe$Just($author$project$Msg$BezierSplines)})]);return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),_List_fromArray([{$:2,a:"Centroid averaging reduces local deviations."},{$:2,a:"Splines create new points to smooth between existing points."},A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$spacing(20),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fillPortion(1)),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),centroidFilterControls),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fillPortion(1)),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),bezierControls)])),$author$project$Main$wholeTrackTextHelper(model)]))}(model),bz:"Filters",cf:1}])}function $author$project$NodesAndRoads$metricFilteredNodes(forRemovalInIndexOrder){var numberOfNodes=$elm$core$List$length(forRemovalInIndexOrder),forRemovalInIndexOrder=A2($elm$core$List$take,.2*numberOfNodes|0,A2($elm$core$List$sortBy,function(node){return A2($elm$core$Maybe$withDefault,A2($elm$core$Basics$pow,10,10),node.gd)},forRemovalInIndexOrder)),forRemovalInIndexOrder=A2($elm$core$List$sortBy,$elm$core$Basics$identity,A2($elm$core$List$map,A2($elm$core$Basics$composeR,function($){return $.b},function($){return $.kl}),forRemovalInIndexOrder)),avoidingNeighbours=F2(function(lastRemoved,suggestions){for(;;){if(!suggestions.b)return _List_Nil;if(!suggestions.b.b)return _List_fromArray([suggestions.a]);var n1=suggestions.a,ns=suggestions.b;if(!_Utils_eq(n1,lastRemoved+1))return A2($elm$core$List$cons,n1,A2(avoidingNeighbours,n1,ns));lastRemoved=lastRemoved,suggestions=ns}});return A2(avoidingNeighbours,-1,forRemovalInIndexOrder)}function $author$project$Main$lookForSimplifications(model){return _Utils_update(model,{cN:$author$project$NodesAndRoads$metricFilteredNodes(model.hC)})}function $author$project$Utils$asRegex(t){return A2($elm$core$Maybe$withDefault,$elm$regex$Regex$never,A2($elm$regex$Regex$fromStringWith,{jr:!1,kP:!1},t))}function $author$project$TrackPoint$parseTrackPoints(longitudes){function value(_v1){return!(_v1=_v1.lK).b||_v1.a.$?$elm$core$Maybe$Nothing:$elm$core$String$toFloat(_v1.a.a)}function matches(xs){return A2($elm$core$List$map,value,xs)}var makeTrackPoint=F4(function(mayLat,mayLon,_v0,idx){_v0={a:mayLat,b:mayLon,c:_v0};return _v0.a.$||_v0.b.$||_v0.c.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({cA:_v0.c.a,kl:idx,cG:_v0.a.a,cK:_v0.b.a})}),elevations=$elm$core$String$concat(A2($elm$core$List$filter,function(line){return!A2($elm$core$String$startsWith,"<wpt",line)},$elm$core$String$lines(longitudes))),latitudes=matches(A2($elm$regex$Regex$find,$author$project$Utils$asRegex('lat=\\"([\\d\\.-]*)\\"'),elevations)),longitudes=matches(A2($elm$regex$Regex$find,$author$project$Utils$asRegex('lon=\\"([\\d\\.-]*)\\"'),elevations)),elevations=matches(A2($elm$regex$Regex$find,$author$project$Utils$asRegex("<ele>([\\d\\.-]*)<\\/ele>"),elevations));return A2($elm$core$List$filterMap,$elm$core$Basics$identity,A5($elm$core$List$map4,makeTrackPoint,latitudes,longitudes,elevations,A2($elm$core$List$range,0,$elm$core$List$length(latitudes))))}function $author$project$MapboxStuff$zoomLevelFromBoundingBox(zoom){var horizontalMetresPerPixel=$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(zoom),latitude=3.141592653589793*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(horizontalMetresPerPixel))/180,horizontalMetresPerPixel=$ianmackenzie$elm_geometry$BoundingBox3d$dimensions(zoom),zoom=78846.81*$ianmackenzie$elm_units$Length$inMeters(horizontalMetresPerPixel.b)/600,horizontalMetresPerPixel=78846.81*$ianmackenzie$elm_units$Length$inMeters(horizontalMetresPerPixel.a)/900,zoom=1.5*A2($elm$core$Basics$max,horizontalMetresPerPixel,zoom),zoom=A2($elm$core$Basics$logBase,2,78271.484*$elm$core$Basics$cos(latitude)/zoom);return A3($elm$core$Basics$clamp,0,22,zoom)}function $author$project$TrackPoint$trackPointsToJSON(features){function point(tp){return $elm$json$Json$Encode$object(_List_fromArray([{a:"type",b:$elm$json$Json$Encode$string("Point")},{a:"coordinates",b:function(tp){return A2($elm$json$Json$Encode$list,$elm$json$Json$Encode$float,_List_fromArray([tp.cK,tp.cG]))}(tp)}]))}return features=A2($elm$core$List$map,function(tp){return $elm$json$Json$Encode$object(_List_fromArray([{a:"type",b:$elm$json$Json$Encode$string("Feature")},{a:"geometry",b:point(tp)}]))},features),$elm$json$Json$Encode$object(_List_fromArray([{a:"type",b:$elm$json$Json$Encode$string("FeatureCollection")},{a:"features",b:A2($elm$json$Json$Encode$list,$elm$core$Basics$identity,features)}]))}function $author$project$TrackPoint$trackToJSON(geometry){return geometry=A2($elm$core$List$map,function(tp){return A2($elm$json$Json$Encode$list,$elm$json$Json$Encode$float,_List_fromArray([tp.cK,tp.cG]))},geometry),geometry=$elm$json$Json$Encode$object(_List_fromArray([{a:"type",b:$elm$json$Json$Encode$string("LineString")},{a:"coordinates",b:A2($elm$json$Json$Encode$list,$elm$core$Basics$identity,geometry)}])),$elm$json$Json$Encode$object(_List_fromArray([{a:"type",b:$elm$json$Json$Encode$string("Feature")},{a:"properties",b:$elm$json$Json$Encode$object(_List_Nil)},{a:"geometry",b:geometry}]))}function $author$project$MapController$addTrackToMap(info){return $author$project$MapController$mapPort($elm$json$Json$Encode$object(_List_fromArray([{a:"Cmd",b:$elm$json$Json$Encode$string("Track")},{a:"lon",b:$elm$json$Json$Encode$float(info.f1)},{a:"lat",b:$elm$json$Json$Encode$float(info.f$)},{a:"zoom",b:$elm$json$Json$Encode$float(info.hi)},{a:"data",b:$author$project$TrackPoint$trackToJSON(info.fo)},{a:"points",b:$author$project$TrackPoint$trackPointsToJSON(info.fo)}])))}function $author$project$MapController$createMap(info){return $author$project$MapController$mapPort($elm$json$Json$Encode$object(_List_fromArray([{a:"Cmd",b:$elm$json$Json$Encode$string("Init")},{a:"token",b:$elm$json$Json$Encode$string("pk.eyJ1IjoicGV0ZXJqYW1lc3dhcmQiLCJhIjoiY2tpdWswb3dsMm02bDMzcDMyNGw1bmh5aSJ9.Fk3ibin0PpeEGXlGsctP1g")},{a:"lon",b:$elm$json$Json$Encode$float(info.f1)},{a:"lat",b:$elm$json$Json$Encode$float(info.f$)},{a:"zoom",b:$elm$json$Json$Encode$float(info.hi)}])))}function $ianmackenzie$elm_geometry$Vector2d$direction(scaledY){var scaledX=scaledY,scaledLength=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.U),$elm$core$Basics$abs(scaledX.V));if(scaledLength){scaledY=scaledX.V/scaledLength,scaledX=scaledX.U/scaledLength,scaledLength=$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY);return $elm$core$Maybe$Just({U:scaledX/scaledLength,V:scaledY/scaledLength})}return $elm$core$Maybe$Nothing}function $ianmackenzie$elm_geometry$Direction2d$xComponent(_v0){return _v0.U}function $ianmackenzie$elm_geometry$Direction2d$yComponent(_v0){return _v0.V}function $ianmackenzie$elm_geometry$Vector3d$half(vector){return A2($ianmackenzie$elm_geometry$Vector3d$scaleBy,.5,vector)}function $author$project$Terrain$pointToComparable(p3d){return{a:{a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(p3d)),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(p3d))},b:p3d}}function $ianmackenzie$elm_geometry$Rectangle2d$axes(_v0){return function(_v0){return _v0}(_v0.ja)}function $ianmackenzie$elm_3d_camera$Viewpoint3d$eyePoint(_v0){return $ianmackenzie$elm_geometry$Frame3d$originPoint(_v0)}function $ianmackenzie$elm_geometry$Direction3d$reverse(_v0){return{U:-_v0.U,V:-_v0.V,iS:-_v0.iS}}function $ianmackenzie$elm_3d_camera$Viewpoint3d$viewDirection(_v0){return $ianmackenzie$elm_geometry$Direction3d$reverse($ianmackenzie$elm_geometry$Frame3d$zDirection(_v0))}function $author$project$Main$findBracketedRange(model){var marker=model.c;return marker.$?{a:0,b:$elm$core$Array$length(model.d)-1}:{a:A2($elm$core$Basics$min,model.a,marker=marker.a),b:A2($elm$core$Basics$max,model.a,marker)}}function $author$project$StravaAuth$getStravaToken(model){var _v0=model.j5;switch(_v0.$){case 3:return $elm$core$Maybe$Just(_v0.b);case 2:return $elm$core$Maybe$Just(_v0.a);default:return $elm$core$Maybe$Nothing}}function $ianmackenzie$elm_units$Angle$inRadians(_v0){return _v0}function $ianmackenzie$elm_units$Angle$inDegrees(angle){return $ianmackenzie$elm_units$Angle$inRadians(angle)/3.141592653589793*180}function $author$project$Main$synchroniseMap(model){return A2($author$project$Main$switchViewMode,model,model.x)}function $ianmackenzie$elm_geometry$LineSegment2d$endPoint(_v0){return _v0.b}function $ianmackenzie$elm_geometry$Arc2d$radius(_v0){return A2($ianmackenzie$elm_geometry$Quantity$Extra$lOverTheta,_v0.o,_v0.e)}function $ianmackenzie$elm_geometry$LineSegment2d$startPoint(_v0){return _v0.a}function $author$project$BendSmoother$toPoint(location){return{U:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(location)),V:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(location))}}function $author$project$BendSmoother$roadToGeometry(road){return{B:{U:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(road.B.aq)),V:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(road.B.aq))},ai:{U:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(road.bE.aq)),V:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(road.bE.aq))}}}function $author$project$Main$tryBendSmoother(model){var entrySegment=A2($elm$core$Maybe$withDefault,model.a,model.c),failed=_Utils_update(model,{as:0,at:_List_Nil,T:$elm$core$Maybe$Nothing,au:0}),n1=(newBend={a:A2($elm$core$Basics$min,model.a,entrySegment),b:A2($elm$core$Basics$max,model.a,entrySegment)}).a,n2=newBend.b,entrySegment=A2($elm$core$Array$get,n1,model.g),newBend=A2($elm$core$Array$get,n2-1,model.g);if(-1<_Utils_cmp(n2,n1+2)){newBend={a:entrySegment,b:newBend};if(newBend.a.$||newBend.b.$)return failed;newBend=A3($author$project$BendSmoother$lookForSmoothBendOption,model.bQ,newBend.a.a,newBend.b.a);return newBend.$?failed:_Utils_update(model,{as:0,at:_List_Nil,T:$elm$core$Maybe$Just(newBend.a),au:0})}return failed}function $author$project$Main$trackHasChanged(model){return $author$project$Main$synchroniseMap($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother($author$project$Main$clearTerrain($author$project$Main$lookForSimplifications($author$project$Main$deriveProblems($author$project$Main$deriveStaticVisualEntities($author$project$Main$deriveNodesAndRoads(model))))))))}function $author$project$Main$updateMapVaryingElements(model){var node1,nudgedTrackPoints=_Utils_ap(A2($elm$core$List$map,A2($elm$core$Basics$composeR,function($){return $.bE},function($){return $.b}),A2($elm$core$List$take,1,model.at)),A2($elm$core$List$map,A2($elm$core$Basics$composeR,function($){return $.B},function($){return $.b}),model.at)),node2=A2($elm$core$Array$get,A2($elm$core$Maybe$withDefault,model.a,model.c),model.d),_v0=A2($elm$core$Array$get,model.a,model.d),centre=$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(model.E);return(_v0={a:_v0,b:node2}).a.$?$elm$core$Platform$Cmd$none:A4($author$project$MapController$addMarkersToMap,{a:(node1=_v0.a.a).b.cK,b:node1.b.cG},_v0.b.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({a:(node2=_v0.b.a).b.cK,b:node2.b.cG}),A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,A2($elm$core$Basics$composeR,function($){return $.hC},$author$project$Main$nodesToTrackPoints(centre)),model.T)),nudgedTrackPoints)}function $author$project$WriteGPX$decimals6(x){var locale=_Utils_update($cuducos$elm_format_number$FormatNumber$Locales$usLocale,{gj:{$:2,a:6},hA:"-",it:""});return A2($cuducos$elm_format_number$FormatNumber$format,locale,x)}function $author$project$WriteGPX$writeTrackPoint(tp){return'<trkpt lat="'+$author$project$WriteGPX$decimals6(tp.cG)+('" lon="'+$author$project$WriteGPX$decimals6(tp.cK)+('"><ele>'+$author$project$WriteGPX$decimals6(tp.cA)))+"</ele></trkpt>\n"}function $elm$http$Http$BadBody(a){return{$:4,a:a}}var $elm$virtual_dom$VirtualDom$text=_VirtualDom_text,$elm$json$Json$Encode$list=F2(function(func,entries){return A3($elm$core$List$foldl,function(func){return F2(function(entry,array){return array.push(func(entry)),array})}(func),[],entries)}),$mdgriffith$elm_ui$Internal$Model$renderProps=F3(function(force,val,existing){var key=val.a,val=val.b;return force?existing+"\n  "+key+": "+val+" !important;":existing+"\n  "+key+": "+val+";"}),$mdgriffith$elm_ui$Internal$Model$renderStyle=F4(function(options,maybePseudo,selector,props){if(1===maybePseudo.$)return _List_fromArray([selector+("{"+A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!1),"",props))+"\n}"]);switch(maybePseudo.a){case 1:switch(options.kh){case 0:return _List_Nil;case 2:return _List_fromArray([selector+("-hv {"+A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!0),"",props))+"\n}"]);default:return _List_fromArray([selector+("-hv:hover {"+A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!1),"",props))+"\n}"])}case 0:var renderedProps=A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!1),"",props);return _List_fromArray([selector+"-fs:focus {"+renderedProps+"\n}","."+$mdgriffith$elm_ui$Internal$Style$classes_i6+":focus "+selector+"-fs  {"+renderedProps+"\n}",selector+"-fs:focus-within {"+renderedProps+"\n}",".ui-slide-bar:focus + ."+$mdgriffith$elm_ui$Internal$Style$classes_i6+" .focusable-thumb"+selector+"-fs {"+renderedProps+"\n}"]);default:return _List_fromArray([selector+("-act:active {"+A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!1),"",props))+"\n}"])}}),$mdgriffith$elm_ui$Internal$Model$renderStyleRule=F3(function(options,rule,maybePseudo){switch(rule.$){case 0:return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,rule.a,rule.b);case 13:return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(halfX=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"box-shadow",rule.b)]));case 12:return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(halfX=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"opacity",$elm$core$String$fromFloat(A2($elm$core$Basics$max,0,A2($elm$core$Basics$min,1,1-rule.b))))]));case 2:var wrappedRow=rule.a;return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,".font-size-"+$elm$core$String$fromInt(wrappedRow),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"font-size",$elm$core$String$fromInt(wrappedRow)+"px")]));case 1:var halfX=rule.a,halfY=rule.b,page=A2($elm$core$String$join,", ",A2($elm$core$List$filterMap,$mdgriffith$elm_ui$Internal$Model$renderVariants,halfY)),column=_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"font-family",A2($elm$core$String$join,", ",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$fontName,halfY))),A2($mdgriffith$elm_ui$Internal$Model$Property,"font-feature-settings",page),A2($mdgriffith$elm_ui$Internal$Model$Property,"font-variant",A2($elm$core$List$any,$mdgriffith$elm_ui$Internal$Model$hasSmallCaps,halfY)?"small-caps":"normal")]);return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+halfX,column);case 3:return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(_class=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,rule.b,_v12=rule.c)]));case 4:return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(_class=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,rule.b,$mdgriffith$elm_ui$Internal$Model$formatColor(rule.c))]));case 5:var cls=rule.a,any=rule.b,columns=rule.c,yPx=$elm$core$String$fromInt(columns)+"px",xPx=$elm$core$String$fromInt(any)+"px",row="."+$mdgriffith$elm_ui$Internal$Style$classes_h7,wrappedRow="."+$mdgriffith$elm_ui$Internal$Style$classes_fL+row,rows="."+$mdgriffith$elm_ui$Internal$Style$classes_fU,template="."+$mdgriffith$elm_ui$Internal$Style$classes_hM,page="."+$mdgriffith$elm_ui$Internal$Style$classes_hL,msColumns="."+$mdgriffith$elm_ui$Internal$Style$classes_fT,halfY=$elm$core$String$fromFloat(columns/2)+"px",halfX=$elm$core$String$fromFloat(any/2)+"px",column="."+$mdgriffith$elm_ui$Internal$Style$classes_a1,any="."+$mdgriffith$elm_ui$Internal$Style$classes_i6;return $elm$core$List$concat(_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,(_class="."+cls)+row+" > "+any+" + "+any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-left",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+wrappedRow+" > "+any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin",halfY+" "+halfX)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+column+" > "+any+" + "+any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-top",yPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+page+" > "+any+" + "+any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-top",yPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+page+" > "+msColumns,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-right",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+page+" > "+rows,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-left",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_Utils_ap(_class,template),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"line-height","calc(1em + "+$elm$core$String$fromInt(columns)+"px)")])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"textarea"+any+_class,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"line-height","calc(1em + "+$elm$core$String$fromInt(columns)+"px)"),A2($mdgriffith$elm_ui$Internal$Model$Property,"height","calc(100% + "+$elm$core$String$fromInt(columns)+"px)")])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+template+" > "+msColumns,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-right",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+template+" > "+rows,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-left",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+template+"::after",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"content","''"),A2($mdgriffith$elm_ui$Internal$Model$Property,"display","block"),A2($mdgriffith$elm_ui$Internal$Model$Property,"height","0"),A2($mdgriffith$elm_ui$Internal$Model$Property,"width","0"),A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-top",$elm$core$String$fromInt(-1*(columns/2|0))+"px")])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+template+"::before",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"content","''"),A2($mdgriffith$elm_ui$Internal$Model$Property,"display","block"),A2($mdgriffith$elm_ui$Internal$Model$Property,"height","0"),A2($mdgriffith$elm_ui$Internal$Model$Property,"width","0"),A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-bottom",$elm$core$String$fromInt(-1*(columns/2|0))+"px")]))]));case 7:var rows=rule.c,msRows=rule.d,msColumns=rule.e;return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class="."+(cls=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"padding",$elm$core$String$fromFloat(rule.b)+("px "+$elm$core$String$fromFloat(rows)+("px "+$elm$core$String$fromFloat(msRows)+("px "+$elm$core$String$fromFloat(msColumns))))+"px")]));case 6:rows=rule.c,msRows=rule.d,msColumns=rule.e;return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class="."+(cls=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"border-width",$elm$core$String$fromInt(rule.b)+("px "+$elm$core$String$fromInt(rows)+("px "+$elm$core$String$fromInt(msRows)+("px "+$elm$core$String$fromInt(msColumns))))+"px")]));case 8:var template=rule.a,toGridLengthHelper=F3(function(minimum,maximum,x){toGridLengthHelper:for(;;)switch(x.$){case 0:return $elm$core$String$fromInt(x.a)+"px";case 1:var _v7={a:minimum,b:maximum};if(1===_v7.a.$){if(1===_v7.b.$)return"max-content";return"minmax(max-content, "+$elm$core$String$fromInt(maxSize=_v7.b.a)+"px)"}if(1===_v7.b.$)return"minmax("+$elm$core$String$fromInt(_v7.a.a)+"px, max-content)";var maxSize=_v7.b.a;return"minmax("+$elm$core$String$fromInt(_v7.a.a)+("px, "+$elm$core$String$fromInt(maxSize))+"px)";case 2:var i=x.a,_v7={a:minimum,b:maximum};if(1===_v7.a.$){if(1===_v7.b.$)return $elm$core$String$fromInt(i)+"fr";return"minmax(max-content, "+$elm$core$String$fromInt(maxSize=_v7.b.a)+"px)"}if(1===_v7.b.$)return"minmax("+$elm$core$String$fromInt(_v7.a.a)+("px, "+$elm$core$String$fromInt(i))+"frfr)";maxSize=_v7.b.a;return"minmax("+$elm$core$String$fromInt(_v7.a.a)+("px, "+$elm$core$String$fromInt(maxSize))+"px)";case 3:var len=x.b;minimum=$elm$core$Maybe$Just(x.a),maximum=maximum,x=len;continue toGridLengthHelper;default:len=x.b;minimum=minimum,maximum=$elm$core$Maybe$Just(x.a),x=len;continue toGridLengthHelper}}),columns=function(x){return A3(toGridLengthHelper,$elm$core$Maybe$Nothing,$elm$core$Maybe$Nothing,x)},position=(columns(template.ly.a),columns(template.ly.b)),rows="grid-template-rows: "+A2($elm$core$String$join," ",A2($elm$core$List$map,columns,template.lg))+";",msRows="-ms-grid-rows: "+A2($elm$core$String$join,position,A2($elm$core$List$map,columns,template.aQ))+";",msColumns="-ms-grid-columns: "+A2($elm$core$String$join,position,A2($elm$core$List$map,columns,template.aQ))+";",msPosition="grid-row-gap:"+columns(template.ly.b)+";",position="grid-column-gap:"+columns(template.ly.a)+";",columns="grid-template-columns: "+A2($elm$core$String$join," ",A2($elm$core$List$map,columns,template.aQ))+";";return _List_fromArray([(_class=".grid-rows-"+A2($elm$core$String$join,"-",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$lengthClassName,template.lg))+("-cols-"+A2($elm$core$String$join,"-",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$lengthClassName,template.aQ))+("-space-x-"+$mdgriffith$elm_ui$Internal$Model$lengthClassName(template.ly.a)+("-space-y-"+$mdgriffith$elm_ui$Internal$Model$lengthClassName(template.ly.b)))))+"{"+msColumns+msRows+"}","@supports (display:grid) {"+(_class+"{"+columns+rows+position+msPosition+"}")+"}"]);case 9:var position=rule.a,msPosition=A2($elm$core$String$join," ",_List_fromArray(["-ms-grid-row: "+$elm$core$String$fromInt(position.h7)+";","-ms-grid-row-span: "+$elm$core$String$fromInt(position.gH)+";","-ms-grid-column: "+$elm$core$String$fromInt(position.f9)+";","-ms-grid-column-span: "+$elm$core$String$fromInt(position.iJ)+";"])),transform=A2($elm$core$String$join," ",_List_fromArray(["grid-row: "+$elm$core$String$fromInt(position.h7)+(" / "+$elm$core$String$fromInt(position.h7+position.gH))+";","grid-column: "+$elm$core$String$fromInt(position.f9)+(" / "+$elm$core$String$fromInt(position.f9+position.iJ))+";"]));return _List_fromArray([(_class=".grid-pos-"+$elm$core$String$fromInt(position.h7)+("-"+$elm$core$String$fromInt(position.f9)+("-"+$elm$core$String$fromInt(position.iJ)+("-"+$elm$core$String$fromInt(position.gH)))))+"{"+msPosition+"}","@supports (display:grid) {"+(_class+"{"+transform+"}")+"}"]);case 11:var _class=rule.a;return A2($elm$core$List$concatMap,function(style){return A3($mdgriffith$elm_ui$Internal$Model$renderStyleRule,options,style,$elm$core$Maybe$Just(_class))},rule.b);default:var transform=rule.a,_v12=function(transform){switch(transform.$){case 0:return $elm$core$Maybe$Nothing;case 1:var rotate=transform.a,ox=rotate.b,oy=rotate.c;return $elm$core$Maybe$Just("translate3d("+$elm$core$String$fromFloat(rotate.a)+("px, "+$elm$core$String$fromFloat(ox)+("px, "+$elm$core$String$fromFloat(oy)))+"px)");default:var _v2=transform.a,ty=_v2.b,translate=_v2.c,oz=transform.b,sx=oz.a,sy=oz.b,scale=oz.c,rotate=transform.c,ox=rotate.a,oy=rotate.b,oz=rotate.c,rotate=transform.d,translate="translate3d("+$elm$core$String$fromFloat(_v2.a)+("px, "+$elm$core$String$fromFloat(ty)+("px, "+$elm$core$String$fromFloat(translate)))+"px)",scale="scale3d("+$elm$core$String$fromFloat(sx)+(", "+$elm$core$String$fromFloat(sy)+(", "+$elm$core$String$fromFloat(scale)))+")",rotate="rotate3d("+$elm$core$String$fromFloat(ox)+(", "+$elm$core$String$fromFloat(oy)+(", "+$elm$core$String$fromFloat(oz)+(", "+$elm$core$String$fromFloat(rotate))))+"rad)";return $elm$core$Maybe$Just(translate+" "+scale+" "+rotate)}}(transform),_v12={a:_class=$mdgriffith$elm_ui$Internal$Model$transformClass(transform),b:_v12};return _v12.a.$||_v12.b.$?_List_Nil:A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(cls=_v12.a.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"transform",_v12.b.a)]))}}),$mdgriffith$elm_ui$Internal$Model$encodeStyles=F2(function(options,stylesheet){return $elm$json$Json$Encode$object(A2($elm$core$List$map,function(style){var styled=A3($mdgriffith$elm_ui$Internal$Model$renderStyleRule,options,style,$elm$core$Maybe$Nothing);return{a:$mdgriffith$elm_ui$Internal$Model$getStyleName(style),b:A2($elm$json$Json$Encode$list,$elm$json$Json$Encode$string,styled)}},stylesheet))}),$mdgriffith$elm_ui$Internal$Model$bracket=F2(function(selector,rules){return selector+" {"+A2($elm$core$String$join,"",A2($elm$core$List$map,function(_v0){return _v0.a+": "+_v0.b+";"},rules))+"}"}),$mdgriffith$elm_ui$Internal$Model$fontRule=F3(function(name,modifier,_v0){var textAdjustment=_v0.b;return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$bracket,"."+name+"."+modifier+", ."+name+" ."+modifier,_v0.a),A2($mdgriffith$elm_ui$Internal$Model$bracket,"."+name+"."+modifier+"> ."+$mdgriffith$elm_ui$Internal$Style$classes_fC+", ."+name+" ."+modifier+" > ."+$mdgriffith$elm_ui$Internal$Style$classes_fC,textAdjustment)])}),$mdgriffith$elm_ui$Internal$Model$renderFontAdjustmentRule=F3(function(name,capital,otherFontName){var full=capital.a,capital=capital.b,name=_Utils_eq(name,otherFontName)?name:otherFontName+" ."+name;return A2($elm$core$String$join," ",_Utils_ap(A3($mdgriffith$elm_ui$Internal$Model$fontRule,name,$mdgriffith$elm_ui$Internal$Style$classes_lv,capital),A3($mdgriffith$elm_ui$Internal$Model$fontRule,name,$mdgriffith$elm_ui$Internal$Style$classes_j7,full)))}),$mdgriffith$elm_ui$Internal$Model$renderNullAdjustmentRule=F2(function(name,otherFontName){name=_Utils_eq(name,otherFontName)?name:otherFontName+" ."+name;return A2($elm$core$String$join," ",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$bracket,"."+name+"."+$mdgriffith$elm_ui$Internal$Style$classes_lv+", ."+name+" ."+$mdgriffith$elm_ui$Internal$Style$classes_lv,_List_fromArray([{a:"line-height",b:"1"}])),A2($mdgriffith$elm_ui$Internal$Model$bracket,"."+name+"."+$mdgriffith$elm_ui$Internal$Style$classes_lv+"> ."+$mdgriffith$elm_ui$Internal$Style$classes_fC+", ."+name+" ."+$mdgriffith$elm_ui$Internal$Style$classes_lv+" > ."+$mdgriffith$elm_ui$Internal$Style$classes_fC,_List_fromArray([{a:"vertical-align",b:"0"},{a:"line-height",b:"1"}]))]))}),$mdgriffith$elm_ui$Internal$Model$adjust=F3(function(size,height,vertical){return{gH:height/size,lu:size,iE:vertical}}),$mdgriffith$elm_ui$Internal$Model$toStyleSheetString=F2(function(options,rules){var _v0=A3($elm$core$List$foldl,F2(function(_v1,rendered){return{d3:_Utils_ap(rendered.d3,A3($mdgriffith$elm_ui$Internal$Model$renderStyleRule,options,_v1,$elm$core$Maybe$Nothing)),c0:1===(_v1=1!==(_v1=_v1).$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({a:_v1.a,b:_v1.b})).$?rendered.c0:A2($elm$core$List$cons,_v1.a,rendered.c0)}}),{d3:_List_Nil,c0:_List_Nil},rules),rules=_v0.d3;return _Utils_ap($mdgriffith$elm_ui$Internal$Model$renderTopLevelValues(_v0.c0),$elm$core$String$concat(rules))}),$mdgriffith$elm_ui$Internal$Model$toStyleSheet=F2(function(options,styleSheet){switch(options.hu){case 0:case 1:return A3($elm$virtual_dom$VirtualDom$node,"div",_List_Nil,_List_fromArray([A3($elm$virtual_dom$VirtualDom$node,"style",_List_Nil,_List_fromArray([$elm$virtual_dom$VirtualDom$text(A2($mdgriffith$elm_ui$Internal$Model$toStyleSheetString,options,styleSheet))]))]));default:return A3($elm$virtual_dom$VirtualDom$node,"elm-ui-rules",_List_fromArray([A2($elm$virtual_dom$VirtualDom$property,"rules",A2($mdgriffith$elm_ui$Internal$Model$encodeStyles,options,styleSheet))]),_List_Nil)}}),$mdgriffith$elm_ui$Internal$Model$embedKeyed=F4(function(_static,opts,dynamicStyleSheet,children){dynamicStyleSheet=A2($mdgriffith$elm_ui$Internal$Model$toStyleSheet,opts,A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$reduceStyles,{a:$elm$core$Set$empty,b:$mdgriffith$elm_ui$Internal$Model$renderFocusStyle(opts.j6)},dynamicStyleSheet).b);return _static?A2($elm$core$List$cons,{a:"static-stylesheet",b:$mdgriffith$elm_ui$Internal$Model$staticRoot(opts)},A2($elm$core$List$cons,{a:"dynamic-stylesheet",b:dynamicStyleSheet},children)):A2($elm$core$List$cons,{a:"dynamic-stylesheet",b:dynamicStyleSheet},children)}),$mdgriffith$elm_ui$Internal$Model$embedWith=F4(function(_static,opts,dynamicStyleSheet,children){dynamicStyleSheet=A2($mdgriffith$elm_ui$Internal$Model$toStyleSheet,opts,A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$reduceStyles,{a:$elm$core$Set$empty,b:$mdgriffith$elm_ui$Internal$Model$renderFocusStyle(opts.j6)},dynamicStyleSheet).b);return _static?A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$staticRoot(opts),A2($elm$core$List$cons,dynamicStyleSheet,children)):A2($elm$core$List$cons,dynamicStyleSheet,children)}),$mdgriffith$elm_ui$Internal$Flag$heightBetween=alpha(45),$mdgriffith$elm_ui$Internal$Flag$heightFill=alpha(37),$elm$html$Html$p=_VirtualDom_node("p"),$mdgriffith$elm_ui$Internal$Flag$present=F2(function(first,_v0){var fieldOne=_v0.a;if(first.$){var second=first.a;return _Utils_eq(second&_v0.b,second)}first=first.a;return _Utils_eq(first&fieldOne,first)}),$elm$html$Html$s=_VirtualDom_node("s"),$elm$html$Html$u=_VirtualDom_node("u"),$mdgriffith$elm_ui$Internal$Flag$widthBetween=alpha(44),$mdgriffith$elm_ui$Internal$Flag$widthFill=alpha(39),$mdgriffith$elm_ui$Internal$Model$finalizeNode=F6(function(has,node,attributes,children,embedMode,parentContext){var createNode=F2(function(nodeName,attrs){if(1===children.$){var keyed=children.a;return A3($elm$virtual_dom$VirtualDom$keyedNode,nodeName,attrs,function(){switch(embedMode.$){case 0:return keyed;case 2:return A4($mdgriffith$elm_ui$Internal$Model$embedKeyed,!1,embedMode.a,embedMode.b,keyed);default:return A4($mdgriffith$elm_ui$Internal$Model$embedKeyed,!0,embedMode.a,embedMode.b,keyed)}}())}var unkeyed=children.a;return A2(function(){switch(nodeName){case"div":return $elm$html$Html$div;case"p":return $elm$html$Html$p;default:return $elm$virtual_dom$VirtualDom$node(nodeName)}}(),attrs,function(){switch(embedMode.$){case 0:return unkeyed;case 2:return A4($mdgriffith$elm_ui$Internal$Model$embedWith,!1,embedMode.a,embedMode.b,unkeyed);default:return A4($mdgriffith$elm_ui$Internal$Model$embedWith,!0,embedMode.a,embedMode.b,unkeyed)}}())}),html=function(){switch(node.$){case 0:return A2(createNode,"div",attributes);case 1:return A2(createNode,node.a,attributes);default:return A3($elm$virtual_dom$VirtualDom$node,node.a,attributes,_List_fromArray([A2(createNode,node.b,_List_fromArray([$elm$html$Html$Attributes$class($mdgriffith$elm_ui$Internal$Style$classes_i6+" "+$mdgriffith$elm_ui$Internal$Style$classes_lt)]))]))}}();switch(parentContext){case 0:return A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$widthFill,has)&&!A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$widthBetween,has)?html:A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$alignRight,has)?A2($elm$html$Html$u,_List_fromArray([$elm$html$Html$Attributes$class(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_i6,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_dn,$mdgriffith$elm_ui$Internal$Style$classes_a2,$mdgriffith$elm_ui$Internal$Style$classes_i1])))]),_List_fromArray([html])):A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$centerX,has)?A2($elm$html$Html$s,_List_fromArray([$elm$html$Html$Attributes$class(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_i6,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_dn,$mdgriffith$elm_ui$Internal$Style$classes_a2,$mdgriffith$elm_ui$Internal$Style$classes_i$])))]),_List_fromArray([html])):html;case 1:return A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$heightFill,has)&&!A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$heightBetween,has)?html:A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$centerY,has)?A2($elm$html$Html$s,_List_fromArray([$elm$html$Html$Attributes$class(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_i6,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_dn,$mdgriffith$elm_ui$Internal$Style$classes_i0])))]),_List_fromArray([html])):A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$alignBottom,has)?A2($elm$html$Html$u,_List_fromArray([$elm$html$Html$Attributes$class(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_i6,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_dn,$mdgriffith$elm_ui$Internal$Style$classes_i_])))]),_List_fromArray([html])):html;default:return html}}),$elm$html$Html$text=$elm$virtual_dom$VirtualDom$text,$mdgriffith$elm_ui$Internal$Model$textElementClasses=$mdgriffith$elm_ui$Internal$Style$classes_i6+" "+$mdgriffith$elm_ui$Internal$Style$classes_fC+" "+$mdgriffith$elm_ui$Internal$Style$classes_fJ+" "+$mdgriffith$elm_ui$Internal$Style$classes_eI,$mdgriffith$elm_ui$Internal$Model$textElementFillClasses=$mdgriffith$elm_ui$Internal$Style$classes_i6+" "+$mdgriffith$elm_ui$Internal$Style$classes_fC+" "+$mdgriffith$elm_ui$Internal$Style$classes_fK+" "+$mdgriffith$elm_ui$Internal$Style$classes_eJ,$mdgriffith$elm_ui$Internal$Model$createElement=F3(function(context,unkeyed,rendered){var keyed=F2(function(_v8,_v9){var key=_v8.a,child=_v8.b,htmls=_v9.a,existingStyles=_v9.b;switch(child.$){case 0:var html=child.a;return _Utils_eq(context,4),{a:A2($elm$core$List$cons,{a:key,b:html(context)},htmls),b:existingStyles};case 1:var str=child.a;return _Utils_eq(context,4),{a:A2($elm$core$List$cons,{a:key,b:A2(str.ki,$mdgriffith$elm_ui$Internal$Model$NoStyleSheet,context)},htmls),b:existingStyles.b?_Utils_ap(str.lJ,existingStyles):str.lJ};case 2:str=child.a;return{a:A2($elm$core$List$cons,{a:key,b:(_Utils_eq(context,2)?$mdgriffith$elm_ui$Internal$Model$textElementFill:$mdgriffith$elm_ui$Internal$Model$textElement)(str)},htmls),b:existingStyles};default:return{a:htmls,b:existingStyles}}}),_v3=F2(function(child,_v6){var htmls=_v6.a,existingStyles=_v6.b;switch(child.$){case 0:var html=child.a;return _Utils_eq(context,4),{a:A2($elm$core$List$cons,html(context),htmls),b:existingStyles};case 1:var str=child.a;return _Utils_eq(context,4),{a:A2($elm$core$List$cons,A2(str.ki,$mdgriffith$elm_ui$Internal$Model$NoStyleSheet,context),htmls),b:existingStyles.b?_Utils_ap(str.lJ,existingStyles):str.lJ};case 2:str=child.a;return{a:A2($elm$core$List$cons,(_Utils_eq(context,2)?$mdgriffith$elm_ui$Internal$Model$textElementFill:$mdgriffith$elm_ui$Internal$Model$textElement)(str),htmls),b:existingStyles};default:return{a:htmls,b:existingStyles}}});if(1===unkeyed.$){var newStyles=A3($elm$core$List$foldr,keyed,{a:_List_Nil,b:_List_Nil},unkeyed.a),keyed=newStyles.a;if((newStyles=(styles=newStyles.b).b?_Utils_ap(rendered.lJ,styles):rendered.lJ).b){var allStyles=newStyles;return{$:1,a:{ki:A4($mdgriffith$elm_ui$Internal$Model$finalizeNode,rendered.by,rendered.cO,rendered.bm,{$:1,a:A3($mdgriffith$elm_ui$Internal$Model$addKeyedChildren,"nearby-element-pls",keyed,rendered.br)}),lJ:allStyles}}}return{$:0,a:A5($mdgriffith$elm_ui$Internal$Model$finalizeNode,rendered.by,rendered.cO,rendered.bm,{$:1,a:A3($mdgriffith$elm_ui$Internal$Model$addKeyedChildren,"nearby-element-pls",keyed,rendered.br)},$mdgriffith$elm_ui$Internal$Model$NoStyleSheet)}}var styles,_v3=A3($elm$core$List$foldr,_v3,{a:_List_Nil,b:_List_Nil},unkeyed.a),unkeyed=_v3.a;if((newStyles=(styles=_v3.b).b?_Utils_ap(rendered.lJ,styles):rendered.lJ).b){allStyles=newStyles;return{$:1,a:{ki:A4($mdgriffith$elm_ui$Internal$Model$finalizeNode,rendered.by,rendered.cO,rendered.bm,{$:0,a:A2($mdgriffith$elm_ui$Internal$Model$addChildren,unkeyed,rendered.br)}),lJ:allStyles}}}return{$:0,a:A5($mdgriffith$elm_ui$Internal$Model$finalizeNode,rendered.by,rendered.cO,rendered.bm,{$:0,a:A2($mdgriffith$elm_ui$Internal$Model$addChildren,unkeyed,rendered.br)},$mdgriffith$elm_ui$Internal$Model$NoStyleSheet)}}),$mdgriffith$elm_ui$Internal$Model$Single=F3(function(a,b,c){return{$:3,a:a,b:b,c:c}}),$mdgriffith$elm_ui$Internal$Flag$Field=F2(function(a,b){return{$:0,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Flag$add=F2(function(myFlag,two){var one=two.a,two=two.b;return myFlag.$?A2($mdgriffith$elm_ui$Internal$Flag$Field,one,myFlag.a|two):A2($mdgriffith$elm_ui$Internal$Flag$Field,myFlag.a|one,two)}),$mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront=F2(function(a,b){return{$:3,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$nearbyElement=F2(function(location,elem){return A2($elm$html$Html$div,_List_fromArray([$elm$html$Html$Attributes$class(function(){switch(location){case 0:return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_b8,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_iV]));case 1:return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_b8,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_je]));case 2:return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_b8,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_kW]));case 3:return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_b8,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_kU]));case 4:return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_b8,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_ko]));default:return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_b8,$mdgriffith$elm_ui$Internal$Style$classes_lt,$mdgriffith$elm_ui$Internal$Style$classes_jd]))}}())]),_List_fromArray([function(){switch(elem.$){case 3:return $elm$virtual_dom$VirtualDom$text("");case 2:return $mdgriffith$elm_ui$Internal$Model$textElement(elem.a);case 0:return(0,elem.a)(2);default:return A2(elem.a.ki,$mdgriffith$elm_ui$Internal$Model$NoStyleSheet,2)}}()]))}),$mdgriffith$elm_ui$Internal$Model$addNearbyElement=F3(function(location,elem,existing){var nearby=A2($mdgriffith$elm_ui$Internal$Model$nearbyElement,location,elem);switch(existing.$){case 0:return 5===location?{$:1,a:_List_fromArray([nearby])}:{$:2,a:_List_fromArray([nearby])};case 1:var existingBehind=existing.a;return 5===location?{$:1,a:A2($elm$core$List$cons,nearby,existingBehind)}:A2($mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront,existingBehind,_List_fromArray([nearby]));case 2:var existingInFront=existing.a;return 5===location?A2($mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront,_List_fromArray([nearby]),existingInFront):{$:2,a:A2($elm$core$List$cons,nearby,existingInFront)};default:existingBehind=existing.a,existingInFront=existing.b;return 5===location?A2($mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront,A2($elm$core$List$cons,nearby,existingBehind),existingInFront):A2($mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront,existingBehind,A2($elm$core$List$cons,nearby,existingInFront))}}),$mdgriffith$elm_ui$Internal$Model$Embedded=F2(function(a,b){return{$:2,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$addNodeName=F2(function(newNode,old){switch(old.$){case 0:return{$:1,a:newNode};case 1:return A2($mdgriffith$elm_ui$Internal$Model$Embedded,old.a,newNode);default:return A2($mdgriffith$elm_ui$Internal$Model$Embedded,old.a,old.b)}}),$elm$virtual_dom$VirtualDom$attribute=F2(function(key,value){return A2(_VirtualDom_attribute,function(key){return/^(on|formAction$)/i.test(key)?"data-"+key:key}(key),_VirtualDom_noJavaScriptOrHtmlUri(value))}),$mdgriffith$elm_ui$Internal$Model$FullTransform=F4(function(a,b,c,d){return{$:2,a:a,b:b,c:c,d:d}}),$mdgriffith$elm_ui$Internal$Model$composeTransformation=F2(function(transform,component){switch(transform.$){case 0:switch(component.$){case 0:return{$:1,a:{a:x=component.a,b:0,c:0}};case 1:return{$:1,a:{a:0,b:y=component.a,c:0}};case 2:return{$:1,a:{a:0,b:0,c:z=component.a}};case 3:return{$:1,a:component.a};case 4:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{a:0,b:0,c:0},{a:1,b:1,c:1},component.a,angle=component.b);default:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{a:0,b:0,c:0},component.a,{a:0,b:0,c:1},0)}case 1:var x=(moved=transform.a).a,y=moved.b,z=moved.c;switch(component.$){case 0:return{$:1,a:{a:component.a,b:y,c:z}};case 1:return{$:1,a:{a:x,b:component.a,c:z}};case 2:return{$:1,a:{a:x,b:y,c:component.a}};case 3:return{$:1,a:component.a};case 4:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,moved,{a:1,b:1,c:1},component.a,angle=component.b);default:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,moved,component.a,{a:0,b:0,c:1},0)}default:var moved,x=(moved=transform.a).a,y=moved.b,z=moved.c,scaled=transform.b,origin=transform.c,angle=transform.d;switch(component.$){case 0:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{a:component.a,b:y,c:z},scaled,origin,angle);case 1:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{a:x,b:component.a,c:z},scaled,origin,angle);case 2:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{a:x,b:y,c:component.a},scaled,origin,angle);case 3:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,component.a,scaled,origin,angle);case 4:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,moved,scaled,component.a,component.b);default:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,moved,component.a,origin,angle)}}}),$mdgriffith$elm_ui$Internal$Flag$height=alpha(7),$mdgriffith$elm_ui$Internal$Flag$heightContent=alpha(36),$mdgriffith$elm_ui$Internal$Flag$merge=F2(function(_v0,_v1){return A2($mdgriffith$elm_ui$Internal$Flag$Field,_v0.a|_v1.a,_v0.b|_v1.b)}),$mdgriffith$elm_ui$Internal$Flag$none=A2($mdgriffith$elm_ui$Internal$Flag$Field,0,0),$mdgriffith$elm_ui$Internal$Model$renderHeight=function(h){switch(h.$){case 0:var portion=$elm$core$String$fromInt(h.a),name="height-px-"+portion;return{a:$mdgriffith$elm_ui$Internal$Flag$none,b:$mdgriffith$elm_ui$Internal$Style$classes_gI+" "+name,c:_List_fromArray([A3($mdgriffith$elm_ui$Internal$Model$Single,name,"height",portion+"px")])};case 1:return{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightContent,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_eI,c:_List_Nil};case 2:portion=h.a;return 1===portion?{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightFill,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_eJ,c:_List_Nil}:{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightFill,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_gJ+(" height-fill-"+$elm$core$String$fromInt(portion)),c:_List_fromArray([A3($mdgriffith$elm_ui$Internal$Model$Single,$mdgriffith$elm_ui$Internal$Style$classes_i6+("."+$mdgriffith$elm_ui$Internal$Style$classes_a1+(" > .height-fill-"+$elm$core$String$fromInt(portion))),"flex-grow",$elm$core$String$fromInt(1e5*portion))])};case 3:var newStyle=h.a,_v2=h.b,cls="min-height-"+$elm$core$String$fromInt(newStyle),style=A3($mdgriffith$elm_ui$Internal$Model$Single,cls,"min-height",$elm$core$String$fromInt(newStyle)+"px !important"),maxSize=$mdgriffith$elm_ui$Internal$Model$renderHeight(_v2),newAttrs=maxSize.b,newStyle=maxSize.c;return{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightBetween,maxSize.a),b:cls+" "+newAttrs,c:A2($elm$core$List$cons,style,newStyle)};default:maxSize=h.a,_v2=h.b,cls="max-height-"+$elm$core$String$fromInt(maxSize),style=A3($mdgriffith$elm_ui$Internal$Model$Single,cls,"max-height",$elm$core$String$fromInt(maxSize)+"px"),_v2=$mdgriffith$elm_ui$Internal$Model$renderHeight(_v2),newAttrs=_v2.b,newStyle=_v2.c;return{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightBetween,_v2.a),b:cls+" "+newAttrs,c:A2($elm$core$List$cons,style,newStyle)}}},$mdgriffith$elm_ui$Internal$Flag$widthContent=alpha(38),$mdgriffith$elm_ui$Internal$Model$renderWidth=function(w){switch(w.$){case 0:var portion=w.a;return{a:$mdgriffith$elm_ui$Internal$Flag$none,b:$mdgriffith$elm_ui$Internal$Style$classes_iK+(" width-px-"+$elm$core$String$fromInt(portion)),c:_List_fromArray([A3($mdgriffith$elm_ui$Internal$Model$Single,"width-px-"+$elm$core$String$fromInt(portion),"width",$elm$core$String$fromInt(portion)+"px")])};case 1:return{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthContent,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_fJ,c:_List_Nil};case 2:portion=w.a;return 1===portion?{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthFill,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_fK,c:_List_Nil}:{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthFill,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_iL+(" width-fill-"+$elm$core$String$fromInt(portion)),c:_List_fromArray([A3($mdgriffith$elm_ui$Internal$Model$Single,$mdgriffith$elm_ui$Internal$Style$classes_i6+("."+$mdgriffith$elm_ui$Internal$Style$classes_h7+(" > .width-fill-"+$elm$core$String$fromInt(portion))),"flex-grow",$elm$core$String$fromInt(1e5*portion))])};case 3:var newStyle=w.a,_v2=w.b,cls="min-width-"+$elm$core$String$fromInt(newStyle),style=A3($mdgriffith$elm_ui$Internal$Model$Single,cls,"min-width",$elm$core$String$fromInt(newStyle)+"px"),maxSize=$mdgriffith$elm_ui$Internal$Model$renderWidth(_v2),newAttrs=maxSize.b,newStyle=maxSize.c;return{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthBetween,maxSize.a),b:cls+" "+newAttrs,c:A2($elm$core$List$cons,style,newStyle)};default:maxSize=w.a,_v2=w.b,cls="max-width-"+$elm$core$String$fromInt(maxSize),style=A3($mdgriffith$elm_ui$Internal$Model$Single,cls,"max-width",$elm$core$String$fromInt(maxSize)+"px"),_v2=$mdgriffith$elm_ui$Internal$Model$renderWidth(_v2),newAttrs=_v2.b,newStyle=_v2.c;return{a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthBetween,_v2.a),b:cls+" "+newAttrs,c:A2($elm$core$List$cons,style,newStyle)}}},$mdgriffith$elm_ui$Internal$Flag$borderWidth=alpha(27),$mdgriffith$elm_ui$Internal$Model$skippable=F2(function(flag,style){if(_Utils_eq(flag,$mdgriffith$elm_ui$Internal$Flag$borderWidth)){if(3!==style.$)return!1;switch(style.c){case"0px":case"1px":case"2px":case"3px":case"4px":case"5px":case"6px":return!0;default:return!1}}else switch(style.$){case 2:var l=style.a;return 8<=l&&l<=32;case 7:var t=style.b,r=style.c,l=style.e;return _Utils_eq(t,style.d)&&_Utils_eq(t,r)&&_Utils_eq(t,l)&&0<=t&&t<=24;default:return!1}}),$mdgriffith$elm_ui$Internal$Flag$width=alpha(6),$mdgriffith$elm_ui$Internal$Flag$xAlign=alpha(30),$mdgriffith$elm_ui$Internal$Flag$yAlign=alpha(29),$mdgriffith$elm_ui$Internal$Model$gatherAttrRecursive=F8(function(classes,node,has,transform,styles,attrs,children,elementAttrs){gatherAttrRecursive:for(;;){if(!elementAttrs.b){var _v1=$mdgriffith$elm_ui$Internal$Model$transformClass(transform);return 1===_v1.$?{bm:A2($elm$core$List$cons,$elm$html$Html$Attributes$class(classes),attrs),br:children,by:has,cO:node,lJ:styles}:{bm:A2($elm$core$List$cons,$elm$html$Html$Attributes$class(classes+" "+_v1.a),attrs),br:children,by:has,cO:node,lJ:A2($elm$core$List$cons,{$:10,a:transform},styles)}}var attribute=elementAttrs.a,remaining=elementAttrs.b;switch(attribute.$){case 0:classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 3:var style=attribute.b;if(A2($mdgriffith$elm_ui$Internal$Flag$present,flag=attribute.a,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=style+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,flag,has),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 1:classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,attribute.a,attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 4:style=attribute.b;if(A2($mdgriffith$elm_ui$Internal$Flag$present,flag=attribute.a,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}if(A2($mdgriffith$elm_ui$Internal$Model$skippable,flag,style)){classes=$temp$classes=$mdgriffith$elm_ui$Internal$Model$getStyleName(style)+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,flag,has),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=$mdgriffith$elm_ui$Internal$Model$getStyleName(style)+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,flag,has),transform=$temp$transform=transform,styles=$temp$styles=A2($elm$core$List$cons,style,styles),attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 10:var flag,location=attribute.b;classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,flag=attribute.a,has),transform=$temp$transform=A2($mdgriffith$elm_ui$Internal$Model$composeTransformation,transform,location),styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 7:var width=attribute.a;if(A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$width,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}switch(width.$){case 0:var $temp$classes=$mdgriffith$elm_ui$Internal$Style$classes_iK+(" width-px-"+$elm$core$String$fromInt(px=width.a))+" "+classes,$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has),$temp$transform=transform,$temp$styles=A2($elm$core$List$cons,A3($mdgriffith$elm_ui$Internal$Model$Single,"width-px-"+$elm$core$String$fromInt(px),"width",$elm$core$String$fromInt(px)+"px"),styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 1:classes=$temp$classes=classes+" "+$mdgriffith$elm_ui$Internal$Style$classes_fJ,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthContent,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 2:if(1===(portion=width.a)){classes=$temp$classes=classes+" "+$mdgriffith$elm_ui$Internal$Style$classes_fK,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthFill,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}$temp$classes=classes+(" "+$mdgriffith$elm_ui$Internal$Style$classes_iL+(" width-fill-"+$elm$core$String$fromInt(portion))),$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthFill,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has)),$temp$transform=transform,$temp$styles=A2($elm$core$List$cons,A3($mdgriffith$elm_ui$Internal$Model$Single,$mdgriffith$elm_ui$Internal$Style$classes_i6+("."+$mdgriffith$elm_ui$Internal$Style$classes_h7+(" > .width-fill-"+$elm$core$String$fromInt(portion))),"flex-grow",$elm$core$String$fromInt(1e5*portion)),styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;default:var _v4=$mdgriffith$elm_ui$Internal$Model$renderWidth(width),newStyles=_v4.c,$temp$classes=classes+" "+_v4.b,$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$merge,_v4.a,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has)),$temp$transform=transform,$temp$styles=_Utils_ap(newStyles,styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}case 8:var portion,height=attribute.a;if(A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$height,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}switch(height.$){case 0:var px,_v6=$elm$core$String$fromInt(px=height.a)+"px",name="height-px-"+_v6;classes=$temp$classes=$mdgriffith$elm_ui$Internal$Style$classes_gI+" "+name+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has),transform=$temp$transform=transform,styles=$temp$styles=A2($elm$core$List$cons,A3($mdgriffith$elm_ui$Internal$Model$Single,name,"height ",_v6),styles),attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 1:classes=$temp$classes=$mdgriffith$elm_ui$Internal$Style$classes_eI+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightContent,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 2:if(1===(portion=height.a)){classes=$temp$classes=$mdgriffith$elm_ui$Internal$Style$classes_eJ+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightFill,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}$temp$classes=classes+(" "+$mdgriffith$elm_ui$Internal$Style$classes_gJ+(" height-fill-"+$elm$core$String$fromInt(portion))),$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightFill,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has)),$temp$transform=transform,$temp$styles=A2($elm$core$List$cons,A3($mdgriffith$elm_ui$Internal$Model$Single,$mdgriffith$elm_ui$Internal$Style$classes_i6+("."+$mdgriffith$elm_ui$Internal$Style$classes_a1+(" > .height-fill-"+$elm$core$String$fromInt(portion))),"flex-grow",$elm$core$String$fromInt(1e5*portion)),styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;default:_v6=$mdgriffith$elm_ui$Internal$Model$renderHeight(height),newStyles=_v6.c,$temp$classes=classes+" "+_v6.b,$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$merge,_v6.a,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has)),$temp$transform=transform,$temp$styles=_Utils_ap(newStyles,styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}case 2:var description=attribute.a;switch(description.$){case 0:classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"main",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 1:classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"nav",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 2:classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"footer",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 3:classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"aside",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 4:var i=description.a;if(1<i){if(i<7){classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"h"+$elm$core$String$fromInt(i),node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"h6",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"h1",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 9:classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 8:classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,A2($elm$virtual_dom$VirtualDom$attribute,"role","button"),attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 5:classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,A2($elm$virtual_dom$VirtualDom$attribute,"aria-label",description.a),attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive;case 6:classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,A2($elm$virtual_dom$VirtualDom$attribute,"aria-live","polite"),attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive;default:classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,A2($elm$virtual_dom$VirtualDom$attribute,"aria-live","assertive"),attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive}case 9:var location=attribute.a,elem=attribute.b,newStyles=function(){switch(elem.$){case 3:return styles;case 2:return styles;case 0:return styles;default:return _Utils_ap(styles,elem.a.lJ)}}();classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=newStyles,attrs=attrs,children=A3($mdgriffith$elm_ui$Internal$Model$addNearbyElement,location,elem,children),elementAttrs=remaining;continue gatherAttrRecursive;case 6:var x=attribute.a;if(A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$xAlign,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=function(align){switch(align){case 0:return $mdgriffith$elm_ui$Internal$Style$classes_eo+" "+$mdgriffith$elm_ui$Internal$Style$classes_fT;case 2:return $mdgriffith$elm_ui$Internal$Style$classes_eo+" "+$mdgriffith$elm_ui$Internal$Style$classes_fU;default:return $mdgriffith$elm_ui$Internal$Style$classes_eo+" "+$mdgriffith$elm_ui$Internal$Style$classes_iY}}(x)+" "+classes,node=$temp$node=node,has=$temp$has=function(flags){switch(x){case 1:return A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$centerX,flags);case 2:return A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$alignRight,flags);default:return flags}}(A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$xAlign,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;default:var y=attribute.a;if(A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$yAlign,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=function(align){switch(align){case 0:return $mdgriffith$elm_ui$Internal$Style$classes_ep+" "+$mdgriffith$elm_ui$Internal$Style$classes_i2;case 2:return $mdgriffith$elm_ui$Internal$Style$classes_ep+" "+$mdgriffith$elm_ui$Internal$Style$classes_iX;default:return $mdgriffith$elm_ui$Internal$Style$classes_ep+" "+$mdgriffith$elm_ui$Internal$Style$classes_iZ}}(y)+" "+classes,node=$temp$node=node,has=$temp$has=function(flags){switch(y){case 1:return A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$centerY,flags);case 2:return A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$alignBottom,flags);default:return flags}}(A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$yAlign,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}}}),$mdgriffith$elm_ui$Internal$Model$Untransformed={$:0},$mdgriffith$elm_ui$Internal$Model$untransformed=$mdgriffith$elm_ui$Internal$Model$Untransformed,$mdgriffith$elm_ui$Internal$Model$element=F4(function(context,node,attributes,children){return A3($mdgriffith$elm_ui$Internal$Model$createElement,context,children,A8($mdgriffith$elm_ui$Internal$Model$gatherAttrRecursive,function(context){switch(context){case 0:return $mdgriffith$elm_ui$Internal$Model$rowClass;case 1:return $mdgriffith$elm_ui$Internal$Model$columnClass;case 2:return $mdgriffith$elm_ui$Internal$Model$singleClass;case 3:return $mdgriffith$elm_ui$Internal$Model$gridClass;case 4:return $mdgriffith$elm_ui$Internal$Model$paragraphClass;default:return $mdgriffith$elm_ui$Internal$Model$pageClass}}(context),node,$mdgriffith$elm_ui$Internal$Flag$none,$mdgriffith$elm_ui$Internal$Model$untransformed,_List_Nil,_List_Nil,$mdgriffith$elm_ui$Internal$Model$NoNearbyChildren,$elm$core$List$reverse(attributes)))}),$mdgriffith$elm_ui$Element$height=$elm$svg$Svg$line=function(a){return{$:8,a:a}},$mdgriffith$elm_ui$Internal$Model$Attr=function(a){return{$:1,a:a}},$mdgriffith$elm_ui$Element$shrink={$:1},$mdgriffith$elm_ui$Element$width=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver=function(a){return{$:7,a:a}},$mdgriffith$elm_ui$Element$column=F2(function(attrs,children){return A4($mdgriffith$elm_ui$Internal$Model$element,1,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_jD+" "+$mdgriffith$elm_ui$Internal$Style$classes_cv),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),attrs))),{$:0,a:children})}),$mdgriffith$elm_ui$Internal$Model$Empty={$:3},$mdgriffith$elm_ui$Element$none=$mdgriffith$elm_ui$Internal$Model$Empty,$mdgriffith$elm_ui$Internal$Model$PaddingStyle=F5(function(a,b,c,d,e){return{$:7,a:a,b:b,c:c,d:d,e:e}}),$mdgriffith$elm_ui$Internal$Model$StyleClass=F2(function(a,b){return{$:4,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Flag$padding=alpha(2),$mdgriffith$elm_ui$Element$row=F2(function(attrs,children){return A4($mdgriffith$elm_ui$Internal$Model$element,0,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_cv+" "+$mdgriffith$elm_ui$Internal$Style$classes_a2),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),attrs))),{$:0,a:children})}),$cuducos$elm_format_number$FormatNumber$Parser$FormattedNumber=F5(function(original,integers,decimals,prefix,suffix){return{gj:decimals,gP:integers,hK:original,dY:prefix,ea:suffix}}),$elm$core$String$filter=$mdgriffith$elm_ui$Internal$Flag$fontFamily,$elm$core$String$repeatHelp=F3(function(n,chunk,result){return 0<n?A3($elm$core$String$repeatHelp,n>>1,_Utils_ap(chunk,chunk),1&n?_Utils_ap(result,chunk):result):result}),$elm$core$String$repeat=F2(function(n,chunk){return A3($elm$core$String$repeatHelp,n,chunk,"")}),$cuducos$elm_format_number$FormatNumber$Parser$addZerosToFit=F2(function(desiredLength,value){var missing=$elm$core$String$length(value),missing=_Utils_cmp(missing,desiredLength)<0?$elm$core$Basics$abs(desiredLength-missing):0;return _Utils_ap(value,A2($elm$core$String$repeat,missing,"0"))}),$elm$core$String$dropRight=F2(function(n,string){return n<1?string:A3($elm$core$String$slice,0,-n,string)}),$elm$core$String$right=F2(function(n,string){return n<1?"":A3($elm$core$String$slice,-n,$elm$core$String$length(string),string)}),$cuducos$elm_format_number$FormatNumber$Parser$removeZeros=function(decimals){return"0"!==A2($elm$core$String$right,1,decimals)?decimals:$cuducos$elm_format_number$FormatNumber$Parser$removeZeros(A2($elm$core$String$dropRight,1,decimals))},$cuducos$elm_format_number$FormatNumber$Parser$getDecimals=F2(function(locale,digits){var _v0=locale.gj;switch(_v0.$){case 1:return $cuducos$elm_format_number$FormatNumber$Parser$removeZeros(digits);case 2:return digits;default:return A2($cuducos$elm_format_number$FormatNumber$Parser$addZerosToFit,_v0.a,digits)}}),$elm$core$String$foldr=$feathericons$elm_feather$FeatherIcons$makeBuilder,$myrho$elm_round$Round$addSign=F2(function(signed,str){return _Utils_ap(signed&&A2($elm$core$List$any,function(c){return"0"!==c&&"."!==c},A3($elm$core$String$foldr,$elm$core$List$cons,_List_Nil,str))?"-":"",str)}),$elm$core$String$cons=$mdgriffith$elm_ui$Internal$Model$FontFamily,$elm$core$Char$fromCode=function(code){return code<0||1114111<code?"":65535<code?String.fromCharCode(55296+Math.floor((code-=65536)/1024),code%1024+56320):String.fromCharCode(code)},$myrho$elm_round$Round$increaseNum=function(_v1){var c=_v1.a,tail=_v1.b;if("9"===c){_v1=$elm$core$String$uncons(tail);return 1===_v1.$?"01":A2($elm$core$String$cons,"0",$myrho$elm_round$Round$increaseNum(_v1.a))}c=$elm$core$Char$toCode(c);return 48<=c&&c<57?A2($elm$core$String$cons,$elm$core$Char$fromCode(c+1),tail):"0"},$elm$core$Basics$isInfinite=function(n){return n===1/0||n===-1/0},$elm$core$String$padRight=F3(function(n,_char,string){return _Utils_ap(string,A2($elm$core$String$repeat,n-$elm$core$String$length(string),$elm$core$String$fromChar(_char)))}),$elm$core$String$reverse=function(str){for(var len=str.length,arr=Array(len),i=0;i<len;){var word=str.charCodeAt(i);word<55296||56319<word?arr[len-i]=str[i]:(arr[len-i]=str[i+1],arr[len-++i]=str[i-1]),i++}return arr.join("")},$myrho$elm_round$Round$round=F3(function(functor,numZeroed,numLen){if($elm$core$Basics$isInfinite(numLen)||$elm$core$Basics$isNaN(numLen))return $elm$core$String$fromFloat(numLen);var signed=numLen<0,num=$myrho$elm_round$Round$splitComma(function(fl){var _v0=A2($elm$core$String$split,"e",$elm$core$String$fromFloat($elm$core$Basics$abs(fl)));if(_v0.b){if(_v0.b.b){var num=_v0.a,zeroed=_v0.b.a,e=A2($elm$core$Maybe$withDefault,0,$elm$core$String$toInt(A2($elm$core$String$startsWith,"+",zeroed)?A2($elm$core$String$dropLeft,1,zeroed):zeroed)),zeroed=$myrho$elm_round$Round$splitComma(num),zeroed=_Utils_ap(zeroed.a,zeroed.b),zeroed=e<0?A2($elm$core$Maybe$withDefault,"0",A2($elm$core$Maybe$map,function(_v3){return _v3.a+"."+_v3.b},A2($elm$core$Maybe$map,$elm$core$Tuple$mapFirst($elm$core$String$fromChar),$elm$core$String$uncons(_Utils_ap(A2($elm$core$String$repeat,$elm$core$Basics$abs(e),"0"),zeroed))))):A3($elm$core$String$padRight,e+1,"0",zeroed);return _Utils_ap(fl<0?"-":"",zeroed)}return _Utils_ap(fl<0?"-":"",num=_v0.a)}return""}($elm$core$Basics$abs(numLen))),before=num.a,after=num.b,roundDigitIndex=$elm$core$String$length(before)+numZeroed,numLen=_Utils_ap(A2($elm$core$String$repeat,1-roundDigitIndex,"0"),A3($elm$core$String$padRight,roundDigitIndex,"0",_Utils_ap(before,after))),num=$elm$core$String$length(numLen),roundDigitIndex=A2($elm$core$Basics$max,1,roundDigitIndex),num=A2(functor,signed,A3($elm$core$String$slice,roundDigitIndex,num,numLen)),numLen=A3($elm$core$String$slice,0,roundDigitIndex,numLen),num=num?$elm$core$String$reverse(A2($elm$core$Maybe$withDefault,"1",A2($elm$core$Maybe$map,$myrho$elm_round$Round$increaseNum,$elm$core$String$uncons($elm$core$String$reverse(numLen))))):numLen,numLen=$elm$core$String$length(num),numZeroed="0"===num?num:0<numZeroed?_Utils_cmp(numZeroed,$elm$core$String$length(after))<0?A3($elm$core$String$slice,0,numLen-numZeroed,num)+"."+A3($elm$core$String$slice,numLen-numZeroed,numLen,num):_Utils_ap(before+".",A3($elm$core$String$padRight,numZeroed,"0",after)):_Utils_ap(num,A2($elm$core$String$repeat,$elm$core$Basics$abs(numZeroed),"0"));return A2($myrho$elm_round$Round$addSign,signed,numZeroed)})(F2(function(signed,i){var _v0=$elm$core$String$uncons(i);if(1===_v0.$)return!1;if("5"!==_v0.a.a)return 53<(i=$elm$core$Char$toCode(_v0.a.a))&&signed||53<=i&&!signed;if(""===_v0.a.b)return!signed;return!0})),$cuducos$elm_format_number$FormatNumber$Parser$splitInParts=F2(function(locale,decimals){var asList=function(){var _v1=locale.gj;switch(_v1.$){case 1:return $myrho$elm_round$Round$round(_v1.a);case 0:return $elm$core$String$fromFloat;default:return $myrho$elm_round$Round$round(_v1.a)}}(),asList=A2($elm$core$String$split,".",asList(decimals)),decimals=(decimals=function(list){if(list.b)return $elm$core$Maybe$Just(list.b);return $elm$core$Maybe$Nothing}(asList)).$?"":A2($elm$core$Maybe$withDefault,"",$elm$core$List$head(decimals.a));return{a:A2($elm$core$Maybe$withDefault,"",$elm$core$List$head(asList)),b:decimals}}),$cuducos$elm_format_number$FormatNumber$Parser$parse=F2(function(locale,original){var parts=A2($cuducos$elm_format_number$FormatNumber$Parser$splitInParts,locale,original),integers=function(integers){var reversedSplitThousands=function(value){return 3<$elm$core$String$length(value)?A2($elm$core$List$cons,A2($elm$core$String$right,3,value),reversedSplitThousands(A2($elm$core$String$dropRight,3,value))):_List_fromArray([value])};return $elm$core$List$reverse(reversedSplitThousands(integers))}(A2($elm$core$String$filter,$elm$core$Char$isDigit,parts.a)),partial=A5($cuducos$elm_format_number$FormatNumber$Parser$FormattedNumber,original,integers,A2($cuducos$elm_format_number$FormatNumber$Parser$getDecimals,locale,parts.b),"","");switch($cuducos$elm_format_number$FormatNumber$Parser$classify(partial)){case 2:return _Utils_update(partial,{dY:locale.hA,ea:locale.e5});case 0:return _Utils_update(partial,{dY:locale.hQ,ea:locale.hR});default:return _Utils_update(partial,{dY:locale.iT,ea:locale.iU})}}),$cuducos$elm_format_number$FormatNumber$Stringfy$formatDecimals=F2(function(locale,decimals){return""===decimals?"":_Utils_ap(locale.bt,decimals)}),$cuducos$elm_format_number$FormatNumber$Stringfy$stringfy=F2(function(integers,formatted){var decimals=$cuducos$elm_format_number$FormatNumber$Stringfy$formatDecimals(integers),integers=A2($elm$core$String$join,integers.it,formatted.gP),decimals=decimals(formatted.gj);return $elm$core$String$concat(_List_fromArray([formatted.dY,integers,decimals,formatted.ea]))}),$cuducos$elm_format_number$FormatNumber$format=F2(function(locale,number_){return A2($cuducos$elm_format_number$FormatNumber$Stringfy$stringfy,locale,A2($cuducos$elm_format_number$FormatNumber$Parser$parse,locale,number_))}),$cuducos$elm_format_number$FormatNumber$Locales$usLocale=_Utils_update({bt:".",gj:{$:0,a:0},hA:"",e5:"",hQ:"",hR:"",it:"",iT:"",iU:""},{gj:{$:2,a:2},it:","}),$mdgriffith$elm_ui$Internal$Model$SpacingStyle=F3(function(a,b,c){return{$:5,a:a,b:b,c:c}}),$mdgriffith$elm_ui$Internal$Flag$spacing=alpha(3),$mdgriffith$elm_ui$Internal$Model$spacingName=F2(function(x,y){return"spacing-"+$elm$core$String$fromInt(x)+("-"+$elm$core$String$fromInt(y))}),$mdgriffith$elm_ui$Element$alignTop={$:5,a:0},$mdgriffith$elm_ui$Element$alignLeft={$:6,a:0},$mdgriffith$elm_ui$Internal$Model$Nearby=F2(function(a,b){return{$:9,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$NoAttribute={$:0},$mdgriffith$elm_ui$Element$createNearby=F2(function(loc,element){return 3===element.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:A2($mdgriffith$elm_ui$Internal$Model$Nearby,loc,element)}),$mdgriffith$elm_ui$Element$centerY={$:5,a:1},$mdgriffith$elm_ui$Internal$Model$Colored=F3(function(a,b,c){return{$:4,a:a,b:b,c:c}}),$mdgriffith$elm_ui$Internal$Flag$bgColor=alpha(8),$mdgriffith$elm_ui$Element$el=F2(function(attrs,child){return A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),attrs)),{$:0,a:_List_fromArray([child])})}),$mdgriffith$elm_ui$Element$px=function(a){return{$:0,a:a}},$mdgriffith$elm_ui$Internal$Flag$borderRound=alpha(17),$mdgriffith$elm_ui$Internal$Model$Rgba=F4(function(a,b,c,d){return{$:0,a:a,b:b,c:c,d:d}}),$mdgriffith$elm_ui$Element$rgb255=F3(function(red,green,blue){return A4($mdgriffith$elm_ui$Internal$Model$Rgba,red/255,green/255,blue/255,1)}),$author$project$ColourPalette$scrollbarBackground=A3($mdgriffith$elm_ui$Element$rgb255,127,140,141),$author$project$ViewElements$commonShortHorizontalSliderStyles=_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(150)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$behindContent(A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(150)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$scrollbarBackground),$mdgriffith$elm_ui$Element$Border$rounded(6)]),$mdgriffith$elm_ui$Element$none))]),$mdgriffith$elm_ui$Internal$Flag$borderColor=alpha(28),$mdgriffith$elm_ui$Element$rgb=F3(function(r,g,b){return A4($mdgriffith$elm_ui$Internal$Model$Rgba,r,g,b,1)}),$mdgriffith$elm_ui$Internal$Model$BorderWidth=F5(function(a,b,c,d,e){return{$:6,a:a,b:b,c:c,d:d,e:e}}),$mdgriffith$elm_ui$Element$Input$defaultThumb=_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(16)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(16)),$mdgriffith$elm_ui$Element$Border$rounded(8),$mdgriffith$elm_ui$Element$Border$width(1),$mdgriffith$elm_ui$Element$Border$color(A3($mdgriffith$elm_ui$Element$rgb,.5,.5,.5)),$mdgriffith$elm_ui$Element$Background$color(A3($mdgriffith$elm_ui$Element$rgb,1,1,1))]),$mdgriffith$elm_ui$Element$Input$labelBelow=($mdgriffith$elm_ui$Element$Input$darkGrey=F3(function(a,b,c){return{$:0,a:a,b:b,c:c}}))(3),$mdgriffith$elm_ui$Internal$Flag$active=alpha(32),$mdgriffith$elm_ui$Element$Region$announce={$:2,a:{$:6}},$mdgriffith$elm_ui$Element$Input$applyLabel=F3(function(attrs,label,input){if(1===label.$)return A4($mdgriffith$elm_ui$Internal$Model$element,1,{$:1,a:"label"},attrs,{$:0,a:_List_fromArray([input])});var position=label.a,labelElement=A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,label.b,{$:0,a:_List_fromArray([label.c])});switch(position){case 2:return A4($mdgriffith$elm_ui$Internal$Model$element,1,{$:1,a:"label"},A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_dC),attrs),{$:0,a:_List_fromArray([labelElement,input])});case 3:return A4($mdgriffith$elm_ui$Internal$Model$element,1,{$:1,a:"label"},A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_dC),attrs),{$:0,a:_List_fromArray([input,labelElement])});case 0:return A4($mdgriffith$elm_ui$Internal$Model$element,0,{$:1,a:"label"},A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_dC),attrs),{$:0,a:_List_fromArray([input,labelElement])});default:return A4($mdgriffith$elm_ui$Internal$Model$element,0,{$:1,a:"label"},A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_dC),attrs),{$:0,a:_List_fromArray([labelElement,input])})}}),$elm$html$Html$Attributes$attribute=$elm$virtual_dom$VirtualDom$attribute,$elm$svg$Svg$Attributes$y1=function(a){return{$:2,a:a}},$mdgriffith$elm_ui$Element$fill={$:2,a:1},$mdgriffith$elm_ui$Internal$Flag$focus=alpha(31),$mdgriffith$elm_ui$Internal$Model$getSpacing=F2(function(attrs,_default){return A2($elm$core$Maybe$withDefault,_default,A3($elm$core$List$foldr,F2(function(_v2,acc){if(acc.$){if(4!==_v2.$||5!==_v2.b.$)return $elm$core$Maybe$Nothing;_v2=_v2.b;return $elm$core$Maybe$Just({a:_v2.b,b:_v2.c})}return $elm$core$Maybe$Just(acc.a)}),$elm$core$Maybe$Nothing,attrs))}),$mdgriffith$elm_ui$Internal$Flag$hover=alpha(33),$elm$html$Html$Attributes$max=$elm$html$Html$Attributes$stringProperty("max"),$elm$html$Html$Attributes$min=$elm$html$Html$Attributes$stringProperty("min"),$elm$virtual_dom$VirtualDom$on=_VirtualDom_on,$elm$html$Html$Events$stopPropagationOn=F2(function(event,decoder){return A2($elm$virtual_dom$VirtualDom$on,event,{$:1,a:decoder})}),$elm$json$Json$Decode$field=$elm$svg$Svg$Attributes$x2,$elm$json$Json$Decode$at=F2(function(fields,decoder){return A3($elm$core$List$foldr,$elm$json$Json$Decode$field,decoder,fields)}),$elm$html$Html$Events$targetValue=A2($elm$json$Json$Decode$at,_List_fromArray(["target","value"]),$elm$json$Json$Decode$string),$mdgriffith$elm_ui$Element$spacingXY=F2(function(x,y){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$spacing,A3($mdgriffith$elm_ui$Internal$Model$SpacingStyle,A2($mdgriffith$elm_ui$Internal$Model$spacingName,x,y),x,y))}),$elm$core$String$toFloat=function(n){return 0!==n.length&&!/[\sxbo]/.test(n)&&(n=+n)==n?$elm$core$Maybe$Just(n):$elm$core$Maybe$Nothing},$elm$html$Html$Attributes$type_=$elm$html$Html$Attributes$stringProperty("type"),$elm$html$Html$Attributes$value=$elm$html$Html$Attributes$stringProperty("value"),$mdgriffith$elm_ui$Element$fillPortion=$elm$svg$Svg$Attributes$y1,$mdgriffith$elm_ui$Internal$Model$Class=F2(function(a,b){return{$:3,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$TransformComponent=F2(function(a,b){return{$:10,a:a,b:b}}),$elm$virtual_dom$VirtualDom$map=$elm$svg$Svg$Attributes$y2,$mdgriffith$elm_ui$Internal$Model$map=F2(function(fn,el){switch(el.$){case 1:var styled=el.a;return{$:1,a:{ki:F2(function(add,context){return A2($elm$virtual_dom$VirtualDom$map,fn,A2(styled.ki,add,context))}),lJ:styled.lJ}};case 0:var html=el.a;return{$:0,a:A2($elm$core$Basics$composeL,$elm$virtual_dom$VirtualDom$map(fn),html)};case 2:return{$:2,a:el.a};default:return $mdgriffith$elm_ui$Internal$Model$Empty}}),$elm$virtual_dom$VirtualDom$mapAttribute=$elm$svg$Svg$Attributes$points,$mdgriffith$elm_ui$Internal$Model$mapAttr=F2(function(fn,attr){switch(attr.$){case 0:return $mdgriffith$elm_ui$Internal$Model$NoAttribute;case 2:return{$:2,a:attr.a};case 6:return{$:6,a:attr.a};case 5:return{$:5,a:attr.a};case 7:return{$:7,a:attr.a};case 8:return{$:8,a:attr.a};case 3:return A2($mdgriffith$elm_ui$Internal$Model$Class,attr.a,attr.b);case 4:return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,attr.a,attr.b);case 9:return A2($mdgriffith$elm_ui$Internal$Model$Nearby,attr.a,A2($mdgriffith$elm_ui$Internal$Model$map,fn,attr.b));case 1:return{$:1,a:A2($elm$virtual_dom$VirtualDom$mapAttribute,fn,attr.a)};default:return A2($mdgriffith$elm_ui$Internal$Model$TransformComponent,attr.a,attr.b)}}),$mdgriffith$elm_ui$Element$Input$viewHorizontalThumb=F3(function(factor,thumbAttributes,trackHeight){return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$height(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackHeight)),$mdgriffith$elm_ui$Element$centerY]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fillPortion($elm$core$Basics$round(1e4*factor)))]),$mdgriffith$elm_ui$Element$none),A2($mdgriffith$elm_ui$Element$el,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$centerY,A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$mapAttr($elm$core$Basics$never),thumbAttributes)),$mdgriffith$elm_ui$Element$none),A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fillPortion($elm$core$Basics$round(1e4*$elm$core$Basics$abs(1-factor))))]),$mdgriffith$elm_ui$Element$none)]))}),$mdgriffith$elm_ui$Element$Input$viewVerticalThumb=F3(function(factor,thumbAttributes,trackWidth){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$width(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth)),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fillPortion($elm$core$Basics$round(1e4*$elm$core$Basics$abs(1-factor))))]),$mdgriffith$elm_ui$Element$none),A2($mdgriffith$elm_ui$Element$el,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$centerX,A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$mapAttr($elm$core$Basics$never),thumbAttributes)),$mdgriffith$elm_ui$Element$none),A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fillPortion($elm$core$Basics$round(1e4*factor)))]),$mdgriffith$elm_ui$Element$none)]))}),$mdgriffith$elm_ui$Element$Input$slider=F2(function(attributes,input){var trackWidth=$mdgriffith$elm_ui$Internal$Model$getWidth(attributes),trackHeight=$mdgriffith$elm_ui$Internal$Model$getHeight(attributes),vertical=function(){var _v8={a:trackWidth,b:trackHeight};_v8$3:for(;;){if(1===_v8.a.$){if(1!==_v8.b.$)break _v8$3;return!1}if(_v8.a.a.$||_v8.b.$)break _v8$3;switch(_v8.b.a.$){case 0:return 0<_Utils_cmp(_v8.b.a.a,_v8.a.a.a);case 2:return!0;default:break _v8$3}}return!1}(),factor=(input.aM-input.aB)/(input.aA-input.aB),thumbAttributes=input.aL,thumbShadowStyle=$mdgriffith$elm_ui$Internal$Model$getHeight(thumbAttributes),_v1=1===thumbShadowStyle.$?"20px":thumbShadowStyle.a.$?"100%":$elm$core$String$fromInt(thumbShadowStyle.a.a)+"px",n=$mdgriffith$elm_ui$Internal$Model$getWidth(thumbAttributes),thumbShadowStyle=1===n.$?"20px":n.a.$?"100%":$elm$core$String$fromInt(n.a.a)+"px",n="thmb-"+thumbShadowStyle+"-"+_v1,thumbShadowStyle=_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"width",thumbShadowStyle),A2($mdgriffith$elm_ui$Internal$Model$Property,"height",_v1)]),_v1=A2($mdgriffith$elm_ui$Internal$Model$getSpacing,attributes,{a:5,b:5});return A3($mdgriffith$elm_ui$Element$Input$applyLabel,_List_fromArray([1===input.bz.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:A2($mdgriffith$elm_ui$Element$spacingXY,_v1.a,_v1.b),$mdgriffith$elm_ui$Element$Region$announce,$mdgriffith$elm_ui$Element$width(1===trackWidth.$?$mdgriffith$elm_ui$Element$fill:trackWidth.a.$?trackWidth.a:$mdgriffith$elm_ui$Element$shrink),$mdgriffith$elm_ui$Element$height(1!==trackHeight.$&&trackHeight.a.$?trackHeight.a:$mdgriffith$elm_ui$Element$shrink)]),input.bz,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$width(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth)),$mdgriffith$elm_ui$Element$height(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$px(20),trackHeight))]),_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$element,2,{$:1,a:"input"},_List_fromArray([$mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(input.bz),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$active,A2($mdgriffith$elm_ui$Internal$Model$Style,'input[type="range"].'+n+"::-moz-range-thumb",thumbShadowStyle)),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$hover,A2($mdgriffith$elm_ui$Internal$Model$Style,'input[type="range"].'+n+"::-webkit-slider-thumb",thumbShadowStyle)),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$focus,A2($mdgriffith$elm_ui$Internal$Model$Style,'input[type="range"].'+n+"::-ms-thumb",thumbShadowStyle)),{$:1,a:$elm$html$Html$Attributes$class(n+" ui-slide-bar focusable-parent")},{$:1,a:$elm$html$Html$Events$onInput(function(_v4){_v4=$elm$core$String$toFloat(_v4);return input.w(1===_v4.$?0:_v4.a)})},{$:1,a:$elm$html$Html$Attributes$type_("range")},{$:1,a:(n=1===(n=input.aJ).$?"any":$elm$core$String$fromFloat(n.a),A2($elm$html$Html$Attributes$stringProperty,"step",n))},{$:1,a:$elm$html$Html$Attributes$min($elm$core$String$fromFloat(input.aB))},{$:1,a:$elm$html$Html$Attributes$max($elm$core$String$fromFloat(input.aA))},{$:1,a:$elm$html$Html$Attributes$value($elm$core$String$fromFloat(input.aM))},vertical?{$:1,a:A2($elm$html$Html$Attributes$attribute,"orient","vertical")}:$mdgriffith$elm_ui$Internal$Model$NoAttribute,$mdgriffith$elm_ui$Element$width(vertical?A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$px(20),trackHeight):A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth)),$mdgriffith$elm_ui$Element$height(vertical?A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth):A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$px(20),trackHeight))]),{$:0,a:_List_Nil}),A2($mdgriffith$elm_ui$Element$el,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth)),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$px(20),trackHeight)),_Utils_ap(attributes,_List_fromArray([$mdgriffith$elm_ui$Element$behindContent(vertical?A3($mdgriffith$elm_ui$Element$Input$viewVerticalThumb,factor,A2($elm$core$List$cons,{$:1,a:$elm$html$Html$Attributes$class("focusable-thumb")},thumbAttributes),trackWidth):A3($mdgriffith$elm_ui$Element$Input$viewHorizontalThumb,factor,A2($elm$core$List$cons,{$:1,a:$elm$html$Html$Attributes$class("focusable-thumb")},thumbAttributes),trackHeight))])))),$mdgriffith$elm_ui$Element$none)])))}),$mdgriffith$elm_ui$Internal$Model$Button={$:8},$elm$json$Json$Encode$bool=_Json_wrap,$elm$html$Html$Attributes$disabled=($elm$html$Html$Attributes$spellcheck=F2(function(key,bool){return A2(_VirtualDom_property,key,$elm$json$Json$Encode$bool(bool))}))("disabled"),$elm$html$Html$Events$on=F2(function(event,decoder){return A2($elm$virtual_dom$VirtualDom$on,event,{$:0,a:decoder})}),$mdgriffith$elm_ui$Element$Events$onClick=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Events$onClick),$elm$json$Json$Decode$andThen=$elm$svg$Svg$polygon,$elm$json$Json$Decode$fail=function(msg){return{$:1,a:msg}},$elm$html$Html$Events$preventDefaultOn=F2(function(event,decoder){return A2($elm$virtual_dom$VirtualDom$on,event,{$:2,a:decoder})}),$mdgriffith$elm_ui$Internal$Flag$cursor=alpha(21),$mdgriffith$elm_ui$Element$pointer=A2($mdgriffith$elm_ui$Internal$Model$Class,$mdgriffith$elm_ui$Internal$Flag$cursor,$elm$svg$Svg$circle),$mdgriffith$elm_ui$Element$Input$button=F2(function(attrs,label){var onPress=label.kV,label=label.bz;return A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_dp+" "+$mdgriffith$elm_ui$Internal$Style$classes_a2+" "+$mdgriffith$elm_ui$Internal$Style$classes_lm+" "+$mdgriffith$elm_ui$Internal$Style$classes_hB),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$pointer,A2($elm$core$List$cons,function(attrs){return A2($elm$core$List$any,$mdgriffith$elm_ui$Element$Input$hasFocusStyle,attrs)?$mdgriffith$elm_ui$Internal$Model$NoAttribute:{$:1,a:$elm$html$Html$Attributes$class("focusable")}}(attrs),A2($elm$core$List$cons,{$:2,a:$mdgriffith$elm_ui$Internal$Model$Button},A2($elm$core$List$cons,{$:1,a:$elm$html$Html$Attributes$tabindex(0)},function(){if(1===onPress.$)return A2($elm$core$List$cons,{$:1,a:$elm$html$Html$Attributes$disabled(!0)},attrs);var msg=onPress.a;return A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Events$onClick(msg),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Input$onKeyLookup(function(code){return _Utils_eq(code,"Enter")||_Utils_eq(code," ")?$elm$core$Maybe$Just(msg):$elm$core$Maybe$Nothing}),attrs))}()))))))),{$:0,a:_List_fromArray([label])})}),$author$project$ColourPalette$buttonBackground=A3($mdgriffith$elm_ui$Element$rgb255,41,128,185),$author$project$ColourPalette$buttonShadow=A3($mdgriffith$elm_ui$Element$rgb255,52,152,219),$author$project$ColourPalette$buttonText=$elm$svg$Svg$line=A3($mdgriffith$elm_ui$Element$rgb255,255,255,255),$mdgriffith$elm_ui$Internal$Flag$fontColor=alpha(14),$mdgriffith$elm_ui$Internal$Model$PseudoSelector=F2(function(a,b){return{$:11,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$mapAttrFromStyle=F2(function(fn,attr){switch(attr.$){case 0:return $mdgriffith$elm_ui$Internal$Model$NoAttribute;case 2:return{$:2,a:attr.a};case 6:return{$:6,a:attr.a};case 5:return{$:5,a:attr.a};case 7:return{$:7,a:attr.a};case 8:return{$:8,a:attr.a};case 3:return A2($mdgriffith$elm_ui$Internal$Model$Class,attr.a,attr.b);case 4:return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,attr.a,attr.b);case 9:return A2($mdgriffith$elm_ui$Internal$Model$Nearby,attr.a,A2($mdgriffith$elm_ui$Internal$Model$map,fn,attr.b));case 1:return{$:1,a:A2($elm$virtual_dom$VirtualDom$mapAttribute,fn,attr.a)};default:return A2($mdgriffith$elm_ui$Internal$Model$TransformComponent,attr.a,attr.b)}}),$mdgriffith$elm_ui$Internal$Model$unwrapDecsHelper=F2(function(attr,_v0){var styles=_v0.a,trans=_v0.b,_v1=A2($mdgriffith$elm_ui$Internal$Model$mapAttrFromStyle,$elm$core$Basics$never,attr);switch(_v1.$){case 4:return{a:A2($elm$core$List$cons,_v1.b,styles),b:trans};case 10:return{a:styles,b:A2($mdgriffith$elm_ui$Internal$Model$composeTransformation,trans,_v1.b)};default:return{a:styles,b:trans}}}),$mdgriffith$elm_ui$Internal$Flag$shadows=alpha(19),$mdgriffith$elm_ui$Internal$Flag$fontSize=alpha(4),$author$project$ViewElements$prettyButtonStyles=_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$Border$width(2),$mdgriffith$elm_ui$Element$Border$rounded(16),$mdgriffith$elm_ui$Element$Border$color($author$project$ColourPalette$buttonBackground),$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$buttonBackground),$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$buttonText),$mdgriffith$elm_ui$Element$Font$size(16),$mdgriffith$elm_ui$Element$mouseOver(_List_fromArray([$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$buttonText),$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$buttonBackground)])),(decs=_List_fromArray([$mdgriffith$elm_ui$Element$Border$shadow({jf:5,jB:$author$project$ColourPalette$buttonShadow,kT:{a:4,b:0},lu:3})]),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$focus,A2($mdgriffith$elm_ui$Internal$Model$PseudoSelector,0,$mdgriffith$elm_ui$Internal$Model$unwrapDecorations(decs)))),$mdgriffith$elm_ui$Element$centerX]),$mdgriffith$elm_ui$Internal$Model$Padding=F5(function(a,b,c,d,e){return{$:0,a:a,b:b,c:c,d:d,e:e}}),$mdgriffith$elm_ui$Internal$Model$Spaced=F3(function(a,b,c){return{$:0,a:a,b:b,c:c}}),$mdgriffith$elm_ui$Internal$Model$paddingNameFloat=F4(function(top,right,bottom,left){return"pad-"+$mdgriffith$elm_ui$Internal$Model$floatClass(top)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(right)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(bottom)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(left))))}),$elm$html$Html$Attributes$style=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,$mdgriffith$elm_ui$Element$wrappedRow=F2(function(attrs,children){var pad=function(attrs){return A3($elm$core$List$foldr,F2(function(attr,_v0){var pad=_v0.a,spacing=_v0.b;return{a:function(){if(pad.$){if(4!==attr.$||7!==attr.b.$)return $elm$core$Maybe$Nothing;var _v3=attr.b;return $elm$core$Maybe$Just(A5($mdgriffith$elm_ui$Internal$Model$Padding,_v3.a,_v3.b,_v3.c,_v3.d,_v3.e))}return pad}(),b:function(){if(spacing.$){if(4!==attr.$||5!==attr.b.$)return $elm$core$Maybe$Nothing;var _v6=attr.b;return $elm$core$Maybe$Just(A3($mdgriffith$elm_ui$Internal$Model$Spaced,_v6.a,_v6.b,_v6.c))}return spacing}()}}),{a:$elm$core$Maybe$Nothing,b:$elm$core$Maybe$Nothing},attrs)}(attrs),padded=pad.a,halfY=pad.b;if(1===halfY.$)return A4($mdgriffith$elm_ui$Internal$Model$element,0,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_cv+" "+$mdgriffith$elm_ui$Internal$Style$classes_a2+" "+$mdgriffith$elm_ui$Internal$Style$classes_fL),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),attrs))),{$:0,a:children});var halfX=halfY.a,spaceName=halfX.a,x=halfX.b,y=halfX.c,pad=function(){if(padded.$)return $elm$core$Maybe$Nothing;var newLeft=padded.a,newTop=newLeft.b,newRight=newLeft.c,newBottom=newLeft.d,newLeft=newLeft.e;if(-1<_Utils_cmp(newRight,x/2)&&-1<_Utils_cmp(newBottom,y/2)){newTop=newTop-y/2,newRight=newRight-x/2,newLeft=newLeft-x/2,newBottom=newBottom-y/2;return $elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,A4($mdgriffith$elm_ui$Internal$Model$paddingNameFloat,newTop,newRight,newBottom,newLeft),newTop,newRight,newBottom,newLeft)))}return $elm$core$Maybe$Nothing}();if(pad.$){halfY=-y/2,halfX=-x/2;return A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,attrs,{$:0,a:_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$element,0,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_cv+" "+$mdgriffith$elm_ui$Internal$Style$classes_a2+" "+$mdgriffith$elm_ui$Internal$Style$classes_fL),A2($elm$core$List$cons,{$:1,a:A2($elm$html$Html$Attributes$style,"margin",$elm$core$String$fromFloat(halfY)+("px "+$elm$core$String$fromFloat(halfX))+"px")},A2($elm$core$List$cons,{$:1,a:A2($elm$html$Html$Attributes$style,"width","calc(100% + "+$elm$core$String$fromInt(x)+"px)")},A2($elm$core$List$cons,{$:1,a:A2($elm$html$Html$Attributes$style,"height","calc(100% + "+$elm$core$String$fromInt(y)+"px)")},A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$spacing,A3($mdgriffith$elm_ui$Internal$Model$SpacingStyle,spaceName,x,y)),_List_Nil))))),{$:0,a:children})])})}pad=pad.a;return A4($mdgriffith$elm_ui$Internal$Model$element,0,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_cv+" "+$mdgriffith$elm_ui$Internal$Style$classes_a2+" "+$mdgriffith$elm_ui$Internal$Style$classes_fL),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),_Utils_ap(attrs,_List_fromArray([pad]))))),{$:0,a:children})}),$mdgriffith$elm_ui$Element$Input$tabindex=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Attributes$tabindex),$mdgriffith$elm_ui$Element$Input$checkbox=F2(function(attributes,_v0){var label=_v0.bz,icon=_v0.b4,checked=_v0.bV,onChange=_v0.w,attributes=_Utils_ap(_List_fromArray([1===label.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Element$spacing(6),{$:1,a:$elm$html$Html$Events$onClick(onChange(!checked))},$mdgriffith$elm_ui$Element$Region$announce,$mdgriffith$elm_ui$Element$Input$onKeyLookup(function(code){return _Utils_eq(code,"Enter")||_Utils_eq(code," ")?$elm$core$Maybe$Just(onChange(!checked)):$elm$core$Maybe$Nothing}),$mdgriffith$elm_ui$Element$Input$tabindex(0),$mdgriffith$elm_ui$Element$pointer,$mdgriffith$elm_ui$Element$alignLeft,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),attributes);return A3($mdgriffith$elm_ui$Element$Input$applyLabel,A2($elm$core$List$cons,{$:1,a:A2($elm$html$Html$Attributes$attribute,"role","checkbox")},A2($elm$core$List$cons,{$:1,a:A2($elm$html$Html$Attributes$attribute,"aria-checked",checked?"true":"false")},A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(label),attributes))),label,A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,_List_fromArray([$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink)]),{$:0,a:_List_fromArray([icon(checked)])}))}),$author$project$ColourPalette$collapsedTabBorder=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver=A3($mdgriffith$elm_ui$Element$rgb255,189,195,199),$mdgriffith$elm_ui$Element$Input$labelRight=$mdgriffith$elm_ui$Element$Input$darkGrey(0),$author$project$Msg$ClearTerrain={$:41},$author$project$Msg$MakeTerrain={$:40},$mdgriffith$elm_ui$Element$Input$Option=F2(function(a,b){return{$:0,a:a,b:b}}),$mdgriffith$elm_ui$Element$Input$optionWith=F2(function(val,view){return A2($mdgriffith$elm_ui$Element$Input$Option,val,view)}),$mdgriffith$elm_ui$Internal$Model$paddingName=F4(function(top,right,bottom,left){return"pad-"+$elm$core$String$fromInt(top)+("-"+$elm$core$String$fromInt(right)+("-"+$elm$core$String$fromInt(bottom)+("-"+$elm$core$String$fromInt(left))))}),$author$project$ColourPalette$radioButtonDefault=$mdgriffith$elm_ui$Internal$Flag$fontFamily=A3($mdgriffith$elm_ui$Element$rgb255,149,165,166),$author$project$ColourPalette$radioButtonSelected=families=A3($mdgriffith$elm_ui$Element$rgb255,39,174,96),$author$project$ColourPalette$radioButtonShadow=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver,$author$project$ColourPalette$radioButtonText=$elm$svg$Svg$line,$mdgriffith$elm_ui$Element$Border$widthXY=F2(function(x,y){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderWidth,A5($mdgriffith$elm_ui$Internal$Model$BorderWidth,"b-"+$elm$core$String$fromInt(x)+("-"+$elm$core$String$fromInt(y)),y,x,y,x))}),$author$project$ViewElements$radioButton=F3(function(position,label,state){return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(2),$mdgriffith$elm_ui$Element$Border$widthEach({jl:0,kF:2,le:2,l5:2}),$mdgriffith$elm_ui$Element$Border$roundEach({jm:0,jn:0,l6:10,l7:10}),$mdgriffith$elm_ui$Element$Border$color(2===state?A3($mdgriffith$elm_ui$Element$rgb255,150,200,50):A3($mdgriffith$elm_ui$Element$rgb255,255,255,255)),$mdgriffith$elm_ui$Element$Border$shadow({jf:5,jB:$author$project$ColourPalette$radioButtonShadow,kT:{a:4,b:4},lu:3}),$mdgriffith$elm_ui$Element$Background$color(2===state?$author$project$ColourPalette$radioButtonSelected:$author$project$ColourPalette$radioButtonDefault),$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$radioButtonText),$mdgriffith$elm_ui$Element$Font$size(16)]),A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$centerY]),{$:2,a:label}))}),$mdgriffith$elm_ui$Element$Input$column=F2(function(attributes,children){return A4($mdgriffith$elm_ui$Internal$Model$element,1,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),attributes)),{$:0,a:children})}),$mdgriffith$elm_ui$Internal$Model$get=F2(function(attrs,isAttr){return A3($elm$core$List$foldr,F2(function(x,found){return isAttr(x)?A2($elm$core$List$cons,x,found):found}),_List_Nil,function(attrs){return A3($elm$core$List$foldr,F2(function(x,_v0){var found=_v0.a,has=_v0.b;switch(x.$){case 0:return{a:found,b:has};case 3:return{a:A2($elm$core$List$cons,x,found),b:has};case 1:return{a:A2($elm$core$List$cons,x,found),b:has};case 4:return{a:A2($elm$core$List$cons,x,found),b:has};case 7:return A2($elm$core$Set$member,"width",has)?{a:found,b:has}:{a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"width",has)};case 8:return A2($elm$core$Set$member,"height",has)?{a:found,b:has}:{a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"height",has)};case 2:return A2($elm$core$Set$member,"described",has)?{a:found,b:has}:{a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"described",has)};case 9:return{a:A2($elm$core$List$cons,x,found),b:has};case 6:return A2($elm$core$Set$member,"align-x",has)?{a:found,b:has}:{a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"align-x",has)};case 5:return A2($elm$core$Set$member,"align-y",has)?{a:found,b:has}:{a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"align-y",has)};default:return A2($elm$core$Set$member,"transform",has)?{a:found,b:has}:{a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"transform",has)}}}),{a:_List_Nil,b:$elm$core$Set$empty},attrs).a}(attrs))}),$mdgriffith$elm_ui$Element$Input$row=F2(function(attributes,children){return A4($mdgriffith$elm_ui$Internal$Model$element,0,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),attributes),{$:0,a:children})}),$mdgriffith$elm_ui$Element$Input$radioRow=F3(function(orientation,events,input){var track=F2(function(opt,_v14){var found=_v14.a,prev=_v14.b,nxt=_v14.c,val=opt.a;switch(found){case 0:return _Utils_eq($elm$core$Maybe$Just(val),input.ig)?{a:1,b:prev,c:nxt}:{a:found,b:val,c:nxt};case 1:return{a:2,b:prev,c:val};default:return{a:found,b:prev,c:nxt}}}),optionArea=function(status){var val=status.a,view=status.b,status=_Utils_eq($elm$core$Maybe$Just(val),input.ig)?2:0;return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$pointer,$mdgriffith$elm_ui$Element$width(orientation?$mdgriffith$elm_ui$Element$fill:$mdgriffith$elm_ui$Element$shrink),$mdgriffith$elm_ui$Element$Events$onClick(input.w(val)),2==status?{$:1,a:A2($elm$html$Html$Attributes$attribute,"aria-checked","true")}:{$:1,a:A2($elm$html$Html$Attributes$attribute,"aria-checked","false")},{$:1,a:A2($elm$html$Html$Attributes$attribute,"role","radio")}]),view(status))},prevNext=function(){var _v5=input.hI;if(_v5.b){var val=_v5.a.a;return function(_v7){var b=_v7.b,a=_v7.c;switch(_v7.a){case 0:case 1:return $elm$core$Maybe$Just({a:b,b:val});default:return $elm$core$Maybe$Just({a:b,b:a})}}(A3($elm$core$List$foldl,track,{a:0,b:val,c:val},input.hI))}return $elm$core$Maybe$Nothing}(),optionArea=A2(orientation?$mdgriffith$elm_ui$Element$Input$column:$mdgriffith$elm_ui$Element$Input$row,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(input.bz),events),A2($elm$core$List$map,optionArea,input.hI)),events=A2($mdgriffith$elm_ui$Internal$Model$get,events,function(attr){_v3$3:for(;;)switch(attr.$){case 7:case 8:if(2===attr.a.$)return!0;break _v3$3;case 1:return!0;default:break _v3$3}return!1});return A3($mdgriffith$elm_ui$Element$Input$applyLabel,_Utils_ap(A2($elm$core$List$filterMap,$elm$core$Basics$identity,_List_fromArray([$elm$core$Maybe$Just($mdgriffith$elm_ui$Element$alignLeft),$elm$core$Maybe$Just($mdgriffith$elm_ui$Element$Input$tabindex(0)),$elm$core$Maybe$Just({$:1,a:$elm$html$Html$Attributes$class("focus")}),$elm$core$Maybe$Just($mdgriffith$elm_ui$Element$Region$announce),$elm$core$Maybe$Just({$:1,a:A2($elm$html$Html$Attributes$attribute,"role","radiogroup")}),function(){if(1===prevNext.$)return $elm$core$Maybe$Nothing;var _v1=prevNext.a,prev=_v1.a,next=_v1.b;return $elm$core$Maybe$Just($mdgriffith$elm_ui$Element$Input$onKeyLookup(function(code){return _Utils_eq(code,"ArrowLeft")||_Utils_eq(code,"ArrowUp")?$elm$core$Maybe$Just(input.w(prev)):_Utils_eq(code,"ArrowRight")||_Utils_eq(code,"ArrowDown")?$elm$core$Maybe$Just(input.w(next)):_Utils_eq(code," ")&&1===input.ig.$?$elm$core$Maybe$Just(input.w(prev)):$elm$core$Maybe$Nothing}))}()])),events),input.bz,optionArea)})(0),$author$project$Msg$ResetFlythrough={$:38},$mdgriffith$elm_ui$Internal$Model$unstyled=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Element$Input$defaultTextPadding,$elm$core$Basics$always),$mdgriffith$elm_ui$Element$html=$mdgriffith$elm_ui$Internal$Model$unstyled,$elm$svg$Svg$Attributes$height=_VirtualDom_attribute("height"),$feathericons$elm_feather$FeatherIcons$makeBuilder=F2(function(name,src){return{ae:function(name){return{dh:$elm$core$Maybe$Just("feather feather-"+name),lu:24,cT:"",d9:2,eg:"0 0 24 24"}}(name),lA:src}}),$elm$svg$Svg$Attributes$x2=($mdgriffith$elm_ui$Internal$Model$FontFamily=$elm$svg$Svg$Attributes$x1("http://www.w3.org/2000/svg"))("rect"),$elm$svg$Svg$Attributes$width=_VirtualDom_attribute("width"),$elm$svg$Svg$Attributes$y1=_VirtualDom_attribute("x"),$elm$svg$Svg$Attributes$y2=_VirtualDom_attribute("y"),$feathericons$elm_feather$FeatherIcons$pause=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"pause",_List_fromArray([A2($elm$svg$Svg$Attributes$x2,_List_fromArray([$elm$svg$Svg$Attributes$y1("6"),$elm$svg$Svg$Attributes$y2("4"),$elm$svg$Svg$Attributes$width("4"),$elm$svg$Svg$Attributes$height("16")]),_List_Nil),A2($elm$svg$Svg$Attributes$x2,_List_fromArray([$elm$svg$Svg$Attributes$y1("14"),$elm$svg$Svg$Attributes$y2("4"),$elm$svg$Svg$Attributes$width("4"),$elm$svg$Svg$Attributes$height("16")]),_List_Nil)])),$elm$svg$Svg$Attributes$points=_VirtualDom_attribute("points"),$elm$svg$Svg$polygon=$mdgriffith$elm_ui$Internal$Model$FontFamily("polygon"),$feathericons$elm_feather$FeatherIcons$play=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"play",_List_fromArray([A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("5 3 19 12 5 21 5 3")]),_List_Nil)])),$feathericons$elm_feather$FeatherIcons$rewind=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"rewind",_List_fromArray([A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("11 19 2 12 11 5 11 19")]),_List_Nil),A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("22 19 13 12 22 5 22 19")]),_List_Nil)])),$elm$svg$Svg$Attributes$class=_VirtualDom_attribute("class"),$elm$svg$Svg$Attributes$fill=_VirtualDom_attribute("fill"),$elm$svg$Svg$map=$elm$virtual_dom$VirtualDom$map,$elm$svg$Svg$Attributes$stroke=_VirtualDom_attribute("stroke"),$elm$svg$Svg$Attributes$strokeLinecap=_VirtualDom_attribute("stroke-linecap"),$elm$svg$Svg$Attributes$strokeLinejoin=_VirtualDom_attribute("stroke-linejoin"),$elm$svg$Svg$Attributes$strokeWidth=_VirtualDom_attribute("stroke-width"),$elm$svg$Svg$svg=$mdgriffith$elm_ui$Internal$Model$FontFamily("svg"),$elm$svg$Svg$Attributes$viewBox=_VirtualDom_attribute("viewBox"),$feathericons$elm_feather$FeatherIcons$toHtml=F2(function(combinedAttributes,baseAttributes){var src=baseAttributes.lA,_v1=baseAttributes.ae,baseAttributes=$elm$core$String$fromFloat(_v1.lu),baseAttributes=_List_fromArray([$elm$svg$Svg$Attributes$fill("none"),$elm$svg$Svg$Attributes$height(_Utils_ap(baseAttributes,_v1.cT)),$elm$svg$Svg$Attributes$width(_Utils_ap(baseAttributes,_v1.cT)),$elm$svg$Svg$Attributes$stroke("currentColor"),$elm$svg$Svg$Attributes$strokeLinecap("round"),$elm$svg$Svg$Attributes$strokeLinejoin("round"),$elm$svg$Svg$Attributes$strokeWidth($elm$core$String$fromFloat(_v1.d9)),$elm$svg$Svg$Attributes$viewBox(_v1.eg)]),combinedAttributes=_Utils_ap((_v1=_v1.dh).$?baseAttributes:A2($elm$core$List$cons,$elm$svg$Svg$Attributes$class(_v1.a),baseAttributes),combinedAttributes);return A2($elm$svg$Svg$svg,combinedAttributes,A2($elm$core$List$map,$elm$svg$Svg$map($elm$core$Basics$never),src))}),$author$project$Msg$SmoothBend={$:27},$author$project$Msg$BezierSplines={$:79},$author$project$Msg$FilterWeightedAverage={$:77},$elm$svg$Svg$circle=$mdgriffith$elm_ui$Internal$Model$FontFamily("circle"),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=_VirtualDom_attribute("cx"),$mdgriffith$elm_ui$Element$Input$darkGrey=_VirtualDom_attribute("cy"),$elm$svg$Svg$line=$mdgriffith$elm_ui$Internal$Model$FontFamily("line"),$mdgriffith$elm_ui$Element$Input$defaultTextPadding=_VirtualDom_attribute("r"),$elm$svg$Svg$Attributes$x1=_VirtualDom_attribute("x1"),$elm$svg$Svg$Attributes$x2=_VirtualDom_attribute("x2"),$elm$svg$Svg$Attributes$y1=_VirtualDom_attribute("y1"),$elm$svg$Svg$Attributes$y2=_VirtualDom_attribute("y2"),$feathericons$elm_feather$FeatherIcons$info=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"info",_List_fromArray([A2($elm$svg$Svg$circle,_List_fromArray([$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove("12"),$mdgriffith$elm_ui$Element$Input$darkGrey("12"),$mdgriffith$elm_ui$Element$Input$defaultTextPadding("10")]),_List_Nil),A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("12"),$elm$svg$Svg$Attributes$y1("16"),$elm$svg$Svg$Attributes$x2("12"),$elm$svg$Svg$Attributes$y2("12")]),_List_Nil),A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("12"),$elm$svg$Svg$Attributes$y1("8"),$elm$svg$Svg$Attributes$x2("12.01"),$elm$svg$Svg$Attributes$y2("8")]),_List_Nil)])),$author$project$ColourPalette$warningColor=A3($mdgriffith$elm_ui$Element$rgb255,241,196,15),$author$project$Main$averageGradient=F3(function(endNode,s,startElevation){var overallLength=A2($elm$core$List$drop,s,A2($elm$core$List$take,startElevation,endNode.t));if(_Utils_cmp(s,startElevation)<0){startElevation={a:A2($elm$core$Array$get,s,endNode.d),b:A2($elm$core$Array$get,startElevation,endNode.d)};if(startElevation.a.$||startElevation.b.$)return $elm$core$Maybe$Nothing;endNode=startElevation.b.a,startElevation=startElevation.a.a.b.cA,overallLength=$elm$core$List$sum(A2($elm$core$List$map,function($){return $.gV},overallLength));return $elm$core$Maybe$Just((endNode.b.cA-startElevation)/overallLength*100)}return $elm$core$Maybe$Nothing}),$author$project$Msg$CloseTheLoop={$:42},$author$project$Msg$ReverseTrack={$:51},$author$project$Msg$NudgeNode=F2(function(a,b){return{$:46,a:a,b:b}}),$author$project$ViewElements$nudgeButton=F2(function(horizontalValue,verticalValue){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Apply nudge"},kV:$elm$core$Maybe$Just(A2($author$project$Msg$NudgeNode,horizontalValue,verticalValue))})}),$author$project$ViewElements$commonShortVerticalSliderStyles=_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(150)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$behindContent(A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(150)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$scrollbarBackground),$mdgriffith$elm_ui$Element$Border$rounded(6)]),$mdgriffith$elm_ui$Element$none))]),$author$project$Msg$SimplifyTrack={$:62},$author$project$ViewElements$straightenButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Straighten between markers"},kV:$elm$core$Maybe$Just({$:43})}),$author$project$Msg$LoadExternalSegment={$:64},$author$project$Msg$LoadSegmentStreams={$:67},$elm$url$Url$Builder$crossOrigin=F3(function(prePath,pathSegments,parameters){return prePath+("/"+(A2($elm$core$String$join,"/",pathSegments)+$elm$url$Url$Builder$toQuery(parameters)))}),$mdgriffith$elm_ui$Element$Input$labelHidden=function(a){return{$:1,a:a}},$elm$html$Html$Attributes$rel=_VirtualDom_attribute("rel"),$elm$html$Html$Attributes$target=$elm$html$Html$Attributes$stringProperty("target"),$mdgriffith$elm_ui$Element$newTabLink=F2(function(attrs,value){var label=value.bz;return A4($mdgriffith$elm_ui$Internal$Model$element,2,{$:1,a:"a"},A2($elm$core$List$cons,{$:1,a:A2($elm$html$Html$Attributes$stringProperty,"href",/^javascript:/i.test((value=value=value.ee).replace(/\s/g,""))?"":value)},A2($elm$core$List$cons,{$:1,a:$elm$html$Html$Attributes$rel("noopener noreferrer")},A2($elm$core$List$cons,{$:1,a:$elm$html$Html$Attributes$target("_blank")},A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_dp+" "+$mdgriffith$elm_ui$Internal$Style$classes_a2+" "+$mdgriffith$elm_ui$Internal$Style$classes_g0),attrs)))))),{$:0,a:_List_fromArray([label])})}),$mdgriffith$elm_ui$Element$Input$placeholder=F2(function(a,b){return{$:0,a:a,b:b}}),$author$project$ColourPalette$stravaOrange=A3($mdgriffith$elm_ui$Element$rgb255,252,76,2),$mdgriffith$elm_ui$Element$Input$TextArea={$:1},$mdgriffith$elm_ui$Element$Input$autofill=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Attributes$attribute("autocomplete")),$mdgriffith$elm_ui$Internal$Flag$moveY=alpha(26),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=alpha(20),$mdgriffith$elm_ui$Element$clip=A2($mdgriffith$elm_ui$Internal$Model$Class,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,$mdgriffith$elm_ui$Element$Input$white),$mdgriffith$elm_ui$Element$Input$darkGrey=A3($mdgriffith$elm_ui$Element$rgb,186/255,189/255,182/255),$mdgriffith$elm_ui$Element$Input$defaultTextPadding=A2(F2(function(x,y){if(_Utils_eq(x,y)){var xFloat=x;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,"p-"+$elm$core$String$fromInt(x),xFloat,xFloat,xFloat,xFloat))}var yFloat=y,xFloat=x;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,"p-"+$elm$core$String$fromInt(x)+("-"+$elm$core$String$fromInt(y)),yFloat,xFloat,yFloat,xFloat))}),12,12),$mdgriffith$elm_ui$Element$Input$white=A3($mdgriffith$elm_ui$Element$rgb,1,1,1),$mdgriffith$elm_ui$Element$Input$defaultTextBoxStyle=_List_fromArray([$mdgriffith$elm_ui$Element$Input$defaultTextPadding,$mdgriffith$elm_ui$Element$Border$rounded(3),$mdgriffith$elm_ui$Element$Border$color($mdgriffith$elm_ui$Element$Input$darkGrey),$mdgriffith$elm_ui$Element$Background$color($mdgriffith$elm_ui$Element$Input$white),$mdgriffith$elm_ui$Element$Border$width(1),$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink)]),$mdgriffith$elm_ui$Element$htmlAttribute=$mdgriffith$elm_ui$Internal$Model$Attr,$mdgriffith$elm_ui$Element$Input$redistributeOver=F4(function(isMultiline,stacked,attr,els){switch(attr.$){case 9:return _Utils_update(els,{f:A2($elm$core$List$cons,attr,els.f)});case 7:return $mdgriffith$elm_ui$Element$Input$isFill(attr.a)?_Utils_update(els,{u:A2($elm$core$List$cons,attr,els.u),R:A2($elm$core$List$cons,attr,els.R),f:A2($elm$core$List$cons,attr,els.f)}):_Utils_update(els,stacked?{u:A2($elm$core$List$cons,attr,els.u)}:{f:A2($elm$core$List$cons,attr,els.f)});case 8:var height=attr.a;return!stacked||$mdgriffith$elm_ui$Element$Input$isFill(height)?_Utils_update(els,{u:A2($elm$core$List$cons,attr,els.u),f:A2($elm$core$List$cons,attr,els.f)}):(function(len){isPixel:for(;;)switch(len.$){case 1:return;case 0:return;case 2:return;case 3:default:len=len.b;continue isPixel}}(height),_Utils_update(els,{f:A2($elm$core$List$cons,attr,els.f)}));case 6:case 5:return _Utils_update(els,{u:A2($elm$core$List$cons,attr,els.u)});case 4:switch(attr.b.$){case 5:return _Utils_update(els,{u:A2($elm$core$List$cons,attr,els.u),R:A2($elm$core$List$cons,attr,els.R),f:A2($elm$core$List$cons,attr,els.f),co:A2($elm$core$List$cons,attr,els.co)});case 7:var newHeight=attr.b,t=newHeight.b,r=newHeight.c,newBottom=newHeight.d,reducedVerticalPadding=newHeight.e;if(isMultiline)return _Utils_update(els,{al:A2($elm$core$List$cons,attr,els.al),f:A2($elm$core$List$cons,attr,els.f)});var newTop=t-A2($elm$core$Basics$min,t,newBottom),newLineHeight=$mdgriffith$elm_ui$Element$htmlAttribute(A2($elm$html$Html$Attributes$style,"line-height","calc(1.0em + "+$elm$core$String$fromFloat(2*A2($elm$core$Basics$min,t,newBottom))+"px)")),newHeight=$mdgriffith$elm_ui$Element$htmlAttribute(A2($elm$html$Html$Attributes$style,"height","calc(1.0em + "+$elm$core$String$fromFloat(2*A2($elm$core$Basics$min,t,newBottom))+"px)")),newBottom=newBottom-A2($elm$core$Basics$min,t,newBottom),reducedVerticalPadding=A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,A4($mdgriffith$elm_ui$Internal$Model$paddingNameFloat,newTop,r,newBottom,reducedVerticalPadding),newTop,r,newBottom,reducedVerticalPadding));return _Utils_update(els,{al:A2($elm$core$List$cons,attr,els.al),R:A2($elm$core$List$cons,newHeight,A2($elm$core$List$cons,newLineHeight,els.R)),f:A2($elm$core$List$cons,reducedVerticalPadding,els.f)});case 6:return _Utils_update(els,{al:A2($elm$core$List$cons,attr,els.al),f:A2($elm$core$List$cons,attr,els.f)});case 10:return _Utils_update(els,{al:A2($elm$core$List$cons,attr,els.al),f:A2($elm$core$List$cons,attr,els.f)});case 2:return _Utils_update(els,{u:A2($elm$core$List$cons,attr,els.u)});case 1:return _Utils_update(els,{u:A2($elm$core$List$cons,attr,els.u)});default:return _Utils_update(els,{f:A2($elm$core$List$cons,attr,els.f)})}case 0:return els;case 1:return _Utils_update(els,{R:A2($elm$core$List$cons,attr,els.R)});case 2:return _Utils_update(els,{R:A2($elm$core$List$cons,attr,els.R)});case 3:return _Utils_update(els,{f:A2($elm$core$List$cons,attr,els.f)});default:return _Utils_update(els,{R:A2($elm$core$List$cons,attr,els.R)})}}),$mdgriffith$elm_ui$Element$Input$redistribute=F3(function(isMultiline,stacked,redist){return{al:$elm$core$List$reverse((redist=A3($elm$core$List$foldl,A2($mdgriffith$elm_ui$Element$Input$redistributeOver,isMultiline,stacked),{al:_List_Nil,u:_List_Nil,R:_List_Nil,f:_List_Nil,co:_List_Nil},redist)).al),u:$elm$core$List$reverse(redist.u),R:$elm$core$List$reverse(redist.R),f:$elm$core$List$reverse(redist.f),co:$elm$core$List$reverse(redist.co)}}),$mdgriffith$elm_ui$Internal$Model$Transparency=F2(function(a,b){return{$:12,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Flag$transparency=alpha(0),$mdgriffith$elm_ui$Element$Input$charcoal=A3($mdgriffith$elm_ui$Element$rgb,136/255,138/255,133/255),$mdgriffith$elm_ui$Element$rgba=$mdgriffith$elm_ui$Internal$Model$Rgba,$mdgriffith$elm_ui$Element$Input$renderPlaceholder=F3(function(placeholderEl,forPlaceholder,on){var placeholderAttrs=placeholderEl.a,placeholderEl=placeholderEl.b;return A2($mdgriffith$elm_ui$Element$el,_Utils_ap(forPlaceholder,_Utils_ap(_List_fromArray([$mdgriffith$elm_ui$Element$Font$color($mdgriffith$elm_ui$Element$Input$charcoal),$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_hB+" "+$mdgriffith$elm_ui$Internal$Style$classes_k0),$mdgriffith$elm_ui$Element$clip,$mdgriffith$elm_ui$Element$Border$color(A4($mdgriffith$elm_ui$Element$rgba,0,0,0,0)),$mdgriffith$elm_ui$Element$Background$color(A4($mdgriffith$elm_ui$Element$rgba,0,0,0,0)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$alpha(on?1:0)]),placeholderAttrs)),placeholderEl)}),$mdgriffith$elm_ui$Element$scrollbarY=A2($mdgriffith$elm_ui$Internal$Model$Class,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,$mdgriffith$elm_ui$Internal$Style$classes_ll),$elm$html$Html$span=_VirtualDom_node("span"),$elm$html$Html$Attributes$spellcheck=$elm$html$Html$Attributes$spellcheck("spellcheck"),$mdgriffith$elm_ui$Element$Input$spellcheck=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Attributes$spellcheck),$mdgriffith$elm_ui$Element$Input$value=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Attributes$value),$mdgriffith$elm_ui$Element$Input$text=F3(function(textInput,right,textOptions){var _v0,left,withDefaults=_Utils_ap($mdgriffith$elm_ui$Element$Input$defaultTextBoxStyle,right),redistributed=A3($mdgriffith$elm_ui$Element$Input$redistribute,_Utils_eq(textInput.fF,$mdgriffith$elm_ui$Element$Input$TextArea),function(label){if(label.$)return!0;switch(label.a){case 0:case 1:return!1;case 2:default:return!0}}(textOptions.bz),withDefaults),heightConstrained=function(){var _v7=textInput.fF;if(_v7.$)return A2($elm$core$Maybe$withDefault,!1,A2($elm$core$Maybe$map,$mdgriffith$elm_ui$Element$Input$isConstrained,$elm$core$List$head($elm$core$List$reverse(A2($elm$core$List$filterMap,$mdgriffith$elm_ui$Element$Input$getHeight,withDefaults)))));return!1}(),bottom=A2($elm$core$Maybe$withDefault,{jl:0,kF:0,le:0,l5:0},$elm$core$List$head($elm$core$List$reverse(A2($elm$core$List$filterMap,function(l){if(4!==l.$||7!==l.b.$)return $elm$core$Maybe$Nothing;var _v6=l.b,t=_v6.b,r=_v6.c,l=_v6.e;return $elm$core$Maybe$Just({jl:A2($elm$core$Basics$max,0,$elm$core$Basics$floor(_v6.d-3)),kF:A2($elm$core$Basics$max,0,$elm$core$Basics$floor(l-3)),le:A2($elm$core$Basics$max,0,$elm$core$Basics$floor(r-3)),l5:A2($elm$core$Basics$max,0,$elm$core$Basics$floor(t-3))})},withDefaults)))),inputElement=A4($mdgriffith$elm_ui$Internal$Model$element,2,function(){var _v3=textInput.fF;if(_v3.$)return{$:1,a:"textarea"};return{$:1,a:"input"}}(),_Utils_ap(_List_fromArray((wrappedInput=textInput.fF).$?[$mdgriffith$elm_ui$Element$clip,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_kq),$mdgriffith$elm_ui$Element$Input$calcMoveToCompensateForPadding(withDefaults),$mdgriffith$elm_ui$Element$paddingEach(bottom),{$:1,a:A2($elm$html$Html$Attributes$style,"margin",(right=(_v0={jl:-(left=bottom).jl,kF:-left.kF,le:-left.le,l5:-left.l5}).le,bottom=_v0.jl,left=_v0.kF,$elm$core$String$fromInt(_v0.l5)+("px "+$elm$core$String$fromInt(right)+("px "+$elm$core$String$fromInt(bottom)+("px "+$elm$core$String$fromInt(left))))+"px"))},{$:1,a:A2($elm$html$Html$Attributes$style,"box-sizing","content-box")}]:[{$:1,a:$elm$html$Html$Attributes$type_(wrappedInput.a)},$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_ku)]),_Utils_ap(_List_fromArray([$mdgriffith$elm_ui$Element$Input$value(textOptions.fC),{$:1,a:$elm$html$Html$Events$onInput(textOptions.w)},$mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(textOptions.bz),$mdgriffith$elm_ui$Element$Input$spellcheck(textInput.aI),A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Internal$Model$NoAttribute,A2($elm$core$Maybe$map,$mdgriffith$elm_ui$Element$Input$autofill,textInput.ay))]),redistributed.R)),{$:0,a:_List_Nil}),wrappedInput=function(){var _v2=textInput.fF;if(1===_v2.$)return A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,_Utils_ap((heightConstrained?$elm$core$List$cons($mdgriffith$elm_ui$Element$scrollbarY):$elm$core$Basics$identity)(_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$any,$mdgriffith$elm_ui$Element$Input$hasFocusStyle,withDefaults)?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_gB),$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_kt)])),redistributed.f),{$:0,a:_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$element,4,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Element$createNearby,4,inputElement),A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_ks),redistributed.co)))),{$:0,a:function(){if(""!==textOptions.fC)return _List_fromArray([$mdgriffith$elm_ui$Internal$Model$unstyled(A2($elm$html$Html$span,_List_fromArray([$elm$html$Html$Attributes$class($mdgriffith$elm_ui$Internal$Style$classes_kr)]),_List_fromArray([$elm$html$Html$text(textOptions.fC+"")])))]);var _v1=textOptions.fn;return _List_fromArray(1===_v1.$?[{$:2,a:""}]:[A3($mdgriffith$elm_ui$Element$Input$renderPlaceholder,_v1.a,_List_Nil,""===textOptions.fC)])}()})])});return A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$cons,A2($elm$core$List$any,$mdgriffith$elm_ui$Element$Input$hasFocusStyle,withDefaults)?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_gB),$elm$core$List$concat(_List_fromArray([redistributed.f,1===(_v2=textOptions.fn).$?_List_Nil:_List_fromArray([$mdgriffith$elm_ui$Element$behindContent(A3($mdgriffith$elm_ui$Element$Input$renderPlaceholder,_v2.a,redistributed.al,""===textOptions.fC))])])))),{$:0,a:_List_fromArray([inputElement])})}();return A3($mdgriffith$elm_ui$Element$Input$applyLabel,A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Model$Class,$mdgriffith$elm_ui$Internal$Flag$cursor,$mdgriffith$elm_ui$Internal$Style$classes_jI),A2($elm$core$List$cons,1===textOptions.bz.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Element$spacing(5),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Region$announce,redistributed.u))),textOptions.bz,wrappedInput)})({ay:$elm$core$Maybe$Nothing,aI:!1,fF:{$:0,a:"text"}}),$elm$core$List$sortBy=_List_sortBy,$author$project$TrackPoint$trackPointFromLatLon=F3(function(lat,lon,tps){var dummyTP={cG:lat,cK:lon};return $elm$core$List$head(A2($elm$core$List$map,$elm$core$Tuple$first,A2($elm$core$List$sortBy,$elm$core$Tuple$second,A2($elm$core$List$map,function(tp){return{a:tp,b:A2($author$project$TrackPoint$trackPointSeparation,tp,dummyTP)}},tps))))}),$author$project$Msg$InsertBeforeOrAfter=F2(function(a,b){return{$:39,a:a,b:b}}),$author$project$Msg$SplitRoad={$:47},$elm$regex$Regex$Match=F4(function(match,index,number,submatches){return{gK:index,kJ:match,kS:number,lK:submatches}}),$elm$regex$Regex$fromStringWith=_Regex_fromStringWith,$elm$regex$Regex$never=/.^/,$elm$regex$Regex$find=_Regex_findAtMost(1/0),$elm$core$String$lines=function(str){return _List_fromArray(str.split(/\r\n|\r|\n/g))},$elm$core$List$map4=_List_map4,$author$project$Main$parseGPXintoModel=F2(function(content,model){var trackPoints=$author$project$TrackPoint$reindexTrackpoints(function(tRest){if(tRest.b){var t0=tRest.a,tRest=tRest.b;return A3(F3(function(tPrev,stack,tTail){for(;;){if(!tTail.b)return $elm$core$List$reverse(stack);var t1=tTail.a,ts=tTail.b;tTail=(stack=A2($author$project$TrackPoint$trackPointSeparation,tPrev,t1)<.1?(tPrev=tPrev,stack):(tPrev=t1,A2($elm$core$List$cons,t1,stack)),ts)}}),t0,_List_fromArray([t0]),tRest)}return _List_Nil}($author$project$TrackPoint$parseTrackPoints(content))),clip={f7:"Default",iy:trackPoints};return _Utils_update(model,{ak:0,dj:_List_fromArray([clip]),b1:$elm$core$Maybe$Just(content),ec:function(scene){scene={fV:_List_fromArray([{f2:0,f6:scene,gm:0}]),hZ:$elm$core$Maybe$Nothing};return{ib:_List_fromArray([scene])}}(clip),bI:function(_v1){_v1=A2($elm$regex$Regex$find,$author$project$Utils$asRegex("<name>(.*)<\\/name>"),_v1);if(_v1.b){_v1=_v1.a.lK;return _v1.b?_v1.a:$elm$core$Maybe$Nothing}return $elm$core$Maybe$Nothing}(content),iy:trackPoints})}),$elm$json$Json$Encode$float=_Json_wrap,$author$project$MapController$mapPort=_Platform_outgoingPort("mapPort",$elm$core$Basics$identity),$author$project$MapController$removeMap=$author$project$MapController$mapPort($elm$json$Json$Encode$object(_List_fromArray([{a:"Cmd",b:$elm$json$Json$Encode$string("Stop")}]))),$author$project$Main$switchViewMode=F2(function(model,mode){function updatedMapInfo(info){return _Utils_update(info,{gf:function(){if(current.$)return{a:0,b:0};var m=current.a;return{a:m.b.cK,b:m.b.cG}}(),hj:function(){if(marked.$)return $elm$core$Maybe$Nothing;var m=marked.a;return $elm$core$Maybe$Just({a:m.b.cK,b:m.b.cG})}()})}function newMapInfo(box){return updatedMapInfo({fY:box,f$:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(box)),f1:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midX(box)),gf:{a:0,b:0},eY:0,hi:$author$project$MapboxStuff$zoomLevelFromBoundingBox(model.E),hj:$elm$core$Maybe$Nothing,e6:6,fo:model.iy})}var marked=(newInfo=model.c).$?$elm$core$Maybe$Nothing:A2($elm$core$Array$get,newInfo.a,model.d),current=A2($elm$core$Array$get,model.a,model.d),newInfo={a:model.x,b:mode};if(6===newInfo.a){if(6===newInfo.b){var changedMapInfo=model.O;return changedMapInfo.$?{a:model,b:$elm$core$Platform$Cmd$none}:{a:model,b:$author$project$MapController$addTrackToMap(changedMapInfo.a)}}changedMapInfo=function(info){return _Utils_update(info,{eY:4,e6:mode})};return{a:$author$project$Main$checkSceneCamera($author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{O:A2($elm$core$Maybe$map,changedMapInfo,model.O)}))),b:$author$project$MapController$removeMap}}if(6!==newInfo.b)return{a:$author$project$Main$checkSceneCamera($author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{x:mode}))),b:$elm$core$Platform$Cmd$none};newInfo=model.O;if(newInfo.$)return{a:newModel=$author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{O:$elm$core$Maybe$Just(newMapInfo(model.E)),x:mode})),b:$author$project$MapController$createMap(newMapInfo(newModel.E))};var newModel,newInfo=updatedMapInfo(newInfo.a);return{a:newModel=_Utils_update(model,{y:$elm$core$Maybe$Nothing,O:$elm$core$Maybe$Just(newInfo),x:mode}),b:$author$project$MapController$createMap(newInfo)}}),$author$project$Main$commonModelLoader=F3(function(model,content,newModel){newModel=$author$project$Main$lookForSimplifications($author$project$Main$deriveVaryingVisualEntities($author$project$Main$deriveStaticVisualEntities(function(model){var zoomLevel=$author$project$MapboxStuff$zoomLevelFromBoundingBox(model.E),newMapInfo=F2(function(box,info){return _Utils_update(info,{fY:box,f$:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(box)),f1:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midX(box)),hi:zoomLevel,fo:model.iy})}),focus=$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(model.ar);return $author$project$Main$checkSceneCamera(_Utils_update(model,{bn:-1.5707963267948966,aP:0,a0:focus,a:0,s:_Utils_update(model.s,{h4:$elm$core$Array$length(model.d)<2e3,h5:$elm$core$Array$length(model.d)<2e3,is:!1,iM:$elm$core$Array$length(model.d)<2e3}),bu:.5235987755982988,y:$elm$core$Maybe$Nothing,O:A2($elm$core$Maybe$map,newMapInfo(model.E),model.O),c:$elm$core$Maybe$Nothing,aw:_List_Nil,aj:_List_Nil,bi:2,el:zoomLevel,bj:zoomLevel,ax:8,bk:zoomLevel}))}($author$project$Main$deriveProblems($author$project$Main$deriveNodesAndRoads(A2($author$project$Main$parseGPXintoModel,content,function(model){return _Utils_update(model,{b5:$author$project$Main$infoAccordion(model),cj:$author$project$Main$toolsAccordion(model)})}(function(model){return _Utils_update(model,{cp:_List_Nil,cq:_List_Nil,ak:0,dj:_List_Nil,a:0,y:$elm$core$Maybe$Nothing,b1:$elm$core$Maybe$Nothing,aU:{$:0,a:0},c:$elm$core$Maybe$Nothing,d:$elm$core$Array$empty,ar:$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin),hC:_List_Nil,at:_List_Nil,aF:$elm$core$Maybe$Nothing,aw:_List_Nil,g:$elm$core$Array$empty,t:_List_Nil,T:$elm$core$Maybe$Nothing,cU:$elm$core$Maybe$Nothing,cV:_List_Nil,bF:_List_Nil,cg:$elm$core$Maybe$Nothing,bc:_List_Nil,ec:{ib:_List_Nil},fD:$elm$time$Time$millisToPosix(0),bI:$elm$core$Maybe$Nothing,E:$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin),iy:_List_Nil,aj:_List_Nil,c4:_List_Nil,bK:_List_Nil,c5:_List_Nil})}(_Utils_update(model,{b2:newModel}))))))))));return A2($author$project$Main$switchViewMode,newModel,newModel.x)}),$author$project$Main$deleteTrackPoints=F2(function(remainingTPs,model){var start=remainingTPs.a,remainingTPs=remainingTPs.b,undoMessage="Delete track points "+$elm$core$String$fromInt(start)+("-"+$elm$core$String$fromInt(remainingTPs)),remainingTPs=A2($elm$core$List$drop,remainingTPs+1,model.iy),newTPs=_Utils_ap(A2($elm$core$List$take,start,model.iy),remainingTPs);return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{a:A2($elm$core$Basics$min,start,$elm$core$List$length(newTPs)-1),c:$elm$core$Maybe$Nothing,iy:$author$project$TrackPoint$reindexTrackpoints(newTPs)})}),$elm$core$List$member=F2(function(x,xs){return A2($elm$core$List$any,function(a){return _Utils_eq(a,x)},xs)}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectHelp=F3(function(_function,facesToProcess,accumulated){for(;;){if(!facesToProcess.b)return accumulated;var newValue=facesToProcess.a,remainingFaces=facesToProcess.b;accumulated=newValue.$?(_function=_function,facesToProcess=remainingFaces,accumulated):(newValue=A4(_function,newValue.a,newValue.b,newValue.c,newValue.d),_function=_function,facesToProcess=remainingFaces,A2($elm$core$List$cons,newValue,accumulated))}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectFaces=F2(function(_function,delaunayTriangulation){return delaunayTriangulation.$?A3($ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectHelp,_function,delaunayTriangulation.a.cB,_List_Nil):_List_Nil}),$ianmackenzie$elm_geometry$Triangle2d$from=F3(function(p1,p2,p3){return{a:p1,b:p2,c:p3}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$getFace=F4(function(firstVertex,secondVertex,thirdVertex,circumcircle){return{f4:circumcircle,iC:A3($ianmackenzie$elm_geometry$Triangle2d$from,firstVertex.dX,secondVertex.dX,thirdVertex.dX),mf:{a:firstVertex.aY,b:secondVertex.aY,c:thirdVertex.aY}}}),$ianmackenzie$elm_geometry$Geometry$Types$EmptyDelaunayTriangulation2d={$:0},$ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace=F4(function(a,b,c,d){return{$:2,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_geometry$Geometry$Types$ThreeVertexFace=F4(function(a,b,c,d){return{$:0,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_geometry$Geometry$Types$TwoVertexFace=F4(function(a,b,c,d){return{$:1,a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_geometry$Vector2d$from=F2(function(_v0,_v1){return{U:_v1.U-_v0.U,V:_v1.V-_v0.V}}),$ianmackenzie$elm_geometry$Direction2d$from=F2(function(firstPoint,secondPoint){return $ianmackenzie$elm_geometry$Vector2d$direction(A2($ianmackenzie$elm_geometry$Vector2d$from,firstPoint,secondPoint))}),$ianmackenzie$elm_geometry$Point2d$circumenterHelp=F6(function(_v0,ax,ay,a,by,bx){var scale=by*bx;if(scale){var cy=_v0.V-ay.V,cx=_v0.U-ay.U,by=ay.V-ax.V,bx=ay.U-ax.U,ay=(bx*cy-by*cx)/scale;if(ay){scale=(bx*cx+by*cy)/scale/(2*ay),ay=ax.V-_v0.V,ax=ax.U-_v0.U;return $elm$core$Maybe$Just({U:_v0.U+.5*ax+scale*ay,V:_v0.V+.5*ay-scale*ax})}return $elm$core$Maybe$Nothing}return $elm$core$Maybe$Nothing}),$ianmackenzie$elm_geometry$Point2d$distanceFrom=F2(function(largestComponent,scaledX){var scaledY=scaledX.V-largestComponent.V,scaledX=scaledX.U-largestComponent.U,largestComponent=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX),$elm$core$Basics$abs(scaledY));if(largestComponent){scaledY=scaledY/largestComponent,scaledX=scaledX/largestComponent;return $elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY)*largestComponent}return 0}),$ianmackenzie$elm_geometry$Point2d$circumcenter=F3(function(p1,p2,p3){var c=A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p3,p1),b=A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p2,p3),a=A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p1,p2);return-1<_Utils_cmp(a,b)?-1<_Utils_cmp(a,c)?A6($ianmackenzie$elm_geometry$Point2d$circumenterHelp,p1,p2,p3,a,b,c):A6($ianmackenzie$elm_geometry$Point2d$circumenterHelp,p3,p1,p2,c,a,b):-1<_Utils_cmp(b,c)?A6($ianmackenzie$elm_geometry$Point2d$circumenterHelp,p2,p3,p1,b,c,a):A6($ianmackenzie$elm_geometry$Point2d$circumenterHelp,p3,p1,p2,c,a,b)}),$ianmackenzie$elm_geometry$Circle2d$withRadius=F2(function(givenRadius,givenCenterPoint){return{jt:givenCenterPoint,hW:$ianmackenzie$elm_units$Quantity$abs(givenRadius)}}),$ianmackenzie$elm_geometry$Circle2d$throughPoints=F3(function(p1,p2,p3){return A2($elm$core$Maybe$map,function(p0){return A2($ianmackenzie$elm_geometry$Circle2d$withRadius,A2($ianmackenzie$elm_units$Quantity$multiplyBy,1/3,A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p0,p3),A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p0,p2),A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p0,p1)))),p0)},A3($ianmackenzie$elm_geometry$Point2d$circumcenter,p1,p2,p3))}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addNewFace=F4(function(newVertex,ignoredEdgeKey,edge,currentFaces){switch(edge.$){case 0:var firstDelaunayVertex=edge.a,secondDelaunayVertex=edge.b,maybeCircumcircle=A3($ianmackenzie$elm_geometry$Circle2d$throughPoints,newVertex.dX,firstDelaunayVertex.dX,secondDelaunayVertex.dX);return maybeCircumcircle.$?currentFaces:A2($elm$core$List$cons,A4($ianmackenzie$elm_geometry$Geometry$Types$ThreeVertexFace,newVertex,firstDelaunayVertex,secondDelaunayVertex,maybeCircumcircle.a),currentFaces);case 1:var outerIndex=edge.b,_v3=A2($ianmackenzie$elm_geometry$Direction2d$from,newVertex.dX,(vertex=edge.a).dX);return _v3.$?currentFaces:A2($elm$core$List$cons,A4($ianmackenzie$elm_geometry$Geometry$Types$TwoVertexFace,newVertex,vertex,outerIndex,_v3.a),currentFaces);case 2:var vertex,outerIndex=edge.a,_v3=A2($ianmackenzie$elm_geometry$Direction2d$from,(vertex=edge.b).dX,newVertex.dX);return _v3.$?currentFaces:A2($elm$core$List$cons,A4($ianmackenzie$elm_geometry$Geometry$Types$TwoVertexFace,vertex,newVertex,outerIndex,_v3.a),currentFaces);default:return A2($elm$core$List$cons,A4($ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace,newVertex,edge.b,edge.c,edge.a),currentFaces)}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge=F2(function(a,b){return{$:0,a:a,b:b}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerToOuterEdge=F2(function(a,b){return{$:1,a:a,b:b}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterEdge=F3(function(a,b,c){return{$:3,a:a,b:b,c:c}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterToInnerEdge=F2(function(a,b){return{$:2,a:a,b:b}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge=F2(function(newEdge,maybeEdge){if(maybeEdge.$)return $elm$core$Maybe$Just(newEdge);return $elm$core$Maybe$Nothing}),$ianmackenzie$elm_geometry$Circle2d$contains=F2(function(point,circle){return A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,circle.hW,A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,function(_v0){return _v0.jt}(circle),point))}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey=F2(function(x,y){y+=3,x+=3;return-1<_Utils_cmp(x,y)?x*x+y:y*y+x}),$ianmackenzie$elm_geometry$Quantity$Extra$aXbY=F4(function(a,_v0,b,_v1){return a*_v0+b*_v1}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$signedDistance=F3(function(dy,x,dx){var y0=$ianmackenzie$elm_geometry$Point2d$yCoordinate(x),y=$ianmackenzie$elm_geometry$Point2d$yCoordinate(dy),x0=$ianmackenzie$elm_geometry$Point2d$xCoordinate(x),x=$ianmackenzie$elm_geometry$Point2d$xCoordinate(dy),dy=$ianmackenzie$elm_geometry$Direction2d$yComponent(dx),dx=$ianmackenzie$elm_geometry$Direction2d$xComponent(dx);return A4($ianmackenzie$elm_geometry$Quantity$Extra$aXbY,dx,A2($ianmackenzie$elm_units$Quantity$minus,y0,y),-dy,A2($ianmackenzie$elm_units$Quantity$minus,x0,x))}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$processFaces=F4(function(facesToProcess,newVertex,retainedFaces,edgesByKey){processFaces:for(;;){if(!facesToProcess.b)return{a:retainedFaces,b:edgesByKey};var firstFace=facesToProcess.a,remainingFaces=facesToProcess.b;switch(firstFace.$){case 0:var firstVertex=firstFace.a,secondVertex=firstFace.b,secondOuterIndex=firstFace.c;if(A2($ianmackenzie$elm_geometry$Circle2d$contains,newVertex.dX,firstFace.d)){var firstOuterIndex=secondOuterIndex.gK,key2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,secondIndex=secondVertex.gK,firstOuterIndex),key1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,firstIndex=firstVertex.gK,secondIndex),key3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,firstOuterIndex,firstIndex),edge3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge,secondOuterIndex,firstVertex),edge2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge,secondVertex,secondOuterIndex),edge1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge,firstVertex,secondVertex);facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=retainedFaces,edgesByKey=A3($elm$core$Dict$update,key3,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge3),A3($elm$core$Dict$update,key2,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge2),A3($elm$core$Dict$update,key1,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge1),edgesByKey)));continue processFaces}facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=A2($elm$core$List$cons,firstFace,retainedFaces),edgesByKey=edgesByKey;continue processFaces;case 1:var secondVertex=firstFace.b,vertexIndex=firstFace.c;if(A2($ianmackenzie$elm_units$Quantity$greaterThan,0,A3($ianmackenzie$elm_geometry$DelaunayTriangulation2d$signedDistance,newVertex.dX,(firstVertex=firstFace.a).dX,edgeDirection=firstFace.d))){var secondIndex,firstIndex,key2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,secondIndex=secondVertex.gK,vertexIndex),key1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,firstIndex=firstVertex.gK,secondIndex),key3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,vertexIndex,firstIndex),edge3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterToInnerEdge,vertexIndex,firstVertex),edge2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerToOuterEdge,secondVertex,vertexIndex),edge1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge,firstVertex,secondVertex);facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=retainedFaces,edgesByKey=A3($elm$core$Dict$update,key3,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge3),A3($elm$core$Dict$update,key2,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge2),A3($elm$core$Dict$update,key1,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge1),edgesByKey)));continue processFaces}facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=A2($elm$core$List$cons,firstFace,retainedFaces),edgesByKey=edgesByKey;continue processFaces;default:var edgeDirection,delaunayVertex=firstFace.a,firstOuterIndex=firstFace.b,secondOuterIndex=firstFace.c;if(A2($ianmackenzie$elm_units$Quantity$lessThan,0,A3($ianmackenzie$elm_geometry$DelaunayTriangulation2d$signedDistance,newVertex.dX,delaunayVertex.dX,edgeDirection=firstFace.d))){vertexIndex=delaunayVertex.gK,key3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,secondOuterIndex,vertexIndex),key2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,firstOuterIndex,secondOuterIndex),key1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,vertexIndex,firstOuterIndex),edge3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterToInnerEdge,secondOuterIndex,delaunayVertex),edge2=A3($ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterEdge,edgeDirection,firstOuterIndex,secondOuterIndex),edge1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerToOuterEdge,delaunayVertex,firstOuterIndex);facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=retainedFaces,edgesByKey=A3($elm$core$Dict$update,key3,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge3),A3($elm$core$Dict$update,key2,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge2),A3($elm$core$Dict$update,key1,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge1),edgesByKey)));continue processFaces}facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=A2($elm$core$List$cons,firstFace,retainedFaces),edgesByKey=edgesByKey;continue processFaces}}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addVertex=F2(function(vertex,retainedFaces){var starEdges=A4($ianmackenzie$elm_geometry$DelaunayTriangulation2d$processFaces,retainedFaces,vertex,_List_Nil,$elm$core$Dict$empty),retainedFaces=starEdges.a,starEdges=starEdges.b;return A3($elm$core$Dict$foldl,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addNewFace(vertex),retainedFaces,starEdges)}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$CoincidentVertices=F2(function(a,b){return{$:0,a:a,b:b}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$checkDistinctHelp=F2(function(previous,sortedDelaunayVertices){for(;;){if(!sortedDelaunayVertices.b)return $elm$core$Result$Ok(0);var first=sortedDelaunayVertices.a,rest=sortedDelaunayVertices.b;if(_Utils_eq(previous.dX,first.dX))return $elm$core$Result$Err(A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$CoincidentVertices,previous.aY,first.aY));previous=first,sortedDelaunayVertices=rest}}),$elm$core$Elm$JsArray$foldl=_JsArray_foldl,$elm$core$Array$foldl=F3(function(func,baseCase,tail){var tree=tail.c,tail=tail.d,helper=F2(function(node,acc){return A3($elm$core$Elm$JsArray$foldl,node.$?func:helper,acc,node.a)});return A3($elm$core$Elm$JsArray$foldl,func,A3($elm$core$Elm$JsArray$foldl,helper,baseCase,tree),tail)}),$ianmackenzie$elm_geometry$Point2d$lexicographicComparison=F2(function(p1,p2){return _Utils_eq(p1.U,p2.U)?A2($elm$core$Basics$compare,p1.V,p2.V):A2($elm$core$Basics$compare,p1.U,p2.U)}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$lexicographicComparison=F2(function(firstDelaunayVertex,secondDelaunayVertex){return A2($ianmackenzie$elm_geometry$Point2d$lexicographicComparison,firstDelaunayVertex.dX,secondDelaunayVertex.dX)}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$prependDelaunayVertex=F3(function(getPosition,newDelaunayVertex,accumulated){newDelaunayVertex={gK:accumulated.b?accumulated.a.gK+1:0,dX:getPosition(newDelaunayVertex),aY:newDelaunayVertex};return A2($elm$core$List$cons,newDelaunayVertex,accumulated)}),$elm$core$List$sortWith=_List_sortWith,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectDelaunayVertices=F2(function(_v0,sortedDelaunayVertices){_v0=A3($elm$core$Array$foldl,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$prependDelaunayVertex(_v0),_List_Nil,sortedDelaunayVertices),sortedDelaunayVertices=A2($elm$core$List$sortWith,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$lexicographicComparison,_v0),_v0=function(sortedDelaunayVertices){return sortedDelaunayVertices.b?A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$checkDistinctHelp,sortedDelaunayVertices.a,sortedDelaunayVertices.b):$elm$core$Result$Ok(0)}(sortedDelaunayVertices);return _v0.$?$elm$core$Result$Err(_v0.a):$elm$core$Result$Ok(sortedDelaunayVertices)}),$ianmackenzie$elm_geometry$Direction2d$negativeX={U:-1,V:0},$ianmackenzie$elm_geometry$Direction2d$negativeY={U:0,V:-1},$ianmackenzie$elm_geometry$Direction2d$positiveY={U:0,V:1},$ianmackenzie$elm_geometry$DelaunayTriangulation2d$fromVerticesBy=F2(function(remainingDelaunayVertices,givenVertices){var initialFaces=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectDelaunayVertices,remainingDelaunayVertices,givenVertices);if(initialFaces.$)return $elm$core$Result$Err(initialFaces.a);var delaunayVertices=initialFaces.a;if(delaunayVertices.b){remainingDelaunayVertices=delaunayVertices.b,initialFaces=_List_fromArray([A4($ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace,initialFaces=delaunayVertices.a,-1,-2,$ianmackenzie$elm_geometry$Direction2d$positiveY),A4($ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace,initialFaces,-2,-3,$ianmackenzie$elm_geometry$Direction2d$negativeX),A4($ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace,initialFaces,-3,-1,$ianmackenzie$elm_geometry$Direction2d$negativeY)]);return $elm$core$Result$Ok({$:1,a:{cx:delaunayVertices,cB:A3($elm$core$List$foldl,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addVertex,initialFaces,remainingDelaunayVertices),mf:givenVertices}})}return $elm$core$Result$Ok($ianmackenzie$elm_geometry$Geometry$Types$EmptyDelaunayTriangulation2d)}),$ianmackenzie$elm_geometry$LineSegment3d$interpolate=F2(function(_v0,t){_v0=$ianmackenzie$elm_geometry$LineSegment3d$endpoints(_v0);return A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,_v0.a,_v0.b,t)}),$ianmackenzie$elm_geometry$Point3d$projectInto=F2(function(_v4,deltaZ){var _v3=_v4.fc,deltaX=deltaZ.U-_v3.U,deltaY=deltaZ.V-_v3.V,deltaZ=deltaZ.iS-_v3.iS,_v3=_v4.fO,_v4=_v4.fN;return{U:deltaX*_v4.U+deltaY*_v4.V+deltaZ*_v4.iS,V:deltaX*_v3.U+deltaY*_v3.V+deltaZ*_v3.iS}}),$author$project$Terrain$makeTerrain=F2(function(minY,ne){var maxY=function(rightHalfway){var roadAsSegment=A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,-.3),{a:rightHalfway.bE.aq,b:rightHalfway.B.aq}),leftHalfway={a:3*$elm$core$Basics$cos(rightHalfway.da),b:3*$elm$core$Basics$sin(rightHalfway.da)},rightKerb=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*leftHalfway.a,leftHalfway.b,0),leftKerb=$ianmackenzie$elm_geometry$Vector3d$reverse(rightKerb),rightHalfway={a:$ianmackenzie$elm_geometry$Vector3d$half(rightKerb),b:$ianmackenzie$elm_geometry$Vector3d$half(leftKerb)},leftHalfway=rightHalfway.b,rightHalfway={a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightHalfway.a,roadAsSegment),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftHalfway,roadAsSegment)},leftHalfway=rightHalfway.a,rightHalfway=rightHalfway.b,rightKerb={a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightKerb,roadAsSegment),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftKerb,roadAsSegment)},leftKerb=rightKerb.a,rightKerb=rightKerb.b;return _List_fromArray([A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,roadAsSegment,.1),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,roadAsSegment,.9),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,leftKerb,0),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,leftKerb,1),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,leftHalfway,.1),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,leftHalfway,.9),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,rightHalfway,.1),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,rightHalfway,.9),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,rightKerb,0),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,rightKerb,1)])},roadVertices=_Utils_ap(A2($elm$core$List$concatMap,maxY,A2($elm$core$List$take,1,ne)),A2($elm$core$List$concatMap,maxY,ne)),maybeTriangulation=A2($ianmackenzie$elm_geometry$BoundingBox3d$expandBy,1e3,minY.ar),se={ho:$ianmackenzie$elm_geometry$BoundingBox3d$midX(maybeTriangulation),hp:$ianmackenzie$elm_geometry$BoundingBox3d$midY(maybeTriangulation),hq:$ianmackenzie$elm_geometry$BoundingBox3d$midZ(maybeTriangulation)},midX=se.ho,midY=se.hp,_v3=se.hq,nw=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(maybeTriangulation),minX=nw.hr,ne=nw.hl,minY=nw.hs,maxY=nw.hm,se={hz:A3($ianmackenzie$elm_geometry$Point3d$xyz,ne,maxY,_v3),hD:A3($ianmackenzie$elm_geometry$Point3d$xyz,minX,maxY,_v3),ic:A3($ianmackenzie$elm_geometry$Point3d$xyz,ne,minY,_v3),ip:A3($ianmackenzie$elm_geometry$Point3d$xyz,minX,minY,_v3)},maybeTriangulation=se.ip,nw=se.hD,ne=se.hz,se=se.ic,_v3={gn:A3($ianmackenzie$elm_geometry$Point3d$xyz,maxY,midY,_v3),hx:A3($ianmackenzie$elm_geometry$Point3d$xyz,midX,maxY,_v3),h8:A3($ianmackenzie$elm_geometry$Point3d$xyz,midX,minY,_v3),iI:A3($ianmackenzie$elm_geometry$Point3d$xyz,minX,midY,_v3)},maybeTriangulation=_List_fromArray([_v3.hx,_v3.gn,_v3.h8,_v3.iI,ne,nw,se,maybeTriangulation]),maybeTriangulation=(maybeTriangulation=$elm$core$Dict$fromList(A2($elm$core$List$map,$author$project$Terrain$pointToComparable,_Utils_ap(roadVertices,maybeTriangulation))),A3($elm$core$Dict$foldr,F3(function(key,value,valueList){return A2($elm$core$List$cons,value,valueList)}),_List_Nil,maybeTriangulation)),maybeTriangulation=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$fromVerticesBy,$ianmackenzie$elm_geometry$Point3d$projectInto($ianmackenzie$elm_geometry$SketchPlane3d$xy),$elm$core$Array$fromList(maybeTriangulation));return 1===maybeTriangulation.$?_List_Nil:A2($elm$core$List$map,function(v2){var v3=v2.mf,v1=v3.a,v2=v3.b,v3=v3.c;return A2($ianmackenzie$elm_3d_scene$Scene3d$facet,$ianmackenzie$elm_3d_scene$Scene3d$Material$matte($avh4$elm_color$Color$darkGreen),A3($ianmackenzie$elm_geometry$Triangle3d$from,v1,v2,v3))},A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectFaces,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$getFace,maybeTriangulation.a))}),$ianmackenzie$elm_geometry$Point3d$distanceFromAxis=F2(function(scaledZ,deltaZ){var largestComponent=scaledZ.fc,scaledX=deltaZ.U-largestComponent.U,scaledY=deltaZ.V-largestComponent.V,deltaZ=deltaZ.iS-largestComponent.iS,largestComponent=scaledZ.gm,scaledZ=scaledX*largestComponent.U+scaledY*largestComponent.V+deltaZ*largestComponent.iS,scaledX=scaledX-scaledZ*largestComponent.U,scaledY=scaledY-scaledZ*largestComponent.V,scaledZ=deltaZ-scaledZ*largestComponent.iS,largestComponent=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledY),$elm$core$Basics$abs(scaledZ)));if(largestComponent){scaledZ=scaledZ/largestComponent,scaledY=scaledY/largestComponent,scaledX=scaledX/largestComponent;return $elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ)*largestComponent}return 0}),$ianmackenzie$elm_geometry$Point2d$pixels=F2(function(x,y){return{U:x,V:y}}),$ianmackenzie$elm_units$Quantity$at=F2(function(_v0,_v1){return _v0*_v1}),$ianmackenzie$elm_units$Quantity$per=F2(function(_v0,_v1){return _v1/_v0}),$ianmackenzie$elm_geometry$Direction3d$placeIn=F2(function(_v4,_v1){var _v2=_v4.fP,_v3=_v4.fO,_v4=_v4.fN;return{U:_v4.U*_v1.U+_v3.U*_v1.V+_v2.U*_v1.iS,V:_v4.V*_v1.U+_v3.V*_v1.V+_v2.V*_v1.iS,iS:_v4.iS*_v1.U+_v3.iS*_v1.V+_v2.iS*_v1.iS}}),$ianmackenzie$elm_geometry$Point2d$xCoordinateIn=F2(function(_v3,_v1){var _v2=_v3.fc,_v3=_v3.fN;return(_v1.U-_v2.U)*_v3.U+(_v1.V-_v2.V)*_v3.V}),$ianmackenzie$elm_geometry$Vector3d$xyz=F3(function(_v0,_v1,_v2){return{U:_v0,V:_v1,iS:_v2}}),$ianmackenzie$elm_geometry$Point3d$xyzIn=F4(function(_v7,_v1,_v2,_v3){var _v4=_v7.fc,_v5=_v7.fP,_v6=_v7.fO,_v7=_v7.fN;return{U:_v4.U+_v1*_v7.U+_v2*_v6.U+_v3*_v5.U,V:_v4.V+_v1*_v7.V+_v2*_v6.V+_v3*_v5.V,iS:_v4.iS+_v1*_v7.iS+_v2*_v6.iS+_v3*_v5.iS}}),$ianmackenzie$elm_geometry$Point2d$yCoordinateIn=F2(function(_v3,_v1){var _v2=_v3.fc,_v3=_v3.fO;return(_v1.U-_v2.U)*_v3.U+(_v1.V-_v2.V)*_v3.V}),$ianmackenzie$elm_3d_camera$Camera3d$ray=F3(function(resolution,_v3,direction){var camera=resolution,screenY=A2($ianmackenzie$elm_geometry$Point2d$yCoordinateIn,$ianmackenzie$elm_geometry$Rectangle2d$axes(_v3),direction),screenX=A2($ianmackenzie$elm_geometry$Point2d$xCoordinateIn,$ianmackenzie$elm_geometry$Rectangle2d$axes(_v3),direction),viewpointFrame=camera.eh,resolution=function(_v0){return _v0.ds}(_v3),direction=resolution.b,_v3=camera.fp;if(_v3.$){resolution=A2($ianmackenzie$elm_units$Quantity$per,direction,_v3.a);return A2($ianmackenzie$elm_geometry$Axis3d$through,A4($ianmackenzie$elm_geometry$Point3d$xyzIn,viewpointFrame,A2($ianmackenzie$elm_units$Quantity$at,resolution,screenX),A2($ianmackenzie$elm_units$Quantity$at,resolution,screenY),0),$ianmackenzie$elm_3d_camera$Viewpoint3d$viewDirection(camera.eh))}direction=$ianmackenzie$elm_units$Quantity$negate(A2($ianmackenzie$elm_units$Quantity$divideBy,_v3.a,A2($ianmackenzie$elm_units$Quantity$multiplyBy,.5,direction))),direction=A2($ianmackenzie$elm_geometry$Direction3d$placeIn,viewpointFrame,A2($elm$core$Maybe$withDefault,$ianmackenzie$elm_geometry$Direction3d$negativeZ,$ianmackenzie$elm_geometry$Vector3d$direction(A3($ianmackenzie$elm_geometry$Vector3d$xyz,screenX,screenY,direction))));return A2($ianmackenzie$elm_geometry$Axis3d$through,$ianmackenzie$elm_3d_camera$Viewpoint3d$eyePoint(camera.eh),direction)}),$ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo=F2(function(_v0,_v1){return-1<_Utils_cmp(_v1,_v0)}),$ianmackenzie$elm_units$Quantity$midpoint=F2(function(_v0,_v1){return _v0+.5*(_v1-_v0)}),$ianmackenzie$elm_geometry$Direction2d$positiveX={U:1,V:0},$ianmackenzie$elm_geometry$Point2d$xy=F2(function(_v0,_v1){return{U:_v0,V:_v1}}),$ianmackenzie$elm_geometry$Rectangle2d$axisAligned=F4(function(x1,y1,x2,y2){var computedYDirection=A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,y1,y2)?$ianmackenzie$elm_geometry$Direction2d$positiveY:$ianmackenzie$elm_geometry$Direction2d$negativeY,computedXDirection=A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,x1,x2)?$ianmackenzie$elm_geometry$Direction2d$positiveX:$ianmackenzie$elm_geometry$Direction2d$negativeX,computedDimensions={a:$ianmackenzie$elm_units$Quantity$abs(A2($ianmackenzie$elm_units$Quantity$minus,x1,x2)),b:$ianmackenzie$elm_units$Quantity$abs(A2($ianmackenzie$elm_units$Quantity$minus,y1,y2))};return{ja:{fc:A2($ianmackenzie$elm_geometry$Point2d$xy,A2($ianmackenzie$elm_units$Quantity$midpoint,x1,x2),A2($ianmackenzie$elm_units$Quantity$midpoint,y1,y2)),fN:computedXDirection,fO:computedYDirection},ds:computedDimensions}}),$author$project$Main$detectHit=F2(function(model,_v1){var screenRectangle=function(_v0){return A4($ianmackenzie$elm_geometry$Rectangle2d$axisAligned,_v0.mi,_v0.ml,_v0.mj,_v0.mm)}({mi:0,mj:860,ml:580,mm:0}),_v0=_Utils_ap(A2($elm$core$List$map,function($){return $.cc},A2($elm$core$List$take,1,model.t)),A2($elm$core$List$map,function($){return $.dZ},model.t)),_v2=4===model.x?_v0:model.hC,_v0=_v1.fa,_v1=model.aR;if(_v1.$)return model;var ray=A3($ianmackenzie$elm_3d_camera$Camera3d$ray,_v1.a,screenRectangle,A2($ianmackenzie$elm_geometry$Point2d$pixels,_v0.a,_v0.b)),_v2=$elm$core$List$head(A2($elm$core$List$sortBy,$elm$core$Tuple$second,A2($elm$core$List$map,function(node){return{a:node.b.kl,b:$ianmackenzie$elm_units$Length$inMeters(A2($ianmackenzie$elm_geometry$Point3d$distanceFromAxis,ray,node.aq))}},_v2)));return _v2.$?model:_Utils_update(model,{a:_v2.a.a})}),$elm$file$File$Select$file=F2(function(mimes,toMsg){return A2($elm$core$Task$perform,toMsg,function(mimes){return{$:2,b:function(callback){(_File_node=document.createElement("input")).type="file",_File_node.accept=A2($elm$core$String$join,",",mimes),_File_node.addEventListener("change",function(event){callback({$:0,a:event.target.files[0]})}),_File_click(_File_node)},c:null}}(mimes))}),$author$project$Main$insertTrackPoint=F2(function(commonAmountToSteal,model){var undoMessage="Insert at "+$elm$core$String$fromInt(commonAmountToSteal),precedingTPs={a:A2($elm$core$Array$get,commonAmountToSteal-1,model.g),b:A2($elm$core$Array$get,commonAmountToSteal,model.g)};if(precedingTPs.a.$||precedingTPs.b.$)return model;var before=precedingTPs.a.a,after=precedingTPs.b.a,remainingTPs=A2($elm$core$List$drop,commonAmountToSteal+1,model.iy),precedingTPs=A2($elm$core$List$take,commonAmountToSteal,model.iy),commonAmountToSteal=A2($elm$core$Basics$min,4,after.gV/2),commonAmountToSteal=A2($elm$core$Basics$min,A2($elm$core$Basics$min,4,before.gV/2),commonAmountToSteal),newTPs=_Utils_ap(precedingTPs,_Utils_ap(_List_fromArray([A3($author$project$TrackPoint$interpolateSegment,commonAmountToSteal/before.gV,before.B.b,before.bE.b),A3($author$project$TrackPoint$interpolateSegment,commonAmountToSteal/after.gV,after.bE.b,after.B.b)]),remainingTPs));return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{a:model.a+1,iy:$author$project$TrackPoint$reindexTrackpoints(newTPs)})}),$elm$json$Json$Decode$decodeValue=_Json_run,$author$project$TrackPoint$findTrackPoint=F3(function(lon,lat,tps){return $elm$core$List$head(A2($elm$core$List$filter,function(tp){return _Utils_cmp($elm$core$Basics$abs(tp.cK-lon),2/78846.81)<0&&_Utils_cmp($elm$core$Basics$abs(tp.cG-lat),2/78846.81)<0},tps))}),$elm$json$Json$Decode$float=$elm$json$Json$Decode$map3,$author$project$Main$draggedOnMap=F2(function(endLon,model){var newModel=F3(function(tp,endLon,endLat){return _Utils_update(A2($author$project$Main$addToUndoStack,"Drag track point",model),{a:tp.kl,iy:_Utils_ap(A2($elm$core$List$take,tp.kl,model.iy),_Utils_ap(_List_fromArray([_Utils_update(tp,{cG:endLat,cK:endLon})]),A2($elm$core$List$drop,tp.kl+1,model.iy)))})}),maybetp=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$at,_List_fromArray(["end","lng"]),$elm$json$Json$Decode$float),endLon),lon1=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$at,_List_fromArray(["start","lng"]),$elm$json$Json$Decode$float),endLon),endLat=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$at,_List_fromArray(["end","lat"]),$elm$json$Json$Decode$float),endLon),endLon={a:{a:lon1,b:A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$at,_List_fromArray(["start","lat"]),$elm$json$Json$Decode$float),endLon)},b:{a:maybetp,b:endLat}};if(endLon.a.a.$||endLon.a.b.$||endLon.b.a.$||endLon.b.b.$)return model;maybetp=endLon.a,endLat=endLon.b,endLon=endLat.a.a,endLat=endLat.b.a,maybetp=A3($author$project$TrackPoint$findTrackPoint,maybetp.a.a,maybetp.b.a,model.iy);return maybetp.$?model:A3(newModel,maybetp.a,endLon,endLat)}),$author$project$Geometry101$distance=F2(function(p1,p2){return $elm$core$Basics$sqrt(A2($elm$core$Basics$pow,p1.U-p2.U,2)+A2($elm$core$Basics$pow,p1.V-p2.V,2))}),$author$project$Main$makeNearestNodeCurrent=F3(function(lon,lat,model){var n=A2($elm$core$List$sortBy,function(point){return A2($author$project$Geometry101$distance,{U:point.bE.b.cK,V:point.bE.b.cG},{U:lon,V:lat})},model.t);if(n.b){n=n.a;return _Utils_update(model,{aP:n.gK,a:n.gK})}return model}),$author$project$MapController$msgDecoder=A2($elm$json$Json$Decode$field,"msg",$elm$json$Json$Decode$string),$author$project$Geometry101$interpolateScalar=F3(function(fraction,a,b){return b*fraction+a*(1-fraction)}),$author$project$Geometry101$interpolateLine=F3(function(fraction,p1,p2){return{U:A3($author$project$Geometry101$interpolateScalar,fraction,p1.U,p2.U),V:A3($author$project$Geometry101$interpolateScalar,fraction,p1.V,p2.V)}}),$author$project$Geometry101$lineEquationFromTwoPoints=F2(function(p1,p2){return{bl:p1.V-p2.V,af:p2.U-p1.U,cu:p1.U*p2.V-p2.U*p1.V}}),$author$project$Geometry101$matrixMultiplyColumn=F2(function(m,c){return{af:m.bT*c.ch+m.bU*c.af,ch:m.ci*c.ch+m.ck*c.af}}),$author$project$Geometry101$lineIntersection=F2(function(col,l2){var m,inv,inv=_Utils_cmp($elm$core$Basics$abs(inv=(m={bT:l2.bl,bU:l2.af,ci:col.bl,ck:col.af}).ci*m.bU-m.ck*m.bT),A2($elm$core$Basics$pow,10,-20))<0?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({bT:-1*m.bT/inv,bU:m.ci/inv,ci:m.bU/inv,ck:-1*m.ck/inv});if(inv.$)return $elm$core$Maybe$Nothing;col=A2($author$project$Geometry101$matrixMultiplyColumn,inv.a,{af:-1*l2.cu,ch:-1*col.cu});return $elm$core$Maybe$Just({U:col.ch,V:col.af})}),$author$project$Geometry101$linePerpendicularTo=F2(function(line,p){return{bl:line.af,af:-1*line.bl,cu:line.bl*p.V-line.af*p.U}}),$author$project$Geometry101$pointAlongRoad=F2(function(road,distanceFromStart){return A3($author$project$Geometry101$interpolateLine,distanceFromStart/A2($author$project$Geometry101$distance,road.ai,road.B),road.ai,road.B)}),$author$project$BendSmoother$pointsToGeometry=F2(function(p1,p2){return{B:p2,ai:p1}}),$ianmackenzie$elm_geometry$Direction2d$angleFrom=F2(function(_v0,_v1){return A2($elm$core$Basics$atan2,_v0.U*_v1.V-_v0.V*_v1.U,_v0.U*_v1.U+_v0.V*_v1.V)}),$ianmackenzie$elm_geometry$Quantity$Extra$rTheta=F2(function(_v0,_v1){return _v0*_v1}),$ianmackenzie$elm_geometry$Direction2d$x=$ianmackenzie$elm_geometry$Direction2d$positiveX,$ianmackenzie$elm_geometry$Arc2d$sweptAround=F3(function(yDirection,givenSweptAngle,givenStartPoint){var computedRadius=A2($ianmackenzie$elm_geometry$Vector2d$from,givenStartPoint,yDirection),yDirection=$ianmackenzie$elm_geometry$Vector2d$direction(computedRadius);if(yDirection.$)return{o:0,p:givenStartPoint,e:givenSweptAngle,fN:$ianmackenzie$elm_geometry$Direction2d$x};yDirection=yDirection.a,computedRadius=function(scaledY){var scaledX=scaledY,largestComponent=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.U),$elm$core$Basics$abs(scaledX.V));if(largestComponent){scaledY=scaledX.V/largestComponent,scaledX=scaledX.U/largestComponent;return $elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY)*largestComponent}return 0}(computedRadius);return{o:A2($ianmackenzie$elm_geometry$Quantity$Extra$rTheta,computedRadius,givenSweptAngle),p:givenStartPoint,e:givenSweptAngle,fN:function(_v0){return{U:_v0.V,V:-_v0.U}}(yDirection)}}),$ianmackenzie$elm_geometry$Arc2d$throughPoints=F3(function(firstPoint,secondPoint,thirdPoint){return A2($elm$core$Maybe$andThen,function(computedCenterPoint){var thirdVector=A2($ianmackenzie$elm_geometry$Vector2d$from,computedCenterPoint,thirdPoint),secondVector=A2($ianmackenzie$elm_geometry$Vector2d$from,computedCenterPoint,secondPoint),firstVector=A2($ianmackenzie$elm_geometry$Vector2d$from,computedCenterPoint,firstPoint);return A4($elm$core$Maybe$map3,F3(function(firstDirection,partial,full){partial=A2($ianmackenzie$elm_geometry$Direction2d$angleFrom,firstDirection,partial),full=A2($ianmackenzie$elm_geometry$Direction2d$angleFrom,firstDirection,full);return A3($ianmackenzie$elm_geometry$Arc2d$sweptAround,computedCenterPoint,A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,0,partial)&&A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,partial,full)||A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,0,partial)&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,partial,full)?full:A2(A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,0,full)?$ianmackenzie$elm_units$Quantity$minus:$ianmackenzie$elm_units$Quantity$plus,6.283185307179586,full),firstPoint)}),$ianmackenzie$elm_geometry$Vector2d$direction(firstVector),$ianmackenzie$elm_geometry$Vector2d$direction(secondVector),$ianmackenzie$elm_geometry$Vector2d$direction(thirdVector))},A3($ianmackenzie$elm_geometry$Point2d$circumcenter,firstPoint,secondPoint,thirdPoint))}),$author$project$BendSmoother$convergentRoadsArc=F3(function(p,r1Equation,midAB){var _v6={a:{a:r1Equation.ai,b:r1Equation.B},b:{a:midAB.ai,b:midAB.B}},pd=_v6.a,pa=pd.a,_v5=pd.b,r1Equation=_v6.b,midAB=r1Equation.a,pd=r1Equation.b,_v6={a:A2($author$project$Geometry101$lineEquationFromTwoPoints,pa,_v5),b:A2($author$project$Geometry101$lineEquationFromTwoPoints,midAB,pd)},r1Equation=_v6.a,_v6=_v6.b,_v5={a:A3($author$project$Geometry101$interpolateLine,.5,pa,_v5),b:A3($author$project$Geometry101$interpolateLine,.5,midAB,pd)},midAB=_v5.a,_v5=_v5.b,_v5=_Utils_cmp(A2($author$project$Geometry101$distance,p,midAB),A2($author$project$Geometry101$distance,p,_v5))<1?{a:midAB,b:A2($author$project$Geometry101$pointAlongRoad,A2($author$project$BendSmoother$pointsToGeometry,p,pd),A2($author$project$Geometry101$distance,p,midAB))}:{a:A2($author$project$Geometry101$pointAlongRoad,A2($author$project$BendSmoother$pointsToGeometry,p,pa),A2($author$project$Geometry101$distance,p,_v5)),b:_v5},firstTangentPoint=_v5.a,secondTangentPoint=_v5.b,_v6={a:A2($author$project$Geometry101$linePerpendicularTo,r1Equation,firstTangentPoint),b:A2($author$project$Geometry101$linePerpendicularTo,_v6,secondTangentPoint)};return A2($elm$core$Maybe$withDefault,$elm$core$Maybe$Nothing,A2($elm$core$Maybe$map,function(midArcPoint){midArcPoint=A2($author$project$Geometry101$pointAlongRoad,{B:p,ai:midArcPoint},A2($author$project$Geometry101$distance,midArcPoint,firstTangentPoint));return A3($ianmackenzie$elm_geometry$Arc2d$throughPoints,A2($ianmackenzie$elm_geometry$Point2d$meters,firstTangentPoint.U,firstTangentPoint.V),A2($ianmackenzie$elm_geometry$Point2d$meters,midArcPoint.U,midArcPoint.V),A2($ianmackenzie$elm_geometry$Point2d$meters,secondTangentPoint.U,secondTangentPoint.V))},A2($author$project$Geometry101$lineIntersection,_v6.a,_v6.b)))}),$author$project$BendSmoother$divergentRoadsArc=F3(function(p,r1Equation,pc){var _v6={a:{a:r1Equation.ai,b:r1Equation.B},b:{a:pc.ai,b:pc.B}},midAB=_v6.a,_v5=midAB.a,pb=midAB.b,r1Equation=_v6.b,pc=r1Equation.a,midAB=r1Equation.b,_v6={a:A2($author$project$Geometry101$lineEquationFromTwoPoints,_v5,pb),b:A2($author$project$Geometry101$lineEquationFromTwoPoints,pc,midAB)},r1Equation=_v6.a,_v6=_v6.b,_v5={a:A3($author$project$Geometry101$interpolateLine,.5,_v5,pb),b:A3($author$project$Geometry101$interpolateLine,.5,pc,midAB)},midAB=_v5.a,_v5=_v5.b,_v5=-1<_Utils_cmp(A2($author$project$Geometry101$distance,p,midAB),A2($author$project$Geometry101$distance,p,_v5))?{a:midAB,b:A2($author$project$Geometry101$pointAlongRoad,A2($author$project$BendSmoother$pointsToGeometry,p,pc),A2($author$project$Geometry101$distance,p,midAB))}:{a:A2($author$project$Geometry101$pointAlongRoad,A2($author$project$BendSmoother$pointsToGeometry,p,pb),A2($author$project$Geometry101$distance,p,_v5)),b:_v5},firstTangentPoint=_v5.a,secondTangentPoint=_v5.b,_v6={a:A2($author$project$Geometry101$linePerpendicularTo,r1Equation,firstTangentPoint),b:A2($author$project$Geometry101$linePerpendicularTo,_v6,secondTangentPoint)};return A2($elm$core$Maybe$withDefault,$elm$core$Maybe$Nothing,A2($elm$core$Maybe$map,function(midArcPoint){midArcPoint=A2($author$project$Geometry101$pointAlongRoad,{B:midArcPoint,ai:p},A2($author$project$Geometry101$distance,midArcPoint,firstTangentPoint)+A2($author$project$Geometry101$distance,p,midArcPoint));return A3($ianmackenzie$elm_geometry$Arc2d$throughPoints,A2($ianmackenzie$elm_geometry$Point2d$meters,firstTangentPoint.U,firstTangentPoint.V),A2($ianmackenzie$elm_geometry$Point2d$meters,midArcPoint.U,midArcPoint.V),A2($ianmackenzie$elm_geometry$Point2d$meters,secondTangentPoint.U,secondTangentPoint.V))},A2($author$project$Geometry101$lineIntersection,_v6.a,_v6.b)))}),$author$project$Geometry101$findIntercept=F2(function(r1,r2Line){r2Line=A2($author$project$Geometry101$lineEquationFromTwoPoints,r2Line.ai,r2Line.B);return A2($author$project$Geometry101$lineIntersection,A2($author$project$Geometry101$lineEquationFromTwoPoints,r1.ai,r1.B),r2Line)}),$author$project$Geometry101$antiInterpolate=F3(function(p,aDist,ab){var bDist=A2($author$project$Geometry101$distance,p,ab),ab=A2($author$project$Geometry101$distance,aDist,ab),aDist=A2($author$project$Geometry101$distance,p,aDist);return _Utils_cmp(aDist+bDist,ab)<1||0<_Utils_cmp(aDist,bDist)?aDist/ab:0<_Utils_cmp(bDist,aDist)?aDist/ab*-1:0}),$author$project$BendSmoother$isAfter=F2(function(r,p){return 1<A3($author$project$Geometry101$antiInterpolate,p,r.ai,r.B)}),$author$project$BendSmoother$isBefore=F2(function(r,p){return A3($author$project$Geometry101$antiInterpolate,p,r.ai,r.B)<0}),$ianmackenzie$elm_geometry$Quantity$Extra$lOverTheta=F2(function(_v0,_v1){return _v0/_v1}),$ianmackenzie$elm_geometry$Quantity$Extra$rSinTheta=F2(function(r,theta){return A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(theta),r)}),$ianmackenzie$elm_geometry$Arc2d$pointOn=F2(function(distance,theta){var y0=$ianmackenzie$elm_geometry$Point2d$yCoordinate(distance.p),x0=$ianmackenzie$elm_geometry$Point2d$xCoordinate(distance.p),dy=$ianmackenzie$elm_geometry$Direction2d$yComponent(distance.fN),dx=$ianmackenzie$elm_geometry$Direction2d$xComponent(distance.fN),x=distance.e,y=distance.o;if(_Utils_eq(x,0)){distance=A2($ianmackenzie$elm_units$Quantity$multiplyBy,theta,y);return A2($ianmackenzie$elm_geometry$Point2d$xy,A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_units$Quantity$multiplyBy,dx,distance),x0),A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_units$Quantity$multiplyBy,dy,distance),y0))}theta=A2($ianmackenzie$elm_units$Quantity$multiplyBy,theta,x),y=A2($ianmackenzie$elm_geometry$Quantity$Extra$lOverTheta,y,x),x=A2($ianmackenzie$elm_geometry$Quantity$Extra$rSinTheta,y,theta),y=A2($ianmackenzie$elm_units$Quantity$lessThan,1.5707963267948966,$ianmackenzie$elm_units$Quantity$abs(theta))?A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$tan(A2($ianmackenzie$elm_units$Quantity$multiplyBy,.5,theta)),x):A2($ianmackenzie$elm_units$Quantity$multiplyBy,1-$ianmackenzie$elm_units$Angle$cos(theta),y);return A2($ianmackenzie$elm_geometry$Point2d$xy,A2($ianmackenzie$elm_units$Quantity$plus,A4($ianmackenzie$elm_geometry$Quantity$Extra$aXbY,dx,x,-dy,y),x0),A2($ianmackenzie$elm_units$Quantity$plus,A4($ianmackenzie$elm_geometry$Quantity$Extra$aXbY,dy,x,dx,y),y0))}),$ianmackenzie$elm_geometry$Arc2d$segments=F2(function(numSegments,arc){return A2($ianmackenzie$elm_1d_parameter$Parameter1d$steps,numSegments,$ianmackenzie$elm_geometry$Arc2d$pointOn(arc))}),$ianmackenzie$elm_geometry$LineSegment2d$fromEndpoints=$elm$core$Basics$identity,$ianmackenzie$elm_geometry$LineSegment2d$from=F2(function(startPoint_,endPoint_){return $ianmackenzie$elm_geometry$LineSegment2d$fromEndpoints({a:startPoint_,b:endPoint_})}),$ianmackenzie$elm_geometry$Point2d$toRecord=F2(function(fromQuantity,point){return{U:fromQuantity($ianmackenzie$elm_geometry$Point2d$xCoordinate(point)),V:fromQuantity($ianmackenzie$elm_geometry$Point2d$yCoordinate(point))}}),$author$project$BendSmoother$withElevation=F2(function(elevation,_v0){_v0=function(_v0){return _v0}(_v0);return{U:_v0.U,V:_v0.V,iS:elevation}}),$author$project$BendSmoother$makeSmoothBend=F4(function(newArcPoints,roadAB,roadCD,arc){var r=$elm$core$Basics$abs($ianmackenzie$elm_units$Angle$inRadians(function(_v0){return _v0.e}(arc)))*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Arc2d$radius(arc))/newArcPoints|0,x0=function(_v0){_v0=function(_v0){return _v0}(_v0);if(_v0.b)return A3($elm$core$List$map2,$ianmackenzie$elm_geometry$LineSegment2d$from,_v0,_v0.b);return _List_Nil}(A2($ianmackenzie$elm_geometry$Arc2d$segments,r-1,arc)),dy={a:A2($ianmackenzie$elm_geometry$Point2d$toRecord,$ianmackenzie$elm_units$Length$inMeters,function(_v0){return _v0.p}(arc)),b:A2($ianmackenzie$elm_geometry$Point2d$toRecord,$ianmackenzie$elm_units$Length$inMeters,A2($ianmackenzie$elm_geometry$Arc2d$pointOn,arc,1))},dx=dy.b,cy={a:A2($author$project$Geometry101$distance,$author$project$BendSmoother$toPoint(roadAB.bE.aq),dy.a),b:A2($author$project$Geometry101$distance,dx,$author$project$BendSmoother$toPoint(roadCD.bE.aq))},newArcPoints={a:cy.a/roadAB.gV,b:cy.b/roadCD.gV},dy=newArcPoints.b,dx={a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$zCoordinate(A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,roadAB.bE.aq,roadAB.B.aq,newArcPoints.a))),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$zCoordinate(A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,roadCD.bE.aq,roadCD.B.aq,dy)))},elevationArcStart=dx.a,eleIncrement=(dx.b-elevationArcStart)/r,cy=F2(function(point2d,i){return A2($author$project$BendSmoother$withElevation,elevationArcStart+i*eleIncrement,point2d)}),newArcPoints=_Utils_ap(A3($elm$core$List$map2,cy,A2($elm$core$List$map,$ianmackenzie$elm_geometry$LineSegment2d$startPoint,A2($elm$core$List$take,1,x0)),_List_fromArray([0])),A3($elm$core$List$map2,cy,A2($elm$core$List$map,$ianmackenzie$elm_geometry$LineSegment2d$endPoint,x0),A2($elm$core$List$range,1,10+r)));return{f_:(cy=$ianmackenzie$elm_geometry$Point2d$yCoordinate((dx=dy=arc).p),x0=$ianmackenzie$elm_geometry$Point2d$xCoordinate(dx.p),r=A2($ianmackenzie$elm_geometry$Quantity$Extra$lOverTheta,dx.o,dx.e),dy=$ianmackenzie$elm_geometry$Direction2d$yComponent(dx.fN),dx=$ianmackenzie$elm_geometry$Direction2d$xComponent(dx.fN),cy=A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_units$Quantity$multiplyBy,dx,r),cy),A2($ianmackenzie$elm_geometry$Point2d$xy,A2($ianmackenzie$elm_units$Quantity$minus,A2($ianmackenzie$elm_units$Quantity$multiplyBy,dy,r),x0),cy)),gr:roadCD.gK+1,hC:A2($elm$core$List$cons,roadAB.bE.aq,_Utils_ap(newArcPoints,_List_fromArray([roadCD.B.aq]))),hW:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Arc2d$radius(arc)),im:roadAB.gK}}),$author$project$BendSmoother$parallelFindSemicircle=F2(function(r1Equation,midArcPoint){var t1={a:{a:r1Equation.ai,b:r1Equation.B},b:{a:midArcPoint.ai,b:midArcPoint.B}},t2=t1.a,_v6=t2.a,midBC=t2.b,r1Equation=t1.b,midArcPoint=r1Equation.a,t2=r1Equation.b,t1={a:A2($author$project$Geometry101$lineEquationFromTwoPoints,_v6,midBC),b:A2($author$project$Geometry101$lineEquationFromTwoPoints,midArcPoint,t2)},r1Equation=t1.a,t1=t1.b,t2={a:A3($author$project$Geometry101$interpolateLine,.5,midArcPoint,t2),b:A3($author$project$Geometry101$interpolateLine,.5,t2,_v6)},t2=t2.b,_v6={a:A3($author$project$Geometry101$interpolateLine,.5,_v6,midBC),b:A3($author$project$Geometry101$interpolateLine,.5,midBC,midArcPoint)},midBC=_v6.b,midArcPoint=A3($author$project$Geometry101$interpolateLine,.5,midBC,t2),_v6={a:A2($author$project$Geometry101$linePerpendicularTo,r1Equation,midArcPoint),b:A2($author$project$Geometry101$linePerpendicularTo,t1,midArcPoint)},t2=_v6.b,t1={a:A2($author$project$Geometry101$lineIntersection,r1Equation,_v6.a),b:A2($author$project$Geometry101$lineIntersection,t1,t2)},t2={a:t1.a,b:t1.b};if(t2.a.$||t2.b.$)return $elm$core$Maybe$Nothing;t1=t2.a.a,t2=t2.b.a,midArcPoint=A2($author$project$Geometry101$pointAlongRoad,{B:midBC,ai:midArcPoint},A2($author$project$Geometry101$distance,midArcPoint,t1));return A3($ianmackenzie$elm_geometry$Arc2d$throughPoints,A2($ianmackenzie$elm_geometry$Point2d$meters,t1.U,t1.V),A2($ianmackenzie$elm_geometry$Point2d$meters,midArcPoint.U,midArcPoint.V),A2($ianmackenzie$elm_geometry$Point2d$meters,t2.U,t2.V))}),$author$project$BendSmoother$lookForSmoothBendOption=F3(function(trackPointSpacing,roadAB,roadCD){var arc={a:$author$project$BendSmoother$roadToGeometry(roadAB),b:$author$project$BendSmoother$roadToGeometry(roadCD)},roadIn=arc.a,roadOut=arc.b,arc=1===(arc=A2($author$project$Geometry101$findIntercept,roadIn,roadOut)).$?A2($author$project$BendSmoother$parallelFindSemicircle,roadIn,roadOut):function(p){return A2($author$project$BendSmoother$isBefore,roadIn,p)&&A2($author$project$BendSmoother$isAfter,roadOut,p)?A3($author$project$BendSmoother$divergentRoadsArc,p,roadIn,roadOut):A2($author$project$BendSmoother$isAfter,roadIn,p)&&A2($author$project$BendSmoother$isBefore,roadOut,p)?A3($author$project$BendSmoother$convergentRoadsArc,p,roadIn,roadOut):$elm$core$Maybe$Nothing}(arc.a);return A2($elm$core$Maybe$map,A3($author$project$BendSmoother$makeSmoothBend,trackPointSpacing,roadAB,roadCD),arc)}),$author$project$MapController$addMarkersToMap=F4(function(current,marker,smoothBend,nudged){function encodePos(_v1){var lat=_v1.b;return $elm$json$Json$Encode$object(_List_fromArray([{a:"lon",b:$elm$json$Json$Encode$float(_v1.a)},{a:"lat",b:$elm$json$Json$Encode$float(lat)}]))}return $author$project$MapController$mapPort(function(){if(marker.$)return $elm$json$Json$Encode$object(_List_fromArray([{a:"Cmd",b:$elm$json$Json$Encode$string("Mark")},{a:"orange",b:encodePos(current)},{a:"bend",b:$author$project$TrackPoint$trackToJSON(smoothBend)},{a:"nudge",b:$author$project$TrackPoint$trackToJSON(nudged)}]));var mark=marker.a;return $elm$json$Json$Encode$object(_List_fromArray([{a:"Cmd",b:$elm$json$Json$Encode$string("Mark")},{a:"orange",b:encodePos(current)},{a:"purple",b:encodePos(mark)},{a:"bend",b:$author$project$TrackPoint$trackToJSON(smoothBend)},{a:"nudge",b:$author$project$TrackPoint$trackToJSON(nudged)}]))}())}),$author$project$Main$nodeToTrackPoint=F2(function(degreesLat,node){var degreesLon={a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(node)),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(node))},_v1={a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(degreesLat)),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(degreesLat))},degreesLat=_v1.b+degreesLon.b/78846.81,degreesLon=_v1.a+degreesLon.a/78846.81/$elm$core$Basics$cos(3.141592653589793*degreesLat/180);return{cA:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$zCoordinate(node)),kl:0,cG:degreesLat,cK:degreesLon}}),$author$project$Main$nodesToTrackPoints=F2(function(trackCenter,nodes){return A2($elm$core$List$map,$author$project$Main$nodeToTrackPoint(trackCenter),nodes)}),$author$project$Main$locallyHandleMapMessage=F2(function(model,json){var msg=A2($elm$json$Json$Decode$decodeValue,$author$project$MapController$msgDecoder,json),lon=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"lon",$elm$json$Json$Decode$float),json),lat=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"lat",$elm$json$Json$Decode$float),json);_v0$2:for(;!msg.$;)switch(msg.a){case"click":var _v1={a:lat,b:lon};return _v1.a.$||_v1.b.$?{a:model,b:$elm$core$Platform$Cmd$none}:{a:$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(A3($author$project$Main$makeNearestNodeCurrent,_v1.b.a,_v1.a.a,model))),b:$author$project$Main$updateMapVaryingElements(model)};case"drag":return $author$project$Main$trackHasChanged(A2($author$project$Main$draggedOnMap,json,model));default:break _v0$2}return{a:model,b:$elm$core$Platform$Cmd$none}}),$elm$core$Platform$Cmd$map=$elm$json$Json$Decode$map4,$elm$file$File$name=function(file){return file.name},$ianmackenzie$elm_geometry$Vector2d$rTheta=F2(function(r,theta){return{U:r*$elm$core$Basics$cos(theta),V:r*$elm$core$Basics$sin(theta)}}),$ianmackenzie$elm_geometry$Vector2d$scaleBy=F2(function(k,_v0){return{U:k*_v0.U,V:k*_v0.V}}),$ianmackenzie$elm_geometry$Point2d$translateBy=F2(function(_v0,_v1){return{U:_v1.U+_v0.U,V:_v1.V+_v0.V}}),$author$project$Nudge$nudgeTrackPoint=F4(function(baseTP,nudgeVector,horizontal,vertical){var nudgedTrackPoint2d=A2($ianmackenzie$elm_geometry$Point2d$meters,baseTP.cK,baseTP.cG),nudgeVector={U:(nudgeVector=A2($ianmackenzie$elm_geometry$Vector2d$rTheta,1,-1*nudgeVector)).V,V:-nudgeVector.U},nudgeVector=A2($ianmackenzie$elm_geometry$Vector2d$scaleBy,horizontal/78846.81,function(_v0){return{U:-(_v0=_v0).V,V:_v0.U}}(nudgeVector)),nudgedTrackPoint2d=A2($ianmackenzie$elm_geometry$Point2d$translateBy,nudgeVector,nudgedTrackPoint2d);return _Utils_update(baseTP,{cA:baseTP.cA+vertical,cG:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$yCoordinate(nudgedTrackPoint2d)),cK:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$xCoordinate(nudgedTrackPoint2d))})}),$author$project$Main$nudgeNodeRange=F5(function(model,node1,nodeN,horizontal,vertical){var unmovedEndPoint=(prevNode=A2($elm$core$Array$get,nodeN+1,model.d)).$?_List_Nil:_List_fromArray([prevNode.a.b]),undoMessage=0<_Utils_cmp(nodeN,node1)?"Nudge "+$elm$core$String$fromInt(node1)+(" to "+$elm$core$String$fromInt(nodeN)):"Nudge node "+$elm$core$String$fromInt(node1),nudgedStartPoints=A2($elm$core$List$drop,node1,A2($elm$core$List$take,nodeN+1,model.hC)),prevNode=A2($elm$core$Array$get,node1-1,model.d),nudgedStartPoints=A2($elm$core$List$map,function(node){return A4($author$project$Nudge$nudgeTrackPoint,node.b,function(node){return _Utils_cmp(node.b.kl,$elm$core$Array$length(model.g))<0?A2($elm$core$Maybe$withDefault,0,A2($elm$core$Maybe$map,function($){return $.da},A2($elm$core$Array$get,node.b.kl,model.g))):A2($elm$core$Maybe$withDefault,0,A2($elm$core$Maybe$map,function($){return $.da},A2($elm$core$Array$get,$elm$core$Array$length(model.g)-1,model.g)))}(node),horizontal,vertical)},nudgedStartPoints);_Utils_ap(1===prevNode.$?_List_Nil:_List_fromArray([prevNode.a.b]),_Utils_ap(nudgedStartPoints,unmovedEndPoint));return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{as:0,at:_List_Nil,aD:0,iy:_Utils_ap(A2($elm$core$List$take,node1,model.iy),_Utils_ap(nudgedStartPoints,A2($elm$core$List$drop,nodeN+1,model.iy))),au:0})}),$author$project$Main$nudgeNode=F3(function(model,horizontal,vertical){var _v0=A2($elm$core$Maybe$withDefault,model.a,model.c),_v0={a:A2($elm$core$Basics$min,model.a,_v0),b:A2($elm$core$Basics$max,model.a,_v0)};return A5($author$project$Main$nudgeNodeRange,model,_v0.a,_v0.b,horizontal,vertical)}),$elm$core$String$endsWith=$mdgriffith$elm_ui$Internal$Flag$fontAlignment,$elm$file$File$Download$string=F3(function(name,mime,content){return A2($elm$core$Task$perform,$elm$core$Basics$never,A3(_File_download,name,mime,content))}),$elm$core$String$toUpper=function(str){return str.toUpperCase()},$author$project$WriteGPX$writeTrack=F2(function(name,trackPoints){return"\n  <trk>\n    <name>"+name+("</name>\n    <trkseg>\n"+$elm$core$String$concat(A2($elm$core$List$map,$author$project$WriteGPX$writeTrackPoint,trackPoints)))+"    </trkseg>\n  </trk>\n "}),$author$project$WriteGPX$writeGPX=F2(function(name,track){return _Utils_ap('<?xml version=\'1.0\' encoding=\'UTF-8\'?>\n<gpx version="1.1"\n  creator="https://www.komoot.de"\n  xmlns="http://www.topografix.com/GPX/1/1"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://www.topografix.com/GPX/1/1\n  http://www.topografix.com/GPX/1/1/gpx.xsd">\n  <metadata>\n    <name>Cycling</name>\n    <author>\n      <link href="https://www.stepwiserefinement.co.uk">\n        <text>Fixed by Pete and his GPX viewer</text>\n        <type>text/html</type>\n      </link>\n    </author>\n  </metadata>\n',_Utils_ap(A2($author$project$WriteGPX$writeTrack,name.$?"A track":name.a,track),"</gpx>"))}),$author$project$TrackPoint$TrackPoint=F4(function(lat,lon,ele,idx){return{cA:ele,kl:idx,cG:lat,cK:lon}}),$author$project$StravaPasteStreams$pasteStreams=F3(function(trackPoints,newRoute,streams){var trackPointsFromStreams=A3($elm$core$List$map2,F2(function(latLon,ele){return A4($author$project$TrackPoint$TrackPoint,latLon.cG,latLon.kG,ele,0)}),streams.kE.gh,streams.i5.gh),pStartingTrackPoint=A3($author$project$TrackPoint$trackPointFromLatLon,newRoute.lC,newRoute.lD,trackPoints),pEndingTrackPoint=A3($author$project$TrackPoint$trackPointFromLatLon,newRoute.jZ,newRoute.j_,trackPoints),newRoute=function(){var orientedSegment={a:pStartingTrackPoint,b:pEndingTrackPoint};if(orientedSegment.a.$||orientedSegment.b.$)return trackPoints;var start=orientedSegment.a.a.kl,finish=orientedSegment.b.a.kl,orientedSegment=_Utils_eq(start,finish)?_List_Nil:_Utils_cmp(start,finish)<0?trackPointsFromStreams:$elm$core$List$reverse(trackPointsFromStreams);return _Utils_ap(A2($elm$core$List$take,A2($elm$core$Basics$min,start,finish),trackPoints),_Utils_ap(orientedSegment,A2($elm$core$List$drop,A2($elm$core$Basics$max,start,finish)+1,trackPoints)))}();return $author$project$TrackPoint$reindexTrackpoints(newRoute)}),$ianmackenzie$elm_geometry$Vector3d$plus=F2(function(_v0,_v1){return{U:_v1.U+_v0.U,V:_v1.V+_v0.V,iS:_v1.iS+_v0.iS}}),$author$project$MapController$processMapMessage=F2(function(info,json){var msg=A2($elm$json$Json$Decode$decodeValue,$author$project$MapController$msgDecoder,json);_v0$4:for(;!msg.$;)switch(msg.a){case"no node":return $elm$core$Maybe$Just({a:_Utils_update(info,{eY:0}),b:$author$project$MapController$createMap(info)});case"map ready":return $elm$core$Maybe$Just({a:_Utils_update(info,{eY:2}),b:$author$project$MapController$addTrackToMap(info)});case"track ready":return $elm$core$Maybe$Just({a:_Utils_update(info,{eY:2}),b:A4($author$project$MapController$addMarkersToMap,info.gf,info.hj,_List_Nil,_List_Nil)});case"move":var _v1=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"zoom",$elm$json$Json$Decode$float),json),lon=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"lon",$elm$json$Json$Decode$float),json),_v1={a:A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"lat",$elm$json$Json$Decode$float),json),b:lon,c:_v1};return $elm$core$Maybe$Just(_v1.a.$||_v1.b.$||_v1.c.$?{a:info,b:$elm$core$Platform$Cmd$none}:{a:_Utils_update(info,{f$:_v1.a.a,f1:_v1.b.a,hi:_v1.c.a}),b:$elm$core$Platform$Cmd$none});default:break _v0$4}return $elm$core$Maybe$Nothing}),$author$project$TrackPoint$removeByNodeNumbers=F2(function(idxsToRemove,trackPoints){var helper=F3(function(idxs,tps,kept){for(;;){var t={a:idxs,b:tps};if(!t.a.b)return{a:_List_Nil,b:_List_Nil,c:_Utils_ap($elm$core$List$reverse(tps),kept)};if(!t.b.b)return{a:_List_Nil,b:_List_Nil,c:kept};var ts=t.a,i=ts.a,is=ts.b,ts=t.b,t=ts.a,ts=ts.b;kept=_Utils_eq(t.kl,i)?(idxs=is,tps=ts,kept):_Utils_cmp(t.kl,i)<0?(idxs=idxs,tps=ts,A2($elm$core$List$cons,t,kept)):(idxs=is,tps=tps,kept)}});return $elm$core$List$reverse(A3(helper,idxsToRemove,trackPoints,_List_Nil).c)}),$elm$http$Http$BadStatus_=F2(function(a,b){return{$:3,a:a,b:b}}),$elm$http$Http$BadUrl_=function(a){return{$:0,a:a}},$elm$http$Http$GoodStatus_=F2(function(a,b){return{$:4,a:a,b:b}}),$elm$http$Http$NetworkError_={$:2},$elm$http$Http$Receiving=function(a){return{$:1,a:a}},$elm$http$Http$Sending=function(a){return{$:0,a:a}},$elm$http$Http$Timeout_={$:1},$elm$core$Maybe$isJust=function(maybe){return!maybe.$},$elm$http$Http$emptyBody={$:0},$elm$json$Json$Decode$decodeString=$author$project$Internal$AuthenticationError,$elm$http$Http$expectStringResponse=F2(function(toMsg,toResult){return A3(_Http_expect,"",$elm$core$Basics$identity,A2($elm$core$Basics$composeR,toResult,toMsg))}),$elm$core$Result$mapError=F2(function(f,result){return result.$?$elm$core$Result$Err(f(result.a)):$elm$core$Result$Ok(result.a)}),$elm$http$Http$NetworkError={$:2},$elm$http$Http$Timeout={$:1},$elm$http$Http$resolve=F2(function(toResult,response){switch(response.$){case 0:return $elm$core$Result$Err({$:0,a:response.a});case 1:return $elm$core$Result$Err($elm$http$Http$Timeout);case 2:return $elm$core$Result$Err($elm$http$Http$NetworkError);case 3:return $elm$core$Result$Err({$:3,a:response.a.lE});default:return A2($elm$core$Result$mapError,$elm$http$Http$BadBody,toResult(response.b))}}),$elm$http$Http$expectJson=F2(function(toMsg,decoder){return A2($elm$http$Http$expectStringResponse,toMsg,$elm$http$Http$resolve(function(string){return A2($elm$core$Result$mapError,$elm$json$Json$Decode$errorToString,A2($elm$json$Json$Decode$decodeString,decoder,string))}))}),$author$project$GeoCodeDecoders$ipInfoDecoder=A8($author$project$Internal$errorUriDecoder,F7(function(ip,country,region,city,zip,latitude,longitude){return{dg:city,dr:country,dD:ip,dE:latitude,dK:longitude,d1:region,ek:zip}}),A2($elm$json$Json$Decode$at,_List_fromArray(["query"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["country"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["region"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["city"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["zip"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["lat"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["lon"]),$elm$json$Json$Decode$float)),$elm$http$Http$State=F2(function(reqs,subs){return{h_:reqs,$9:subs}}),$elm$json$Json$Decode$map4=$elm$core$Task$succeed(A2($elm$http$Http$State,$elm$core$Dict$empty,_List_Nil)),$elm$http$Http$updateReqs=F3(function(router,cmds,reqs){for(;;){if(!cmds.b)return $elm$core$Task$succeed(reqs);var _v2=cmds.a,otherCmds=cmds.b;if(_v2.$){var req=_v2.a;return A2($elm$core$Task$andThen,function(pid){var _v4=req.iz;return A3($elm$http$Http$updateReqs,router,otherCmds,1===_v4.$?reqs:A3($elm$core$Dict$insert,_v4.a,pid,reqs))},$elm$core$Process$spawn(A3(_Http_toTask,router,$elm$core$Platform$sendToApp(router),req)))}var tracker=_v2.a,_v2=A2($elm$core$Dict$get,tracker,reqs);if(1!==_v2.$)return A2($elm$core$Task$andThen,function(){return A3($elm$http$Http$updateReqs,router,otherCmds,A2($elm$core$Dict$remove,tracker,reqs))},$elm$core$Process$kill(_v2.a));router=router,cmds=otherCmds,reqs=reqs}}),$mdgriffith$elm_ui$Internal$Flag$fontAlignment=F4(function(router,cmds,subs,state){return A2($elm$core$Task$andThen,function(reqs){return $elm$core$Task$succeed(A2($elm$http$Http$State,reqs,subs))},A3($elm$http$Http$updateReqs,router,cmds,state.h_))}),$elm$http$Http$maybeSend=F4(function(router,desiredTracker,progress,_v0){var toMsg=_v0.b;return _Utils_eq(desiredTracker,_v0.a)?$elm$core$Maybe$Just(A2($elm$core$Platform$sendToApp,router,toMsg(progress))):$elm$core$Maybe$Nothing}),$author$project$Internal$AuthenticationError=F3(function(router,_v0,state){return A2($elm$core$Task$andThen,function(){return $elm$core$Task$succeed(state)},$elm$core$Task$sequence(A2($elm$core$List$filterMap,A3($elm$http$Http$maybeSend,router,_v0.a,_v0.b),state.$9)))}),$author$project$Internal$errorUriDecoder=F2(function(func,cmd){if(cmd.$){var r=cmd.a;return{$:1,a:{i3:r.i3,fX:r.fX,gx:A2(_Http_mapExpect,func,r.gx),gG:r.gG,hn:r.hn,iu:r.iu,iz:r.iz,ee:r.ee}}}return{$:0,a:cmd.a}}),$elm$http$Http$MySub=F2(function(a,b){return{$:0,a:a,b:b}});function $elm$http$Http$request(r){return $elm$http$Http$command({$:1,a:{i3:!1,fX:r.fX,gx:r.gx,gG:r.gG,hn:r.hn,iu:r.iu,iz:r.iz,ee:r.ee}})}function $author$project$OAuth$useToken(token){return $elm$core$List$cons(A2($elm$http$Http$header,"Authorization","Bearer "+token))}function $author$project$Main$resetFlythrough(model){var seg=A2($author$project$Main$lookupRoad,model,model.a);return seg.$?model:(seg=seg.a,_Utils_update(model,{y:$elm$core$Maybe$Just({fZ:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),seg.bE.aq),gA:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),seg.B.aq),eP:model.bd,e4:seg.il,d4:!1,$8:seg})}))}function $elm$time$Time$toCivil(dayOfYear){var mp=A2($elm$time$Time$flooredDiv,dayOfYear,1440)+719468,era=(mp<0?mp-146096:mp)/146097|0,month=mp-146097*era,yearOfEra=(month-(month/1460|0)+(month/36524|0)-(month/146096|0))/365|0;return{gi:(dayOfYear=month-(365*yearOfEra+(yearOfEra/4|0)-(yearOfEra/100|0)))-((153*(mp=(5*dayOfYear+2)/153|0)+2)/5|0)+1,hv:month=mp+(mp<10?3:-9),iR:yearOfEra+400*era+(2<month?0:1)}}function $author$project$Main$smoothBend(m){var newMark=A2($elm$core$Maybe$withDefault,m.a,m.c);if((numCurrentPoints=m.T).$)return m;var bend=numCurrentPoints.a,newCurrent=($elm$core$List$length(bend.hC),$elm$core$List$length(bend.hC)-2),numCurrentPoints=$elm$core$Basics$abs(m.a-newMark)-1,newTrackPoints=A2($author$project$Main$nodesToTrackPoints,$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(m.E),bend.hC),newMark=0<_Utils_cmp(newMark,bend.im)?newMark-numCurrentPoints+newCurrent:newMark,newCurrent=0<_Utils_cmp(m.a,bend.im)?m.a-numCurrentPoints+newCurrent:m.a;return _Utils_update(m=A2($author$project$Main$addToUndoStack,function(bend){return"bend smoothing\nfrom "+$elm$core$String$fromInt(bend.im)+(" to "+$elm$core$String$fromInt(bend.gr)+(", \nradius "+$author$project$Utils$showDecimal2(bend.hW)))+" metres."}(bend),m),{a:newCurrent,c:$elm$core$Maybe$Just(newMark),T:$elm$core$Maybe$Nothing,iy:$author$project$TrackPoint$reindexTrackpoints(_Utils_ap(A2($elm$core$List$take,bend.im,m.iy),_Utils_ap(newTrackPoints,A2($elm$core$List$drop,bend.gr+1,m.iy))))})}function $author$project$Main$splitRoad(model){function newPointsIn(segment){var trackPointsNeeded=$elm$core$Basics$ceiling(segment.gV/model.cL);return A2($elm$core$List$map,function(i){return A3($author$project$TrackPoint$interpolateSegment,i/trackPointsNeeded,segment.bE.b,segment.B.b)},A2($elm$core$List$range,1,trackPointsNeeded))}var totalTrackPointsBefore=$elm$core$List$length(model.iy),mdl=(subsequentTrackPoints=_Utils_eq(model.a,mdl=A2($elm$core$Maybe$withDefault,model.a,model.c))?{a:0,b:$elm$core$Array$length(model.d)-1}:{a:A2($elm$core$Basics$min,model.a,mdl),b:A2($elm$core$Basics$max,model.a,mdl)}).a,endNode=subsequentTrackPoints.b,subsequentTrackPoints=A2($elm$core$List$drop,endNode+1,model.iy),newTrackPointList=_Utils_ap(A2($elm$core$List$take,mdl+1,model.iy),_Utils_ap(A2($elm$core$List$concatMap,newPointsIn,A2($elm$core$List$drop,mdl,A2($elm$core$List$take,endNode,model.t))),subsequentTrackPoints)),mdl="Split between "+$elm$core$String$fromInt(mdl)+(" and "+$elm$core$String$fromInt(endNode));return _Utils_update(mdl=A2($author$project$Main$addToUndoStack,mdl,model),{a:_Utils_eq(mdl.a,endNode)?mdl.a+$elm$core$List$length(newTrackPointList)-totalTrackPointsBefore:mdl.a,c:A2($elm$core$Maybe$map,function(v){return v+$elm$core$List$length(newTrackPointList)-totalTrackPointsBefore},model.c),iy:$author$project$TrackPoint$reindexTrackpoints(newTrackPointList)})}function $author$project$Utils$httpErrorString(error){switch(error.$){case 4:return"Unable to handle response: "+error.a;case 3:return"Server error: "+$elm$core$String$fromInt(error.a);case 0:return"Invalid URL: "+error.a;case 2:return"Network error";default:return"Request timeout"}}function $author$project$OAuthTypes$GotAccessToken(a){return{$:4,a:a}}function $author$project$Internal$makeRedirectUri(url){return $elm$core$String$concat(_List_fromArray([url.k8?"https":"http","://",url.kg,A2($elm$core$Maybe$withDefault,"",A2($elm$core$Maybe$map,function(i){return":"+$elm$core$String$fromInt(i)},url.k5)),url.k1,A2($elm$core$Maybe$withDefault,"",A2($elm$core$Maybe$map,function(q){return"?"+q},url.d$))]))}function $author$project$OAuthTypes$GotUserInfo(a){return{$:6,a:a}}function $ianmackenzie$elm_3d_camera$Camera3d$viewpoint(_v0){return _v0.eh}function $ianmackenzie$elm_3d_camera$Viewpoint3d$xDirection(_v0){return $ianmackenzie$elm_geometry$Frame3d$xDirection(_v0)}function $ianmackenzie$elm_3d_camera$Viewpoint3d$yDirection(_v0){return $ianmackenzie$elm_geometry$Frame3d$yDirection(_v0)}function $author$project$Msg$AccordionMessage(a){return{$:48,a:a}}function $author$project$Main$markerButton(model){function makeButton(label){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:label},kV:$elm$core$Maybe$Just($author$project$Msg$ToggleMarker)})}var forward=A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$skipForward),back=A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$skipBack);return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$Border$width(0),$mdgriffith$elm_ui$Element$Border$rounded(5),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Font$size(16),$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$buttonGroupBackground)]),_List_fromArray(model.c.$?[makeButton("Drop marker to select a range")]:[A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:$mdgriffith$elm_ui$Element$html(back),kV:$elm$core$Maybe$Just($author$project$Msg$MarkerBackOne)}),makeButton("Clear marker"),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:$mdgriffith$elm_ui$Element$html(forward),kV:$elm$core$Maybe$Just($author$project$Msg$MarkerForwardOne)})]))}function $author$project$Msg$UserChangedRouteId(a){return{$:65,a:a}}function $author$project$Main$positionControls(model){var forwards=A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$skipForward),backwards=A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$skipBack);return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$centerY]),_List_fromArray([function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(300)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$behindContent(A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(300)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$scrollbarBackground),$mdgriffith$elm_ui$Element$Border$rounded(6)]),$mdgriffith$elm_ui$Element$none))]),{bz:$mdgriffith$elm_ui$Element$Input$labelHidden("Drag slider or use arrow buttons"),aA:$elm$core$Array$length(model.g)-1,aB:1,w:A2($elm$core$Basics$composeL,$author$project$Msg$UserMovedNodeSlider,$elm$core$Basics$round),aJ:$elm$core$Maybe$Just(1),aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:model.a})}(model),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:$mdgriffith$elm_ui$Element$html(backwards),kV:$elm$core$Maybe$Just($author$project$Msg$PositionBackOne)}),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:$mdgriffith$elm_ui$Element$html(forwards),kV:$elm$core$Maybe$Just($author$project$Msg$PositionForwardOne)})]))}function $author$project$Msg$ZoomLevelFirstPerson(a){return{$:9,a:a}}function $ianmackenzie$elm_units$Pixels$toInt(_v0){return _v0}function $elm_explorations$webgl$WebGL$Settings$StencilTest$test(stencilTest){return A3($elm_explorations$webgl$WebGL$Settings$StencilTest$testSeparate,{e_:stencilTest.e_,fr:stencilTest.fr,fM:stencilTest.fM},{cC:stencilTest.cC,cY:stencilTest.cY,c6:stencilTest.c6,c7:stencilTest.c7},{cC:stencilTest.cC,cY:stencilTest.cY,c6:stencilTest.c6,c7:stencilTest.c7})}function $ianmackenzie$elm_3d_scene$Scene3d$updateStencil(test){return A5($elm_explorations$webgl$WebGL$entityWith,_List_fromArray([$elm_explorations$webgl$WebGL$Settings$StencilTest$test(test),A4($elm_explorations$webgl$WebGL$Settings$colorMask,!1,!1,!1,!1)]),$ianmackenzie$elm_3d_scene$Scene3d$fullScreenQuadVertexShader,$ianmackenzie$elm_3d_scene$Scene3d$dummyFragmentShader,$ianmackenzie$elm_3d_scene$Scene3d$fullScreenQuadMesh,{})}function $ianmackenzie$elm_3d_scene$Scene3d$storeStencilValue(lightIndex){return $ianmackenzie$elm_3d_scene$Scene3d$updateStencil({cC:7680,e_:15,fr:8,cY:516,fM:A2($elm$core$Basics$pow,2,lightIndex+4),c6:5386,c7:5386})}function $elm_explorations$webgl$WebGL$Settings$DepthTest$lessOrEqual(_v0){return A4($elm_explorations$webgl$WebGL$Internal$DepthTest,515,_v0.aN,_v0.aC,_v0.az)}function $ianmackenzie$elm_3d_scene$Scene3d$toWebGLEntities(_arguments){var sceneProperties=$ianmackenzie$elm_3d_camera$Camera3d$viewpoint(_arguments.dd),referenceWhite={fc:$ianmackenzie$elm_3d_camera$Viewpoint3d$eyePoint(sceneProperties),fN:$ianmackenzie$elm_3d_camera$Viewpoint3d$xDirection(sceneProperties),fO:$ianmackenzie$elm_3d_camera$Viewpoint3d$yDirection(sceneProperties),fP:$ianmackenzie$elm_geometry$Direction3d$reverse($ianmackenzie$elm_3d_camera$Viewpoint3d$viewDirection(sceneProperties))},rootNode=$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_arguments.du),projectionMatrix=A4($ianmackenzie$elm_3d_scene$Scene3d$getViewBounds,referenceWhite,1,$elm$core$Maybe$Nothing,_List_fromArray([rootNode]));if(1===projectionMatrix.$)return _List_Nil;var eyePointOrDirectionToCamera=projectionMatrix.a,viewMatrix=A2($ianmackenzie$elm_3d_camera$WebGL$Matrices$modelViewMatrix,$ianmackenzie$elm_geometry$Frame3d$atOrigin,sceneProperties),toneMapType=A2($ianmackenzie$elm_units$Quantity$multiplyBy,.99,A2($ianmackenzie$elm_units$Quantity$max,$ianmackenzie$elm_units$Quantity$abs(_arguments.di),$ianmackenzie$elm_units$Quantity$negate($ianmackenzie$elm_geometry$BoundingBox3d$maxZ(eyePointOrDirectionToCamera)))),projectionType=$ianmackenzie$elm_geometry$BoundingBox3d$dimensions(eyePointOrDirectionToCamera),sceneDiameter=$ianmackenzie$elm_geometry$Vector3d$length(A3($ianmackenzie$elm_geometry$Vector3d$xyz,projectionType.a,projectionType.b,projectionType.c)),referenceWhite=A2($ianmackenzie$elm_units$Quantity$multiplyBy,1.01,A2($ianmackenzie$elm_units$Quantity$plus,sceneDiameter,$ianmackenzie$elm_units$Quantity$negate($ianmackenzie$elm_geometry$BoundingBox3d$minZ(eyePointOrDirectionToCamera)))),eyePointOrDirectionToCamera=(projectionType=$elm_explorations$linear_algebra$Math$Matrix4$toRecord(projectionMatrix=A2($ianmackenzie$elm_3d_camera$WebGL$Matrices$projectionMatrix,_arguments.dd,{i8:_arguments.i8,j2:referenceWhite,kQ:toneMapType})).hh)?$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Direction3d$reverse($ianmackenzie$elm_3d_camera$Viewpoint3d$viewDirection(sceneProperties))):$ianmackenzie$elm_geometry$Point3d$toMeters($ianmackenzie$elm_3d_camera$Viewpoint3d$eyePoint(sceneProperties)),toneMapType=(referenceWhite=function(){var _v4=_arguments.be;switch(_v4.$){case 0:return{a:0,b:0};case 1:return{a:1,b:0};case 2:return{a:2,b:0};case 3:return{a:3,b:_v4.a};case 4:return{a:4,b:_v4.a};default:return{a:5,b:0}}}()).a,sceneProperties=referenceWhite.b,sceneProperties=$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:0,g3:eyePointOrDirectionToCamera.U,g4:$elm_explorations$linear_algebra$Math$Vector3$getX(referenceWhite=A2($ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToLinearRgb,_arguments.a4,_arguments.bh)),g5:_arguments.io,g6:0,g7:eyePointOrDirectionToCamera.V,g8:$elm_explorations$linear_algebra$Math$Vector3$getY(referenceWhite),g9:$ianmackenzie$elm_units$Length$inMeters(sceneDiameter),ha:0,hb:eyePointOrDirectionToCamera.iS,hc:$elm_explorations$linear_algebra$Math$Vector3$getZ(referenceWhite),hd:toneMapType,he:0,hf:projectionType,hg:0,hh:sceneProperties}),renderPasses=A6($ianmackenzie$elm_3d_scene$Scene3d$collectRenderPasses,sceneProperties,viewMatrix,projectionMatrix,$ianmackenzie$elm_3d_scene$Scene3d$Transformation$identity,rootNode,{ag:_List_Nil,fo:_List_Nil,lq:_List_Nil}),_v7=_arguments.a7;switch(_v7.$){case 0:return $elm$core$List$concat(_List_fromArray([A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.ag,{a:allLightMatrices=_v7.a,b:$ianmackenzie$elm_3d_scene$Scene3d$allLightsEnabled},$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.fo,$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled,$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault)]));case 1:var allLightMatrices=_v7.a;return $elm$core$List$concat(_List_fromArray([A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.ag,$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled,$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault),_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$initStencil]),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.lq,allLightMatrices.cI,$ianmackenzie$elm_3d_scene$Scene3d$createShadowStencil),_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$storeStencilValue(0)]),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.ag,{a:allLightMatrices,b:$ianmackenzie$elm_3d_scene$Scene3d$allLightsEnabled},$ianmackenzie$elm_3d_scene$Scene3d$outsideStencil),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.fo,$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled,$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault)]));default:var shadowCasters=_v7.a,allLightMatrices=_v7.b;return $elm$core$List$concat(_List_fromArray([A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.ag,{a:allLightMatrices,b:$ianmackenzie$elm_3d_scene$Scene3d$allLightsEnabled},$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault),_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$initStencil]),A2($ianmackenzie$elm_3d_scene$Scene3d$createShadows,renderPasses.lq,shadowCasters),A3($ianmackenzie$elm_3d_scene$Scene3d$renderWithinShadows,renderPasses.ag,allLightMatrices,$elm$core$List$length(shadowCasters)),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.fo,$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled,$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault)]))}}function $ianmackenzie$elm_3d_scene$Scene3d$custom(_arguments){return A2($ianmackenzie$elm_3d_scene$Scene3d$composite,{bO:_arguments.bO,c9:_arguments.c9,dd:_arguments.dd,di:_arguments.di,ds:_arguments.ds},_List_fromArray([{du:_arguments.du,a4:_arguments.a4,a7:_arguments.a7,be:_arguments.be,bh:_arguments.bh}]))}function $ianmackenzie$elm_units$Illuminance$inLux(_v0){return _v0}function $ianmackenzie$elm_3d_scene$Scene3d$Light$overhead(_arguments){return function(light){for(;;){if(_Utils_eq(light.kv,0)&&_Utils_eq(light.kw,0))return $ianmackenzie$elm_3d_scene$Scene3d$Light$disabled;if(!A2($ianmackenzie$elm_units$Quantity$greaterThan,$ianmackenzie$elm_units$Quantity$abs(light.kv),$ianmackenzie$elm_units$Quantity$abs(light.kw))){var nitsBelow=$elm$core$Basics$abs($ianmackenzie$elm_units$Illuminance$inLux(light.kw)/3.141592653589793),nitsAbove=$elm$core$Basics$abs($ianmackenzie$elm_units$Illuminance$inLux(light.kv)/3.141592653589793),rgb=$ianmackenzie$elm_geometry$Direction3d$unwrap(light.ed),x=rgb.U,y=rgb.V,z=rgb.iS,rgb=A2($ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToLinearRgb,1,light.df);return{af:nitsAbove*$elm_explorations$linear_algebra$Math$Vector3$getZ(rgb),js:!1,dx:nitsAbove*$elm_explorations$linear_algebra$Math$Vector3$getY(rgb),fm:nitsBelow/nitsAbove,k9:nitsAbove*$elm_explorations$linear_algebra$Math$Vector3$getX(rgb),fF:3,U:x,V:y,iS:z}}light={df:light.df,kv:light.kw,kw:light.kv,ed:$ianmackenzie$elm_geometry$Direction3d$reverse(light.ed)}}}({df:_arguments.df,kv:_arguments.eL,kw:0,ed:_arguments.ed})}function $ianmackenzie$elm_3d_scene$Scene3d$eraseLight(_v0){return _v0}function $ianmackenzie$elm_3d_scene$Scene3d$lightCastsShadows(_v0){return _v0.js}function $ianmackenzie$elm_3d_scene$Scene3d$singleLight(_v0){return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:_v0.U,g3:_v0.k9,g4:0,g5:0,g6:_v0.V,g7:_v0.dx,g8:0,g9:0,ha:_v0.iS,hb:_v0.af,hc:0,hd:0,he:_v0.fF,hf:_v0.fm,hg:0,hh:0})}function $ianmackenzie$elm_3d_scene$Scene3d$sunny(_arguments){var sun=A2($ianmackenzie$elm_3d_scene$Scene3d$Light$directional,_arguments.lq,{df:$ianmackenzie$elm_3d_scene$Scene3d$Light$sunlight,gm:_arguments.lM,eL:8e4}),sky=$ianmackenzie$elm_3d_scene$Scene3d$Light$overhead({df:$ianmackenzie$elm_3d_scene$Scene3d$Light$skylight,eL:2e4,ed:_arguments.ed}),lights=$ianmackenzie$elm_3d_scene$Scene3d$Light$overhead({df:$ianmackenzie$elm_3d_scene$Scene3d$Light$daylight,eL:15e3,ed:$ianmackenzie$elm_geometry$Direction3d$reverse(_arguments.ed)}),lights=A3($ianmackenzie$elm_3d_scene$Scene3d$threeLights,sun,sky,lights);return $ianmackenzie$elm_3d_scene$Scene3d$custom({bO:$ianmackenzie$elm_3d_scene$Scene3d$multisampling,c9:_arguments.c9,dd:_arguments.dd,di:_arguments.di,ds:_arguments.ds,du:_arguments.du,a4:1.2*A2($elm$core$Basics$pow,2,15),a7:lights,be:$ianmackenzie$elm_3d_scene$Scene3d$noToneMapping,bh:$ianmackenzie$elm_3d_scene$Scene3d$Light$daylight})}function $author$project$Main$viewFirstPerson(model){return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([function(model){var camera=model.aR;if(camera.$)return $mdgriffith$elm_ui$Element$none;camera=camera.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,$author$project$ViewElements$withMouseCapture,$mdgriffith$elm_ui$Element$html(A2($author$project$ScenePainter$render3dScene,model.s.iM,{c9:$avh4$elm_color$Color$lightBlue,dd:camera,di:1,ds:$author$project$Utils$view3dDimensions,du:_Utils_ap(model.bK,_Utils_ap(model.bF,model.bc))}))),A2($author$project$ViewElements$zoomSlider,model.bi,$author$project$Msg$ZoomLevelFirstPerson)]))}(model),$author$project$Main$positionControls(model)]))]))}function $author$project$Main$viewInputError(model){return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color(A3($mdgriffith$elm_ui$Element$rgb255,220,220,200)),$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$Border$width(2),$mdgriffith$elm_ui$Element$Border$color(A3($mdgriffith$elm_ui$Element$rgb255,50,50,50)),$mdgriffith$elm_ui$Element$clipY,$mdgriffith$elm_ui$Element$scrollbarY]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(860)),$mdgriffith$elm_ui$Element$height(A2($mdgriffith$elm_ui$Element$maximum,580,$mdgriffith$elm_ui$Element$fill))]),function(){if($elm$core$List$length(model.iy))return{$:2,a:"Nothing to see here."};var content=model.b1;if(content.$)return{$:2,a:"I seem to have no filename."};content=content.a;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([{$:2,a:"I wanted to see lat, lon and ele data."},{$:2,a:"This is what I found instead."},{$:2,a:content}]))}())]))}function $author$project$Msg$ZoomLevelPlan(a){return{$:11,a:a}}function $author$project$Msg$ZoomLevelProfile(a){return{$:12,a:a}}function $author$project$Msg$ZoomLevelThirdPerson(a){return{$:10,a:a}}function $author$project$Main$viewThirdPerson(model){var _v0=A2($elm$core$Array$get,model.a,model.d);return 1===_v0.$?$mdgriffith$elm_ui$Element$none:A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([function(model){var camera=model.aR;if(camera.$)return $mdgriffith$elm_ui$Element$none;camera=camera.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,$author$project$ViewElements$withMouseCapture,$mdgriffith$elm_ui$Element$html(A2($author$project$ScenePainter$render3dScene,model.s.iM,{c9:$avh4$elm_color$Color$lightBlue,dd:camera,di:1,ds:$author$project$Utils$view3dDimensions,du:_Utils_ap(model.bK,_Utils_ap(model.bF,model.bc))}))),A2($author$project$ViewElements$zoomSlider,model.bk,$author$project$Msg$ZoomLevelThirdPerson)]))}(model),$author$project$Main$positionControls(model)]))]))}function $author$project$Msg$UserChangedFilename(a){return{$:74,a:a}}function $author$project$Msg$ChooseViewMode(a){return{$:7,a:a}}_Platform_effectManagers.Http={b:$elm$json$Json$Decode$map4,c:$mdgriffith$elm_ui$Internal$Flag$fontAlignment,d:$author$project$Internal$AuthenticationError,e:$author$project$Internal$errorUriDecoder,f:F2(function(func,_v0){return A2($elm$http$Http$MySub,_v0.a,A2($elm$core$Basics$composeR,_v0.b,func))})};var r,g,b,a,$elm$http$Http$command=_Platform_leaf("Http"),$elm$http$Http$header=(_Platform_leaf("Http"),F2(function(a,b){return{$:0,a:a,b:b}})),$author$project$StravaDataLoad$requestStravaRoute=F3(function(msg,routeId,token){return $elm$http$Http$request({fX:$elm$http$Http$emptyBody,gx:A2($elm$http$Http$expectStringResponse,msg,$elm$http$Http$resolve($elm$core$Result$Ok)),gG:A2($author$project$OAuth$useToken,token,_List_Nil),hn:"GET",iu:$elm$core$Maybe$Nothing,iz:$elm$core$Maybe$Nothing,ee:A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["api","v3","routes",routeId,"export_gpx"]),_List_Nil)})}),$author$project$StravaDataLoad$stravaRouteDecoder=A5($elm$json$Json$Decode$map4=$mdgriffith$elm_ui$Internal$Model$renderFontClassName,F4(function(name,description,distance,elevation_gain){return{jP:description,jQ:distance,jV:elevation_gain,hy:name}}),A2($elm$json$Json$Decode$at,_List_fromArray(["name"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["description"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["distance"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["elevation_gain"]),$elm$json$Json$Decode$float)),$author$project$StravaDataLoad$requestStravaRouteHeader=F3(function(msg,routeId,token){return $elm$http$Http$request({fX:$elm$http$Http$emptyBody,gx:A2($elm$http$Http$expectJson,msg,$author$project$StravaDataLoad$stravaRouteDecoder),gG:A2($author$project$OAuth$useToken,token,_List_Nil),hn:"GET",iu:$elm$core$Maybe$Nothing,iz:$elm$core$Maybe$Nothing,ee:A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["api","v3","routes",routeId]),_List_Nil)})}),$author$project$StravaDataLoad$stravaSegmentDecoder=A9($author$project$Main$update,F8(function(name,distance,elevation_high,elevation_low,start_latitude,start_longitude,end_latitude,end_longitude){return{jQ:distance,jW:elevation_high,jX:elevation_low,jZ:end_latitude,j_:end_longitude,hy:name,lC:start_latitude,lD:start_longitude}}),A2($elm$json$Json$Decode$at,_List_fromArray(["name"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["distance"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["elevation_high"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["elevation_low"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["start_latitude"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["start_longitude"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["end_latitude"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["end_longitude"]),$elm$json$Json$Decode$float)),$author$project$StravaDataLoad$requestStravaSegment=F3(function(msg,segmentId,token){return $elm$http$Http$request({fX:$elm$http$Http$emptyBody,gx:A2($elm$http$Http$expectJson,msg,$author$project$StravaDataLoad$stravaSegmentDecoder),gG:A2($author$project$OAuth$useToken,token,_List_Nil),hn:"GET",iu:$elm$core$Maybe$Nothing,iz:$elm$core$Maybe$Nothing,ee:A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["api","v3","segments",segmentId]),_List_Nil)})}),$mdgriffith$elm_ui$Internal$Flag$fontAlignment=F3(function(latLngs,distances,altitude){return{i5:altitude,jR:distances,kE:latLngs}}),$author$project$Internal$AuthenticationError=F5(function(is_type,data,series_type,original_size,resolution){return{gh:data,eN:is_type,fd:original_size,ft:resolution,fy:series_type}}),$author$project$Internal$errorUriDecoder=A3($elm$json$Json$Decode$map2,F2(function(lat,lng){return{cG:lat,kG:lng}}),A2($elm$json$Json$Decode$field,"0",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"1",$elm$json$Json$Decode$float)),$author$project$Main$update=A6($mdgriffith$elm_ui$Internal$Model$renderFontClassName=$author$project$Internal$errorDescriptionDecoder,$author$project$Internal$AuthenticationError,A2($elm$json$Json$Decode$field,"type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"data",$elm$json$Json$Decode$list($author$project$Internal$errorUriDecoder)),A2($elm$json$Json$Decode$field,"series_type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"original_size",$elm$json$Json$Decode$int),A2($elm$json$Json$Decode$field,"resolution",$elm$json$Json$Decode$string)),$author$project$Internal$errorDescriptionDecoder=A6($mdgriffith$elm_ui$Internal$Model$renderFontClassName,F5(function(is_type,data,series_type,original_size,resolution){return{gh:data,eN:is_type,fd:original_size,ft:resolution,fy:series_type}}),A2($elm$json$Json$Decode$field,"type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"data",$elm$json$Json$Decode$list($elm$json$Json$Decode$float)),A2($elm$json$Json$Decode$field,"series_type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"original_size",$elm$json$Json$Decode$int),A2($elm$json$Json$Decode$field,"resolution",$elm$json$Json$Decode$string)),$author$project$Internal$AuthenticationError=A6($mdgriffith$elm_ui$Internal$Model$renderFontClassName,F5(function(is_type,data,series_type,original_size,resolution){return{gh:data,eN:is_type,fd:original_size,ft:resolution,fy:series_type}}),A2($elm$json$Json$Decode$field,"type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"data",$elm$json$Json$Decode$list($elm$json$Json$Decode$float)),A2($elm$json$Json$Decode$field,"series_type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"original_size",$elm$json$Json$Decode$int),A2($elm$json$Json$Decode$field,"resolution",$elm$json$Json$Decode$string)),$elm$json$Json$Decode$map3=$author$project$Internal$AuthenticationSuccess,$author$project$StravaDataLoad$decodeStravaSegmentStreams=A4($elm$json$Json$Decode$map3,$mdgriffith$elm_ui$Internal$Flag$fontAlignment,A2($elm$json$Json$Decode$field,"0",$author$project$Main$update),A2($elm$json$Json$Decode$field,"1",$author$project$Internal$AuthenticationError),A2($elm$json$Json$Decode$field,"2",$author$project$Internal$errorDescriptionDecoder)),$author$project$StravaDataLoad$requestStravaSegmentStreams=F3(function(msg,segmentId,token){return $elm$http$Http$request({fX:$elm$http$Http$emptyBody,gx:A2($elm$http$Http$expectJson,msg,$author$project$StravaDataLoad$decodeStravaSegmentStreams),gG:A2($author$project$OAuth$useToken,token,_List_Nil),hn:"GET",iu:$elm$core$Maybe$Nothing,iz:$elm$core$Maybe$Nothing,ee:A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["api","v3","segments",segmentId,"streams"]),_List_Nil)})}),$elm$http$Http$expectBytesResponse=F2(function(toMsg,toResult){return A3(_Http_expect,"arraybuffer",_Http_toDataView,A2($elm$core$Basics$composeR,toResult,toMsg))}),$elm$time$Time$flooredDiv=F2(function(numerator,denominator){return $elm$core$Basics$floor(numerator/denominator)}),$elm$time$Time$toAdjustedMinutesHelp=F3(function(defaultOffset,posixMinutes,eras){for(;;){if(!eras.b)return posixMinutes+defaultOffset;var era=eras.a,olderEras=eras.b;if(_Utils_cmp(era.fA,posixMinutes)<0)return posixMinutes+era.kT;defaultOffset=defaultOffset,posixMinutes=posixMinutes,eras=olderEras}}),$elm$time$Time$toAdjustedMinutes=F2(function(_v0,time){var eras=_v0.b;return A3($elm$time$Time$toAdjustedMinutesHelp,_v0.a,A2($elm$time$Time$flooredDiv,$elm$time$Time$posixToMillis(time),6e4),eras)}),$elm$time$Time$toDay=F2(function(zone,time){return $elm$time$Time$toCivil(A2($elm$time$Time$toAdjustedMinutes,zone,time)).gi}),$elm$time$Time$toHour=F2(function(zone,time){return A2($elm$core$Basics$modBy,24,A2($elm$time$Time$flooredDiv,A2($elm$time$Time$toAdjustedMinutes,zone,time),60))}),$elm$time$Time$toMillis=F2(function(_v0,time){return A2($elm$core$Basics$modBy,1e3,$elm$time$Time$posixToMillis(time))}),$elm$time$Time$toMinute=F2(function(zone,time){return A2($elm$core$Basics$modBy,60,A2($elm$time$Time$toAdjustedMinutes,zone,time))}),$elm$time$Time$toMonth=F2(function(zone,time){switch($elm$time$Time$toCivil(A2($elm$time$Time$toAdjustedMinutes,zone,time)).hv){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}}),$elm$core$String$padLeft=F3(function(n,_char,string){return _Utils_ap(A2($elm$core$String$repeat,n-$elm$core$String$length(string),$elm$core$String$fromChar(_char)),string)}),$rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString=F2(function(digits,time){return A3($elm$core$String$padLeft,digits,"0",$elm$core$String$fromInt(time))}),$elm$time$Time$toSecond=F2(function(_v0,time){return A2($elm$core$Basics$modBy,60,A2($elm$time$Time$flooredDiv,$elm$time$Time$posixToMillis(time),1e3))}),$elm$time$Time$toYear=F2(function(zone,time){return $elm$time$Time$toCivil(A2($elm$time$Time$toAdjustedMinutes,zone,time)).iR}),$author$project$MyIP$sendIpInfo=F3(function(time,msg,value){if(value.$)return $elm$core$Platform$Cmd$none;value=value.a,value={dg:value.dg,dr:value.dr,dD:value.dD,dE:value.dE,dK:value.dK,d1:value.d1,iv:A2($elm$core$String$left,10,function(time){return A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,4,A2($elm$time$Time$toYear,$elm$time$Time$utc,time))+("-"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,function(month){switch(month){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}}(A2($elm$time$Time$toMonth,$elm$time$Time$utc,time))))+"-"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,A2($elm$time$Time$toDay,$elm$time$Time$utc,time))+"T"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,A2($elm$time$Time$toHour,$elm$time$Time$utc,time))+":"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,A2($elm$time$Time$toMinute,$elm$time$Time$utc,time))+":"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,A2($elm$time$Time$toSecond,$elm$time$Time$utc,time))+"."+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,3,A2($elm$time$Time$toMillis,$elm$time$Time$utc,time))+"Z"}(time)),ek:value.ek};return $elm$http$Http$request({fX:(value=$elm$json$Json$Encode$object(_List_fromArray([{a:"timestamp",b:$elm$json$Json$Encode$string((value=value).iv)},{a:"ip",b:$elm$json$Json$Encode$string(value.dD)},{a:"country",b:$elm$json$Json$Encode$string(value.dr)},{a:"region",b:$elm$json$Json$Encode$string(value.d1)},{a:"city",b:$elm$json$Json$Encode$string(value.dg)},{a:"zip",b:$elm$json$Json$Encode$string(value.ek)},{a:"lat",b:$elm$json$Json$Encode$float(value.dE)},{a:"lon",b:$elm$json$Json$Encode$float(value.dK)}])),A2(_Http_pair,"application/json",A2($elm$json$Json$Encode$encode,0,value))),gx:A2($elm$http$Http$expectBytesResponse,msg,$elm$http$Http$resolve(function(){return $elm$core$Result$Ok(0)})),gG:_List_Nil,hn:"POST",iu:$elm$core$Maybe$Nothing,iz:$elm$core$Maybe$Nothing,ee:A3($elm$url$Url$Builder$crossOrigin,"https://9vrfiscge1.execute-api.eu-west-1.amazonaws.com",_List_fromArray(["prod"]),_List_Nil)})}),$author$project$TrackPoint$trackPointBearing=F2(function(tp1,tp2){return A2($author$project$Spherical$findBearingToTarget,{a:tp1.cG,b:tp1.cK},{a:tp2.cG,b:tp2.cK})}),$author$project$Main$simulateNodeRangeNudge=F5(function(model,node1,nudgedStartPoints,horizontal,vertical){var nudgedListForVisuals=(prevNode=A2($elm$core$Array$get,nudgedStartPoints+1,model.d)).$?_List_Nil:_List_fromArray([prevNode.a.b]),targetNodes=A2($elm$core$List$drop,node1,A2($elm$core$List$take,nudgedStartPoints+1,model.hC)),prevNode=A2($elm$core$Array$get,node1-1,model.d),nudgedStartPoints=A2($elm$core$List$drop,node1-1,model.hC),nudgedStartPoints=A4($elm$core$List$map3,F3(function(thisNode,beforeNode,nextNode){return A2($author$project$TrackPoint$trackPointBearing,beforeNode.b,nextNode.b)}),targetNodes,nudgedStartPoints,A2($elm$core$List$drop,node1+1,model.hC)),nudgedStartPoints=A3($elm$core$List$map2,F2(function(node,bearing){return A4($author$project$Nudge$nudgeTrackPoint,node.b,bearing,horizontal,vertical)}),targetNodes,nudgedStartPoints),nudgedListForVisuals=_Utils_ap(1===prevNode.$?_List_Nil:_List_fromArray([prevNode.a.b]),_Utils_ap(nudgedStartPoints,nudgedListForVisuals));return _Utils_update(model,{as:horizontal,at:$author$project$NodesAndRoads$deriveRoads(A2($author$project$NodesAndRoads$deriveNodes,model.E,nudgedListForVisuals)),aD:node1,au:vertical})}),$author$project$Main$simulateNudgeNode=F3(function(model,horizontal,vertical){var _v0=A2($elm$core$Maybe$withDefault,model.a,model.c),_v0={a:A2($elm$core$Basics$min,model.a,_v0),b:A2($elm$core$Basics$max,model.a,_v0)};return A5($author$project$Main$simulateNodeRangeNudge,model,_v0.a,_v0.b,horizontal,vertical)}),$author$project$Main$smoothGradient=F2(function(model,gradient){var n=A2($elm$core$Maybe$withDefault,model.a,model.c),m={a:A2($elm$core$Basics$min,model.a,n),b:A2($elm$core$Basics$max,model.a,n)},start=m.a,finish=m.b,bumpyTrackPoints=A2($elm$core$List$drop,start,A2($elm$core$List$take,finish-1,model.t)),n=A2($elm$core$Array$get,start,model.d),m="gradient smoothing\nfrom "+$elm$core$String$fromInt(start)+(" to "+$elm$core$String$fromInt(finish)+(", \nbumpiness "+$author$project$Utils$showDecimal2(model.a$)))+".";if(n.$)return model;n=n.a,bumpyTrackPoints=A3($elm$core$List$map2,F2(function(newTP,oldTP){oldTP=oldTP.B.b;return _Utils_update(oldTP,{cA:model.a$*oldTP.cA+(1-model.a$)*newTP.cA})}),$elm$core$List$reverse(A3($elm$core$List$foldl,F2(function(road,increase){var startEle=increase.a,newTPs=increase.b,increase=road.gV*gradient/100;return{a:startEle+increase,b:A2($elm$core$List$cons,_Utils_update(road.B.b,{cA:startEle+increase}),newTPs)}}),{a:n.b.cA,b:_List_Nil},bumpyTrackPoints).b),bumpyTrackPoints);return _Utils_update(m=A2($author$project$Main$addToUndoStack,m,model),{iy:$author$project$TrackPoint$reindexTrackpoints(_Utils_ap(A2($elm$core$List$take,start+1,m.iy),_Utils_ap(bumpyTrackPoints,A2($elm$core$List$drop,finish,m.iy))))})}),$author$project$Main$startFlythrough=function(model){var _v0=model.y;return _v0.$?$author$project$Main$startFlythrough($author$project$Main$resetFlythrough(model)):_Utils_update(model,{y:$elm$core$Maybe$Just(_Utils_update(_v0.a,{eP:model.bd,d4:!0}))})},$ianmackenzie$elm_geometry$BoundingBox2d$contains=F2(function(point,boundingBox){return A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,boundingBox.hr,$ianmackenzie$elm_geometry$Point2d$xCoordinate(point))&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,function(_v0){return _v0.hl}(boundingBox),$ianmackenzie$elm_geometry$Point2d$xCoordinate(point))&&A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,function(_v0){return _v0.hs}(boundingBox),$ianmackenzie$elm_geometry$Point2d$yCoordinate(point))&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,function(_v0){return _v0.hm}(boundingBox),$ianmackenzie$elm_geometry$Point2d$yCoordinate(point))}),$author$project$StravaDataLoad$stravaProcessSegment=F2(function(response,_v0){var _v0=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(_v0),minX=_v0.hr,maxX=_v0.hl,minY=_v0.hs,maxY=_v0.hm;if(response.$)return{$:2,a:$author$project$Utils$httpErrorString(response.a)};var finish,flatBox,start,segment=response.a;return start=A2($ianmackenzie$elm_geometry$Point2d$meters,(finish=segment).lD,finish.lC),flatBox=A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,(flatBox={hl:maxX,hm:maxY,hr:minX,hs:minY}).hl,flatBox.hr)&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,flatBox.hm,flatBox.hs)?flatBox:{hl:A2($ianmackenzie$elm_units$Quantity$max,flatBox.hr,flatBox.hl),hm:A2($ianmackenzie$elm_units$Quantity$max,flatBox.hs,flatBox.hm),hr:A2($ianmackenzie$elm_units$Quantity$min,flatBox.hr,flatBox.hl),hs:A2($ianmackenzie$elm_units$Quantity$min,flatBox.hs,flatBox.hm)},finish=A2($ianmackenzie$elm_geometry$Point2d$meters,finish.j_,finish.jZ),A2($ianmackenzie$elm_geometry$BoundingBox2d$contains,start,flatBox)&&A2($ianmackenzie$elm_geometry$BoundingBox2d$contains,finish,flatBox)?{$:3,a:segment}:{$:4,a:segment}}),$elm$file$File$toString=function(blob){return{$:2,b:function(callback){var reader=new FileReader;return reader.addEventListener("loadend",function(){callback({$:0,a:reader.result})}),reader.readAsText(blob),function(){reader.abort()}},c:null}},$author$project$MapController$toggleDragging=F2(function(state,info){return $author$project$MapController$mapPort($elm$json$Json$Encode$object(_List_fromArray([{a:"Cmd",b:$elm$json$Json$Encode$string("Drag")},{a:"Enable",b:$elm$json$Json$Encode$bool(state)},{a:"points",b:$author$project$TrackPoint$trackPointsToJSON(info.fo)}])))}),$author$project$Internal$errorUriDecoder=F3(function(id,firstname,lastname){return{j4:firstname,kj:id,kD:lastname}}),$author$project$StravaAuth$configuration={i9:_Utils_update($mdgriffith$elm_ui$Internal$Model$renderFontClassName={gC:$elm$core$Maybe$Nothing,kg:"",k1:"",k5:$elm$core$Maybe$Nothing,k8:1,d$:$elm$core$Maybe$Nothing},{kg:"www.strava.com",k1:"/oauth/authorize"}),ey:"59195",jx:"01713301d9282956d3d182c1e01ce02c5e8620c3",fx:_List_fromArray(["read_all"]),l4:_Utils_update($mdgriffith$elm_ui$Internal$Model$renderFontClassName,{kg:"www.strava.com",k1:"/oauth/token"}),md:A4($elm$json$Json$Decode$map3,$author$project$Internal$errorUriDecoder,A2($elm$json$Json$Decode$field,"id",$elm$json$Json$Decode$int),A2($elm$json$Json$Decode$field,"firstname",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"lastname",$elm$json$Json$Decode$string)),me:_Utils_update($mdgriffith$elm_ui$Internal$Model$renderFontClassName,{kg:"www.strava.com",k1:"/api/v3/athlete"})},$author$project$Internal$AuthenticationSuccess=F4(function(token,refreshToken,expiresIn,scope){return{j$:expiresIn,lc:refreshToken,fx:scope,l3:token}}),$author$project$Main$update=($mdgriffith$elm_ui$Internal$Flag$fontAlignment=function(decoder){return $elm$json$Json$Decode$oneOf(_List_fromArray([A2($elm$json$Json$Decode$map,$elm$core$Maybe$Just,decoder),$elm$json$Json$Decode$succeed($elm$core$Maybe$Nothing)]))})(A2($elm$json$Json$Decode$field,"expires_in",$elm$json$Json$Decode$int)),$author$project$Internal$AuthenticationError=function(msg){return A2($elm$core$Basics$composeR,$elm$core$Maybe$map($elm$json$Json$Decode$succeed),$elm$core$Maybe$withDefault($elm$json$Json$Decode$fail(msg)))},$elm$core$Maybe$map2=F3(function(func,ma,mb){return 1===ma.$||1===mb.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(A2(func,ma.a,mb.a))}),$author$project$Extra$Maybe$andThen2=F3(function(fn,ma,mb){return A2($elm$core$Maybe$andThen,$elm$core$Basics$identity,A3($elm$core$Maybe$map2,fn,ma,mb))}),$elm$core$String$toLower=function(str){return str.toLowerCase()},$author$project$OAuth$tryMakeToken=F2(function(tokenType,token){return"bearer"===$elm$core$String$toLower(tokenType)?$elm$core$Maybe$Just(token):$elm$core$Maybe$Nothing}),$author$project$Internal$errorDescriptionDecoder=F2(function(tokenType,_v0){_v0={a:_v0,b:A3($author$project$Extra$Maybe$andThen2,$author$project$OAuth$tryMakeToken,$elm$core$Maybe$Just(tokenType),_v0)};if(1!==_v0.a.$)return _v0.b.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just($elm$core$Maybe$Just(_v0.b.a));return $elm$core$Maybe$Just($elm$core$Maybe$Nothing)}),$author$project$Internal$errorUriDecoder=A2($elm$json$Json$Decode$andThen,$author$project$Internal$AuthenticationError("missing or invalid 'refresh_token' / 'token_type'"),A3($elm$json$Json$Decode$map2,$author$project$Internal$errorDescriptionDecoder,A2($elm$json$Json$Decode$field,"token_type",$elm$json$Json$Decode$string),$mdgriffith$elm_ui$Internal$Flag$fontAlignment(A2($elm$json$Json$Decode$field,"refresh_token",$elm$json$Json$Decode$string)))),$mdgriffith$elm_ui$Internal$Model$renderFontClassName=A2($elm$json$Json$Decode$map,$elm$core$Maybe$withDefault(_List_Nil),$mdgriffith$elm_ui$Internal$Flag$fontAlignment(A2($elm$json$Json$Decode$field,"scope",$elm$json$Json$Decode$list($elm$json$Json$Decode$string)))),$author$project$Internal$errorDescriptionDecoder=$author$project$Extra$Maybe$andThen2($author$project$OAuth$tryMakeToken),$author$project$Internal$authenticationSuccessDecoder=A5($elm$json$Json$Decode$map4,$author$project$Internal$AuthenticationSuccess,A2($elm$json$Json$Decode$andThen,$author$project$Internal$AuthenticationError("missing or invalid 'access_token' / 'token_type'"),A3($elm$json$Json$Decode$map2,$author$project$Internal$errorDescriptionDecoder,A2($elm$json$Json$Decode$map,$elm$core$Maybe$Just,A2($elm$json$Json$Decode$field,"token_type",$elm$json$Json$Decode$string)),A2($elm$json$Json$Decode$map,$elm$core$Maybe$Just,A2($elm$json$Json$Decode$field,"access_token",$elm$json$Json$Decode$string)))),$author$project$Internal$errorUriDecoder,$author$project$Main$update,$mdgriffith$elm_ui$Internal$Model$renderFontClassName),$elm$http$Http$stringBody=_Http_pair,$author$project$Internal$makeRequest=F4(function(toMsg,url,headers,body){return{fX:A2($elm$http$Http$stringBody,"application/x-www-form-urlencoded",body),gx:A2($elm$http$Http$expectJson,toMsg,$author$project$Internal$authenticationSuccessDecoder),gG:headers,hn:"POST",iu:$elm$core$Maybe$Nothing,iz:$elm$core$Maybe$Nothing,ee:$elm$url$Url$toString(url)}}),$elm$url$Url$Builder$QueryParameter=F2(function(a,b){return{$:0,a:a,b:b}}),$elm$url$Url$percentEncode=function(string){return encodeURIComponent(string)},$elm$url$Url$Builder$string=F2(function(key,value){return A2($elm$url$Url$Builder$QueryParameter,$elm$url$Url$percentEncode(key),$elm$url$Url$percentEncode(value))}),$author$project$OAuth$AuthorizationCode$makeTokenRequest=F2(function(toMsg,headers){var _v1,credentials=headers.ge,body=headers.ez,url=headers.ee,redirectUri=headers.hX,headers=function(credentials){return A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,function(s){return _List_fromArray([A2($elm$http$Http$header,"Authorization","Basic "+s)])},A2($elm$core$Maybe$map,function(_v0){return $chelovek0v$bbase64$Base64$Encode$encode({$:0,a:_v0.ey+":"+_v0.ln})},credentials)))}(1===(_v1=credentials.ln).$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({ey:credentials.ey,ln:_v1.a})),body=A2($elm$core$String$dropLeft,1,$elm$url$Url$Builder$toQuery(_Utils_ap((_v1=credentials.ln).$?_List_Nil:_List_fromArray([A2($elm$url$Url$Builder$string,"client_secret",_v1.a)]),_List_fromArray([A2($elm$url$Url$Builder$string,"grant_type","authorization_code"),A2($elm$url$Url$Builder$string,"client_id",credentials.ey),A2($elm$url$Url$Builder$string,"redirect_uri",$author$project$Internal$makeRedirectUri(redirectUri)),A2($elm$url$Url$Builder$string,"code",body)]))));return A4($author$project$Internal$makeRequest,toMsg,url,headers,body)}),$author$project$StravaAuth$getAccessToken=F3(function(_v0,redirectUri,code){var tokenEndpoint=_v0.l4;return $elm$http$Http$request(A2($author$project$OAuth$AuthorizationCode$makeTokenRequest,$author$project$OAuthTypes$GotAccessToken,{ez:code,ge:{ey:_v0.ey,ln:$elm$core$Maybe$Just("01713301d9282956d3d182c1e01ce02c5e8620c3")},hX:redirectUri,ee:tokenEndpoint}))}),$author$project$StravaAuth$accessTokenRequested=F2(function(model,code){return{a:_Utils_update(model,{j5:{$:1,a:code}}),b:A3($author$project$StravaAuth$getAccessToken,$author$project$StravaAuth$configuration,model.hX,code)}}),$author$project$OAuthTypes$ErrHTTPGetAccessToken={$:3},$author$project$OAuthTypes$UserInfoRequested={$:5},$author$project$Internal$AuthenticationError=F3(function(error,errorDescription,errorUri){return{gt:error,gu:errorDescription,gv:errorUri}}),$author$project$Internal$errorDescriptionDecoder=$mdgriffith$elm_ui$Internal$Flag$fontAlignment(A2($elm$json$Json$Decode$field,"error_description",$elm$json$Json$Decode$string)),$author$project$Internal$errorUriDecoder=$mdgriffith$elm_ui$Internal$Flag$fontAlignment(A2($elm$json$Json$Decode$field,"error_uri",$elm$json$Json$Decode$string)),$author$project$OAuth$AuthorizationCode$defaultAuthenticationErrorDecoder=A4($elm$json$Json$Decode$map3,$author$project$Internal$AuthenticationError,A2($elm$json$Json$Decode$map,$author$project$OAuth$errorCodeFromString,A2($elm$json$Json$Decode$field,"error",$elm$json$Json$Decode$string)),$author$project$Internal$errorDescriptionDecoder,$author$project$Internal$errorUriDecoder),$author$project$StravaAuth$gotAccessToken=F2(function(model,_v1){if(1!==_v1.$)return{a:_Utils_update(model,{j5:{$:2,a:_v1.a.l3}}),b:A3($andrewMacmurray$elm_delay$Delay$after,100,0,$author$project$OAuthTypes$UserInfoRequested)};if(4!==_v1.a.$)return{a:_Utils_update(model,{j5:{$:4,a:$author$project$OAuthTypes$ErrHTTPGetAccessToken}}),b:$elm$core$Platform$Cmd$none};_v1=A2($elm$json$Json$Decode$decodeString,$author$project$OAuth$AuthorizationCode$defaultAuthenticationErrorDecoder,_v1.a.a);return _v1.$?{a:_Utils_update(model,{j5:{$:4,a:$author$project$OAuthTypes$ErrHTTPGetAccessToken}}),b:$elm$core$Platform$Cmd$none}:{a:_Utils_update(model,{j5:{$:4,a:{$:2,a:_v1.a}}}),b:$elm$core$Platform$Cmd$none}}),$elm$browser$Browser$Navigation$load=function(url){return A2($elm$core$Task$perform,$elm$core$Basics$never,{$:2,b:function(){try{_Browser_window.location=url}catch(err){_VirtualDom_doc.location.reload(!1)}},c:null})},$author$project$Internal$urlAddList=F3(function(param,xs,qs){return _Utils_ap(qs,xs.b?_List_fromArray([A2($elm$url$Url$Builder$string,param,A2($elm$core$String$join," ",xs))]):_List_Nil)}),$author$project$Internal$urlAddMaybe=F3(function(param,ms,qs){return _Utils_ap(qs,1===ms.$?_List_Nil:_List_fromArray([A2($elm$url$Url$Builder$string,param,ms.a)]))}),$author$project$Internal$makeAuthorizationUrl=F2(function(_v1,codeChallenge){var clientId=codeChallenge.ey,url=codeChallenge.ee,query=codeChallenge.hX,scope=codeChallenge.fx,state=codeChallenge.cf,codeChallenge=codeChallenge.f8,query=A2($elm$core$String$dropLeft,1,$elm$url$Url$Builder$toQuery(A3($author$project$Internal$urlAddMaybe,"code_challenge_method",A2($elm$core$Maybe$map,$elm$core$Basics$always("S256"),codeChallenge),A3($author$project$Internal$urlAddMaybe,"code_challenge",codeChallenge,A3($author$project$Internal$urlAddMaybe,"state",state,A3($author$project$Internal$urlAddList,"scope",scope,_List_fromArray([A2($elm$url$Url$Builder$string,"client_id",clientId),A2($elm$url$Url$Builder$string,"redirect_uri",$author$project$Internal$makeRedirectUri(query)),A2($elm$url$Url$Builder$string,"response_type",_v1?"token":"code")]))))))),_v1=url.d$;return _Utils_update(url,1===_v1.$?{d$:$elm$core$Maybe$Just(query)}:{d$:$elm$core$Maybe$Just(_v1.a+"&"+query)})}),$author$project$StravaAuth$gotRandomBytes=F2(function(model,authorization){authorization=$author$project$StravaAuth$convertBytes(authorization),authorization={ey:$author$project$StravaAuth$configuration.ey,hX:model.hX,fx:$author$project$StravaAuth$configuration.fx,cf:$elm$core$Maybe$Just(authorization.cf),ee:$author$project$StravaAuth$configuration.i9};return{a:_Utils_update(model,{j5:$author$project$OAuthTypes$Idle}),b:$elm$browser$Browser$Navigation$load($elm$url$Url$toString(function(_v0){return A2($author$project$Internal$makeAuthorizationUrl,0,{ey:_v0.ey,f8:$elm$core$Maybe$Nothing,hX:_v0.hX,fx:_v0.fx,cf:_v0.cf,ee:_v0.ee})}(authorization)))}}),$author$project$OAuthTypes$Done=F2(function(a,b){return{$:3,a:a,b:b}}),$author$project$OAuthTypes$ErrHTTPGetUserInfo={$:4},$author$project$StravaAuth$gotUserInfo=F2(function(model,_v0){_v0={a:model.j5,b:_v0};return 1===_v0.b.$?{a:_Utils_update(model,{j5:{$:4,a:$author$project$OAuthTypes$ErrHTTPGetUserInfo}}),b:$elm$core$Platform$Cmd$none}:2!==_v0.a.$?{a:_Utils_update(model,{j5:{$:4,a:$author$project$OAuthTypes$ErrStateMismatch}}),b:$elm$core$Platform$Cmd$none}:{a:_Utils_update(model,{j5:A2($author$project$OAuthTypes$Done,_v0.b.a,_v0.a.a)}),b:$elm$core$Platform$Cmd$none}}),$author$project$OAuthPorts$genRandomBytes=_Platform_outgoingPort("genRandomBytes",_Json_wrap),$author$project$StravaAuth$getUserInfo=F2(function(_v0,token){var userInfoEndpoint=_v0.me;return $elm$http$Http$request({fX:$elm$http$Http$emptyBody,gx:A2($elm$http$Http$expectJson,$author$project$OAuthTypes$GotUserInfo,_v0.md),gG:A2($author$project$OAuth$useToken,token,_List_Nil),hn:"GET",iu:$elm$core$Maybe$Nothing,iz:$elm$core$Maybe$Nothing,ee:$elm$url$Url$toString(userInfoEndpoint)})}),$author$project$StravaAuth$userInfoRequested=F2(function(model,token){return{a:_Utils_update(model,{j5:{$:2,a:token}}),b:A2($author$project$StravaAuth$getUserInfo,$author$project$StravaAuth$configuration,token)}}),$author$project$StravaAuth$update=F2(function(msg,model){var _v0={a:model.j5,b:msg};_v0$7:for(;;)switch(_v0.a.$){case 0:switch(_v0.b.$){case 1:return function(model){return{a:_Utils_update(model,{j5:$author$project$OAuthTypes$Idle}),b:$author$project$OAuthPorts$genRandomBytes(16)}}(model);case 2:return A2($author$project$StravaAuth$gotRandomBytes,model,_v0.b.a);default:break _v0$7}case 1:switch(_v0.b.$){case 3:return A2($author$project$StravaAuth$accessTokenRequested,model,_v0.a.a);case 4:return A2($author$project$StravaAuth$gotAccessToken,model,_v0.b.a);default:break _v0$7}case 2:switch(_v0.b.$){case 5:return A2($author$project$StravaAuth$userInfoRequested,model,_v0.a.a);case 6:return A2($author$project$StravaAuth$gotUserInfo,model,_v0.b.a);default:break _v0$7}case 3:if(7!==_v0.b.$)break _v0$7;return function(model){return{a:_Utils_update(model,{j5:$author$project$OAuthTypes$Idle}),b:$elm$browser$Browser$Navigation$load($elm$url$Url$toString(model.hX))}}(model);default:break _v0$7}return{a:model,b:$elm$core$Platform$Cmd$none}}),$author$project$Main$update=F2(function(msg,model){var options=model.s;switch(msg.$){case 71:var authCmd=A2($author$project$StravaAuth$update,msg.a,model.aK),newAuthData=authCmd.a,authCmd=authCmd.b;$author$project$StravaAuth$getStravaToken(newAuthData);return{a:_Utils_update(model,{aK:newAuthData}),b:A2($elm$core$Platform$Cmd$map,$author$project$Msg$OAuthMessage,authCmd)};case 61:return{a:model,b:$elm$core$Platform$Cmd$none};case 74:return{a:_Utils_update(model,{bw:$elm$core$Maybe$Just(msg.a)}),b:$elm$core$Platform$Cmd$none};case 63:var routeId=A2($elm$core$Maybe$withDefault,"",$elm$core$List$head($elm$core$List$reverse(A2($elm$core$String$split,"/",msg.a))));return{a:_Utils_update(model,{a5:$author$project$StravaTypes$SegmentNone,bZ:routeId}),b:$elm$core$Platform$Cmd$none};case 65:routeId=A2($elm$core$Maybe$withDefault,"",$elm$core$List$head($elm$core$List$reverse(A2($elm$core$String$split,"/",msg.a))));return{a:_Utils_update(model,{bv:routeId}),b:$elm$core$Platform$Cmd$none};case 53:var newInfo=msg.a,newTime=model.O;if(newTime.$)return{a:model,b:$elm$core$Platform$Cmd$none};newTime=A2($author$project$MapController$processMapMessage,newTime.a,newInfo);if(newTime.$)return A2($author$project$Main$locallyHandleMapMessage,model,newInfo);newInfo=newTime.a,newTime=newInfo.b;return{a:_Utils_update(model,{O:$elm$core$Maybe$Just(newInfo=newInfo.a)}),b:newTime};case 23:newTime=msg.a;return{a:A2($author$project$Main$advanceFlythrough,newTime,_Utils_update(model,{bd:newTime})),b:$elm$core$Platform$Cmd$none};case 48:var file=msg.a;return{a:_Utils_update(model,{b5:A2($author$project$Accordion$accordionToggle,model.b5,file),cj:A2($author$project$Accordion$accordionToggle,model.cj,file)}),b:$elm$core$Platform$Cmd$none};case 24:return{a:_Utils_update(model,{fQ:msg.a}),b:function(msg){return $elm$http$Http$request({fX:$elm$http$Http$emptyBody,gx:A2($elm$http$Http$expectJson,msg,$author$project$GeoCodeDecoders$ipInfoDecoder),gG:_List_Nil,hn:"GET",iu:$elm$core$Maybe$Nothing,iz:$elm$core$Maybe$Nothing,ee:A3($elm$url$Url$Builder$crossOrigin,"http://ip-api.com",_List_fromArray(["json"]),_List_Nil)})}($author$project$Msg$ReceivedIpDetails)};case 0:return{a:model,b:A2($elm$file$File$Select$file,_List_fromArray(["text/gpx"]),$author$project$Msg$GpxSelected)};case 1:file=msg.a;return{a:_Utils_update(model,{bw:$elm$core$Maybe$Just($elm$file$File$name(file))}),b:A2($elm$core$Task$perform,$author$project$Msg$GpxLoaded,$elm$file$File$toString(file))};case 3:return(state=msg.a).$?{a:model,b:$elm$core$Platform$Cmd$none}:A3($author$project$Main$commonModelLoader,model,state.a,2);case 2:return A3($author$project$Main$commonModelLoader,model,msg.a,1);case 4:return{a:trackPointsBeforeStart=$author$project$Main$checkSceneCamera($author$project$Main$centreViewOnCurrentNode($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother($author$project$Main$cancelFlythrough(_Utils_update(model,{a:msg.a})))))),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 25:return{a:trackPointsBeforeStart=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{cU:$elm$core$Maybe$Just(msg.a)}))),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 6:return{a:trackPointsBeforeStart=$author$project$Main$checkSceneCamera($author$project$Main$centreViewOnCurrentNode($author$project$Main$cancelFlythrough($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{a:A2($elm$core$Basics$modBy,$elm$core$Array$length(model.d),model.a+1)})))))),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 5:return{a:trackPointsBeforeStart=$author$project$Main$checkSceneCamera($author$project$Main$centreViewOnCurrentNode($author$project$Main$cancelFlythrough($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{a:A2($elm$core$Basics$modBy,$elm$core$Array$length(model.d),model.a-1)})))))),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 31:return{a:trackPointsBeforeStart=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{c:A2($elm$core$Maybe$map,function(m){return A2($elm$core$Basics$modBy,$elm$core$Array$length(model.d),m+1)},model.c)}))),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 32:return{a:trackPointsBeforeStart=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{c:A2($elm$core$Maybe$map,function(m){return A2($elm$core$Basics$modBy,$elm$core$Array$length(model.d),m-1)},model.c)}))),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 33:return{a:trackPointsBeforeStart=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{bQ:msg.a}))),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 7:return A2($author$project$Main$switchViewMode,model,msg.a);case 54:var _v12=model.O;if(_v12.$)return{a:model,b:$elm$core$Platform$Cmd$none};_v12=_v12.a,newInfo=_Utils_update(_v12,{eY:5});return{a:$author$project$Main$checkSceneCamera($author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{O:$elm$core$Maybe$Just(newInfo),x:_v12.e6}))),b:$elm$core$Platform$Cmd$none};case 8:return{a:$author$project$Main$checkSceneCamera(_Utils_update(model,{el:msg.a})),b:$elm$core$Platform$Cmd$none};case 9:return{a:$author$project$Main$checkSceneCamera(_Utils_update(model,{bi:msg.a})),b:$elm$core$Platform$Cmd$none};case 10:return{a:$author$project$Main$checkSceneCamera(_Utils_update(model,{bk:msg.a})),b:$elm$core$Platform$Cmd$none};case 12:return{a:$author$project$Main$checkSceneCamera($author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{ax:msg.a}))),b:$elm$core$Platform$Cmd$none};case 11:return{a:$author$project$Main$checkSceneCamera(_Utils_update(model,{bj:msg.a})),b:$elm$core$Platform$Cmd$none};case 58:var alternate=(event=msg.a).kB.jG||3===event.jp;return{a:_Utils_update(model,{cy:function(){var _v7={a:model.x,b:alternate};switch(_v7.a){case 1:if(_v7.b)return 1;return 2;case 4:return 3;case 5:return 4;default:return 0}}(),dO:model.bd,aF:$elm$core$Maybe$Just(event.fa)}),b:$elm$core$Platform$Cmd$none};case 59:var _v12=(event=msg.a).fa,dx=_v12.a,dy=_v12.b,_v13={a:model.cy,b:model.aF,c:model.aR};_v13$4:for(;!_v13.b.$&&!_v13.c.$;)switch(_v13.a){case 1:var newAzimuth=_v13.b.a,newElevation=($ianmackenzie$elm_units$Angle$inDegrees(model.bu)+(dy-(startY=newAzimuth.b)))/180*3.141592653589793,newAzimuth=($ianmackenzie$elm_units$Angle$inDegrees(model.bn)-(dx-newAzimuth.a))/180*3.141592653589793;return{a:$author$project$Main$checkSceneCamera(_Utils_update(model,{bn:newAzimuth,bu:newElevation,aF:$elm$core$Maybe$Just({a:dx,b:dy})})),b:$elm$core$Platform$Cmd$none};case 2:var newFocus=_v13.b.a,startY=newFocus.b,currentViewpoint=$ianmackenzie$elm_3d_camera$Camera3d$viewpoint(_v13.c.a),xDirection=$ianmackenzie$elm_3d_camera$Viewpoint3d$xDirection(currentViewpoint),yDirection=$ianmackenzie$elm_3d_camera$Viewpoint3d$yDirection(currentViewpoint);return{a:$author$project$Main$checkSceneCamera(_Utils_update(model,{a0:newFocus=A2($ianmackenzie$elm_geometry$Point3d$translateBy,A2($ianmackenzie$elm_geometry$Vector3d$plus,xMovement=A2($ianmackenzie$elm_geometry$Vector3d$withLength,.5*(newFocus.a-dx),xDirection),A2($ianmackenzie$elm_geometry$Vector3d$withLength,.5*(dy-startY),yDirection)),model.a0),aF:$elm$core$Maybe$Just({a:dx,b:dy})})),b:$elm$core$Platform$Cmd$none};case 4:var _v21=_v13.b.a,startY=_v21.b,currentViewpoint=$ianmackenzie$elm_3d_camera$Camera3d$viewpoint(_v13.c.a),xDirection=$ianmackenzie$elm_3d_camera$Viewpoint3d$xDirection(currentViewpoint),yDirection=$ianmackenzie$elm_3d_camera$Viewpoint3d$yDirection(currentViewpoint);return{a:$author$project$Main$checkSceneCamera(_Utils_update(model,{bq:newFocus=A2($ianmackenzie$elm_geometry$Point3d$translateBy,A2($ianmackenzie$elm_geometry$Vector3d$plus,xMovement=A2($ianmackenzie$elm_geometry$Vector3d$withLength,.5*(_v21.a-dx),xDirection),A2($ianmackenzie$elm_geometry$Vector3d$withLength,.5*(dy-startY),yDirection)),model.bq),aF:$elm$core$Maybe$Just({a:dx,b:dy})})),b:$elm$core$Platform$Cmd$none};case 3:var _v21=_v13.b.a,startY=_v21.b,xMovement=$elm$core$Basics$round(.2*(_v21.a-dx)),newFocus=A3($elm$core$Basics$clamp,0,$elm$core$Array$length(model.g)-1,model.aP+xMovement);return{a:$author$project$Main$checkSceneCamera(_Utils_update(model,{aP:newFocus,aF:$elm$core$Maybe$Just({a:dx,b:dy})})),b:$elm$core$Platform$Cmd$none};default:break _v13$4}return{a:model,b:$elm$core$Platform$Cmd$none};case 60:return{a:_Utils_update(model,{cy:0,aF:$elm$core$Maybe$Nothing}),b:$elm$core$Platform$Cmd$none};case 16:return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{s:_Utils_update(options,{h4:!options.h4})})));case 14:return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{s:_Utils_update(options,{iM:!options.iM})})));case 13:return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{s:_Utils_update(options,{h5:!options.h5})})));case 15:return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{s:_Utils_update(options,{h6:!options.h6})})));case 17:return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{s:_Utils_update(options,{f0:!options.f0})})));case 18:return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{s:_Utils_update(options,{gg:msg.a})})));case 19:return{a:$author$project$Main$deriveProblems(_Utils_update(model,{b3:msg.a})),b:$elm$core$Platform$Cmd$none};case 20:return{a:$author$project$Main$deriveProblems(_Utils_update(model,{bP:$elm$core$Basics$round(msg.a)})),b:$elm$core$Platform$Cmd$none};case 36:return{a:_Utils_update(model,{b$:msg.a}),b:$elm$core$Platform$Cmd$none};case 34:return{a:$author$project$Main$checkSceneCamera($author$project$Main$deriveVaryingVisualEntities($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{Z:factor=msg.a})))),b:$elm$core$Platform$Cmd$none};case 21:return $author$project$Main$trackHasChanged(function(model){var indexes=A2($elm$core$List$map,function(road){return road.gK},model.c5);return _Utils_update(model,{iy:$author$project$TrackPoint$reindexTrackpoints(A2($elm$core$List$filter,function(tp){return!A2($elm$core$List$member,tp.kl,indexes)},model.iy))})}(model));case 22:return{a:_Utils_update(model,{ak:0}),b:function(model){var outputFilename=function(){var filename=model.bw;if(filename.$)return"NOFILENAME";filename=filename.a;return _Utils_ap(filename,A2($elm$core$String$endsWith,".GPX",$elm$core$String$toUpper(filename))?"":".gpx")}();return A3($elm$file$File$Download$string,outputFilename,"text/gpx",A2($author$project$WriteGPX$writeGPX,model.bI,model.iy))}(model)};case 26:return $author$project$Main$trackHasChanged(A2($author$project$Main$smoothGradient,model,msg.a));case 27:return $author$project$Main$trackHasChanged($author$project$Main$smoothBend(model));case 73:var _v23=msg.a,_v32="AutoFix "+$elm$core$String$fromInt($elm$core$List$length(_v23))+" issues",current=A2($elm$core$Array$get,model.a,model.d);return $author$project$Main$trackHasChanged(function(){if(current.$)return $elm$core$Basics$identity;var node=current.a;return A2($author$project$Main$makeNearestNodeCurrent,node.b.cK,node.b.cG)}()(_Utils_update(A2($author$project$Main$addToUndoStack,_v32,model),{iy:A2($author$project$AutoFix$autoFix,model.iy,_v23)})));case 28:_v23=model.aj;if(_v23.b){var _v24=_v23.b;return $author$project$Main$trackHasChanged(_Utils_update(model,{ak:model.ak-1,a:(action=_v23.a).a,c:action.c,aw:A2($elm$core$List$cons,_Utils_update(action,{iy:model.iy}),model.aw),iy:action.iy,aj:_v24}))}return{a:model,b:$elm$core$Platform$Cmd$none};case 29:var action,_v24=model.aw;return _v24.b?$author$project$Main$trackHasChanged(_Utils_update(model,{ak:model.ak+1,a:(action=_v24.a).a,c:action.c,aw:_v24.b,iy:action.iy,aj:A2($elm$core$List$cons,_Utils_update(action,{iy:model.iy}),model.aj)})):{a:model,b:$elm$core$Platform$Cmd$none};case 30:return{a:trackPointsBeforeStart=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{c:model.c.$?$elm$core$Maybe$Just(model.a):$elm$core$Maybe$Nothing}))),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 35:return{a:_Utils_update(model,{a$:factor=msg.a}),b:$elm$core$Platform$Cmd$none};case 37:return{a:(msg.a?$author$project$Main$startFlythrough:function(model){var _v0=model.y;return _v0.$?model:_Utils_update(model,{y:$elm$core$Maybe$Just(_Utils_update(_v0.a,{d4:!1}))})})(model),b:$elm$core$Platform$Cmd$none};case 38:return{a:$author$project$Main$resetFlythrough(model),b:$elm$core$Platform$Cmd$none};case 39:return $author$project$Main$trackHasChanged(A2($author$project$Main$insertTrackPoint,msg.a,model));case 49:return $author$project$Main$trackHasChanged(A2($author$project$Main$deleteTrackPoints,msg.a,model));case 50:return $author$project$Main$trackHasChanged(A2($author$project$Main$changeLoopStart,msg.a,model));case 40:return{a:function(model){var context,context={a:A2($elm$core$Array$get,model.a,model.d),s:model.s,eK:model.as,c:(context=model.c).$?$elm$core$Maybe$Nothing:A2($elm$core$Array$get,context.a,model.d),ar:model.ar,aD:$elm$core$Maybe$Just(model.aD),e9:model.at,T:A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,function($){return $.hC},model.T)),Z:model.Z,fI:model.au,x:model.x,fR:model.ax};return _Utils_update(model,{bc:A2($author$project$Terrain$makeTerrain,context,model.t)})}(model),b:$elm$core$Platform$Cmd$none};case 41:return{a:$author$project$Main$clearTerrain(model),b:$elm$core$Platform$Cmd$none};case 42:return $author$project$Main$trackHasChanged($author$project$Main$closeTheLoop(model));case 51:return $author$project$Main$trackHasChanged(function(model){return _Utils_update(A2($author$project$Main$addToUndoStack,"reverse track",model),{a:0,iy:$author$project$TrackPoint$reindexTrackpoints($elm$core$List$reverse(model.iy))})}(model));case 43:return $author$project$Main$trackHasChanged(function(model){var trackPointsToMove=A2($elm$core$Maybe$withDefault,model.a,model.c),firstRoad={a:A2($elm$core$Basics$min,model.a,trackPointsToMove),b:A2($elm$core$Basics$max,model.a,trackPointsToMove)},n1=firstRoad.a,splicedTPs=firstRoad.b,undoMessage="straighten from "+$elm$core$String$fromInt(n1)+(" to "+$elm$core$String$fromInt(splicedTPs))+".",newTPs={a:A2($elm$core$Array$get,n1,model.g),b:A2($elm$core$Array$get,splicedTPs,model.g)},trackPointsToMove={a:newTPs.a,b:newTPs.b};if(trackPointsToMove.a.$||trackPointsToMove.b.$)return model;var firstRoad=trackPointsToMove.a.a,newTPs=trackPointsToMove.b.a,trackPointsToMove=A2($elm$core$List$drop,n1,A2($elm$core$List$take,splicedTPs,model.iy)),startPoint=A2($ianmackenzie$elm_geometry$Point2d$meters,firstRoad.bE.b.cK,firstRoad.bE.b.cG),endPoint=A2($ianmackenzie$elm_geometry$Point2d$meters,newTPs.bE.b.cK,newTPs.bE.b.cG),newTPs=A2($elm$core$List$drop,n1,A2($elm$core$List$take,splicedTPs,model.t)),affectedLength=$elm$core$List$sum(A2($elm$core$List$map,function($){return $.gV},newTPs)),newTPs=A3($elm$core$List$map2,F2(function(original,interpolatedPoint){interpolatedPoint=A3($ianmackenzie$elm_geometry$Point2d$interpolateFrom,startPoint,endPoint,interpolatedPoint/affectedLength);return{cA:original.cA,kl:0,cG:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$yCoordinate(interpolatedPoint)),cK:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$xCoordinate(interpolatedPoint))}}),trackPointsToMove,$elm$core$List$reverse(A3($elm$core$List$foldl,F2(function(r,_v4){var running=_v4.a;return{a:r.gV+running,b:A2($elm$core$List$cons,running,_v4.b)}}),{a:0,b:_List_Nil},newTPs).b)),splicedTPs=_Utils_ap(A2($elm$core$List$take,n1,model.iy),_Utils_ap(newTPs,A2($elm$core$List$drop,splicedTPs,model.iy)));return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{iy:$author$project$TrackPoint$reindexTrackpoints(splicedTPs)})}(model));case 44:return{a:$author$project$Main$deriveVaryingVisualEntities(trackPointsBeforeStart=A3($author$project$Main$simulateNudgeNode,model,msg.a,model.au)),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 45:return{a:$author$project$Main$deriveVaryingVisualEntities(trackPointsBeforeStart=A3($author$project$Main$simulateNudgeNode,model,model.as,msg.a)),b:$author$project$Main$updateMapVaryingElements(trackPointsBeforeStart)};case 46:return $author$project$Main$trackHasChanged(A3($author$project$Main$nudgeNode,model,msg.a,msg.b));case 47:return $author$project$Main$trackHasChanged($author$project$Main$splitRoad(model));case 52:return{a:_Utils_update(model,{cL:msg.a}),b:$elm$core$Platform$Cmd$none};case 55:var deltaY=msg.a,factor=-.001,trackPointsBeforeStart=function(){switch(model.x){case 0:return _Utils_update(model,{bi:A3($elm$core$Basics$clamp,0,22,model.bi+deltaY*factor)});case 1:return _Utils_update(model,{bk:A3($elm$core$Basics$clamp,0,22,model.bk+deltaY*factor)});case 4:return $author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{ax:A3($elm$core$Basics$clamp,0,22,model.ax+deltaY*factor)}));case 5:return _Utils_update(model,{bj:A3($elm$core$Basics$clamp,0,22,model.bj+deltaY*factor)});default:return model}}();return{a:$author$project$Main$checkSceneCamera(trackPointsBeforeStart),b:$elm$core$Platform$Cmd$none};case 56:var event=msg.a;return{a:_Utils_cmp($elm$time$Time$posixToMillis(model.bd),$elm$time$Time$posixToMillis(model.dO)+250)<0?$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(A2($author$project$Main$detectHit,model,event))):model,b:$elm$core$Platform$Cmd$none};case 57:return{a:$author$project$Main$checkSceneCamera($author$project$Main$centreViewOnCurrentNode($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(A2($author$project$Main$detectHit,model,event=msg.a))))),b:$elm$core$Platform$Cmd$none};case 62:var replacementTrackPoints=$author$project$Main$findBracketedRange(model),rangeStart=replacementTrackPoints.a,rangeEnd=replacementTrackPoints.b,nodesToRemove=A2($elm$core$List$filter,function(n){return-1<_Utils_cmp(n,rangeStart)&&_Utils_cmp(n,rangeEnd)<1},model.cN),m=function(old){return _Utils_update(old,{iy:$author$project$TrackPoint$reindexTrackpoints(A2($author$project$TrackPoint$removeByNodeNumbers,nodesToRemove,model.iy))})},_v32="Remove "+$elm$core$String$fromInt($elm$core$List$length(nodesToRemove))+" track points",trackPointsBeforeStart=function(){var node=A2($elm$core$Array$get,model.a,model.d);if(node.$)return $elm$core$Basics$identity;node=node.a;return A2($author$project$Main$makeNearestNodeCurrent,node.b.cK,node.b.cG)}()($author$project$Main$deriveNodesAndRoads(m(A2($author$project$Main$addToUndoStack,_v32,model))));return $author$project$Main$trackHasChanged(trackPointsBeforeStart);case 78:return{a:_Utils_update(model,{cD:msg.a/100}),b:$elm$core$Platform$Cmd$none};case 77:var _v32="Centroid filter",trackPointsAfterEnd=$author$project$Main$findBracketedRange(model),rangeStart=trackPointsAfterEnd.a,rangeEnd=trackPointsAfterEnd.b,trackPointsBeforeStart=(m=function(old){return _Utils_update(old,{iy:A4($author$project$Filters$applyWeightedAverageFilter,{a:rangeStart,b:rangeEnd},model.cD,model.aU,model.iy)})})(A2($author$project$Main$addToUndoStack,_v32,model));return $author$project$Main$trackHasChanged(trackPointsBeforeStart);case 80:return{a:_Utils_update(model,{bR:msg.a}),b:$elm$core$Platform$Cmd$none};case 81:return{a:_Utils_update(model,{bS:msg.a}),b:$elm$core$Platform$Cmd$none};case 79:var replacementTrackPoints=_Utils_eq(model.c,$elm$core$Maybe$Nothing)&&_Utils_eq(model.aU,$author$project$Loop$IsALoop),actualPointerPosition=A2($elm$core$Maybe$map,function($){return $.b},A2($elm$core$Array$get,model.a,model.d)),actualMarkerPosition=(trackPointsAfterEnd=model.c).$?$elm$core$Maybe$Nothing:A2($elm$core$Maybe$map,function($){return $.b},A2($elm$core$Array$get,trackPointsAfterEnd.a,model.d)),_v32=$author$project$Main$findBracketedRange(model),rangeStart=_v32.a,trackPointsBeforeStart=A2($elm_community$list_extra$List$Extra$splitAt,rangeEnd=_v32.b,model.iy),trackPointsAfterEnd=trackPointsBeforeStart.b,_v32=A2($elm_community$list_extra$List$Extra$splitAt,rangeStart,trackPointsBeforeStart.a),trackPointsBeforeStart=_v32.a,replacementTrackPoints=A4($author$project$Filters$bezierSplines,replacementTrackPoints,model.bR,model.bS,A2($elm$core$List$map,function($){return $.aq},A2($elm_community$list_extra$List$Extra$splitAt,rangeStart,A2($elm_community$list_extra$List$Extra$splitAt,rangeEnd,model.hC).a).b)),replacementTrackPoints=A2($author$project$Main$nodesToTrackPoints,$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(model.E),replacementTrackPoints),reassembledTrackPoints=$author$project$TrackPoint$reindexTrackpoints(_Utils_ap(trackPointsBeforeStart,_Utils_ap(replacementTrackPoints,trackPointsAfterEnd))),newMarkerPosition=function(){if(actualMarkerPosition.$)return $elm$core$Maybe$Nothing;var marker=actualMarkerPosition.a;return $elm$core$Maybe$Just(A2($elm$core$Maybe$withDefault,0,A2($elm$core$Maybe$map,function($){return $.kl},A3($author$project$TrackPoint$trackPointFromLatLon,marker.cG,marker.cK,reassembledTrackPoints))))}(),newPointerPosition=function(){if(actualPointerPosition.$)return 0;var pointer=actualPointerPosition.a;return A2($elm$core$Maybe$withDefault,0,A2($elm$core$Maybe$map,function($){return $.kl},A3($author$project$TrackPoint$trackPointFromLatLon,pointer.cG,pointer.cK,reassembledTrackPoints)))}();return $author$project$Main$trackHasChanged((m=function(m){return _Utils_update(m,{a:newPointerPosition,c:newMarkerPosition,iy:reassembledTrackPoints})})(A2($author$project$Main$addToUndoStack,"Bezier splines",model)));case 64:var streams=$author$project$StravaAuth$getStravaToken(model.aK);if(streams.$)return{a:model,b:$elm$core$Platform$Cmd$none};var token=streams.a;return{a:_Utils_update(model,{a5:$author$project$StravaTypes$SegmentRequested}),b:A3($author$project$StravaDataLoad$requestStravaSegment,$author$project$Msg$HandleSegmentData,model.bZ,token)};case 67:var segment=$author$project$StravaAuth$getStravaToken(model.aK);return segment.$?{a:model,b:$elm$core$Platform$Cmd$none}:{a:model,b:A3($author$project$StravaDataLoad$requestStravaSegmentStreams,$author$project$Msg$HandleSegmentStreams,model.bZ,token=segment.a)};case 68:return{a:_Utils_update(model,{a5:A2($author$project$StravaDataLoad$stravaProcessSegment,state=msg.a,model.E)}),b:$elm$core$Platform$Cmd$none};case 69:var m={a:state=msg.a,b:model.a5};if(m.a.$)return{a:_Utils_update(model,{eO:$elm$core$Maybe$Just(m.a.a)}),b:$elm$core$Platform$Cmd$none};if(3!==m.b.$)return{a:model,b:$elm$core$Platform$Cmd$none};streams=m.a.a,segment=m.b.a;return $author$project$Main$trackHasChanged(_Utils_update(m=A2($author$project$Main$addToUndoStack,"Paste Strava segment",model),{iy:A3($author$project$StravaPasteStreams$pasteStreams,m.iy,segment,streams)}));case 66:var stravaRoute=$author$project$StravaAuth$getStravaToken(model.aK);if(stravaRoute.$)return{a:model,b:$elm$core$Platform$Cmd$none};token=stravaRoute.a;return{a:_Utils_update(model,{d7:$author$project$StravaTypes$StravaRouteRequested}),b:A3($author$project$StravaDataLoad$requestStravaRouteHeader,$author$project$Msg$HandleRouteData,model.bv,token)};case 70:var state=msg.a,stravaRoute=$author$project$StravaAuth$getStravaToken(model.aK);if(stravaRoute.$)return{a:model,b:$elm$core$Platform$Cmd$none};token=stravaRoute.a,stravaRoute=function(response){return response.$?{$:3,a:$author$project$Utils$httpErrorString(response.a)}:{$:2,a:response.a}}(state);return{a:_Utils_update(model,{bw:function(stravaRoute){return 2!==stravaRoute.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(stravaRoute.a.hy)}(stravaRoute),d7:stravaRoute}),b:A3($author$project$StravaDataLoad$requestStravaRoute,$author$project$Msg$GpxDownloaded,model.bv,token)};case 75:var _v43=function(response){return response.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(response.a)}(state=msg.a);return{a:_Utils_update(model,{eM:_v43}),b:A3($author$project$MyIP$sendIpInfo,model.bd,$author$project$Msg$IpInfoAcknowledged,_v43)};case 76:return{a:model,b:$elm$core$Platform$Cmd$none};default:state=msg.a;return{a:_Utils_update(model,{dM:state}),b:(_v43=model.O).$?$elm$core$Platform$Cmd$none:A2($author$project$MapController$toggleDragging,state,_v43.a)}}}),$author$project$ColourPalette$accordionContentBackground=$mdgriffith$elm_ui$Internal$Model$renderFontClassName=A3($mdgriffith$elm_ui$Element$rgb255,236,240,241),$author$project$Accordion$accordionMenuStyles=_List_fromArray([$mdgriffith$elm_ui$Element$padding(0),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),$mdgriffith$elm_ui$Internal$Flag$fontAlignment=alpha(12),$mdgriffith$elm_ui$Element$Font$center=A2($mdgriffith$elm_ui$Internal$Model$Class,$mdgriffith$elm_ui$Internal$Flag$fontAlignment,$mdgriffith$elm_ui$Internal$Style$classes_lP),$author$project$ColourPalette$collapsedTabBackground=$mdgriffith$elm_ui$Internal$Flag$fontFamily,$author$project$ColourPalette$expandedTabBackground=families,$author$project$ColourPalette$expandedTabBorder=$mdgriffith$elm_ui$Internal$Model$renderFontClassName,$author$project$ColourPalette$expandedTabShadow=$mdgriffith$elm_ui$Internal$Model$renderFontClassName,$author$project$Accordion$accordionView=F2(function(entries,message){function entryButton(entry){return A2($mdgriffith$elm_ui$Element$Input$button,(state=entry.cf,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(2),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$Border$widthEach({jl:0,kF:2,le:2,l5:2}),$mdgriffith$elm_ui$Element$Border$roundEach({jm:0,jn:0,l6:10,l7:10}),$mdgriffith$elm_ui$Element$Border$color(state?$author$project$ColourPalette$collapsedTabBorder:$author$project$ColourPalette$expandedTabBorder),$mdgriffith$elm_ui$Element$Border$shadow({jf:5,jB:$author$project$ColourPalette$expandedTabShadow,kT:{a:4,b:4},lu:3}),$mdgriffith$elm_ui$Element$Background$color(state?$author$project$ColourPalette$collapsedTabBackground:$author$project$ColourPalette$expandedTabBackground),$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$buttonText),$mdgriffith$elm_ui$Element$Font$center,$mdgriffith$elm_ui$Element$Font$size(16)])),{bz:{$:2,a:entry.bz},kV:$elm$core$Maybe$Just(message(entry))});var state}return A2($mdgriffith$elm_ui$Element$column,$author$project$Accordion$accordionMenuStyles,_List_fromArray([A2($mdgriffith$elm_ui$Element$wrappedRow,$author$project$Accordion$accordionMenuStyles,A2($elm$core$List$map,entryButton,entries)),function(){var entry=function(entries){return $elm$core$List$head(A2($elm$core$List$filter,function(e){return!e.cf},entries))}(entries);if(entry.$)return $mdgriffith$elm_ui$Element$none;entry=entry.a;return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$accordionContentBackground),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$centerX]),entry.gb)}()]))}),$elm$html$Html$Attributes$alt=$elm$html$Html$Attributes$stringProperty("alt"),$mdgriffith$elm_ui$Element$image=F2(function(attrs,imageAttributes){var src=imageAttributes.lA,description=imageAttributes.jP,imageAttributes=A2($elm$core$List$filter,function(a){switch(a.$){case 7:case 8:return!0;default:return!1}},attrs);return A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_km),attrs),{$:0,a:_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$element,2,{$:1,a:"img"},_Utils_ap(_List_fromArray([{$:1,a:A2($elm$html$Html$Attributes$stringProperty,"src",_VirtualDom_noJavaScriptOrHtmlUri(src))},{$:1,a:$elm$html$Html$Attributes$alt(description)}]),imageAttributes),{$:0,a:_List_Nil})])})}),$author$project$ViewElements$compatibleWithStrava=A2($mdgriffith$elm_ui$Element$image,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(50)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(100)),$mdgriffith$elm_ui$Element$alignLeft]),{jP:"Compatible with Strava",lA:"images/api_logo_cptblWith_strava_stack_gray.svg"}),$mdgriffith$elm_ui$Internal$Flag$fontFamily=_VirtualDom_attribute("d"),families=$mdgriffith$elm_ui$Internal$Model$FontFamily("path"),$mdgriffith$elm_ui$Internal$Model$renderFontClassName=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"dollar-sign",_List_fromArray([A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("12"),$elm$svg$Svg$Attributes$y1("1"),$elm$svg$Svg$Attributes$x2("12"),$elm$svg$Svg$Attributes$y2("23")]),_List_Nil),A2(families,_List_fromArray([$mdgriffith$elm_ui$Internal$Flag$fontFamily("M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6")]),_List_Nil)])),$author$project$ViewElements$donateButton=A2($mdgriffith$elm_ui$Element$newTabLink,_List_fromArray([$mdgriffith$elm_ui$Element$alignLeft]),{bz:A2($mdgriffith$elm_ui$Element$row,_List_Nil,_List_fromArray([{$:2,a:"Donate"},$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$mdgriffith$elm_ui$Internal$Model$renderFontClassName))])),ee:"https://paypal.me/peterjamesward?locale.x=en_GB"}),$mdgriffith$elm_ui$Internal$Model$OnlyDynamic=F2(function(a,b){return{$:2,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$StaticRootAndDynamic=F2(function(a,b){return{$:1,a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$focusDefaultStyle={jb:$elm$core$Maybe$Nothing,jh:$elm$core$Maybe$Nothing,lp:$elm$core$Maybe$Just({jf:0,jB:A4($mdgriffith$elm_ui$Internal$Model$Rgba,155/255,203/255,1,1),kT:{a:0,b:0},lu:3})},$mdgriffith$elm_ui$Internal$Model$toHtml=F2(function(mode,el){switch(el.$){case 0:return(0,el.a)(2);case 1:return A2(el.a.ki,mode(el.a.lJ),2);case 2:return $mdgriffith$elm_ui$Internal$Model$textElement(el.a);default:return $mdgriffith$elm_ui$Internal$Model$textElement("")}}),$mdgriffith$elm_ui$Internal$Model$renderRoot=F3(function(embedStyle,attributes,child){embedStyle=function(options){var _v2,_v1;return{j6:1===(_v1=(_v2=A3($elm$core$List$foldr,F2(function(opt,record){switch(opt.$){case 0:return 1===record.kh.$?_Utils_update(record,{kh:$elm$core$Maybe$Just(opt.a)}):record;case 1:return 1===record.j6.$?_Utils_update(record,{j6:$elm$core$Maybe$Just(opt.a)}):record;default:return 1===record.hu.$?_Utils_update(record,{hu:$elm$core$Maybe$Just(opt.a)}):record}}),{j6:$elm$core$Maybe$Nothing,kh:$elm$core$Maybe$Nothing,hu:$elm$core$Maybe$Nothing},options)).j6).$?$mdgriffith$elm_ui$Internal$Model$focusDefaultStyle:_v1.a,kh:1===(_v1=_v2.kh).$?1:_v1.a,hu:1===(_v2=_v2.hu).$?0:_v2.a}}(embedStyle),embedStyle=(1===embedStyle.hu?$mdgriffith$elm_ui$Internal$Model$OnlyDynamic:$mdgriffith$elm_ui$Internal$Model$StaticRootAndDynamic)(embedStyle);return A2($mdgriffith$elm_ui$Internal$Model$toHtml,embedStyle,A4($mdgriffith$elm_ui$Internal$Model$element,2,$mdgriffith$elm_ui$Internal$Model$div,attributes,{$:0,a:_List_fromArray([child])}))}),$mdgriffith$elm_ui$Internal$Model$FontFamily=F2(function(a,b){return{$:1,a:a,b:b}}),families={$:1},$mdgriffith$elm_ui$Internal$Flag$fontFamily=alpha(5),$elm$core$String$words=function(str){return _List_fromArray(str.trim().split(/\s+/g))},$mdgriffith$elm_ui$Internal$Model$renderFontClassName=F2(function(font,current){return _Utils_ap(current,function(){switch(font.$){case 0:return"serif";case 1:return"sans-serif";case 2:return"monospace";case 3:return A2($elm$core$String$join,"-",$elm$core$String$words($elm$core$String$toLower(font.a)));case 4:return A2($elm$core$String$join,"-",$elm$core$String$words($elm$core$String$toLower(font.a)));default:return A2($elm$core$String$join,"-",$elm$core$String$words($elm$core$String$toLower(font.a.hy)))}}())}),$mdgriffith$elm_ui$Internal$Model$rootStyle=(families=_List_fromArray([{$:3,a:"Open Sans"},{$:3,a:"Helvetica"},{$:3,a:"Verdana"},families]),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$bgColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"bg-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(A4($mdgriffith$elm_ui$Internal$Model$Rgba,1,1,1,0)),"background-color",A4($mdgriffith$elm_ui$Internal$Model$Rgba,1,1,1,0))),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"fc-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(A4($mdgriffith$elm_ui$Internal$Model$Rgba,0,0,0,1)),"color",A4($mdgriffith$elm_ui$Internal$Model$Rgba,0,0,0,1))),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontSize,{$:2,a:20}),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontFamily,A2($mdgriffith$elm_ui$Internal$Model$FontFamily,A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderFontClassName,"font-",families),families))])),$mdgriffith$elm_ui$Element$layout=F3(function(_v0,attrs,child){return A3($mdgriffith$elm_ui$Internal$Model$renderRoot,_v0.hI,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_lf,$mdgriffith$elm_ui$Internal$Style$classes_i6,$mdgriffith$elm_ui$Internal$Style$classes_lt]))),_Utils_ap($mdgriffith$elm_ui$Internal$Model$rootStyle,attrs)),child)})({hI:_List_Nil}),$author$project$ViewElements$loadButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Load GPX from your computer"},kV:$elm$core$Maybe$Just({$:0})}),$author$project$Msg$MarkerBackOne={$:32},$author$project$Msg$MarkerForwardOne={$:31},$author$project$Msg$ToggleMarker={$:30},$author$project$ColourPalette$buttonGroupBackground=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver,$feathericons$elm_feather$FeatherIcons$skipBack=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"skip-back",_List_fromArray([A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("19 20 9 12 19 4 19 20")]),_List_Nil),A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("5"),$elm$svg$Svg$Attributes$y1("19"),$elm$svg$Svg$Attributes$x2("5"),$elm$svg$Svg$Attributes$y2("5")]),_List_Nil)])),$feathericons$elm_feather$FeatherIcons$skipForward=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"skip-forward",_List_fromArray([A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("5 4 15 12 5 20 5 4")]),_List_Nil),A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("19"),$elm$svg$Svg$Attributes$y1("5"),$elm$svg$Svg$Attributes$x2("19"),$elm$svg$Svg$Attributes$y2("19")]),_List_Nil)])),$mdgriffith$elm_ui$Internal$Flag$moveX=alpha(25),$author$project$Msg$OutputGPX={$:22},$mdgriffith$elm_ui$Element$spaceEvenly=A2($mdgriffith$elm_ui$Internal$Model$Class,$mdgriffith$elm_ui$Internal$Flag$spacing,color),$author$project$OAuthTypes$SignInRequested={$:1},$elm$url$Url$Builder$relative=F2(function(pathSegments,parameters){return _Utils_ap(A2($elm$core$String$join,"/",pathSegments),$elm$url$Url$Builder$toQuery(parameters))}),$author$project$StravaAuth$stravaButton=F2(function(userInfo,msgWrapper){var styles=_List_Nil,imgUrl=A2($elm$url$Url$Builder$relative,_List_fromArray(["images","btn_strava_connectwith_orange.svg"]),_List_Nil),userInfo=userInfo.j5;if(3!==userInfo.$)return A2($mdgriffith$elm_ui$Element$Input$button,styles,{bz:A2($mdgriffith$elm_ui$Element$image,_List_fromArray([$mdgriffith$elm_ui$Element$mouseOver(_List_fromArray([$mdgriffith$elm_ui$Element$alpha(.7)]))]),{jP:"Connect to Strava",lA:imgUrl}),kV:$elm$core$Maybe$Just(msgWrapper($author$project$OAuthTypes$SignInRequested))});userInfo=userInfo.a;return A2($mdgriffith$elm_ui$Element$column,_List_Nil,_List_fromArray([{$:2,a:"Connected to Strava as"},{$:2,a:userInfo.j4+" "+userInfo.kD}]))}),$author$project$Msg$LoadExternalRoute={$:66},$author$project$Msg$Redo={$:29},$author$project$Msg$Undo={$:28},$author$project$Main$updatedAccordion=F3(function(model,currentAccordion,referenceAccordion){return A3($elm$core$List$map2,F2(function(currentAccordionState,refreshedContent){return _Utils_update(currentAccordionState,{gb:refreshedContent.gb})}),currentAccordion,referenceAccordion(model))}),$elm$html$Html$Attributes$id=$elm$html$Html$Attributes$stringProperty("id"),$mdgriffith$elm_ui$Element$clipY=A2($mdgriffith$elm_ui$Internal$Model$Class,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown),$mdgriffith$elm_ui$Internal$Model$Paragraph={$:9},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=F2(function(attrs,children){return A4($mdgriffith$elm_ui$Internal$Model$element,4,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,{$:2,a:$mdgriffith$elm_ui$Internal$Model$Paragraph},A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$spacing(5),attrs))),{$:0,a:children})}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel({gk:$elm$core$Maybe$Nothing,j8:$elm$core$Maybe$Just({jo:!1,lN:!1}),lh:!0,lw:!1}),$author$project$About$viewAboutText=A2($mdgriffith$elm_ui$Element$el,_List_Nil,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color(A3($mdgriffith$elm_ui$Element$rgb255,220,220,200)),$mdgriffith$elm_ui$Element$clipY,$mdgriffith$elm_ui$Element$scrollbarY,$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(900))]),_List_fromArray([A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(600))]),_List_fromArray([$mdgriffith$elm_ui$Element$html(A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown,_List_Nil,'## Thank you for trying GPXmagic. It is freely provided without warranty.\n\n## Changes\n\n- 2021-02-12 Ignores direction instructions in routes from plotaroute.com.\n\n## Donations\n\nA few users have asked if I would accept some payment. Thank you kindly, but I do this for fun and challenge; like cycling. If you feel the urge, I have added a link that allows you to contribute towards a fund that will go to our local hospice. Or you can just give a gift to any cause; it\'s the spirit that counts.\n\n## Guidance on use\n\nLoad a local GPX file by clicking on the aptly-labelled button. Or connect to Strava by clicking on the equally-apt brand-compliant button and authorize GPXmagic to access your routes. You can then enter a numeric route ID (you\'ll find this at the end of the URL for a route) and get the GPX by clicking "Fetch route". The Strava connection is valid for six hours.\n\nLoading and using a Strava **segment** is a two-step process. Assuming you\'ve connected to Strava and loaded a route (locally or from Strava), first paste the Strava segment URL or ID into the Strava tab (new option in the tools tabs), and click "Fetch header". You should then see the segment desciption under the entry box. Now click "Apply segment". This will paste the segment into your route, making best guess at the start and end based on latitude and longitude. This **will** introduce elevation erros at the start and end you will have to fix manually. A typical segment is many track points, so you may want to place the Orange and Purple markers at the extremes of the segment and use the "Simplify" button (this is in the Loop maker tab currently).\n\nOnce a file is loaded, **Third person**, **First person**, **Elevation**, **Plan**, and **Map** provide views on the course. On the right hand side are numerous options that I will elaborate below. You can mix and match the views and the option panels.\n\n**Map view** You can now click on the track to select a track point. When you first do this, you will probably see an Orange marker and a smaller purple marker superimposed. These remain together until you "Drop" the marker, after which clicking will move the Orange marker only until you "Clear" the purple marker. This makes for rapid selection of a section of route -- just click once to place both pointers, drop the purple one, click somewhere else. You can then use Nudge, Straighten, Bend smoothing (anything, in fact) on that range.\n\n**Summary** summarises the GPX information. This provides error messages if the file is not what we\'re expecting.\n\n**Road data** gives information about the current road segment -- the one immediately "in front of" the orange marker.\n\n**Visual styles** lets you choose what you want shown. The effects are immediate in all views.\n\n**Loop maker** is handy if your start and end points are close. You can make the track into a loop. This will either just move the last track point (if they are really close), or will insert a new one. Once your track is a loop, you can move the orange pointer and choose any point as the start/finish. (You can use this as a way to apply tools to the "real" start/finish area, moving the start back when you\'re done.)\n\n**Fly-through** will move the current point around the track at variable speed. This works in all views but 1st and 3rd person are most appropriate.\n\n**Smooth gradient** groups tools that are useful for smoothing gradients. You can replace the current track point with two; often this is enough to smooth a coarse gradient change. Beyond that, you can select a longer section of road by dropping and moving the marker (appears as a purple cone). Then use the button to apply smoothing to the selected track segments, and you can choose to retain some of the original flavour by increasing the "Bumpiness factor".\n\n**Nudge node** provides direct manipulation of the current point (orange marker). You can move it vertically and side-to-side by five metres. You can apply repeatedly if that\'s not enough.\n\n**Smooth bend** works only with a selected range. It tries (not always successfully) to fit a circular arc that is tangent to the segments that are marked. Moving the current point and the marker will provide different options. Increase the number of road segments for a smoother bend. If you can\'t get a nice looking bend, it may be worth adding some more track points (see below) and trying again.\n\n**Straighten** is like an opposite of bend smoothing. When you have a "nearly straight" that you want to be "really straight", this is your friend. It retains track point elevation, and just marshals them into a straight line, so you may need other tools to finish the job.\n\n**Trackpoints** allows you to add track points before and after the current point (same as in the Gradient panel). Another option, useful on long straights near bends, is to add a new point in the middle of a road segment. Repeat as required. Delete will delete the current track point.\n\n**Filter** "_Centroid averaging_" applies a simple smoothing algorithm that takes a weighted average for each point. Better results are achieved if you insert some track points first (see above). You can do this selectively on parts of the route.\n\n"_Bezier splines_" add track points to create a flowing track that passes through existing track points. \'Tension\' affects how sweeping the new route will be, \'Tolerance\' determines how many track points are added. Bezier works best when there are not many points to start with -- so you may even want to remove some using "Straighten" -- and the results may benefit from applying the Centroid averaging.\n\nBoth filters will work over a range, if one is selected, but default to the whole track, and will apply across the start/finish point if the route is a loop (according to Loop maker).\n\n**Gradient problems** and **Bend problems** highlight track points that may be of interest. Click on any entry to make that current. The AutoFix option is available, but should not be taken for granted.\n\nClick the blue button at the page top to choose a GPX route file, or load one from Strava.\n\n**Remember to save** your changes often. The Save button writes to your download folder only (this is a security limitation of browsers).\n\n## Legally required notices\n\nCompatible with Strava, for the purpose of loading route and segment data.\n\nYour IP address is logged for the purpose of aggregate usage recording; no personal details are stored.\n\nNo cookies are used, though they may not be true for the site as a whole.\n\n> _Peter Ward, 2021_\n'))]))]))),$author$project$Msg$PositionBackOne={$:5},$author$project$Msg$PositionForwardOne={$:6},$avh4$elm_color$Color$lightBlue=A4($avh4$elm_color$Color$RgbaSpace,114/255,159/255,207/255,1),$elm_explorations$webgl$WebGL$alpha=function(a){return{$:0,a:a}},$elm_explorations$webgl$WebGL$antialias={$:3},$elm_explorations$webgl$WebGL$clearColor=F4(function(a,b,c,d){return{$:4,a:a,b:b,c:c,d:d}}),$elm_explorations$webgl$WebGL$depth=function(a){return{$:1,a:a}},$elm$html$Html$Keyed$node=$elm$virtual_dom$VirtualDom$keyedNode,$elm_explorations$webgl$WebGL$stencil=function(a){return{$:2,a:a}},$elm_explorations$webgl$WebGL$toHtmlWith=F3(function(options,attributes,entities){return A3(_WebGL_toHtml,options,attributes,entities)}),$ianmackenzie$elm_3d_scene$Scene3d$allLightsEnabled=A4($elm_explorations$linear_algebra$Math$Vector4$vec4,1,1,1,1),$ianmackenzie$elm_3d_scene$Scene3d$call=F3(function(renderPasses,lights,settings){return A2($elm$core$List$map,function(renderPass){return A2(renderPass,lights,settings)},renderPasses)}),$ianmackenzie$elm_3d_scene$Scene3d$Types$CieXyz=F3(function(a,b,c){return{$:0,a:a,b:b,c:c}}),$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToCieXyz=F2(function(_v0,y){var x=y.U,y=y.V;return A3($ianmackenzie$elm_3d_scene$Scene3d$Types$CieXyz,_v0*x/y,_v0,_v0*(1-x-y)/y)}),$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToLinearRgb=F2(function(bigX,bigY){return A3($elm_explorations$linear_algebra$Math$Vector3$vec3,3.2406*(bigX=(bigZ=A2($ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToCieXyz,bigX,bigY)).a)-1.5372*(bigY=bigZ.b)-.4986*(bigZ=bigZ.c),-.9689*bigX+1.8758*bigY+.0415*bigZ,.0557*bigX-.204*bigY+1.057*bigZ);var bigZ}),$ianmackenzie$elm_3d_scene$Scene3d$createRenderPass=F5(function(sceneProperties,viewMatrix,projectionMatrix,transformation,drawFunction){return A6(drawFunction,sceneProperties,A4($elm_explorations$linear_algebra$Math$Vector4$vec4,transformation.d5,transformation.d5,transformation.d5,transformation.gQ?1:-1),function(transformation){return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:transformation.F,g3:transformation.I,g4:transformation.L,g5:transformation._,g6:transformation.G,g7:transformation.J,g8:transformation.M,g9:transformation.aa,ha:transformation.H,hb:transformation.K,hc:transformation.N,hd:transformation.ab,he:0,hf:0,hg:0,hh:1})}(transformation),transformation.gQ,viewMatrix,projectionMatrix)}),$ianmackenzie$elm_3d_scene$Scene3d$collectRenderPasses=F6(function(sceneProperties,viewMatrix,projectionMatrix,currentTransformation,node,accumulated){collectRenderPasses:for(;;)switch(node.$){case 0:return accumulated;case 5:var childNodes=node.b;sceneProperties=sceneProperties,viewMatrix=viewMatrix,projectionMatrix=projectionMatrix,currentTransformation=A2($ianmackenzie$elm_3d_scene$Scene3d$Transformation$compose,node.a,currentTransformation),node=childNodes,accumulated=accumulated;continue collectRenderPasses;case 1:return{ag:A2($elm$core$List$cons,A5($ianmackenzie$elm_3d_scene$Scene3d$createRenderPass,sceneProperties,viewMatrix,projectionMatrix,currentTransformation,node.b),accumulated.ag),fo:accumulated.fo,lq:accumulated.lq};case 3:return{ag:accumulated.ag,fo:A2($elm$core$List$cons,A5($ianmackenzie$elm_3d_scene$Scene3d$createRenderPass,sceneProperties,viewMatrix,projectionMatrix,currentTransformation,node.b),accumulated.fo),lq:accumulated.lq};case 2:return{ag:accumulated.ag,fo:accumulated.fo,lq:A2($elm$core$List$cons,A5($ianmackenzie$elm_3d_scene$Scene3d$createRenderPass,sceneProperties,viewMatrix,projectionMatrix,currentTransformation,node.a),accumulated.lq)};default:childNodes=node.a;return A3($elm$core$List$foldl,A4($ianmackenzie$elm_3d_scene$Scene3d$collectRenderPasses,sceneProperties,viewMatrix,projectionMatrix,currentTransformation),accumulated,childNodes)}}),$elm_explorations$webgl$WebGL$Settings$colorMask=F4(function(a,b,c,d){return{$:4,a:a,b:b,c:c,d:d}}),$elm_explorations$webgl$WebGL$Internal$DepthTest=F4(function(a,b,c,d){return{$:1,a:a,b:b,c:c,d:d}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=F2(function(a,b){return{$:6,a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$createShadowStencil=_List_fromArray([A4($elm_explorations$webgl$WebGL$Internal$DepthTest,518,(alpha={az:1,aC:0,aN:!1}).aN,alpha.aC,alpha.az),A4($elm_explorations$webgl$WebGL$Settings$colorMask,!1,!1,!1,!1),A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel,0,1)]),$ianmackenzie$elm_3d_scene$Scene3d$dummyFragmentShader={src:"\n        precision lowp float;\n\n        void main() {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n    ",attributes:{},uniforms:{}},$ianmackenzie$elm_3d_scene$Scene3d$fullScreenQuadMesh=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick({go:1,gL:0,hu:5})(_List_fromArray([{dX:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,-1,-1)},{dX:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,-1)},{dX:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,-1,1)},{dX:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,1)}])),$ianmackenzie$elm_3d_scene$Scene3d$fullScreenQuadVertexShader={src:"\n        precision lowp float;\n\n        attribute vec2 position;\n\n        void main() {\n            gl_Position = vec4(position, 0.0, 1.0);\n        }\n    ",attributes:{position:"dX"},uniforms:{}},$ianmackenzie$elm_3d_scene$Scene3d$resetStencil=$ianmackenzie$elm_3d_scene$Scene3d$updateStencil({cC:7681,e_:0,fr:8,cY:519,fM:15,c6:7681,c7:7681}),$ianmackenzie$elm_3d_scene$Scene3d$createShadow=F3(function(shadowRenderPasses,lightIndex,lightMatrix){return $elm$core$List$concat(_List_fromArray([A3($ianmackenzie$elm_3d_scene$Scene3d$call,shadowRenderPasses,lightMatrix,$ianmackenzie$elm_3d_scene$Scene3d$createShadowStencil),_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$storeStencilValue(lightIndex),$ianmackenzie$elm_3d_scene$Scene3d$resetStencil])]))}),$ianmackenzie$elm_3d_scene$Scene3d$createShadows=F2(function(shadowRenderPasses,shadowCasters){return $elm$core$List$concat(A2($elm$core$List$indexedMap,$ianmackenzie$elm_3d_scene$Scene3d$createShadow(shadowRenderPasses),shadowCasters))}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=function(_v0){return A4($elm_explorations$webgl$WebGL$Internal$DepthTest,513,_v0.aN,_v0.aC,_v0.az)}({az:1,aC:0,aN:!0}),$elm_explorations$webgl$WebGL$Settings$Blend$Blender=F3(function(a,b,c){return{$:0,a:a,b:b,c:c}}),color=F2(function(_v0,_v1){return A3($elm_explorations$webgl$WebGL$Settings$Blend$Blender,32774,_v0,_v1)}),$ianmackenzie$elm_3d_scene$Scene3d$defaultBlend=(r=(alpha={bl:0,bN:A2(color,1,771),af:0,jB:A2(color,770,771),dx:0,k9:0}).k9,g=alpha.dx,b=alpha.af,a=alpha.bl,color=alpha.jB,alpha=alpha.bN,A2(F2(function(_v1,f22){var f12=_v1.c,eq2=f22.a,f21=f22.b,f22=f22.c;return function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return function(h){return function(i){return function(j){return{$:0,a:a,b:b,c:c,d:d,e:e,f:f,g:g,h:h,i:i,j:j}}}}}}}}}}}(_v1.a)(_v1.b)(f12)(eq2)(f21)(f22)(r)(g)(b)(a)}),color,alpha)),$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault=_List_fromArray([$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,$ianmackenzie$elm_3d_scene$Scene3d$defaultBlend]),$ianmackenzie$elm_geometry$Direction3d$relativeTo=F2(function(_v4,_v1){var _v2=_v4.fP,_v3=_v4.fO,_v4=_v4.fN;return{U:_v1.U*_v4.U+_v1.V*_v4.V+_v1.iS*_v4.iS,V:_v1.U*_v3.U+_v1.V*_v3.V+_v1.iS*_v3.iS,iS:_v1.U*_v2.U+_v1.V*_v2.V+_v1.iS*_v2.iS}}),$ianmackenzie$elm_geometry$Point3d$relativeTo=F2(function(_v5,_v3){var _v4=_v5.fc,deltaX=_v3.U-_v4.U,deltaY=_v3.V-_v4.V,deltaZ=_v3.iS-_v4.iS,_v3=_v5.fP,_v4=_v5.fO,_v5=_v5.fN;return{U:deltaX*_v5.U+deltaY*_v5.V+deltaZ*_v5.iS,V:deltaX*_v4.U+deltaY*_v4.V+deltaZ*_v4.iS,iS:deltaX*_v3.U+deltaY*_v3.V+deltaZ*_v3.iS}}),$ianmackenzie$elm_geometry$Frame3d$relativeTo=F2(function(otherFrame,frame){return{fc:A2($ianmackenzie$elm_geometry$Point3d$relativeTo,otherFrame,$ianmackenzie$elm_geometry$Frame3d$originPoint(frame)),fN:A2($ianmackenzie$elm_geometry$Direction3d$relativeTo,otherFrame,$ianmackenzie$elm_geometry$Frame3d$xDirection(frame)),fO:A2($ianmackenzie$elm_geometry$Direction3d$relativeTo,otherFrame,$ianmackenzie$elm_geometry$Frame3d$yDirection(frame)),fP:A2($ianmackenzie$elm_geometry$Direction3d$relativeTo,otherFrame,$ianmackenzie$elm_geometry$Frame3d$zDirection(frame))}}),$ianmackenzie$elm_geometry$BoundingBox3d$union=F2(function(b1,b2){b2=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(b2),b1=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(b1);return{hl:A2($ianmackenzie$elm_units$Quantity$max,b1.hl,b2.hl),hm:A2($ianmackenzie$elm_units$Quantity$max,b1.hm,b2.hm),kL:A2($ianmackenzie$elm_units$Quantity$max,b1.kL,b2.kL),hr:A2($ianmackenzie$elm_units$Quantity$min,b1.hr,b2.hr),hs:A2($ianmackenzie$elm_units$Quantity$min,b1.hs,b2.hs),kN:A2($ianmackenzie$elm_units$Quantity$min,b1.kN,b2.kN)}}),$ianmackenzie$elm_geometry$BoundingBox3d$withDimensions=F2(function(x0,y0){var halfWidth=$ianmackenzie$elm_units$Quantity$half($ianmackenzie$elm_units$Quantity$abs(x0.b)),halfLength=$ianmackenzie$elm_units$Quantity$half($ianmackenzie$elm_units$Quantity$abs(x0.a)),halfHeight=$ianmackenzie$elm_units$Quantity$half($ianmackenzie$elm_units$Quantity$abs(x0.c)),z0=function(_v0){return{a:_v0.U,b:_v0.V,c:_v0.iS}}(y0),x0=z0.a,y0=z0.b,z0=z0.c;return{hl:A2($ianmackenzie$elm_units$Quantity$plus,halfLength,x0),hm:A2($ianmackenzie$elm_units$Quantity$plus,halfWidth,y0),kL:A2($ianmackenzie$elm_units$Quantity$plus,halfHeight,z0),hr:A2($ianmackenzie$elm_units$Quantity$minus,halfLength,x0),hs:A2($ianmackenzie$elm_units$Quantity$minus,halfWidth,y0),kN:A2($ianmackenzie$elm_units$Quantity$minus,halfHeight,z0)}}),$ianmackenzie$elm_3d_scene$Scene3d$updateViewBounds=F4(function(viewFrame,nodeBounds,xDimension,current){var originalCenter=xDimension.jt,modelZDimension=2*xDimension.kc*nodeBounds,modelYDimension=2*xDimension.kb*nodeBounds,modelXDimension=2*xDimension.ka*nodeBounds,yDimension=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$zDirection(viewFrame)),zDimension=$elm$core$Basics$abs(modelXDimension*yDimension.U)+$elm$core$Basics$abs(modelYDimension*yDimension.V)+$elm$core$Basics$abs(modelZDimension*yDimension.iS),xDimension=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$yDirection(viewFrame)),yDimension=$elm$core$Basics$abs(modelXDimension*xDimension.U)+$elm$core$Basics$abs(modelYDimension*xDimension.V)+$elm$core$Basics$abs(modelZDimension*xDimension.iS),xDimension=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$xDirection(viewFrame)),xDimension=$elm$core$Basics$abs(modelXDimension*xDimension.U)+$elm$core$Basics$abs(modelYDimension*xDimension.V)+$elm$core$Basics$abs(modelZDimension*xDimension.iS),nodeBounds=A2($ianmackenzie$elm_geometry$BoundingBox3d$withDimensions,{a:xDimension,b:yDimension,c:zDimension},A2($ianmackenzie$elm_geometry$Point3d$relativeTo,viewFrame,A3($ianmackenzie$elm_geometry$Point3d$meters,originalCenter.U*nodeBounds,originalCenter.V*nodeBounds,originalCenter.iS*nodeBounds)));return $elm$core$Maybe$Just(current.$?nodeBounds:A2($ianmackenzie$elm_geometry$BoundingBox3d$union,current.a,nodeBounds))}),$ianmackenzie$elm_3d_scene$Scene3d$getViewBounds=F4(function(viewFrame,scale,current,nodes){getViewBounds:for(;;){if(!nodes.b)return current;var first=nodes.a,rest=nodes.b;switch(first.$){case 0:viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=current,nodes=rest;continue getViewBounds;case 1:var updated=A4($ianmackenzie$elm_3d_scene$Scene3d$updateViewBounds,viewFrame,scale,first.a,current);viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=updated,nodes=rest;continue getViewBounds;case 2:viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=current,nodes=rest;continue getViewBounds;case 3:updated=A4($ianmackenzie$elm_3d_scene$Scene3d$updateViewBounds,viewFrame,scale,first.a,current);viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=updated,nodes=rest;continue getViewBounds;case 4:var $temp$viewFrame=viewFrame,$temp$scale=scale,$temp$current=A4($ianmackenzie$elm_3d_scene$Scene3d$getViewBounds,viewFrame,scale,current,first.a);viewFrame=$temp$viewFrame,scale=$temp$scale,current=$temp$current,nodes=rest;continue getViewBounds;default:var localScale=first.a,childNode=first.b,localViewFrame=A2($ianmackenzie$elm_geometry$Frame3d$relativeTo,function(transformation){return{fc:{U:transformation._,V:transformation.aa,iS:transformation.ab},fN:{U:transformation.F,V:transformation.G,iS:transformation.H},fO:{U:transformation.I,V:transformation.J,iS:transformation.K},fP:{U:transformation.L,V:transformation.M,iS:transformation.N}}}(localScale),viewFrame),localScale=scale*localScale.d5;viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=A4($ianmackenzie$elm_3d_scene$Scene3d$getViewBounds,localViewFrame,localScale,current,_List_fromArray([childNode])),nodes=rest;continue getViewBounds}}}),$ianmackenzie$elm_3d_scene$Scene3d$Transformation$identity={gQ:!0,F:1,G:0,H:0,I:0,J:1,K:0,L:0,M:0,N:1,_:0,aa:0,ab:0,d5:1},$ianmackenzie$elm_3d_scene$Scene3d$initStencil=$ianmackenzie$elm_3d_scene$Scene3d$updateStencil({cC:7681,e_:0,fr:8,cY:519,fM:255,c6:7681,c7:7681}),$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled={af:0,js:!1,dx:0,fm:0,k9:0,fF:0,U:0,V:0,iS:0},$ianmackenzie$elm_3d_scene$Scene3d$lightPair=F2(function(_v0,_v1){return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:_v0.U,g3:_v0.k9,g4:_v1.U,g5:_v1.k9,g6:_v0.V,g7:_v0.dx,g8:_v1.V,g9:_v1.dx,ha:_v0.iS,hb:_v0.af,hc:_v1.iS,hd:_v1.af,he:_v0.fF,hf:_v0.fm,hg:_v1.fF,hh:_v1.fm})}),$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled={a:{cI:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled),dH:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled),dI:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled),dJ:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled)},b:A4($elm_explorations$linear_algebra$Math$Vector4$vec4,0,0,0,0)},$ianmackenzie$elm_3d_scene$Scene3d$outsideStencil=_List_fromArray([$elm_explorations$webgl$WebGL$Settings$DepthTest$lessOrEqual({az:1,aC:0,aN:!0}),$elm_explorations$webgl$WebGL$Settings$StencilTest$test({cC:7680,e_:240,fr:0,cY:514,fM:0,c6:7680,c7:7680}),$ianmackenzie$elm_3d_scene$Scene3d$defaultBlend]),$ianmackenzie$elm_3d_camera$WebGL$Matrices$projectionMatrix=F2(function(viewportHeight,frustumSlope){var aspectRatio=frustumSlope.i8,n=$ianmackenzie$elm_units$Quantity$abs(frustumSlope.kQ),f=$ianmackenzie$elm_units$Quantity$abs(frustumSlope.j2),frustumSlope=viewportHeight.fp;if(frustumSlope.$){viewportHeight=frustumSlope.a;return $elm$core$Basics$isInfinite(f)?$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:2/(aspectRatio*viewportHeight),g3:0,g4:0,g5:0,g6:0,g7:2/viewportHeight,g8:0,g9:0,ha:0,hb:0,hc:0,hd:-1,he:0,hf:0,hg:0,hh:1}):$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:2/(aspectRatio*viewportHeight),g3:0,g4:0,g5:0,g6:0,g7:2/viewportHeight,g8:0,g9:0,ha:0,hb:0,hc:-2/(f-n),hd:-(f+n)/(f-n),he:0,hf:0,hg:0,hh:1})}frustumSlope=frustumSlope.a;return $elm$core$Basics$isInfinite(f)?$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:1/(aspectRatio*frustumSlope),g3:0,g4:0,g5:0,g6:0,g7:1/frustumSlope,g8:0,g9:0,ha:0,hb:0,hc:-1,hd:-2*n,he:0,hf:0,hg:-1,hh:0}):$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:1/(aspectRatio*frustumSlope),g3:0,g4:0,g5:0,g6:0,g7:1/frustumSlope,g8:0,g9:0,ha:0,hb:0,hc:-(f+n)/(f-n),hd:-2*f*n/(f-n),he:0,hf:0,hg:-1,hh:0})}),$ianmackenzie$elm_3d_scene$Scene3d$enabledFlag=F2(function(lightMask,lightIndex){return 1==(1&lightMask>>lightIndex)?0:1}),$ianmackenzie$elm_3d_scene$Scene3d$renderWithinShadows=F3(function(meshRenderPasses,lightMatrices,numShadowingLights){return $elm$core$List$concat(A2($elm$core$List$map,function(lightMask){var stencilMask=lightMask<<4;return A3($ianmackenzie$elm_3d_scene$Scene3d$call,meshRenderPasses,{a:lightMatrices,b:A4($elm_explorations$linear_algebra$Math$Vector4$vec4,A2($ianmackenzie$elm_3d_scene$Scene3d$enabledFlag,lightMask,0),A2($ianmackenzie$elm_3d_scene$Scene3d$enabledFlag,lightMask,1),A2($ianmackenzie$elm_3d_scene$Scene3d$enabledFlag,lightMask,2),A2($ianmackenzie$elm_3d_scene$Scene3d$enabledFlag,lightMask,3))},function(lightMask){return _List_fromArray([$elm_explorations$webgl$WebGL$Settings$DepthTest$lessOrEqual({az:1,aC:0,aN:!0}),$elm_explorations$webgl$WebGL$Settings$StencilTest$test({cC:7680,e_:240,fr:lightMask,cY:514,fM:0,c6:7680,c7:7680}),$ianmackenzie$elm_3d_scene$Scene3d$defaultBlend])}(stencilMask))},A2($elm$core$List$range,1,A2($elm$core$Basics$pow,2,numShadowingLights)-1)))}),$elm_explorations$linear_algebra$Math$Matrix4$toRecord=function(m){return{g2:m[0],g6:m[1],ha:m[2],he:m[3],g3:m[4],g7:m[5],hb:m[6],hf:m[7],g4:m[8],g8:m[9],hc:m[10],hg:m[11],g5:m[12],g9:m[13],hd:m[14],hh:m[15]}},$ianmackenzie$elm_geometry$Frame3d$atOrigin={fc:$ianmackenzie$elm_geometry$Point3d$origin,fN:$ianmackenzie$elm_geometry$Direction3d$x,fO:$ianmackenzie$elm_geometry$Direction3d$y,fP:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp},$ianmackenzie$elm_3d_camera$WebGL$Matrices$modelViewMatrix=F2(function(j,k){var i,p;return p=$ianmackenzie$elm_geometry$Point3d$unwrap($ianmackenzie$elm_geometry$Frame3d$originPoint(i=A2($ianmackenzie$elm_geometry$Frame3d$relativeTo,k,j))),k=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$zDirection(i)),j=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$yDirection(i)),i=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$xDirection(i)),$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({g2:i.U,g3:j.U,g4:k.U,g5:p.U,g6:i.V,g7:j.V,g8:k.V,g9:p.V,ha:i.iS,hb:j.iS,hc:k.iS,hd:p.iS,he:0,hf:0,hg:0,hh:1})}),$ianmackenzie$elm_3d_scene$Scene3d$composite=F2(function(_arguments,backgroundColorString){var commonWebGLOptions=_List_fromArray([$elm_explorations$webgl$WebGL$depth(1),$elm_explorations$webgl$WebGL$stencil(0),$elm_explorations$webgl$WebGL$alpha(!0),A4($elm_explorations$webgl$WebGL$clearColor,0,0,0,0)]),n=function(){var _v1=_arguments.bO;switch(_v1.$){case 0:return{a:commonWebGLOptions,b:"0",c:1};case 1:return{a:A2($elm$core$List$cons,$elm_explorations$webgl$WebGL$antialias,commonWebGLOptions),b:"1",c:1};default:return{a:commonWebGLOptions,b:"0",c:_v1.a}}}(),webGLOptions=n.a,key=n.b,scalingFactor=n.c,webGLEntities=_arguments.ds,widthCss=webGLEntities.a,heightInPixels=$ianmackenzie$elm_units$Pixels$toInt(webGLEntities.b),heightCss=A2($elm$html$Html$Attributes$style,"height",$elm$core$String$fromInt(heightInPixels)+"px"),n=$ianmackenzie$elm_units$Pixels$toInt(widthCss),aspectRatio=n/heightInPixels,webGLEntities=A2($elm$core$List$concatMap,function(scene){return $ianmackenzie$elm_3d_scene$Scene3d$toWebGLEntities({i8:aspectRatio,dd:_arguments.dd,di:_arguments.di,du:scene.du,a4:scene.a4,a7:scene.a7,io:scalingFactor,be:scene.be,bh:scene.bh})},backgroundColorString),widthCss=A2($elm$html$Html$Attributes$style,"width",$elm$core$String$fromInt(n)+"px"),backgroundColorString=function(_v0){function pct(x){return $elm$core$Basics$round(1e4*x)/100}var g=_v0.b,b=_v0.c,a=_v0.d;return $elm$core$String$concat(_List_fromArray(["rgba(",$elm$core$String$fromFloat(pct(_v0.a)),"%,",$elm$core$String$fromFloat(pct(g)),"%,",$elm$core$String$fromFloat(pct(b)),"%,",$elm$core$String$fromFloat($elm$core$Basics$round(1e3*a)/1e3),")"]))}(_arguments.c9);return A3($elm$html$Html$Keyed$node,"div",_List_fromArray([A2($elm$html$Html$Attributes$style,"padding","0px"),widthCss,heightCss]),_List_fromArray([{a:key,b:A3($elm_explorations$webgl$WebGL$toHtmlWith,webGLOptions,_List_fromArray([(n=$elm$core$Basics$round(n*scalingFactor),A2(_VirtualDom_attribute,"width",$elm$core$String$fromInt(n))),function(n){return A2(_VirtualDom_attribute,"height",$elm$core$String$fromInt(n))}($elm$core$Basics$round(heightInPixels*scalingFactor)),widthCss,heightCss,A2($elm$html$Html$Attributes$style,"display","block"),A2($elm$html$Html$Attributes$style,"background-color",backgroundColorString)]),webGLEntities)}]))}),$ianmackenzie$elm_3d_scene$Scene3d$Light$daylight={U:.31271,V:.32902},$ianmackenzie$elm_3d_scene$Scene3d$Light$directional=F2(function(y,rgb){var shadowFlag=y,z=$ianmackenzie$elm_geometry$Direction3d$unwrap(rgb.gm),x=z.U,y=z.V,z=z.iS,rgb=A2($ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToLinearRgb,rgb.eL,rgb.df);return{af:$elm_explorations$linear_algebra$Math$Vector3$getZ(rgb),js:shadowFlag,dx:$elm_explorations$linear_algebra$Math$Vector3$getY(rgb),fm:0,k9:$elm_explorations$linear_algebra$Math$Vector3$getX(rgb),fF:1,U:-x,V:-y,iS:-z}}),$ianmackenzie$elm_3d_scene$Scene3d$multisampling={$:1},$ianmackenzie$elm_3d_scene$Scene3d$noToneMapping={$:0},$ianmackenzie$elm_3d_scene$Scene3d$Light$skylight=($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=function(x){var t=A3($elm$core$Basics$clamp,1667,25e3,x),x=4e3<t?-3025846900/(t*t*t)+2107037.9/(t*t)+.2226347*1e3/t+.24039:1e9*-.2661239/(t*t*t)-.2343589*1e6/(t*t)+877.6956/t+.17991;return{U:x,V:2222<t?4e3<t?x*x*x*3.081758-x*x*5.8733867+3.75112997*x-.37001483:x*x*x*-.9549476-x*x*1.37418593+2.09137015*x-.16748867:x*x*x*-1.1063814-x*x*1.3481102+2.18555832*x-.20219683}})(12e3),$ianmackenzie$elm_3d_scene$Scene3d$Light$sunlight=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown(5600),$ianmackenzie$elm_3d_scene$Scene3d$MultiplePasses=F2(function(a,b){return{$:2,a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$noLights={$:0,a:$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled.a},$elm$core$List$partition=F2(function(pred,list){return A3($elm$core$List$foldr,F2(function(x,falses){var trues=falses.a,falses=falses.b;return pred(x)?{a:A2($elm$core$List$cons,x,trues),b:falses}:{a:trues,b:A2($elm$core$List$cons,x,falses)}}),{a:_List_Nil,b:_List_Nil},list)}),$ianmackenzie$elm_3d_scene$Scene3d$eightLights=F8(function(first,second,third,fourth,fifth,sixth,seventh,eigth){var light1=A2($elm$core$List$partition,$ianmackenzie$elm_3d_scene$Scene3d$lightCastsShadows,_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$eraseLight(first),$ianmackenzie$elm_3d_scene$Scene3d$eraseLight(second),$ianmackenzie$elm_3d_scene$Scene3d$eraseLight(third),$ianmackenzie$elm_3d_scene$Scene3d$eraseLight(fourth)])),enabledShadowCasters=light1.a;if(enabledShadowCasters.b){var light3=_Utils_ap(enabledShadowCasters,light1.b);if(light3.b&&light3.b.b&&light3.b.b.b&&light3.b.b.b.b&&!light3.b.b.b.b.b){var light0=light3.a,light2=light3.b,light1=light2.a,light3=light2.b,light2=light3.a,light3=light3.b.a;return A2($ianmackenzie$elm_3d_scene$Scene3d$MultiplePasses,A2($elm$core$List$map,$ianmackenzie$elm_3d_scene$Scene3d$singleLight,enabledShadowCasters),{cI:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,light0,light1),dH:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,light2,light3),dI:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,fifth,sixth),dJ:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,seventh,eigth)})}return $ianmackenzie$elm_3d_scene$Scene3d$noLights}return{$:0,a:{cI:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,first,second),dH:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,third,fourth),dI:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,fifth,sixth),dJ:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,seventh,eigth)}}}),$ianmackenzie$elm_3d_scene$Scene3d$threeLights=F3(function(first,second,third){return A8($ianmackenzie$elm_3d_scene$Scene3d$eightLights,first,second,third,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled)}),$ianmackenzie$elm_3d_scene$Scene3d$maxLuminance=$ianmackenzie$elm_units$Quantity$abs,$author$project$ScenePainter$render3dScene=F2(function(withLighting,_arguments){return withLighting?$ianmackenzie$elm_3d_scene$Scene3d$sunny({c9:_arguments.c9,dd:_arguments.dd,di:_arguments.di,ds:_arguments.ds,du:_arguments.du,lq:!1,lM:$ianmackenzie$elm_geometry$Direction3d$negativeZ,ed:$ianmackenzie$elm_geometry$Direction3d$positiveZ}):$ianmackenzie$elm_3d_scene$Scene3d$custom({bO:$ianmackenzie$elm_3d_scene$Scene3d$multisampling,c9:(_arguments=_arguments).c9,dd:_arguments.dd,di:_arguments.di,ds:_arguments.ds,du:_arguments.du,a4:$ianmackenzie$elm_3d_scene$Scene3d$maxLuminance(80),a7:$ianmackenzie$elm_3d_scene$Scene3d$noLights,be:$ianmackenzie$elm_3d_scene$Scene3d$noToneMapping,bh:$ianmackenzie$elm_3d_scene$Scene3d$Light$daylight})}),$author$project$Utils$view3dDimensions={a:860,b:580},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel={k7:!0,lH:!1},$elm$html$Html$Events$custom=F2(function(event,decoder){return A2($elm$virtual_dom$VirtualDom$on,event,{$:3,a:decoder})}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick=F6(function(keys,button,clientPos,offsetPos,pagePos,screenPos){return{jp:button,jw:clientPos,kB:keys,fa:offsetPos,k$:pagePos,li:screenPos}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=A2($elm$json$Json$Decode$map,function(id){switch(id){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}},A2($elm$json$Json$Decode$field,"button",$elm$json$Json$Decode$int)),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp=A3($elm$json$Json$Decode$map2,F2(function(a,b){return{a:a,b:b}}),A2($elm$json$Json$Decode$field,"clientX",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"clientY",$elm$json$Json$Decode$float)),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$eventDecoder=A7($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onClick,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,A4($elm$json$Json$Decode$map3,F3(function(alt,ctrl,shift){return{i4:alt,jG:ctrl,lr:shift}}),A2($elm$json$Json$Decode$field,"altKey",$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown),A2($elm$json$Json$Decode$field,"ctrlKey",$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown),A2($elm$json$Json$Decode$field,"shiftKey",$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown)),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp,A3($elm$json$Json$Decode$map2,F2(function(a,b){return{a:a,b:b}}),A2($elm$json$Json$Decode$field,"offsetX",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"offsetY",$elm$json$Json$Decode$float)),A3($elm$json$Json$Decode$map2,F2(function(a,b){return{a:a,b:b}}),A2($elm$json$Json$Decode$field,"pageX",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"pageY",$elm$json$Json$Decode$float)),A3($elm$json$Json$Decode$map2,F2(function(a,b){return{a:a,b:b}}),A2($elm$json$Json$Decode$field,"screenX",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"screenY",$elm$json$Json$Decode$float))),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onClick=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event=F3(function(event,options,tag){return A2($elm$html$Html$Events$custom,event,A2($elm$json$Json$Decode$map,function(ev){return{kM:tag(ev),k7:options.k7,lH:options.lH}},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$eventDecoder))}),"click",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,"dblclick",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,"mousedown",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,"mousemove",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,"mouseup",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event=F3(function(mouseEvent,deltaY,deltaMode){return{jK:deltaMode,jL:deltaY,kO:mouseEvent}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=A2($elm$json$Json$Decode$map,function(_int){switch(_int){case 1:return 1;case 2:return 2;default:return 0}},$elm$json$Json$Decode$int),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$eventDecoder=A4($elm$json$Json$Decode$map3,$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$eventDecoder,A2($elm$json$Json$Decode$field,"deltaY",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"deltaMode",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel)),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=F2(function(options,tag){return A2($elm$html$Html$Events$custom,"wheel",A2($elm$json$Json$Decode$map,function(ev){return{kM:tag(ev),k7:options.k7,lH:options.lH}},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$eventDecoder))})({k7:!0,lH:!1}),$author$project$ViewElements$withMouseCapture=_List_fromArray([$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown(function(event){return{$:58,a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove(function(event){return{$:59,a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp(function(event){return{$:60,a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onClick(function(event){return{$:56,a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick(function(event){return{$:57,a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel(function(event){return{$:55,a:event.jL}})),$mdgriffith$elm_ui$Element$htmlAttribute(A2($elm$html$Html$Attributes$style,"touch-action","none")),$mdgriffith$elm_ui$Element$htmlAttribute(A2($elm$html$Html$Events$custom,"contextmenu",$elm$json$Json$Decode$succeed({kM:{$:61},k7:!0,lH:!0}))),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$pointer]),$author$project$ViewElements$zoomSlider=F2(function(value,msg){return A2($mdgriffith$elm_ui$Element$Input$slider,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(400)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$behindContent(A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(400)),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$scrollbarBackground),$mdgriffith$elm_ui$Element$Border$rounded(6)]),$mdgriffith$elm_ui$Element$none))]),{bz:$mdgriffith$elm_ui$Element$Input$labelHidden("Zoom"),aA:22,aB:0,w:msg,aJ:$elm$core$Maybe$Nothing,aL:$mdgriffith$elm_ui$Element$Input$defaultThumb,aM:value})}),$mdgriffith$elm_ui$Internal$Model$Max=F2(function(a,b){return{$:4,a:a,b:b}}),$mdgriffith$elm_ui$Element$maximum=F2(function(i,l){return A2($mdgriffith$elm_ui$Internal$Model$Max,i,l)}),$author$project$Main$viewCurrentNodePlanView=F2(function(model){var camera=model.aR;if(camera.$)return $mdgriffith$elm_ui$Element$none;camera=camera.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,$author$project$ViewElements$withMouseCapture,$mdgriffith$elm_ui$Element$html(A2($author$project$ScenePainter$render3dScene,!1,{c9:$avh4$elm_color$Color$darkGreen,dd:camera,di:1,ds:$author$project$Utils$view3dDimensions,du:_Utils_ap(model.bK,model.bF)}))),A2($author$project$ViewElements$zoomSlider,model.bj,$author$project$Msg$ZoomLevelPlan)]))}),$avh4$elm_color$Color$lightCharcoal=A4($avh4$elm_color$Color$RgbaSpace,136/255,138/255,133/255,1),$author$project$Main$viewRouteProfile=F2(function(model){var camera=model.aR;if(camera.$)return $mdgriffith$elm_ui$Element$none;camera=camera.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,$author$project$ViewElements$withMouseCapture,$mdgriffith$elm_ui$Element$html(A2($author$project$ScenePainter$render3dScene,!1,{c9:$avh4$elm_color$Color$lightCharcoal,dd:camera,di:1,ds:$author$project$Utils$view3dDimensions,du:_Utils_ap(model.c4,model.cV)}))),A2($author$project$ViewElements$zoomSlider,model.ax,$author$project$Msg$ZoomLevelProfile)]))}),$author$project$Main$view3D=F2(function(scale,model){return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$alignLeft]),function(){switch(model.x){case 0:return $author$project$Main$viewFirstPerson(model);case 1:return $author$project$Main$viewThirdPerson(model);case 4:return function(model){var node=_Utils_cmp(model.a,$elm$core$Array$length(model.g))<0?A2($elm$core$Maybe$map,function($){return $.cc},A2($elm$core$Array$get,model.a,model.g)):A2($elm$core$Maybe$map,function($){return $.dZ},A2($elm$core$Array$get,$elm$core$Array$length(model.g)-1,model.g));if(1===node.$)return $mdgriffith$elm_ui$Element$none;node=node.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($author$project$Main$viewRouteProfile,model,node),$author$project$Main$positionControls(model)]))]))}(model);case 2:return $author$project$About$viewAboutText;case 3:return $author$project$Main$viewInputError(model);case 5:return function(model){var node=A2($elm$core$Array$get,model.a,model.d);if(1===node.$)return $mdgriffith$elm_ui$Element$none;node=node.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($author$project$Main$viewCurrentNodePlanView,model,node),$author$project$Main$positionControls(model)]))]))}(model);default:return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(900)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(600)),$mdgriffith$elm_ui$Element$alignLeft,$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$htmlAttribute($elm$html$Html$Attributes$id("map"))]),$mdgriffith$elm_ui$Element$none)}}())});!function(exports){scope.Elm?function _Platform_mergeExportsProd(obj,exports){for(var name in exports)name in obj?"init"==name?_Debug_crash(6):_Platform_mergeExportsProd(obj[name],exports[name]):obj[name]=exports[name]}(scope.Elm,exports):scope.Elm=exports}({Main:{init:$elm$browser$Browser$application({kp:A2($elm$core$Basics$composeR,$elm$core$Maybe$map($author$project$StravaAuth$convertBytes),$author$project$Main$init),kX:$elm$core$Basics$always({$:71,a:$author$project$OAuthTypes$NoOp}),kY:$elm$core$Basics$always({$:71,a:$author$project$OAuthTypes$NoOp}),lL:function(){return $elm$core$Platform$Sub$batch(_List_fromArray([$author$project$MapController$messageReceiver($author$project$Msg$MapMessage),$author$project$MapController$mapStopped($author$project$Msg$MapRemoved),A2($elm$time$Time$every,50,$author$project$Msg$Tick),$author$project$OAuthPorts$randomBytes(function(ints){return{$:71,a:{$:2,a:ints}}})]))},mc:$author$project$Main$update,mg:function(model){return{fX:_List_fromArray([A2($mdgriffith$elm_ui$Element$layout,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$Font$size(16),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill)]),A2($mdgriffith$elm_ui$Element$column,_List_Nil,_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spaceEvenly,$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([$author$project$ViewElements$donateButton,$author$project$ViewElements$loadButton,model.ak?{$:2,a:"Save your work before\nconnecting to Strava"}:A2($author$project$StravaAuth$stravaButton,model.aK,$author$project$Msg$wrapAuthMessage),function(_v0){var routeIdField=A2($mdgriffith$elm_ui$Element$Input$text,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(100))]),{bz:$mdgriffith$elm_ui$Element$Input$labelHidden("Strava route ID"),w:$author$project$Msg$UserChangedRouteId,fn:$elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Element$Input$placeholder,_List_Nil,{$:2,a:"Strava route ID"})),fC:_v0.bv}),routeButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Fetch route"},kV:$elm$core$Maybe$Just($author$project$Msg$LoadExternalRoute)}),_v0=$author$project$StravaAuth$getStravaToken(_v0.aK);if(_v0.$)return $mdgriffith$elm_ui$Element$none;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([routeIdField,routeButton]))}(model),function(model){var filename=A2($elm$core$Maybe$withDefault,"",model.bw);return model.b2?A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$Font$size(14)]),_List_fromArray([$author$project$ViewElements$displayName(model.bI),A2($mdgriffith$elm_ui$Element$Input$text,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(200))]),{bz:$mdgriffith$elm_ui$Element$Input$labelHidden("File name"),w:$author$project$Msg$UserChangedFilename,fn:$elm$core$Maybe$Nothing,fC:filename})])):$mdgriffith$elm_ui$Element$none}(model),function(model){return model.aj.b?A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:{$:2,a:"Save as GPX file to your computer"},kV:$elm$core$Maybe$Just($author$project$Msg$OutputGPX)}):$mdgriffith$elm_ui$Element$none}(model)])),A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignLeft,A2($mdgriffith$elm_ui$Internal$Model$TransformComponent,$mdgriffith$elm_ui$Internal$Flag$moveX,{$:0,a:200})]),_List_fromArray([model.b2?function(model){return A2($mdgriffith$elm_ui$Element$Input$radioRow,_List_fromArray([$mdgriffith$elm_ui$Element$Border$rounded(6),$mdgriffith$elm_ui$Element$Border$shadow({jf:10,jB:A3($mdgriffith$elm_ui$Element$rgb255,224,224,224),kT:{a:0,b:0},lu:3})]),{bz:$mdgriffith$elm_ui$Element$Input$labelHidden("Choose view"),w:$author$project$Msg$ChooseViewMode,hI:_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$optionWith,1,A2($author$project$ViewElements$radioButton,0,"Third person")),A2($mdgriffith$elm_ui$Element$Input$optionWith,0,A2($author$project$ViewElements$radioButton,1,"First person")),A2($mdgriffith$elm_ui$Element$Input$optionWith,4,A2($author$project$ViewElements$radioButton,1,"Elevation")),A2($mdgriffith$elm_ui$Element$Input$optionWith,5,A2($author$project$ViewElements$radioButton,1,"Plan")),A2($mdgriffith$elm_ui$Element$Input$optionWith,6,A2($author$project$ViewElements$radioButton,1,"Map")),A2($mdgriffith$elm_ui$Element$Input$optionWith,2,A2($author$project$ViewElements$radioButton,2,"About"))]),ig:$elm$core$Maybe$Just(model.x)})}(model):A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(40))]),$mdgriffith$elm_ui$Element$none)])),function(){var _v0={a:model.b1,b:model.iy};if(_v0.b.b)return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignLeft,$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($author$project$Main$view3D,model.ar,model),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([function(model){return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$Border$width(0),$mdgriffith$elm_ui$Element$Border$rounded(5),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$buttonGroupBackground)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:(_v2=model.aj).b?{$:2,a:"Undo "+_v2.a.bz}:{$:2,a:"Nothing to undo"},kV:model.aj.b?$elm$core$Maybe$Just($author$project$Msg$Undo):$elm$core$Maybe$Nothing}),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{bz:(_v2=model.aw).b?{$:2,a:"Redo "+_v2.a.bz}:{$:2,a:"Nothing to redo"},kV:model.aw.b?$elm$core$Maybe$Just($author$project$Msg$Redo):$elm$core$Maybe$Nothing})]));var _v2}(model),$author$project$Main$markerButton(model),A2($author$project$Accordion$accordionView,A3($author$project$Main$updatedAccordion,model,model.cj,$author$project$Main$toolsAccordion),$author$project$Msg$AccordionMessage),A2($author$project$Accordion$accordionView,A3($author$project$Main$updatedAccordion,model,model.b5,$author$project$Main$infoAccordion),$author$project$Msg$AccordionMessage)]))]));return _v0.a.$?$author$project$About$viewAboutText:$author$project$Main$viewInputError(model)}(),$author$project$ViewElements$compatibleWithStrava])))]),l2:"GPXmagic"}}})($elm$json$Json$Decode$oneOf(_List_fromArray([$elm$json$Json$Decode$null($elm$core$Maybe$Nothing),A2($elm$json$Json$Decode$map,$elm$core$Maybe$Just,$elm$json$Json$Decode$list($elm$json$Json$Decode$int))])))(0)}})}(this);
