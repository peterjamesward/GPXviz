!function(scope){"use strict";function F(arity,fun,wrapper){return wrapper.a=arity,wrapper.f=fun,wrapper}function F2(fun){return F(2,fun,function(a){return function(b){return fun(a,b)}})}function F3(fun){return F(3,fun,function(a){return function(b){return function(c){return fun(a,b,c)}}})}function F4(fun){return F(4,fun,function(a){return function(b){return function(c){return function(d){return fun(a,b,c,d)}}}})}function F5(fun){return F(5,fun,function(a){return function(b){return function(c){return function(d){return function(e){return fun(a,b,c,d,e)}}}}})}function F6(fun){return F(6,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return fun(a,b,c,d,e,f)}}}}}})}function F7(fun){return F(7,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return fun(a,b,c,d,e,f,g)}}}}}}})}function F8(fun){return F(8,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return function(h){return fun(a,b,c,d,e,f,g,h)}}}}}}}})}function F9(fun){return F(9,fun,function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return function(h){return function(i){return fun(a,b,c,d,e,f,g,h,i)}}}}}}}}})}function A2(fun,a,b){return 2===fun.a?fun.f(a,b):fun(a)(b)}function A3(fun,a,b,c){return 3===fun.a?fun.f(a,b,c):fun(a)(b)(c)}function A4(fun,a,b,c,d){return 4===fun.a?fun.f(a,b,c,d):fun(a)(b)(c)(d)}function A5(fun,a,b,c,d,e){return 5===fun.a?fun.f(a,b,c,d,e):fun(a)(b)(c)(d)(e)}function A6(fun,a,b,c,d,e,f){return 6===fun.a?fun.f(a,b,c,d,e,f):fun(a)(b)(c)(d)(e)(f)}function A7(fun,a,b,c,d,e,f,g){return 7===fun.a?fun.f(a,b,c,d,e,f,g):fun(a)(b)(c)(d)(e)(f)(g)}function A8(fun,a,b,c,d,e,f,g,h){return 8===fun.a?fun.f(a,b,c,d,e,f,g,h):fun(a)(b)(c)(d)(e)(f)(g)(h)}function A9(fun,a,b,c,d,e,f,g,h,i){return 9===fun.a?fun.f(a,b,c,d,e,f,g,h,i):fun(a)(b)(c)(d)(e)(f)(g)(h)(i)}function _Utils_eq(x,y){for(var pair,stack=[],isEqual=_Utils_eqHelp(x,y,0,stack);isEqual&&(pair=stack.pop());isEqual=_Utils_eqHelp(pair.a,pair.b,0,stack));return isEqual}function _Utils_eqHelp(x,y,depth,stack){if(x===y)return!0;if("object"!=typeof x||null===x||null===y)return"function"==typeof x&&_Debug_crash(5),!1;if(100<depth)return stack.push({$:"#2",a:x,b:y}),!0;for(var key in"Set_elm_builtin"===x.$&&(x=$elm$core$Set$toList(x),y=$elm$core$Set$toList(y)),"RBNode_elm_builtin"!==x.$&&"RBEmpty_elm_builtin"!==x.$||(x=$elm$core$Dict$toList(x),y=$elm$core$Dict$toList(y)),x)if(!_Utils_eqHelp(x[key],y[key],depth+1,stack))return!1;return!0}console.warn("Compiled in DEV mode. Follow the advice at https://elm-lang.org/0.19.1/optimize for better performance and smaller assets.");var $mdgriffith$elm_ui$Internal$Style$classes_borderNone=F2(_Utils_eq),$mdgriffith$elm_ui$Internal$Style$classes_borderDotted=F2(function(a,b){return!_Utils_eq(a,b)});function _Utils_cmp(x,y,ord){if("object"!=typeof x)return x===y?0:x<y?-1:1;if(x instanceof String){var a=x.valueOf(),b=y.valueOf();return a===b?0:a<b?-1:1}if("#"===x.$[0])return(ord=_Utils_cmp(x.a,y.a))||(ord=_Utils_cmp(x.b,y.b))?ord:_Utils_cmp(x.c,y.c);for(;x.b&&y.b&&!(ord=_Utils_cmp(x.a,y.a));x=x.b,y=y.b);return ord||(x.b?1:y.b?-1:0)}var $elm$json$Json$Decode$null=F2(function(a,b){return _Utils_cmp(a,b)<0}),$elm$browser$Browser$application=F2(function(a,b){return _Utils_cmp(a,b)<1}),$mdgriffith$elm_ui$Internal$Style$classes_capturePointerEvents=F2(function(a,b){return 0<_Utils_cmp(a,b)}),$mdgriffith$elm_ui$Internal$Style$classes_scrollbars=F2(function(a,b){return 0<=_Utils_cmp(a,b)}),alpha=F2(function(x,n){n=_Utils_cmp(x,n);return n<0?$elm$core$Basics$LT:n?$elm$core$Basics$GT:$elm$core$Basics$EQ}),_Utils_Tuple0={$:"#0"};function _Utils_chr(c){return new String(c)}function _Utils_update(oldRecord,updatedFields){var key,newRecord={};for(key in oldRecord)newRecord[key]=oldRecord[key];for(key in updatedFields)newRecord[key]=updatedFields[key];return newRecord}function _Utils_ap(xs,ys){if("string"==typeof xs)return xs+ys;if(!xs.b)return ys;var root=_List_Cons(xs.a,ys);xs=xs.b;for(var curr=root;xs.b;xs=xs.b)curr=curr.b=_List_Cons(xs.a,ys);return root}var _List_Nil={$:"[]"};function _List_Cons(hd,tl){return{$:"::",a:hd,b:tl}}var _List_cons=F2(_List_Cons);function _List_fromArray(arr){for(var out=_List_Nil,i=arr.length;i--;)out=_List_Cons(arr[i],out);return out}function _List_toArray(xs){for(var out=[];xs.b;xs=xs.b)out.push(xs.a);return out}var $mdgriffith$elm_ui$Internal$Model$Focus=F3(function(f,xs,ys){for(var arr=[];xs.b&&ys.b;xs=xs.b,ys=ys.b)arr.push(A2(f,xs.a,ys.a));return _List_fromArray(arr)}),$mdgriffith$elm_ui$Internal$Style$classes_textMedium=F4(function(f,xs,ys,zs){for(var arr=[];xs.b&&ys.b&&zs.b;xs=xs.b,ys=ys.b,zs=zs.b)arr.push(A3(f,xs.a,ys.a,zs.a));return _List_fromArray(arr)}),triangleShadowFaces=F5(function(f,ws,xs,ys,zs){for(var arr=[];ws.b&&xs.b&&ys.b&&zs.b;ws=ws.b,xs=xs.b,ys=ys.b,zs=zs.b)arr.push(A4(f,ws.a,xs.a,ys.a,zs.a));return _List_fromArray(arr)}),$mdgriffith$elm_ui$Internal$Style$classes_textHeavy=F6(function(f,vs,ws,xs,ys,zs){for(var arr=[];vs.b&&ws.b&&xs.b&&ys.b&&zs.b;vs=vs.b,ws=ws.b,xs=xs.b,ys=ys.b,zs=zs.b)arr.push(A5(f,vs.a,ws.a,xs.a,ys.a,zs.a));return _List_fromArray(arr)}),_List_sortBy=F2(function(f,xs){return _List_fromArray(_List_toArray(xs).sort(function(a,b){return _Utils_cmp(f(a),f(b))}))}),_List_sortWith=F2(function(f,xs){return _List_fromArray(_List_toArray(xs).sort(function(a,ord){ord=A2(f,a,ord);return ord===$elm$core$Basics$EQ?0:ord===$elm$core$Basics$LT?-1:1}))}),$mdgriffith$elm_ui$Internal$Style$classes_clipX=F3(function(size,offset,func){for(var result=Array(size),i=0;i<size;i++)result[i]=func(offset+i);return result}),$elm$json$Json$Decode$int=F2(function(max,ls){for(var result=Array(max),i=0;i<max&&ls.b;i++)result[i]=ls.a,ls=ls.b;return result.length=i,{$:"#2",a:result,b:ls}}),$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsX=F2(function(index,array){return array[index]}),$mdgriffith$elm_ui$Internal$Model$Attr=F3(function(index,value,array){for(var length=array.length,result=Array(length),i=0;i<length;i++)result[i]=array[i];return result[index]=value,result}),_JsArray_foldl=F3(function(func,acc,array){for(var length=array.length,i=0;i<length;i++)acc=A2(func,array[i],acc);return acc}),_JsArray_foldr=F3(function(func,acc,array){for(var i=array.length-1;0<=i;i--)acc=A2(func,array[i],acc);return acc}),$mdgriffith$elm_ui$Element$rgb=F3(function(from,to,array){return array.slice(from,to)}),$elm$svg$Svg$Attributes$x1=F3(function(n,dest,source){var destLen=dest.length,itemsToCopy=n-destLen;source.length<itemsToCopy&&(itemsToCopy=source.length);for(var result=Array(destLen+itemsToCopy),i=0;i<destLen;i++)result[i]=dest[i];for(i=0;i<itemsToCopy;i++)result[i+destLen]=source[i];return result});function _Debug_toString(value){return function _Debug_toAnsiString(ansi,value){if("function"==typeof value)return _Debug_internalColor(ansi,"<function>");if("boolean"==typeof value)return _Debug_ctorColor(ansi,value?"True":"False");if("number"==typeof value)return _Debug_numberColor(ansi,value+"");if(value instanceof String)return _Debug_charColor(ansi,"'"+_Debug_addSlashes(value,!0)+"'");if("string"==typeof value)return _Debug_stringColor(ansi,'"'+_Debug_addSlashes(value,!1)+'"');if("object"==typeof value&&"$"in value){var tag=value.$;if("number"==typeof tag)return _Debug_internalColor(ansi,"<internals>");if("#"===tag[0]){var k,output=[];for(k in value)"$"!==k&&output.push(_Debug_toAnsiString(ansi,value[k]));return"("+output.join(",")+")"}if("Set_elm_builtin"===tag)return _Debug_ctorColor(ansi,"Set")+_Debug_fadeColor(ansi,".fromList")+" "+_Debug_toAnsiString(ansi,$elm$core$Set$toList(value));if("RBNode_elm_builtin"===tag||"RBEmpty_elm_builtin"===tag)return _Debug_ctorColor(ansi,"Dict")+_Debug_fadeColor(ansi,".fromList")+" "+_Debug_toAnsiString(ansi,$elm$core$Dict$toList(value));if("Array_elm_builtin"===tag)return _Debug_ctorColor(ansi,"Array")+_Debug_fadeColor(ansi,".fromList")+" "+_Debug_toAnsiString(ansi,$elm$core$Array$toList(value));if("::"===tag||"[]"===tag){var output="[";for(value.b&&(output+=_Debug_toAnsiString(ansi,value.a),value=value.b);value.b;value=value.b)output+=","+_Debug_toAnsiString(ansi,value.a);return output+"]"}var i,str,parenless,output="";for(i in value)"$"!==i&&(str=_Debug_toAnsiString(ansi,value[i]),parenless="{"===(parenless=str[0])||"("===parenless||"["===parenless||"<"===parenless||'"'===parenless||!~str.indexOf(" "),output+=" "+(parenless?str:"("+str+")"));return _Debug_ctorColor(ansi,tag)+output}if("function"==typeof DataView&&value instanceof DataView)return _Debug_stringColor(ansi,"<"+value.byteLength+" bytes>");if("undefined"!=typeof File&&value instanceof File)return _Debug_internalColor(ansi,"<"+value.name+">");if("object"==typeof value){var key,output=[];for(key in value){var field="_"===key[0]?key.slice(1):key;output.push(_Debug_fadeColor(ansi,field)+" = "+_Debug_toAnsiString(ansi,value[key]))}return 0===output.length?"{}":"{ "+output.join(", ")+" }"}return _Debug_internalColor(ansi,"<internals>")}(!1,value)}function _Debug_addSlashes(s,isChar){s=s.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return isChar?s.replace(/\'/g,"\\'"):s.replace(/\"/g,'\\"')}function _Debug_ctorColor(ansi,string){return ansi?"[96m"+string+"[0m":string}function _Debug_numberColor(ansi,string){return ansi?"[95m"+string+"[0m":string}function _Debug_stringColor(ansi,string){return ansi?"[93m"+string+"[0m":string}function _Debug_charColor(ansi,string){return ansi?"[92m"+string+"[0m":string}function _Debug_fadeColor(ansi,string){return ansi?"[37m"+string+"[0m":string}function _Debug_internalColor(ansi,string){return ansi?"[36m"+string+"[0m":string}function _Debug_crash(identifier,fact1,fact2,fact3,fact4){switch(identifier){case 0:throw Error('What node should I take over? In JavaScript I need something like:\n\n    Elm.Main.init({\n        node: document.getElementById("elm-node")\n    })\n\nYou need to do this with any Browser.sandbox or Browser.element program.');case 1:throw Error("Browser.application programs cannot handle URLs like this:\n\n    "+document.location.href+"\n\nWhat is the root? The root of your file system? Try looking at this program with `elm reactor` or some other server.");case 2:throw Error("Problem with the flags given to your Elm program on initialization.\n\n"+fact1);case 3:throw Error("There can only be one port named `"+fact1+"`, but your program has multiple.");case 4:throw Error("Trying to send an unexpected type of value through port `"+fact1+"`:\n"+fact2);case 5:throw Error('Trying to use `(==)` on functions.\nThere is no way to know if functions are "the same" in the Elm sense.\nRead more about this at https://package.elm-lang.org/packages/elm/core/latest/Basics#== which describes why it is this way and what the better version will look like.');case 6:throw Error("Your page is loading multiple Elm scripts with a module named "+fact1+". Maybe a duplicate script is getting loaded accidentally? If not, rename one of them so I know which is which!");case 8:throw Error("TODO in module `"+fact1+"` "+_Debug_regionToString(fact2)+"\n\n"+(message=fact3));case 9:var message=fact4;throw Error("TODO in module `"+fact1+"` from the `case` expression "+_Debug_regionToString(fact2)+"\n\nIt received the following value:\n\n    "+_Debug_toString(fact3).replace("\n","\n    ")+"\n\nBut the branch that handles it says:\n\n    "+message.replace("\n","\n    "));case 10:throw Error("Bug in https://github.com/elm/virtual-dom/issues");case 11:throw Error("Cannot perform mod 0. Division by zero error.")}}function _Debug_regionToString(region){return region.start.line===region.end.line?"on line "+region.start.line:"on lines "+region.start.line+" through "+region.end.line}var $author$project$Main$init=F2(function(a,b){return a+b}),$mdgriffith$elm_ui$Internal$Style$describeAlignment=F2(function(a,b){return a-b}),$mdgriffith$elm_ui$Internal$Style$classes_bold=F2(function(a,b){return a/b}),$elm$json$Json$Decode$list=F2(function(a,b){return a/b|0}),$mdgriffith$elm_ui$Internal$Model$FontFamily=F2(Math.pow),$mdgriffith$elm_ui$Internal$Style$classes_grid=F2(function(b,a){return a%b}),$mdgriffith$elm_ui$Internal$Style$AllChildren=F2(function(modulus,answer){answer%=modulus;return 0===modulus?_Debug_crash(11):0<answer&&modulus<0||answer<0&&0<modulus?answer+modulus:answer}),color=Math.cos,$mdgriffith$elm_ui$Internal$Style$classes_textExtraLight=Math.sin,$elm_explorations$webgl$WebGL$Settings$Blend$customAdd=Math.tan,$mdgriffith$elm_ui$Internal$Style$classes_textLight=F2(Math.atan2),$mdgriffith$elm_ui$Internal$Style$classes_active=Math.ceil,$mdgriffith$elm_ui$Internal$Style$classes_borderSolid=Math.floor,$mdgriffith$elm_ui$Internal$Style$locations=Math.round,$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsY=Math.sqrt,_Basics_log=Math.log,$mdgriffith$elm_ui$Internal$Style$Supports=isNaN,$mdgriffith$elm_ui$Internal$Style$classes_borderDashed=F2(function(a,b){return a||b}),$feathericons$elm_feather$FeatherIcons$makeBuilder=F2(function(chr,str){return chr+str}),$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver=F2(function(isGood,str){for(var arr=[],len=str.length,i=0;i<len;){var char=str[i],word=str.charCodeAt(i);i++,word<55296||56319<word||(char+=str[i],i++),isGood(new String(char))&&arr.push(char)}return arr.join("")}),$mdgriffith$elm_ui$Internal$Flag$fontFamily=F3(function(func,state,string){for(var i=string.length;i--;){var char=string[i],word=string.charCodeAt(i);word<56320||57343<word||(char=string[--i]+char),state=A2(func,new String(char),state)}return state}),_String_split=F2(function(sep,str){return str.split(sep)}),_String_join=F2(function(sep,strs){return strs.join(sep)}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp=F3(function(start,end,str){return str.slice(start,end)}),$elm$svg$Svg$line=F2(function(isGood,string){for(var i=string.length;i--;){var char=string[i],word=string.charCodeAt(i);if(word<56320||57343<word||(char=string[--i]+char),!isGood(new String(char)))return!1}return!0}),$mdgriffith$elm_ui$Internal$Style$classes_textExtraBold=F2(function(sub,str){return!!~str.indexOf(sub)}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=F2(function(sub,str){return 0==str.indexOf(sub)}),$mdgriffith$elm_ui$Internal$Flag$fontAlignment=F2(function(sub,str){return sub.length<=str.length&&str.lastIndexOf(sub)==str.length-sub.length}),$mdgriffith$elm_ui$Internal$Style$classes_textSemiBold=F2(function(sub,str){var subLen=sub.length;if(subLen<1)return _List_Nil;for(var i=0,is=[];-1<(i=str.indexOf(sub,i));)is.push(i),i+=subLen;return _List_fromArray(is)});function _String_fromNumber(number){return number+""}var $mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove={$:2,b:function(value){return"number"!=typeof value||(value<=-2147483647||2147483647<=value||(0|value)!==value)&&(!isFinite(value)||value%1)?_Json_expecting("an INT",value):$elm$core$Result$Ok(value)}},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event={$:2,b:function(value){return"boolean"==typeof value?$elm$core$Result$Ok(value):_Json_expecting("a BOOL",value)}},$elm$json$Json$Decode$map3={$:2,b:function(value){return"number"==typeof value?$elm$core$Result$Ok(value):_Json_expecting("a FLOAT",value)}},$mdgriffith$elm_ui$Internal$Style$classes_opaque={$:2,b:function(value){return $elm$core$Result$Ok({$:0,a:value})}},decs={$:2,b:function(value){return"string"==typeof value?$elm$core$Result$Ok(value):value instanceof String?$elm$core$Result$Ok(value+""):_Json_expecting("a STRING",value)}},$elm$svg$Svg$Attributes$y2=F2(function(field,decoder){return{$:6,d:field,b:decoder}}),$elm$svg$Svg$Attributes$points=F2(function(callback,decoder){return{$:10,b:decoder,h:callback}}),$mdgriffith$elm_ui$Internal$Style$classes_hasBehind=F2(function(f,d1){return{$:9,f:f,g:[d1]}}),$mdgriffith$elm_ui$Internal$Style$classes_hover=F3(function(f,d1,d2){return{$:9,f:f,g:[d1,d2]}}),$author$project$Internal$AuthenticationSuccess=F4(function(f,d1,d2,d3){return{$:9,f:f,g:[d1,d2,d3]}}),$mdgriffith$elm_ui$Internal$Model$renderFontClassName=F5(function(f,d1,d2,d3,d4){return{$:9,f:f,g:[d1,d2,d3,d4]}}),$author$project$Internal$errorDescriptionDecoder=F6(function(f,d1,d2,d3,d4,d5){return{$:9,f:f,g:[d1,d2,d3,d4,d5]}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onClick=F7(function(f,d1,d2,d3,d4,d5,d6){return{$:9,f:f,g:[d1,d2,d3,d4,d5,d6]}}),$author$project$Internal$errorUriDecoder=F8(function(f,d1,d2,d3,d4,d5,d6,d7){return{$:9,f:f,g:[d1,d2,d3,d4,d5,d6,d7]}}),$author$project$Main$update=F9(function(f,d1,d2,d3,d4,d5,d6,d7,d8){return{$:9,f:f,g:[d1,d2,d3,d4,d5,d6,d7,d8]}}),$author$project$Internal$AuthenticationError=F2(function(decoder,string){try{return _Json_runHelp(decoder,JSON.parse(string))}catch(e){return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure,"This is not valid JSON! "+e.message,{$:0,a:string}))}}),_Json_run=F2(function(decoder,value){return _Json_runHelp(decoder,value.a)});function _Json_runHelp(decoder,value){switch(decoder.$){case 2:return decoder.b(value);case 5:return null===value?$elm$core$Result$Ok(decoder.c):_Json_expecting("null",value);case 3:return _Json_isArray(value)?_Json_runArrayDecoder(decoder.b,value,_List_fromArray):_Json_expecting("a LIST",value);case 4:return _Json_isArray(value)?_Json_runArrayDecoder(decoder.b,value,_Json_toElmArray):_Json_expecting("an ARRAY",value);case 6:var index=decoder.d;if("object"!=typeof value||null===value||!(index in value))return _Json_expecting("an OBJECT with a field named `"+index+"`",value);var result=_Json_runHelp(decoder.b,value[index]);return $elm$core$Result$isOk(result)?result:$elm$core$Result$Err(A2($elm$json$Json$Decode$Field,index,result.a));case 7:index=decoder.e;if(!_Json_isArray(value))return _Json_expecting("an ARRAY",value);if(value.length<=index)return _Json_expecting("a LONGER array. Need index "+index+" but only see "+value.length+" entries",value);result=_Json_runHelp(decoder.b,value[index]);return $elm$core$Result$isOk(result)?result:$elm$core$Result$Err(A2($elm$json$Json$Decode$Index,index,result.a));case 8:if("object"!=typeof value||null===value||_Json_isArray(value))return _Json_expecting("an OBJECT",value);var key,keyValuePairs=_List_Nil;for(key in value)if(value.hasOwnProperty(key)){result=_Json_runHelp(decoder.b,value[key]);if(!$elm$core$Result$isOk(result))return $elm$core$Result$Err(A2($elm$json$Json$Decode$Field,key,result.a));keyValuePairs=_List_Cons({$:"#2",a:key,b:result.a},keyValuePairs)}return $elm$core$Result$Ok($elm$core$List$reverse(keyValuePairs));case 9:for(var answer=decoder.f,decoders=decoder.g,i=0;i<decoders.length;i++){result=_Json_runHelp(decoders[i],value);if(!$elm$core$Result$isOk(result))return result;answer=answer(result.a)}return $elm$core$Result$Ok(answer);case 10:result=_Json_runHelp(decoder.b,value);return $elm$core$Result$isOk(result)?_Json_runHelp(decoder.h(result.a),value):result;case 11:for(var errors=_List_Nil,temp=decoder.g;temp.b;temp=temp.b){result=_Json_runHelp(temp.a,value);if($elm$core$Result$isOk(result))return result;errors=_List_Cons(result.a,errors)}return $elm$core$Result$Err($elm$json$Json$Decode$OneOf($elm$core$List$reverse(errors)));case 1:return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure,decoder.a,{$:0,a:value}));case 0:return $elm$core$Result$Ok(decoder.a)}}function _Json_runArrayDecoder(decoder,value,toElmValue){for(var len=value.length,array=Array(len),i=0;i<len;i++){var result=_Json_runHelp(decoder,value[i]);if(!$elm$core$Result$isOk(result))return $elm$core$Result$Err(A2($elm$json$Json$Decode$Index,i,result.a));array[i]=result.a}return $elm$core$Result$Ok(toElmValue(array))}function _Json_isArray(value){return Array.isArray(value)||"undefined"!=typeof FileList&&value instanceof FileList}function _Json_toElmArray(array){return A2($elm$core$Array$initialize,array.length,function(i){return array[i]})}function _Json_expecting(type,value){return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure,"Expecting "+type,{$:0,a:value}))}function _Json_equality(x,y){if(x===y)return!0;if(x.$!==y.$)return!1;switch(x.$){case 0:case 1:return x.a===y.a;case 2:return x.b===y.b;case 5:return x.c===y.c;case 3:case 4:case 8:return _Json_equality(x.b,y.b);case 6:return x.d===y.d&&_Json_equality(x.b,y.b);case 7:return x.e===y.e&&_Json_equality(x.b,y.b);case 9:return x.f===y.f&&_Json_listEquality(x.g,y.g);case 10:return x.h===y.h&&_Json_equality(x.b,y.b);case 11:return _Json_listEquality(x.g,y.g)}}function _Json_listEquality(aDecoders,bDecoders){var len=aDecoders.length;if(len!==bDecoders.length)return!1;for(var i=0;i<len;i++)if(!_Json_equality(aDecoders[i],bDecoders[i]))return!1;return!0}var $mdgriffith$elm_ui$Internal$Style$Right=F2(function(indentLevel,value){return JSON.stringify(value.a,null,indentLevel)+""});function _Json_wrap(value){return{$:0,a:value}}var _Json_addField=F3(function(key,value,object){return object[key]=value.a,object});function _Scheduler_succeed(value){return{$:0,a:value}}var _Scheduler_andThen=F2(function(callback,task){return{$:3,b:callback,d:task}}),_Scheduler_guid=0;function _Scheduler_rawSpawn(proc){proc={$:0,e:_Scheduler_guid++,f:proc,g:null,h:[]};return _Scheduler_enqueue(proc),proc}function _Scheduler_spawn(task){return{$:2,b:function(callback){callback({$:0,a:_Scheduler_rawSpawn(task)})},c:null}}function _Scheduler_rawSend(proc,msg){proc.h.push(msg),_Scheduler_enqueue(proc)}var _Scheduler_send=F2(function(proc,msg){return{$:2,b:function(callback){_Scheduler_rawSend(proc,msg),callback({$:0,a:_Utils_Tuple0})},c:null}}),_Scheduler_working=!1,_Scheduler_queue=[];function _Scheduler_enqueue(proc){if(_Scheduler_queue.push(proc),!_Scheduler_working){for(_Scheduler_working=!0;proc=_Scheduler_queue.shift();)!function(proc){for(;proc.f;){var rootTag=proc.f.$;if(0===rootTag||1===rootTag){for(;proc.g&&proc.g.$!==rootTag;)proc.g=proc.g.i;if(!proc.g)return;proc.f=proc.g.b(proc.f.a),proc.g=proc.g.i}else{if(2===rootTag)return proc.f.c=proc.f.b(function(newRoot){proc.f=newRoot,_Scheduler_enqueue(proc)});if(5===rootTag){if(0===proc.h.length)return;proc.f=proc.f.b(proc.h.shift())}else proc.g={$:3===rootTag?0:1,b:proc.f.b,i:proc.g},proc.f=proc.f.d}}}(proc);_Scheduler_working=!1}}function _Process_sleep(time){return{$:2,b:function(callback){var id=setTimeout(function(){callback({$:0,a:_Utils_Tuple0})},time);return function(){clearTimeout(id)}},c:null}}function _Platform_initialize(flagDecoder,initPair,init,update,subscriptions,ports){initPair=A2(_Json_run,flagDecoder,{$:0,a:initPair?initPair.flags:void 0});$elm$core$Result$isOk(initPair)||_Debug_crash(2,$elm$json$Json$Decode$errorToString(initPair.a));var managers={},initPair=init(initPair.a),model=initPair.a,stepper=ports(sendToApp,model),ports=function(managers,sendToApp){var ports,key;for(key in _Platform_effectManagers){var manager=_Platform_effectManagers[key];manager.a&&((ports=ports||{})[key]=manager.a(key,sendToApp)),managers[key]=function(info,sendToApp){var router={g:sendToApp,h:void 0},onEffects=info.c,onSelfMsg=info.d,cmdMap=info.e,subMap=info.f;function loop(state){return A2(_Scheduler_andThen,loop,{$:5,b:function(msg){var value=msg.a;return 0===msg.$?A3(onSelfMsg,router,value,state):cmdMap&&subMap?A4(onEffects,router,value.i,value.j,state):A3(onEffects,router,cmdMap?value.i:value.j,state)}})}return router.h=_Scheduler_rawSpawn(A2(_Scheduler_andThen,loop,info.b))}(manager,sendToApp)}return ports}(managers,sendToApp);function sendToApp(pair,viewMetadata){pair=A2(update,pair,model);stepper(model=pair.a,viewMetadata),_Platform_enqueueEffects(managers,pair.b,subscriptions(model))}return _Platform_enqueueEffects(managers,initPair.b,subscriptions(model)),ports?{ports:ports}:{}}var _Platform_effectManagers={},$mdgriffith$elm_ui$Internal$Style$classes_transparent=F2(function(router,msg){return{$:2,b:function(callback){router.g(msg),callback({$:0,a:_Utils_Tuple0})},c:null}}),$elm$svg$Svg$polygon=F2(function(router,msg){return A2(_Scheduler_send,router.h,{$:0,a:msg})});function _Platform_leaf(home){return function(value){return{$:1,k:home,l:value}}}function _Platform_batch(list){return{$:2,m:list}}var $elm$json$Json$Decode$map4=F2(function(tagger,bag){return{$:3,n:tagger,o:bag}}),_Platform_effectsQueue=[],_Platform_effectsActive=!1;function _Platform_enqueueEffects(managers,cmdBag,subBag){if(_Platform_effectsQueue.push({p:managers,q:cmdBag,r:subBag}),!_Platform_effectsActive){_Platform_effectsActive=!0;for(var fx;fx=_Platform_effectsQueue.shift();)!function(managers,subBag){var home,effectsDict={};for(home in _Platform_gatherEffects(!0,fx.q,effectsDict,null),_Platform_gatherEffects(!1,subBag,effectsDict,null),managers)_Scheduler_rawSend(managers[home],{$:"fx",a:effectsDict[home]||{i:_List_Nil,j:_List_Nil}})}(fx.p,fx.r);_Platform_effectsActive=!1}}function _Platform_gatherEffects(isCmd,bag,effectsDict,taggers){switch(bag.$){case 1:var home=bag.k,effect=function(isCmd,home,taggers,value){function applyTaggers(x){for(var temp=taggers;temp;temp=temp.t)x=temp.s(x);return x}return A2(isCmd?_Platform_effectManagers[home].e:_Platform_effectManagers[home].f,applyTaggers,value)}(isCmd,home,taggers,bag.l);return void(effectsDict[home]=function(isCmd,newEffect,effects){return effects=effects||{i:_List_Nil,j:_List_Nil},isCmd?effects.i=_List_Cons(newEffect,effects.i):effects.j=_List_Cons(newEffect,effects.j),effects}(isCmd,effect,effectsDict[home]));case 2:for(var list=bag.m;list.b;list=list.b)_Platform_gatherEffects(isCmd,list.a,effectsDict,taggers);return;case 3:return void _Platform_gatherEffects(isCmd,bag.o,effectsDict,{s:bag.n,t:taggers})}}function _Platform_checkPortName(name){_Platform_effectManagers[name]&&_Debug_crash(3,name)}function _Platform_outgoingPort(name,converter){return _Platform_checkPortName(name),_Platform_effectManagers[name]={e:_Platform_outgoingPortMap,u:converter,a:_Platform_setupOutgoingPort},_Platform_leaf(name)}var _Platform_outgoingPortMap=F2(function(tagger,value){return value});function _Platform_setupOutgoingPort(name){var subs=[],converter=_Platform_effectManagers[name].u,init=_Process_sleep(0);return _Platform_effectManagers[name].b=init,_Platform_effectManagers[name].c=F3(function(router,cmdList){for(;cmdList.b;cmdList=cmdList.b)for(var currentSubs=subs,value=converter(cmdList.a).a,i=0;i<currentSubs.length;i++)currentSubs[i](value);return init}),{subscribe:function(callback){subs.push(callback)},unsubscribe:function(index){(index=(subs=subs.slice()).indexOf(index))<0||subs.splice(index,1)}}}function _Platform_incomingPort(name,converter){return _Platform_checkPortName(name),_Platform_effectManagers[name]={f:_Platform_incomingPortMap,u:converter,a:_Platform_setupIncomingPort},_Platform_leaf(name)}var _VirtualDom_divertHrefToApp,_Platform_incomingPortMap=F2(function(tagger,finalTagger){return function(value){return tagger(finalTagger(value))}});function _Platform_setupIncomingPort(name,sendToApp){var subs=_List_Nil,converter=_Platform_effectManagers[name].u,init={$:0,a:null};return _Platform_effectManagers[name].b=init,_Platform_effectManagers[name].c=F3(function(router,subList){return subs=subList,init}),{send:function(result){$elm$core$Result$isOk(result=A2(_Json_run,converter,{$:0,a:result}))||_Debug_crash(4,name,result.a);for(var value=result.a,temp=subs;temp.b;temp=temp.b)sendToApp(temp.a(value))}}}var _VirtualDom_doc="undefined"!=typeof document?document:{};function _VirtualDom_text(string){return{$:0,a:string}}var _VirtualDom_node=($mdgriffith$elm_ui$Element$Input$defaultTextPadding=F2(function(namespace,tag){return F2(function(factList,kidList){for(var kids=[],descendantsCount=0;kidList.b;kidList=kidList.b){var kid=kidList.a;descendantsCount+=kid.b||0,kids.push(kid)}return descendantsCount+=kids.length,{$:1,c:tag,d:_VirtualDom_organizeFacts(factList),e:kids,f:namespace,b:descendantsCount}})}))(void 0),_VirtualDom_keyedNode=F2(function(namespace,tag){return F2(function(factList,kidList){for(var kids=[],descendantsCount=0;kidList.b;kidList=kidList.b){var kid=kidList.a;descendantsCount+=kid.b.b||0,kids.push(kid)}return descendantsCount+=kids.length,{$:2,c:tag,d:_VirtualDom_organizeFacts(factList),e:kids,f:namespace,b:descendantsCount}})})(void 0);function _VirtualDom_custom(factList,model,render,diff){return{$:3,d:_VirtualDom_organizeFacts(factList),g:model,h:render,i:diff}}var $elm$svg$Svg$Attributes$x2=F2(function(tagger,node){return{$:4,j:tagger,k:node,b:1+(node.b||0)}}),_VirtualDom_on=F2(function(key,handler){return{$:"a0",n:key,o:handler}}),$elm$svg$Svg$circle=F2(function(key,value){return{$:"a1",n:key,o:value}}),_VirtualDom_property=F2(function(key,value){return{$:"a2",n:key,o:value}}),_VirtualDom_attribute=F2(function(key,value){return{$:"a3",n:key,o:value}});function _VirtualDom_noScript(tag){return"script"==tag?"p":tag}function _VirtualDom_noJavaScriptOrHtmlUri(value){return/^\s*(javascript:|data:text\/html)/i.test(value)?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':value}var _VirtualDom_passiveSupported,$elm$svg$Svg$Attributes$y1=F2(function(func,attr){return"a0"===attr.$?A2(_VirtualDom_on,attr.n,function(func,handler){var tag=$elm$virtual_dom$VirtualDom$toHandlerInt(handler);return{$:handler.$,a:tag?A3($elm$json$Json$Decode$map2,tag<3?_VirtualDom_mapEventTuple:_VirtualDom_mapEventRecord,$elm$json$Json$Decode$succeed(func),handler.a):A2($elm$json$Json$Decode$map,func,handler.a)}}(func,attr.o)):attr}),_VirtualDom_mapEventTuple=F2(function(func,tuple){return{$:"#2",a:func(tuple.a),b:tuple.b}}),_VirtualDom_mapEventRecord=F2(function(func,record){return{message:func(record.message),stopPropagation:record.stopPropagation,preventDefault:record.preventDefault}});function _VirtualDom_organizeFacts(factList){for(var facts={};factList.b;factList=factList.b){var subFacts=factList.a,tag=subFacts.$,key=subFacts.n,value=subFacts.o;"a2"!==tag?(subFacts=facts[tag]||(facts[tag]={}),"a3"===tag&&"class"===key?_VirtualDom_addClass(subFacts,key,value):subFacts[key]=value):"className"===key?_VirtualDom_addClass(facts,key,value.a):facts[key]=value.a}return facts}function _VirtualDom_addClass(object,key,newClass){var classes=object[key];object[key]=classes?classes+" "+newClass:newClass}function _VirtualDom_render(vNode,eventNode){var tag=vNode.$;if(5===tag)return _VirtualDom_render(vNode.k||(vNode.k=vNode.m()),eventNode);if(0===tag)return _VirtualDom_doc.createTextNode(vNode.a);if(4===tag){for(var subNode=vNode.k,tagger=vNode.j;4===subNode.$;)"object"!=typeof tagger?tagger=[tagger,subNode.j]:tagger.push(subNode.j),subNode=subNode.k;var subEventRoot={j:tagger,p:eventNode};return(domNode=_VirtualDom_render(subNode,subEventRoot)).elm_event_node_ref=subEventRoot,domNode}if(3===tag)return _VirtualDom_applyFacts(domNode=vNode.h(vNode.g),eventNode,vNode.d),domNode;var domNode=vNode.f?_VirtualDom_doc.createElementNS(vNode.f,vNode.c):_VirtualDom_doc.createElement(vNode.c);_VirtualDom_divertHrefToApp&&"a"==vNode.c&&domNode.addEventListener("click",_VirtualDom_divertHrefToApp(domNode)),_VirtualDom_applyFacts(domNode,eventNode,vNode.d);for(var kids=vNode.e,i=0;i<kids.length;i++)domNode.appendChild(_VirtualDom_render(1===tag?kids[i]:kids[i].b,eventNode));return domNode}function _VirtualDom_applyFacts(domNode,eventNode,facts){for(var key in facts){var value=facts[key];"a1"===key?function(domNode,styles){var key,domNodeStyle=domNode.style;for(key in styles)domNodeStyle[key]=styles[key]}(domNode,value):"a0"===key?function(domNode,eventNode,events){var key,allCallbacks=domNode.elmFs||(domNode.elmFs={});for(key in events){var newHandler=events[key],oldCallback=allCallbacks[key];if(newHandler){if(oldCallback){if(oldCallback.q.$===newHandler.$){oldCallback.q=newHandler;continue}domNode.removeEventListener(key,oldCallback)}oldCallback=function(eventNode,initialHandler){function callback(event){var value=callback.q,stopPropagation=_Json_runHelp(value.a,event);if($elm$core$Result$isOk(stopPropagation)){for(var tagger,tag=$elm$virtual_dom$VirtualDom$toHandlerInt(value),value=stopPropagation.a,message=tag?tag<3?value.a:value.message:value,stopPropagation=1==tag?value.b:3==tag&&value.stopPropagation,currentEventNode=(stopPropagation&&event.stopPropagation(),(2==tag?value.b:3==tag&&value.preventDefault)&&event.preventDefault(),eventNode);tagger=currentEventNode.j;){if("function"==typeof tagger)message=tagger(message);else for(var i=tagger.length;i--;)message=tagger[i](message);currentEventNode=currentEventNode.p}currentEventNode(message,stopPropagation)}}return callback.q=initialHandler,callback}(eventNode,newHandler),domNode.addEventListener(key,oldCallback,_VirtualDom_passiveSupported&&{passive:$elm$virtual_dom$VirtualDom$toHandlerInt(newHandler)<2}),allCallbacks[key]=oldCallback}else domNode.removeEventListener(key,oldCallback),allCallbacks[key]=void 0}}(domNode,eventNode,value):"a3"===key?function(domNode,attrs){for(var key in attrs){var value=attrs[key];void 0!==value?domNode.setAttribute(key,value):domNode.removeAttribute(key)}}(domNode,value):"a4"===key?function(domNode,nsAttrs){for(var key in nsAttrs){var value=nsAttrs[key],namespace=value.f,value=value.o;void 0!==value?domNode.setAttributeNS(namespace,key,value):domNode.removeAttributeNS(namespace,key)}}(domNode,value):("value"!==key&&"checked"!==key||domNode[key]!==value)&&(domNode[key]=value)}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){_VirtualDom_passiveSupported=!0}}))}catch(e){}function _VirtualDom_diff(x,y){var patches=[];return _VirtualDom_diffHelp(x,y,patches,0),patches}function _VirtualDom_pushPatch(patches,type,index,patch){patch={$:type,r:index,s:patch,t:void 0,u:void 0};return patches.push(patch),patch}function _VirtualDom_diffHelp(x,y,patches,index){if(x!==y){var xType=x.$,yType=y.$;if(xType!==yType){if(1!==xType||2!==yType)return void _VirtualDom_pushPatch(patches,0,index,y);y=function(keyedNode){for(var keyedKids=keyedNode.e,len=keyedKids.length,kids=Array(len),i=0;i<len;i++)kids[i]=keyedKids[i].b;return{$:1,c:keyedNode.c,d:keyedNode.d,e:kids,f:keyedNode.f,b:keyedNode.b}}(y),yType=1}switch(yType){case 5:for(var xRefs=x.l,yRefs=y.l,i=xRefs.length,same=i===yRefs.length;same&&i--;)same=xRefs[i]===yRefs[i];if(same)return void(y.k=x.k);y.k=y.m();var patch=[];return _VirtualDom_diffHelp(x.k,y.k,patch,0),void(0<patch.length&&_VirtualDom_pushPatch(patches,1,index,patch));case 4:for(var xTaggers=x.j,yTaggers=y.j,nesting=!1,xSubNode=x.k;4===xSubNode.$;)nesting=!0,"object"!=typeof xTaggers?xTaggers=[xTaggers,xSubNode.j]:xTaggers.push(xSubNode.j),xSubNode=xSubNode.k;for(var ySubNode=y.k;4===ySubNode.$;)nesting=!0,"object"!=typeof yTaggers?yTaggers=[yTaggers,ySubNode.j]:yTaggers.push(ySubNode.j),ySubNode=ySubNode.k;return nesting&&xTaggers.length!==yTaggers.length?void _VirtualDom_pushPatch(patches,0,index,y):((nesting?function(as,bs){for(var i=0;i<as.length;i++)if(as[i]!==bs[i])return!1;return!0}(xTaggers,yTaggers):xTaggers===yTaggers)||_VirtualDom_pushPatch(patches,2,index,yTaggers),void _VirtualDom_diffHelp(xSubNode,ySubNode,patches,index+1));case 0:return void(x.a!==y.a&&_VirtualDom_pushPatch(patches,3,index,y.a));case 1:return void _VirtualDom_diffNodes(x,y,patches,index,_VirtualDom_diffKids);case 2:return void _VirtualDom_diffNodes(x,y,patches,index,_VirtualDom_diffKeyedKids);case 3:if(x.h!==y.h)return void _VirtualDom_pushPatch(patches,0,index,y);patch=_VirtualDom_diffFacts(x.d,y.d);patch&&_VirtualDom_pushPatch(patches,4,index,patch);patch=y.i(x.g,y.g);return void(patch&&_VirtualDom_pushPatch(patches,5,index,patch))}}}function _VirtualDom_diffNodes(x,y,patches,index,diffKids){var factsDiff;x.c===y.c&&x.f===y.f?((factsDiff=_VirtualDom_diffFacts(x.d,y.d))&&_VirtualDom_pushPatch(patches,4,index,factsDiff),diffKids(x,y,patches,index)):_VirtualDom_pushPatch(patches,0,index,y)}function _VirtualDom_diffFacts(x,y,category){var diff,xKey,xValue,subDiff,yKey;for(xKey in x)"a1"!==xKey&&"a0"!==xKey&&"a3"!==xKey&&"a4"!==xKey?xKey in y?(xValue=x[xKey])===(subDiff=y[xKey])&&"value"!==xKey&&"checked"!==xKey||"a0"===category&&function(x,y){return x.$==y.$&&_Json_equality(x.a,y.a)}(xValue,subDiff)||((diff=diff||{})[xKey]=subDiff):(diff=diff||{})[xKey]=category?"a1"===category?"":"a0"===category||"a3"===category?void 0:{f:x[xKey].f,o:void 0}:"string"==typeof x[xKey]?"":null:(subDiff=_VirtualDom_diffFacts(x[xKey],y[xKey]||{},xKey))&&((diff=diff||{})[xKey]=subDiff);for(yKey in y)yKey in x||((diff=diff||{})[yKey]=y[yKey]);return diff}function _VirtualDom_diffKids(xLen,yLen,patches,index){var xKids=xLen.e,yKids=yLen.e,xLen=xKids.length,yLen=yKids.length;yLen<xLen?_VirtualDom_pushPatch(patches,6,index,{v:yLen,i:xLen-yLen}):xLen<yLen&&_VirtualDom_pushPatch(patches,7,index,{v:xLen,e:yKids});for(var minLen=xLen<yLen?xLen:yLen,i=0;i<minLen;i++){var xKid=xKids[i];_VirtualDom_diffHelp(xKid,yKids[i],patches,++index),index+=xKid.b||0}}function _VirtualDom_diffKeyedKids(xParent,yParent,patches,rootIndex){for(var localPatches=[],changes={},inserts=[],xKids=xParent.e,yKids=yParent.e,xLen=xKids.length,yLen=yKids.length,xIndex=0,yIndex=0,index=rootIndex;xIndex<xLen&&yIndex<yLen;){var x,xKey=(x=xKids[xIndex]).a,yKey=(y=yKids[yIndex]).a,xNode=x.b,yNode=y.b,newMatch=void 0,oldMatch=void 0;if(xKey!==yKey){var xNextKey,xNextNode,yNextKey,yNextNode,xNext=xKids[xIndex+1],yNext=yKids[yIndex+1];if(xNext&&(xNextNode=xNext.b,oldMatch=yKey===(xNextKey=xNext.a)),yNext&&(yNextNode=yNext.b,newMatch=xKey===(yNextKey=yNext.a)),newMatch&&oldMatch)_VirtualDom_diffHelp(xNode,yNextNode,localPatches,++index),_VirtualDom_insertNode(changes,localPatches,xKey,yNode,yIndex,inserts),index+=xNode.b||0,_VirtualDom_removeNode(changes,localPatches,xKey,xNextNode,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=2;else if(newMatch)index++,_VirtualDom_insertNode(changes,localPatches,yKey,yNode,yIndex,inserts),_VirtualDom_diffHelp(xNode,yNextNode,localPatches,index),index+=xNode.b||0,xIndex+=1,yIndex+=2;else if(oldMatch)_VirtualDom_removeNode(changes,localPatches,xKey,xNode,++index),index+=xNode.b||0,_VirtualDom_diffHelp(xNextNode,yNode,localPatches,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=1;else{if(!xNext||xNextKey!==yNextKey)break;_VirtualDom_removeNode(changes,localPatches,xKey,xNode,++index),_VirtualDom_insertNode(changes,localPatches,yKey,yNode,yIndex,inserts),index+=xNode.b||0,_VirtualDom_diffHelp(xNextNode,yNextNode,localPatches,++index),index+=xNextNode.b||0,xIndex+=2,yIndex+=2}}else _VirtualDom_diffHelp(xNode,yNode,localPatches,++index),index+=xNode.b||0,xIndex++,yIndex++}for(;xIndex<xLen;)_VirtualDom_removeNode(changes,localPatches,(x=xKids[xIndex]).a,xNode=x.b,++index),index+=xNode.b||0,xIndex++;for(;yIndex<yLen;){var y,endInserts=endInserts||[];_VirtualDom_insertNode(changes,localPatches,(y=yKids[yIndex]).a,y.b,void 0,endInserts),yIndex++}(0<localPatches.length||0<inserts.length||endInserts)&&_VirtualDom_pushPatch(patches,8,rootIndex,{w:localPatches,x:inserts,y:endInserts})}var _VirtualDom_POSTFIX="_elmW6BL";function _VirtualDom_insertNode(changes,localPatches,key,vnode,yIndex,inserts){var entry=changes[key];if(!entry)return inserts.push({r:yIndex,A:entry={c:0,z:vnode,r:yIndex,s:void 0}}),void(changes[key]=entry);if(1===entry.c){inserts.push({r:yIndex,A:entry}),entry.c=2;var subPatches=[];return _VirtualDom_diffHelp(entry.z,vnode,subPatches,entry.r),entry.r=yIndex,void(entry.s.s={w:subPatches,A:entry})}_VirtualDom_insertNode(changes,localPatches,key+_VirtualDom_POSTFIX,vnode,yIndex,inserts)}function _VirtualDom_removeNode(changes,patch,key,vnode,index){var entry=changes[key];if(entry){if(0===entry.c){entry.c=2;var subPatches=[];return _VirtualDom_diffHelp(vnode,entry.z,subPatches,index),void _VirtualDom_pushPatch(patch,9,index,{w:subPatches,A:entry})}_VirtualDom_removeNode(changes,patch,key+_VirtualDom_POSTFIX,vnode,index)}else{patch=_VirtualDom_pushPatch(patch,9,index,void 0);changes[key]={c:1,z:vnode,r:index,s:patch}}}function _VirtualDom_addDomNodes(domNode,vNode,patches,eventNode){!function _VirtualDom_addDomNodesHelp(domNode,vNode,patches,i,low,high,eventNode){var patch=patches[i];var index=patch.r;for(;index===low;){var subPatches,data=patch.$;if(1===data?_VirtualDom_addDomNodes(domNode,vNode.k,patch.s,eventNode):8===data?(patch.t=domNode,patch.u=eventNode,0<(subPatches=patch.s.w).length&&_VirtualDom_addDomNodesHelp(domNode,vNode,subPatches,0,low,high,eventNode)):9===data?(patch.t=domNode,patch.u=eventNode,(data=patch.s)&&(data.A.s=domNode,0<(subPatches=data.w).length&&_VirtualDom_addDomNodesHelp(domNode,vNode,subPatches,0,low,high,eventNode))):(patch.t=domNode,patch.u=eventNode),!(patch=patches[++i])||(index=patch.r)>high)return i}var tag=vNode.$;if(4===tag){for(var subNode=vNode.k;4===subNode.$;)subNode=subNode.k;return _VirtualDom_addDomNodesHelp(domNode,subNode,patches,i,low+1,high,domNode.elm_event_node_ref)}var vKids=vNode.e;var childNodes=domNode.childNodes;for(var j=0;j<vKids.length;j++){var vKid=1===tag?vKids[j]:vKids[j].b,nextLow=++low+(vKid.b||0);if(low<=index&&index<=nextLow&&(i=_VirtualDom_addDomNodesHelp(childNodes[j],vKid,patches,i,low,nextLow,eventNode),!(patch=patches[i])||(index=patch.r)>high))return i;low=nextLow}return i}(domNode,vNode,patches,0,0,vNode.b,eventNode)}function _VirtualDom_applyPatches(rootDomNode,oldVirtualNode,patches,eventNode){return 0===patches.length?rootDomNode:(_VirtualDom_addDomNodes(rootDomNode,oldVirtualNode,patches,eventNode),_VirtualDom_applyPatchesHelp(rootDomNode,patches))}function _VirtualDom_applyPatchesHelp(rootDomNode,patches){for(var i=0;i<patches.length;i++){var newNode=patches[i],localDomNode=newNode.t,newNode=function(domNode,patch){switch(patch.$){case 0:return function(domNode,vNode,newNode){var parentNode=domNode.parentNode,newNode=_VirtualDom_render(vNode,newNode);newNode.elm_event_node_ref||(newNode.elm_event_node_ref=domNode.elm_event_node_ref);parentNode&&newNode!==domNode&&parentNode.replaceChild(newNode,domNode);return newNode}(domNode,patch.s,patch.u);case 4:return _VirtualDom_applyFacts(domNode,patch.u,patch.s),domNode;case 3:return domNode.replaceData(0,domNode.length,patch.s),domNode;case 1:return _VirtualDom_applyPatchesHelp(domNode,patch.s);case 2:return domNode.elm_event_node_ref?domNode.elm_event_node_ref.j=patch.s:domNode.elm_event_node_ref={j:patch.s,p:patch.u},domNode;case 6:for(var data=patch.s,i=0;i<data.i;i++)domNode.removeChild(domNode.childNodes[data.v]);return domNode;case 7:for(var kids=(data=patch.s).e,theEnd=domNode.childNodes[i=data.v];i<kids.length;i++)domNode.insertBefore(_VirtualDom_render(kids[i],patch.u),theEnd);return domNode;case 9:if(!(data=patch.s))return domNode.parentNode.removeChild(domNode),domNode;var entry=data.A;return void 0!==entry.r&&domNode.parentNode.removeChild(domNode),entry.s=_VirtualDom_applyPatchesHelp(domNode,data.w),domNode;case 8:return function(domNode,patch){var data=patch.s,frag=function(endInserts,patch){if(!endInserts)return;for(var frag=_VirtualDom_doc.createDocumentFragment(),i=0;i<endInserts.length;i++){var entry=endInserts[i].A;frag.appendChild(2===entry.c?entry.s:_VirtualDom_render(entry.z,patch.u))}return frag}(data.y,patch);domNode=_VirtualDom_applyPatchesHelp(domNode,data.w);for(var inserts=data.x,i=0;i<inserts.length;i++){var insert=inserts[i],node=insert.A,node=2===node.c?node.s:_VirtualDom_render(node.z,patch.u);domNode.insertBefore(node,domNode.childNodes[insert.r])}frag&&domNode.appendChild(frag);return domNode}(domNode,patch);case 5:return patch.s(domNode);default:_Debug_crash(10)}}(localDomNode,newNode);localDomNode===rootDomNode&&(rootDomNode=newNode)}return rootDomNode}function _VirtualDom_virtualize(node){if(3===node.nodeType)return{$:0,a:node.textContent};if(1!==node.nodeType)return{$:0,a:""};for(var attrList=_List_Nil,attrs=node.attributes,i=attrs.length;i--;)var attr=attrs[i],attrList=_List_Cons(A2(_VirtualDom_attribute,attr.name,attr.value),attrList);for(var tag=node.tagName.toLowerCase(),kidList=_List_Nil,kids=node.childNodes,i=kids.length;i--;)kidList=_List_Cons(_VirtualDom_virtualize(kids[i]),kidList);return A3(_VirtualDom_node,tag,attrList,kidList)}var _Browser_document=F4(function(impl,flagDecoder,debugMetadata,args){return _Platform_initialize(flagDecoder,args,impl.init,impl.update,impl.subscriptions,function(sendToApp,initialModel){var divertHrefToApp=impl.setup&&impl.setup(sendToApp),view=impl.view,title=_VirtualDom_doc.title,bodyNode=_VirtualDom_doc.body,currNode=_VirtualDom_virtualize(bodyNode);return _Browser_makeAnimator(initialModel,function(patches){_VirtualDom_divertHrefToApp=divertHrefToApp;var doc=view(patches),nextNode=_VirtualDom_node("body")(_List_Nil)(doc.body),patches=_VirtualDom_diff(currNode,nextNode);bodyNode=_VirtualDom_applyPatches(bodyNode,currNode,patches,sendToApp),currNode=nextNode,_VirtualDom_divertHrefToApp=0,title!==doc.title&&(_VirtualDom_doc.title=title=doc.title)})})}),_Browser_requestAnimationFrame="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(callback){return setTimeout(callback,1e3/60)};function _Browser_makeAnimator(model,draw){draw(model);var state=0;function updateIfNeeded(){state=1===state?0:(_Browser_requestAnimationFrame(updateIfNeeded),draw(model),1)}return function(nextModel,isSync){model=nextModel,isSync?(draw(model),2===state&&(state=1)):(0===state&&_Browser_requestAnimationFrame(updateIfNeeded),state=2)}}function _Browser_getUrl(){return $elm$url$Url$fromString(_VirtualDom_doc.location.href).a||_Debug_crash(1)}var $mdgriffith$elm_ui$Element$Input$white=F2(function(key,url){return A2($elm$core$Task$perform,$elm$core$Basics$never,{$:2,b:function(){history.replaceState({},"",url),key()},c:null})}),$author$project$OAuthTypes$NoOp={addEventListener:function(){},removeEventListener:function(){}},_Browser_window="undefined"!=typeof window?window:$author$project$OAuthTypes$NoOp;function _Bytes_width(bytes){return bytes.byteLength}var _Bytes_write_i8=F3(function(mb,i,n){return mb.setInt8(i,n),i+1}),_Bytes_write_i16=F4(function(mb,i,n,isLE){return mb.setInt16(i,n,isLE),i+2}),_Bytes_write_i32=F4(function(mb,i,n,isLE){return mb.setInt32(i,n,isLE),i+4}),_Bytes_write_u8=F3(function(mb,i,n){return mb.setUint8(i,n),i+1}),_Bytes_write_u16=F4(function(mb,i,n,isLE){return mb.setUint16(i,n,isLE),i+2}),_Bytes_write_u32=F4(function(mb,i,n,isLE){return mb.setUint32(i,n,isLE),i+4}),_Bytes_write_f32=F4(function(mb,i,n,isLE){return mb.setFloat32(i,n,isLE),i+4}),_Bytes_write_f64=F4(function(mb,i,n,isLE){return mb.setFloat64(i,n,isLE),i+8}),_Bytes_write_bytes=F3(function(mb,offset,bytes){for(var i=0,len=bytes.byteLength,limit=len-4;i<=limit;i+=4)mb.setUint32(offset+i,bytes.getUint32(i));for(;i<len;i++)mb.setUint8(offset+i,bytes.getUint8(i));return offset+len}),_Bytes_write_string=F3(function(mb,offset,string){for(var i=0;i<string.length;i++){var code=string.charCodeAt(i);offset+=code<128?(mb.setUint8(offset,code),1):code<2048?(mb.setUint16(offset,49280|(code>>>6&31)<<8|63&code),2):code<55296||56319<code?(mb.setUint16(offset,57472|(code>>>12&15)<<8|code>>>6&63),mb.setUint8(offset+2,128|63&code),3):(code=1024*(code-55296)+string.charCodeAt(++i)-56320+65536,mb.setUint32(offset,4034953344|(code>>>18&7)<<24|(code>>>12&63)<<16|(code>>>6&63)<<8|63&code),4)}return offset}),_Bytes_decode=F2(function(decoder,bytes){try{return $elm$core$Maybe$Just(A2(decoder,bytes,0).b)}catch(e){return $elm$core$Maybe$Nothing}}),$mdgriffith$elm_ui$Internal$Style$elDescription=F2(function(bytes,offset){return{$:"#2",a:offset+1,b:bytes.getUint8(offset)}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick=F2(function(a,b){return a&b}),$mdgriffith$elm_ui$Internal$Style$Left=F2(function(a,b){return a|b}),families=F2(function(offset,a){return a>>offset}),$mdgriffith$elm_ui$Internal$Style$classes_focus=F2(function(interval,task){return{$:2,b:function(){var id=setInterval(function(){_Scheduler_rawSpawn(task)},interval);return function(){clearInterval(id)}},c:null}}),$mdgriffith$elm_ui$Element$Input$darkGrey=F2(function(x,y){return new Float64Array([x,y])});new Float64Array(3),new Float64Array(3),new Float64Array(3);var $mdgriffith$elm_ui$Internal$Style$classes_textNormalWeight=F3(function(x,y,z){return new Float64Array([x,y,z])}),$mdgriffith$elm_ui$Internal$Style$classes_transition=F2(function(k,a){return new Float64Array([a[0]*k,a[1]*k,a[2]*k])}),$mdgriffith$elm_ui$Internal$Style$classes_textThin=F4(function(x,y,z,w){return new Float64Array([x,y,z,w])});new Float64Array(16),new Float64Array(16),new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);var _WebGL_guid=0;function _WebGL_listEach(fn,list){for(;list.b;list=list.b)fn(list.a)}function _WebGL_listLength(list){for(var length=0;list.b;list=list.b)length++;return length}function _WebGL_disableScissor(cache){cache.scissor.enabled&&(cache.gl.disable(cache.gl.SCISSOR_TEST),cache.scissor.enabled=!1)}function _WebGL_disableColorMask(cache){var colorMask=cache.colorMask;colorMask.a&&colorMask.b&&colorMask.c&&colorMask.d||(cache.gl.colorMask(!0,!0,!0,!0),colorMask.a=!0,colorMask.b=!0,colorMask.c=!0,colorMask.d=!0)}var _WebGL_rAF="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(cb){setTimeout(cb,1e3/60)},$elm$html$Html$Attributes$spellcheck=F5(function(settings,vert,frag,mesh,uniforms){return{$:0,a:settings,b:vert,c:frag,d:mesh,e:uniforms}}),_WebGL_enableBlend=F2(function(cache,setting){var blend=cache.blend;blend.toggle=cache.toggle,blend.enabled||(cache.gl.enable(cache.gl.BLEND),blend.enabled=!0),blend.a===setting.a&&blend.d===setting.d||(cache.gl.blendEquationSeparate(setting.a,setting.d),blend.a=setting.a,blend.d=setting.d),blend.b===setting.b&&blend.c===setting.c&&blend.e===setting.e&&blend.f===setting.f||(cache.gl.blendFuncSeparate(setting.b,setting.c,setting.e,setting.f),blend.b=setting.b,blend.c=setting.c,blend.e=setting.e,blend.f=setting.f),blend.g===setting.g&&blend.h===setting.h&&blend.i===setting.i&&blend.j===setting.j||(cache.gl.blendColor(setting.g,setting.h,setting.i,setting.j),blend.g=setting.g,blend.h=setting.h,blend.i=setting.i,blend.j=setting.j)}),_WebGL_enableDepthTest=F2(function(cache,setting){var depthTest=cache.depthTest;depthTest.toggle=cache.toggle,depthTest.enabled||(cache.gl.enable(cache.gl.DEPTH_TEST),depthTest.enabled=!0),depthTest.a!==setting.a&&(cache.gl.depthFunc(setting.a),depthTest.a=setting.a),depthTest.b!==setting.b&&(cache.gl.depthMask(setting.b),depthTest.b=setting.b),depthTest.c===setting.c&&depthTest.d===setting.d||(cache.gl.depthRange(setting.c,setting.d),depthTest.c=setting.c,depthTest.d=setting.d)}),_WebGL_enableStencilTest=F2(function(cache,setting){var stencilTest=cache.stencilTest;stencilTest.toggle=cache.toggle,stencilTest.enabled||(cache.gl.enable(cache.gl.STENCIL_TEST),stencilTest.enabled=!0),stencilTest.d===setting.d&&stencilTest.a===setting.a&&stencilTest.b===setting.b||(cache.gl.stencilFuncSeparate(cache.gl.FRONT,setting.d,setting.a,setting.b),stencilTest.d=setting.d),stencilTest.e===setting.e&&stencilTest.f===setting.f&&stencilTest.g===setting.g||(cache.gl.stencilOpSeparate(cache.gl.FRONT,setting.e,setting.f,setting.g),stencilTest.e=setting.e,stencilTest.f=setting.f,stencilTest.g=setting.g),stencilTest.c!==setting.c&&(cache.gl.stencilMask(setting.c),stencilTest.c=setting.c),stencilTest.h===setting.h&&stencilTest.a===setting.a&&stencilTest.b===setting.b||(cache.gl.stencilFuncSeparate(cache.gl.BACK,setting.h,setting.a,setting.b),stencilTest.h=setting.h,stencilTest.a=setting.a,stencilTest.b=setting.b),stencilTest.i===setting.i&&stencilTest.j===setting.j&&stencilTest.k===setting.k||(cache.gl.stencilOpSeparate(cache.gl.BACK,setting.i,setting.j,setting.k),stencilTest.i=setting.i,stencilTest.j=setting.j,stencilTest.k=setting.k)}),_WebGL_enableScissor=F2(function(cache,setting){var scissor=cache.scissor;scissor.toggle=cache.toggle,scissor.enabled||(cache.gl.enable(cache.gl.SCISSOR_TEST),scissor.enabled=!0),scissor.a===setting.a&&scissor.b===setting.b&&scissor.c===setting.c&&scissor.d===setting.d||(cache.gl.scissor(setting.a,setting.b,setting.c,setting.d),scissor.a=setting.a,scissor.b=setting.b,scissor.c=setting.c,scissor.d=setting.d)}),_WebGL_enableColorMask=F2(function(cache,setting){var colorMask=cache.colorMask;colorMask.toggle=cache.toggle,colorMask.enabled=!0,colorMask.a===setting.a&&colorMask.b===setting.b&&colorMask.c===setting.c&&colorMask.d===setting.d||(cache.gl.colorMask(setting.a,setting.b,setting.c,setting.d),colorMask.a=setting.a,colorMask.b=setting.b,colorMask.c=setting.c,colorMask.d=setting.d)}),_WebGL_enableCullFace=F2(function(cache,setting){var cullFace=cache.cullFace;cullFace.toggle=cache.toggle,cullFace.enabled||(cache.gl.enable(cache.gl.CULL_FACE),cullFace.enabled=!0),cullFace.a!==setting.a&&(cache.gl.cullFace(setting.a),cullFace.a=setting.a)}),_WebGL_enablePolygonOffset=F2(function(cache,setting){var polygonOffset=cache.polygonOffset;polygonOffset.toggle=cache.toggle,polygonOffset.enabled||(cache.gl.enable(cache.gl.POLYGON_OFFSET_FILL),polygonOffset.enabled=!0),polygonOffset.a===setting.a&&polygonOffset.b===setting.b||(cache.gl.polygonOffset(setting.a,setting.b),polygonOffset.a=setting.a,polygonOffset.b=setting.b)}),_WebGL_enableSampleCoverage=F2(function(cache,setting){var sampleCoverage=cache.sampleCoverage;sampleCoverage.toggle=cache.toggle,sampleCoverage.enabled||(cache.gl.enable(cache.gl.SAMPLE_COVERAGE),sampleCoverage.enabled=!0),sampleCoverage.a===setting.a&&sampleCoverage.b===setting.b||(cache.gl.sampleCoverage(setting.a,setting.b),sampleCoverage.a=setting.a,sampleCoverage.b=setting.b)}),_WebGL_settings=["blend","depthTest","stencilTest","scissor","colorMask","cullFace","polygonOffset","sampleCoverage","sampleAlphaToCoverage"],_WebGL_disableFunctions=[function(cache){cache.blend.enabled&&(cache.gl.disable(cache.gl.BLEND),cache.blend.enabled=!1)},function(cache){cache.depthTest.enabled&&(cache.gl.disable(cache.gl.DEPTH_TEST),cache.depthTest.enabled=!1)},function(cache){cache.stencilTest.enabled&&(cache.gl.disable(cache.gl.STENCIL_TEST),cache.stencilTest.enabled=!1)},_WebGL_disableScissor,_WebGL_disableColorMask,function(cache){cache.gl.disable(cache.gl.CULL_FACE)},function(cache){cache.gl.disable(cache.gl.POLYGON_OFFSET_FILL)},function(cache){cache.gl.disable(cache.gl.SAMPLE_COVERAGE)},function(cache){cache.gl.disable(cache.gl.SAMPLE_ALPHA_TO_COVERAGE)}];function _WebGL_doCompile(gl,src,shader){shader=gl.createShader(shader);return gl.shaderSource(shader,"#extension GL_OES_standard_derivatives : enable\n"+src),gl.compileShader(shader),shader}function _WebGL_getAttributeInfo(gl,type){switch(type){case gl.FLOAT:return{size:1,arraySize:1,type:Float32Array,baseType:gl.FLOAT};case gl.FLOAT_VEC2:return{size:2,arraySize:1,type:Float32Array,baseType:gl.FLOAT};case gl.FLOAT_VEC3:return{size:3,arraySize:1,type:Float32Array,baseType:gl.FLOAT};case gl.FLOAT_VEC4:return{size:4,arraySize:1,type:Float32Array,baseType:gl.FLOAT};case gl.FLOAT_MAT4:return{size:4,arraySize:4,type:Float32Array,baseType:gl.FLOAT};case gl.INT:return{size:1,arraySize:1,type:Int32Array,baseType:gl.INT}}}function _WebGL_doBindAttribute(gl,attribute,buffer,attributes){for(var elemSize=buffer.a.elemSize,idxKeys=[],i=0;i<elemSize;i++)idxKeys.push(String.fromCharCode(97+i));var attributeInfo=_WebGL_getAttributeInfo(gl,attribute.type);if(void 0===attributeInfo)throw Error("No info available for: "+attribute.type);var dataIdx=0,dataOffset=attributeInfo.size*attributeInfo.arraySize*elemSize,array=new attributeInfo.type(_WebGL_listLength(buffer.b)*dataOffset);_WebGL_listEach(function(elem){!function(data,cnt,fillOffset,elem,key){var i;if(1===elemSize)for(i=0;i<cnt;i++)data[fillOffset++]=1===cnt?elem[key]:elem[key][i];else idxKeys.forEach(function(idx){for(i=0;i<cnt;i++)data[fillOffset++]=1===cnt?elem[idx][key]:elem[idx][key][i]})}(array,attributeInfo.size*attributeInfo.arraySize,dataIdx,elem,attributes[attribute.name]||attribute.name),dataIdx+=dataOffset},buffer.b);buffer=gl.createBuffer();return gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,array,gl.STATIC_DRAW),buffer}function _WebGL_doBindSetup(gl,mesh){if(0<mesh.a.indexSize){var indexBuffer=gl.createBuffer(),indices=function(indicesList,indexSize){var i,indices=new Uint16Array(_WebGL_listLength(indicesList)*indexSize),fillOffset=0;return _WebGL_listEach(function(elem){if(1===indexSize)indices[fillOffset++]=elem;else for(i=0;i<indexSize;i++)indices[fillOffset++]=elem[String.fromCharCode(97+i)]},indicesList),indices}(mesh.c,mesh.a.indexSize);return gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,indices,gl.STATIC_DRAW),{numIndices:indices.length,indexBuffer:indexBuffer,buffers:{}}}return{numIndices:mesh.a.elemSize*_WebGL_listLength(mesh.b),indexBuffer:null,buffers:{}}}var _WebGL_drawGL=F2(function(model,domNode){var cache=model.f,gl=cache.gl;return gl&&(gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight),cache.depthTest.b||(gl.depthMask(!0),cache.depthTest.b=!0),cache.stencilTest.c!==cache.STENCIL_WRITEMASK&&(gl.stencilMask(cache.STENCIL_WRITEMASK),cache.stencilTest.c=cache.STENCIL_WRITEMASK),_WebGL_disableScissor(cache),_WebGL_disableColorMask(cache),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT|gl.STENCIL_BUFFER_BIT),_WebGL_listEach(function(entity){if(entity.d.b.b){var progid,vshader,fshader,setters,values;if(entity.b.id&&entity.c.id&&(program=cache.programs[progid=entity.b.id+"#"+entity.c.id]),!program){entity.b.id?vshader=cache.shaders[entity.b.id]:entity.b.id=_WebGL_guid++,vshader||(vshader=_WebGL_doCompile(gl,entity.b.src,gl.VERTEX_SHADER),cache.shaders[entity.b.id]=vshader),entity.c.id?fshader=cache.shaders[entity.c.id]:entity.c.id=_WebGL_guid++,fshader||(fshader=_WebGL_doCompile(gl,entity.c.src,gl.FRAGMENT_SHADER),cache.shaders[entity.c.id]=fshader);var program,glProgram=function(gl,vshader,fshader){var program=gl.createProgram();if(gl.attachShader(program,vshader),gl.attachShader(program,fshader),gl.linkProgram(program),!gl.getProgramParameter(program,gl.LINK_STATUS))throw"Link failed: "+gl.getProgramInfoLog(program)+"\nvs info-log: "+gl.getShaderInfoLog(vshader)+"\nfs info-log: "+gl.getShaderInfoLog(fshader);return program}(gl,vshader,fshader);(program={glProgram:glProgram,attributes:Object.assign({},entity.b.attributes,entity.c.attributes),currentUniforms:{},activeAttributes:[],activeAttributeLocations:[]}).uniformSetters=function(gl,model,program,uniformsMap){var glProgram=program.glProgram,currentUniforms=program.currentUniforms,textureCounter=0,cache=model.f;for(var uniformSetters={},numUniforms=gl.getProgramParameter(glProgram,gl.ACTIVE_UNIFORMS),i=0;i<numUniforms;i++){var uniform=gl.getActiveUniform(glProgram,i);uniformSetters[uniformsMap[uniform.name]||uniform.name]=function(glProgram,uniform){var uniformName=uniform.name,uniformLocation=gl.getUniformLocation(glProgram,uniformName);switch(uniform.type){case gl.INT:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform1i(uniformLocation,value),currentUniforms[uniformName]=value)};case gl.FLOAT:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform1f(uniformLocation,value),currentUniforms[uniformName]=value)};case gl.FLOAT_VEC2:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform2f(uniformLocation,value[0],value[1]),currentUniforms[uniformName]=value)};case gl.FLOAT_VEC3:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform3f(uniformLocation,value[0],value[1],value[2]),currentUniforms[uniformName]=value)};case gl.FLOAT_VEC4:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform4f(uniformLocation,value[0],value[1],value[2],value[3]),currentUniforms[uniformName]=value)};case gl.FLOAT_MAT4:return function(value){currentUniforms[uniformName]!==value&&(gl.uniformMatrix4fv(uniformLocation,!1,new Float32Array(value)),currentUniforms[uniformName]=value)};case gl.SAMPLER_2D:var currentTexture=textureCounter++;return function(texture){gl.activeTexture(gl.TEXTURE0+currentTexture);var tex=cache.textures.get(texture);tex||(tex=texture.createTexture(gl),cache.textures.set(texture,tex)),gl.bindTexture(gl.TEXTURE_2D,tex),currentUniforms[uniformName]!==texture&&(gl.uniform1i(uniformLocation,currentTexture),currentUniforms[uniformName]=texture)};case gl.BOOL:return function(value){currentUniforms[uniformName]!==value&&(gl.uniform1i(uniformLocation,value),currentUniforms[uniformName]=value)};default:return function(){}}}(glProgram,uniform)}return uniformSetters}(gl,model,program,Object.assign({},entity.b.uniforms,entity.c.uniforms));for(var numActiveAttributes=gl.getProgramParameter(glProgram,gl.ACTIVE_ATTRIBUTES),i=0;i<numActiveAttributes;i++){var attribute=gl.getActiveAttrib(glProgram,i),attribLocation=gl.getAttribLocation(glProgram,attribute.name);program.activeAttributes.push(attribute),program.activeAttributeLocations.push(attribLocation)}cache.programs[progid=entity.b.id+"#"+entity.c.id]=program}cache.lastProgId!==progid&&(gl.useProgram(program.glProgram),cache.lastProgId=progid),setters=program.uniformSetters,Object.keys(values=entity.e).forEach(function(name){var setter=setters[name];setter&&setter(values[name])});var buffer=cache.buffers.get(entity.d);for(buffer||(buffer=_WebGL_doBindSetup(gl,entity.d),cache.buffers.set(entity.d,buffer)),i=0;i<program.activeAttributes.length;i++){attribLocation=program.activeAttributeLocations[i],void 0===buffer.buffers[(attribute=program.activeAttributes[i]).name]&&(buffer.buffers[attribute.name]=_WebGL_doBindAttribute(gl,attribute,entity.d,program.attributes)),gl.bindBuffer(gl.ARRAY_BUFFER,buffer.buffers[attribute.name]);var attributeInfo=_WebGL_getAttributeInfo(gl,attribute.type);if(1===attributeInfo.arraySize)gl.enableVertexAttribArray(attribLocation),gl.vertexAttribPointer(attribLocation,attributeInfo.size,attributeInfo.baseType,!1,0,0);else for(var offset=4*attributeInfo.size,stride=offset*attributeInfo.arraySize,m=0;m<attributeInfo.arraySize;m++)gl.enableVertexAttribArray(attribLocation+m),gl.vertexAttribPointer(attribLocation+m,attributeInfo.size,attributeInfo.baseType,!1,stride,offset*m)}for(cache.toggle=!cache.toggle,_WebGL_listEach($elm_explorations$webgl$WebGL$Internal$enableSetting(cache),entity.a),i=0;i<9;i++){var setting=cache[_WebGL_settings[i]];setting.toggle!==cache.toggle&&setting.enabled&&(_WebGL_disableFunctions[i](cache),setting.enabled=!1,setting.toggle=cache.toggle)}buffer.indexBuffer?(gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,buffer.indexBuffer),gl.drawElements(entity.d.a.mode,buffer.numIndices,gl.UNSIGNED_SHORT,0)):gl.drawArrays(entity.d.a.mode,0,buffer.numIndices)}},model.g)),domNode}),_WebGL_toHtml=F3(function(options,factList,entities){return _VirtualDom_custom(factList,{g:entities,f:{},h:options},_WebGL_render,_WebGL_diff)}),_WebGL_enableAlpha=F2(function(options,option){options.contextAttributes.alpha=!0,options.contextAttributes.premultipliedAlpha=option.a}),_WebGL_enableDepth=F2(function(options,option){options.contextAttributes.depth=!0,options.sceneSettings.push(function(gl){gl.clearDepth(option.a)})}),_WebGL_enableStencil=F2(function(options,option){options.contextAttributes.stencil=!0,options.sceneSettings.push(function(gl){gl.clearStencil(option.a)})}),_WebGL_enableAntialias=F2(function(options){options.contextAttributes.antialias=!0}),_WebGL_enableClearColor=F2(function(options,option){options.sceneSettings.push(function(gl){gl.clearColor(option.a,option.b,option.c,option.d)})}),_WebGL_enablePreserveDrawingBuffer=F2(function(options){options.contextAttributes.preserveDrawingBuffer=!0});function _WebGL_render(model){var options={contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1},sceneSettings:[]};_WebGL_listEach(function(option){return A2($elm_explorations$webgl$WebGL$Internal$enableOption,options,option)},model.h);var canvas=_VirtualDom_doc.createElement("canvas"),gl=canvas.getContext&&(canvas.getContext("webgl",options.contextAttributes)||canvas.getContext("experimental-webgl",options.contextAttributes));return gl&&"undefined"!=typeof WeakMap?(options.sceneSettings.forEach(function(sceneSetting){sceneSetting(gl)}),gl.getExtension("OES_standard_derivatives"),model.f.gl=gl,model.f.toggle=!1,model.f.blend={enabled:!1,toggle:!1},model.f.depthTest={enabled:!1,toggle:!1},model.f.stencilTest={enabled:!1,toggle:!1},model.f.scissor={enabled:!1,toggle:!1},model.f.colorMask={enabled:!1,toggle:!1},model.f.cullFace={enabled:!1,toggle:!1},model.f.polygonOffset={enabled:!1,toggle:!1},model.f.sampleCoverage={enabled:!1,toggle:!1},model.f.sampleAlphaToCoverage={enabled:!1,toggle:!1},model.f.shaders=[],model.f.programs={},model.f.lastProgId=null,model.f.buffers=new WeakMap,model.f.textures=new WeakMap,model.f.STENCIL_WRITEMASK=gl.getParameter(gl.STENCIL_WRITEMASK),_WebGL_rAF(function(){return A2(_WebGL_drawGL,model,canvas)})):(canvas=_VirtualDom_doc.createElement("div")).innerHTML='<a href="https://get.webgl.org/">Enable WebGL</a> to see this content!',canvas}function _WebGL_diff(oldModel,newModel){return newModel.f=oldModel.f,_WebGL_drawGL(newModel)}var _File_downloadNode,_Regex_fromStringWith=F2(function(options,string){var flags="g";options.multiline&&(flags+="m"),options.caseInsensitive&&(flags+="i");try{return $elm$core$Maybe$Just(RegExp(string,flags))}catch(error){return $elm$core$Maybe$Nothing}}),triangleShadowVertices=F3(function(n,re,lastIndex){for(var result,out=[],number=0,string=lastIndex,lastIndex=re.lastIndex,prevLastIndex=-1;number++<n&&(result=re.exec(string))&&prevLastIndex!=re.lastIndex;){for(var i=result.length-1,subs=Array(i);0<i;){var submatch=result[i];subs[--i]=submatch?$elm$core$Maybe$Just(submatch):$elm$core$Maybe$Nothing}out.push(A4($elm$regex$Regex$Match,result[0],result.index,number,_List_fromArray(subs))),prevLastIndex=re.lastIndex}return re.lastIndex=lastIndex,_List_fromArray(out)});function _File_getDownloadNode(){return _File_downloadNode=_File_downloadNode||document.createElement("a")}var _File_node,_File_download=F3(function(name,mime,content){return{$:2,b:function(){var node,objectUrl=new Blob([content],{type:mime});navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(objectUrl,name):(node=_File_getDownloadNode(),objectUrl=URL.createObjectURL(objectUrl),node.href=objectUrl,node.download=name,_File_click(node),URL.revokeObjectURL(objectUrl))},c:null}});function _File_click(node){var event;"function"==typeof MouseEvent?node.dispatchEvent(new MouseEvent("click")):((event=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.appendChild(node),node.dispatchEvent(event),document.body.removeChild(node))}var _Http_toTask=F3(function(router,toTask,request){return{$:2,b:function(callback){function done(response){callback(toTask(request.expect.a(response)))}var xhr=new XMLHttpRequest;xhr.addEventListener("error",function(){done($elm$http$Http$NetworkError_)}),xhr.addEventListener("timeout",function(){done($elm$http$Http$Timeout_)}),xhr.addEventListener("load",function(){done(function(toBody,xhr){return A2(200<=xhr.status&&xhr.status<300?$elm$http$Http$GoodStatus_:$elm$http$Http$BadStatus_,function(xhr){return{url:xhr.responseURL,statusCode:xhr.status,statusText:xhr.statusText,headers:function(rawHeaders){if(!rawHeaders)return $elm$core$Dict$empty;for(var headers=$elm$core$Dict$empty,headerPairs=rawHeaders.split("\r\n"),i=headerPairs.length;i--;){var key,value,headerPair=headerPairs[i],index=headerPair.indexOf(": ");0<index&&(key=headerPair.substring(0,index),value=headerPair.substring(2+index),headers=A3($elm$core$Dict$update,key,function(oldValue){return $elm$core$Maybe$Just($elm$core$Maybe$isJust(oldValue)?value+", "+oldValue.a:value)},headers))}return headers}(xhr.getAllResponseHeaders())}}(xhr),toBody(xhr.response))}(request.expect.b,xhr))}),$elm$core$Maybe$isJust(request.tracker)&&function(router,xhr,tracker){xhr.upload.addEventListener("progress",function(event){xhr.c||_Scheduler_rawSpawn(A2($elm$core$Platform$sendToSelf,router,{$:"#2",a:tracker,b:$elm$http$Http$Sending({sent:event.loaded,size:event.total})}))}),xhr.addEventListener("progress",function(event){xhr.c||_Scheduler_rawSpawn(A2($elm$core$Platform$sendToSelf,router,{$:"#2",a:tracker,b:$elm$http$Http$Receiving({received:event.loaded,size:event.lengthComputable?$elm$core$Maybe$Just(event.total):$elm$core$Maybe$Nothing})}))})}(router,xhr,request.tracker.a);try{xhr.open(request.method,request.url,!0)}catch(e){return done($elm$http$Http$BadUrl_(request.url))}return function(xhr,request){for(var headers=request.headers;headers.b;headers=headers.b)xhr.setRequestHeader(headers.a.a,headers.a.b);xhr.timeout=request.timeout.a||0,xhr.responseType=request.expect.d,xhr.withCredentials=request.allowCookiesFromOtherDomains}(xhr,request),request.body.a&&xhr.setRequestHeader("Content-Type",request.body.a),xhr.send(request.body.b),function(){xhr.c=!0,xhr.abort()}},c:null}}),_Http_expect=F3(function(type,toBody,toValue){return{$:0,d:type,b:toBody,a:toValue}}),_Http_mapExpect=F2(function(func,expect){return{$:0,d:expect.d,b:expect.b,a:function(x){return func(expect.a(x))}}});function _Http_toDataView(arrayBuffer){return new DataView(arrayBuffer)}var _Http_pair=F2(function(a,b){return{$:0,a:a,b:b}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=F3(function(options,factList,rawMarkdown){return _VirtualDom_custom(factList,{a:options,b:rawMarkdown},_Markdown_render,_Markdown_diff)});function _Markdown_render(model){return A2(_Markdown_replace,model,_VirtualDom_doc.createElement("div"))}function _Markdown_diff(x,y){return(x.b!==y.b||x.a!==y.a)&&_Markdown_replace(y)}var module,exports,_Markdown_replace=F2(function(gfm,div){var options;return div.innerHTML=_Markdown_marked(gfm.b,{highlight:function(code,lang){return!lang&&$elm$core$Maybe$isJust(options.defaultHighlighting)&&(lang=options.defaultHighlighting.a),"undefined"!=typeof hljs&&lang&&~hljs.listLanguages().indexOf(lang)?hljs.highlight(lang,code,!0).value:code},gfm:gfm=(options=gfm.a).githubFlavored.a,tables:gfm&&gfm.tables,breaks:gfm&&gfm.breaks,sanitize:options.sanitize,smartypants:options.smartypants}),div}),_Markdown_marked=(exports=(module={}).exports={},function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function Lexer(options){this.tokens=[],this.tokens.links={},this.options=options||marked.defaults,this.rules=block.normal,this.options.gfm&&(this.rules=this.options.tables?block.tables:block.gfm)}block.bullet=/(?:[*+-]|\d+\.)/,block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,block.item=replace(block.item,"gm")(/bull/g,block.bullet)(),block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")(),block.blockquote=replace(block.blockquote)("def",block.def)(),block._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)(),block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)(),block.normal=merge({},block),block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")(),block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),Lexer.rules=block,Lexer.lex=function(src,options){return new Lexer(options).lex(src)},Lexer.prototype.lex=function(src){return src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(src,!0)},Lexer.prototype.token=function(src,top,bq){for(var next,cap,bull,loose,item,space,i,l,src=src.replace(/^ +$/gm,"");src;)if((cap=this.rules.newline.exec(src))&&(src=src.substring(cap[0].length),1<cap[0].length&&this.tokens.push({type:"space"})),cap=this.rules.code.exec(src))src=src.substring(cap[0].length),cap=cap[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?cap:cap.replace(/\n+$/,"")});else if(cap=this.rules.fences.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"code",lang:cap[2],text:cap[3]||""});else if(cap=this.rules.heading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});else if(top&&(cap=this.rules.nptable.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")},i=0;i<item.align.length;i++)item.align[i]=/^ *-+: *$/.test(item.align[i])?"right":/^ *:-+: *$/.test(item.align[i])?"center":/^ *:-+ *$/.test(item.align[i])?"left":null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].split(/ *\| */);this.tokens.push(item)}else if(cap=this.rules.lheading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:"="===cap[2]?1:2,text:cap[1]});else if(cap=this.rules.hr.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"hr"});else if(cap=this.rules.blockquote.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"blockquote_start"}),cap=cap[0].replace(/^ *> ?/gm,""),this.token(cap,top,!0),this.tokens.push({type:"blockquote_end"});else if(cap=this.rules.list.exec(src)){for(src=src.substring(cap[0].length),this.tokens.push({type:"list_start",ordered:1<(bull=cap[2]).length}),next=!1,l=(cap=cap[0].match(this.rules.item)).length,i=0;i<l;i++)space=(item=cap[i]).length,~(item=item.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(space-=item.length,item=item.replace(this.options.pedantic?/^ {1,4}/gm:RegExp("^ {1,"+space+"}","gm"),"")),this.options.smartLists&&i!==l-1&&(bull===(loose=block.bullet.exec(cap[i+1])[0])||1<bull.length&&1<loose.length||(src=cap.slice(i+1).join("\n")+src,i=l-1)),loose=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next="\n"==item[0|item.length-1],loose=loose||next),this.tokens.push({type:loose?"loose_item_start":"list_item_start"}),this.token(item,!1,bq),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(cap=this.rules.html.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===cap[1]||"script"===cap[1]||"style"===cap[1]),text:cap[0]});else if(!bq&&top&&(cap=this.rules.def.exec(src)))src=src.substring(cap[0].length),this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};else if(top&&(cap=this.rules.table.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")},i=0;i<item.align.length;i++)item.align[i]=/^ *-+: *$/.test(item.align[i])?"right":/^ *:-+: *$/.test(item.align[i])?"center":/^ *:-+ *$/.test(item.align[i])?"left":null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(item)}else if(top&&(cap=this.rules.paragraph.exec(src)))src=src.substring(cap[0].length),this.tokens.push({type:"paragraph",text:"\n"==cap[1][0|cap[1].length-1]?cap[1].slice(0,-1):cap[1]});else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"text",text:cap[0]});else if(src)throw Error("Infinite loop on byte: "+src.charCodeAt(0));return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^_\_([\s\S]+?)_\_(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|_\_)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function InlineLexer(links,options){if(this.options=options||marked.defaults,this.links=links,this.rules=inline.normal,this.renderer=this.options.renderer||new Renderer,this.renderer.options=this.options,!this.links)throw Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?inline.breaks:inline.gfm:this.options.pedantic&&(this.rules=inline.pedantic)}function Renderer(options){this.options=options||{}}function Parser(options){this.tokens=[],this.token=null,this.options=options||marked.defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options}function escape(html,encode){return html.replace(encode?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function replace(regex,opt){return regex=regex.source,opt=opt||"",function self(name,val){return name?(val=(val=val.source||val).replace(/(^|[^\[])\^/g,"$1"),regex=regex.replace(name,val),self):RegExp(regex,opt)}}function noop(){}function merge(obj){for(var target,key,i=1;i<arguments.length;i++)for(key in target=arguments[i])Object.prototype.hasOwnProperty.call(target,key)&&(obj[key]=target[key]);return obj}function marked(src,opt,callback){if(callback||"function"==typeof opt){callback||(callback=opt,opt=null);var tokens,pending,highlight=(opt=merge({},marked.defaults,opt||{})).highlight,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err)return opt.highlight=highlight,callback(err);var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}return opt.highlight=highlight,err?callback(err):callback(null,out)};if(!highlight||highlight.length<3)return done();if(delete opt.highlight,!pending)return done();for(;i<tokens.length;i++)!function(token){"code"!==token.type?--pending||done():highlight(token.text,token.lang,function(err,code){return err?done(err):null==code||code===token.text?--pending||done():(token.text=code,token.escaped=!0,void(--pending||done()))})}(tokens[i])}else try{return opt=opt&&merge({},marked.defaults,opt),Parser.parse(Lexer.lex(src,opt),opt)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(opt||marked.defaults).silent)return"<p>An error occured:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}}inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)(),inline.reflink=replace(inline.reflink)("inside",inline._inside)(),inline.normal=merge({},inline),inline.pedantic=merge({},inline.normal,{strong:/^_\_(?=\S)([\s\S]*?\S)_\_(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()}),inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()}),InlineLexer.rules=inline,InlineLexer.output=function(src,links,options){return new InlineLexer(links,options).output(src)},InlineLexer.prototype.output=function(src){for(var link,text,href,cap,out="";src;)if(cap=this.rules.escape.exec(src))src=src.substring(cap[0].length),out+=cap[1];else if(cap=this.rules.autolink.exec(src))src=src.substring(cap[0].length),href="@"===cap[2]?(text=this.mangle(":"==cap[1][6]?cap[1].substring(7):cap[1]),this.mangle("mailto:")+text):text=escape(cap[1]),out+=this.renderer.link(href,null,text);else if(this.inLink||!(cap=this.rules.url.exec(src))){if(cap=this.rules.tag.exec(src))!this.inLink&&/^<a /i.test(cap[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(cap[0])&&(this.inLink=!1),src=src.substring(cap[0].length),out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];else if(cap=this.rules.link.exec(src))src=src.substring(cap[0].length),this.inLink=!0,out+=this.outputLink(cap,{href:cap[2],title:cap[3]}),this.inLink=!1;else if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src)))src=src.substring(cap[0].length),link=(cap[2]||cap[1]).replace(/\s+/g," "),(link=this.links[link.toLowerCase()])&&link.href?(this.inLink=!0,out+=this.outputLink(cap,link),this.inLink=!1):(out+=cap[0][0],src=cap[0].substring(1)+src);else if(cap=this.rules.strong.exec(src))src=src.substring(cap[0].length),out+=this.renderer.strong(this.output(cap[2]||cap[1]));else if(cap=this.rules.em.exec(src))src=src.substring(cap[0].length),out+=this.renderer.em(this.output(cap[2]||cap[1]));else if(cap=this.rules.code.exec(src))src=src.substring(cap[0].length),out+=this.renderer.codespan(escape(cap[2],!0));else if(cap=this.rules.br.exec(src))src=src.substring(cap[0].length),out+=this.renderer.br();else if(cap=this.rules.del.exec(src))src=src.substring(cap[0].length),out+=this.renderer.del(this.output(cap[1]));else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),out+=this.renderer.text(escape(this.smartypants(cap[0])));else if(src)throw Error("Infinite loop on byte: "+src.charCodeAt(0))}else src=src.substring(cap[0].length),text=escape(cap[1]),out+=this.renderer.link(href=text,null,text);return out},InlineLexer.prototype.outputLink=function(cap,title){var href=escape(title.href),title=title.title?escape(title.title):null;return"!"!=cap[0][0]?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))},InlineLexer.prototype.smartypants=function(text){return this.options.smartypants?text.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):text},InlineLexer.prototype.mangle=function(text){if(!this.options.mangle)return text;for(var ch,out="",l=text.length,i=0;i<l;i++)ch=text.charCodeAt(i),.5<Math.random()&&(ch="x"+ch.toString(16)),out+="&#"+ch+";";return out},Renderer.prototype.code=function(code,lang,escaped){var out;return!this.options.highlight||null!=(out=this.options.highlight(code,lang))&&out!==code&&(escaped=!0,code=out),lang?'<pre><code class="'+this.options.langPrefix+escape(lang,!0)+'">'+(escaped?code:escape(code,!0))+"\n</code></pre>\n":"<pre><code>"+(escaped?code:escape(code,!0))+"\n</code></pre>"},Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"},Renderer.prototype.html=function(html){return html},Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"},Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Renderer.prototype.list=function(body,type){type=type?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"},Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"},Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"},Renderer.prototype.table=function(header,body){return"<table>\n<thead>\n"+header+"</thead>\n<tbody>\n"+body+"</tbody>\n</table>\n"},Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"},Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";return(flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">")+content+"</"+type+">\n"},Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"},Renderer.prototype.em=function(text){return"<em>"+text+"</em>"},Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"},Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},Renderer.prototype.del=function(text){return"<del>"+text+"</del>"},Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(href.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(_,n){return"colon"===(n=n.toLowerCase())?":":"#"==n[0]?String.fromCharCode("x"==n[1]?parseInt(n.substring(2),16):+n.substring(1)):""})).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(!prot.indexOf("javascript:")||!prot.indexOf("vbscript:")||!prot.indexOf("data:"))return""}var out='<a href="'+href+'"';return title&&(out+=' title="'+title+'"'),out+=">"+text+"</a>"},Renderer.prototype.image=function(href,title,out){out='<img src="'+href+'" alt="'+out+'"';return title&&(out+=' title="'+title+'"'),out+=this.options.xhtml?"/>":">"},Renderer.prototype.text=function(text){return text},Parser.parse=function(src,options,renderer){return new Parser(options).parse(src)},Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options),this.tokens=src.reverse();for(var out="";this.next();)out+=this.tok();return out},Parser.prototype.next=function(){return this.token=this.tokens.pop()},Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser.prototype.parseText=function(){for(var body=this.token.text;"text"===this.peek().type;)body+="\n"+this.next().text;return this.inline.output(body)},Parser.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":for(var row,j,header="",body="",cell="",i=0;i<this.token.header.length;i++)cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:!0,align:this.token.align[i]});for(header+=this.renderer.tablerow(cell),i=0;i<this.token.cells.length;i++){for(row=this.token.cells[i],cell="",j=0;j<row.length;j++)cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:!1,align:this.token.align[j]});body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body);case"blockquote_start":for(body="";"blockquote_end"!==this.next().type;)body+=this.tok();return this.renderer.blockquote(body);case"list_start":for(var body="",html=this.token.ordered;"list_end"!==this.next().type;)body+=this.tok();return this.renderer.list(body,html);case"list_item_start":for(body="";"list_item_end"!==this.next().type;)body+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(body);case"loose_item_start":for(body="";"list_item_end"!==this.next().type;)body+=this.tok();return this.renderer.listitem(body);case"html":html=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(html);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},noop.exec=noop,marked.options=marked.setOptions=function(opt){return merge(marked.defaults,opt),marked},marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new Renderer,xhtml:!1},marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.InlineLexer=InlineLexer,marked.inlineLexer=InlineLexer.output,marked.parse=marked,void 0!==module&&"object"==typeof exports?module.exports=marked:"function"==typeof define&&define.amd?define(function(){return marked}):this.marked=marked}.call(function(){return this||("undefined"!=typeof window?window:global)}()),module.exports);function $author$project$Msg$OAuthMessage(a){return{$:"OAuthMessage",a:a}}function $elm$json$Json$Decode$indent(str){return A2($elm$core$String$join,"\n    ",A2($elm$core$String$split,"\n",str))}function $elm$core$List$length(xs){return A3($elm$core$List$foldl,F2(function(_v0,i){return i+1}),0,xs)}function $elm$core$Char$isLower(code){return 97<=(code=$elm$core$Char$toCode(code))&&code<=122}function $elm$core$Char$isUpper(code){return(code=$elm$core$Char$toCode(code))<=90&&65<=code}function $elm$core$Char$isDigit(code){return(code=$elm$core$Char$toCode(code))<=57&&48<=code}function $elm$core$Char$isAlphaNum(_char){return $elm$core$Char$isLower(_char)||$elm$core$Char$isUpper(_char)||$elm$core$Char$isDigit(_char)}function $elm$core$Basics$toFloat(x){return x}function $elm$core$Tuple$first(_v0){return _v0.a}function $elm$core$Basics$identity(x){return x}function $elm$core$Task$sequence(tasks){return A3($elm$core$List$foldr,$elm$core$Task$map2($elm$core$List$cons),$elm$core$Task$succeed(_List_Nil),tasks)}var $elm$core$Maybe$Just=function(a){return{$:"Just",a:a}},$author$project$OAuthTypes$NoOp={$:"NoOp"},$elm$core$Maybe$Nothing={$:"Nothing"},$elm$core$Basics$always=F2(function(a){return a}),$elm$core$Basics$EQ={$:"EQ"},$elm$core$Basics$GT={$:"GT"},$elm$core$Basics$LT={$:"LT"},$elm$core$List$cons=_List_cons,$elm$core$Dict$foldr=F3(function(func,acc,t){for(;;){if("RBEmpty_elm_builtin"===t.$)return acc;var left=t.d,$temp$func=func,$temp$acc=A3(func,t.b,t.c,A3($elm$core$Dict$foldr,func,acc,t.e));func=$temp$func,acc=$temp$acc,t=left}}),$elm$core$Dict$toList=function(dict){return A3($elm$core$Dict$foldr,F3(function(key,value,list){return A2($elm$core$List$cons,{$:"#2",a:key,b:value},list)}),_List_Nil,dict)},$elm$core$Set$toList=function(_v0){return function(dict){return A3($elm$core$Dict$foldr,F3(function(key,value,keyList){return A2($elm$core$List$cons,key,keyList)}),_List_Nil,dict)}(_v0.a)},$elm$core$Elm$JsArray$foldr=_JsArray_foldr,$elm$core$Array$foldr=F3(function(func,baseCase,tail){var tree=tail.c,tail=tail.d,helper=F2(function(node,acc){return A3($elm$core$Elm$JsArray$foldr,"SubTree"!==node.$?func:helper,acc,node.a)});return A3($elm$core$Elm$JsArray$foldr,helper,A3($elm$core$Elm$JsArray$foldr,func,baseCase,tail),tree)}),$elm$core$Array$toList=function(array){return A3($elm$core$Array$foldr,$elm$core$List$cons,_List_Nil,array)},$elm$core$Result$Err=function(a){return{$:"Err",a:a}},$elm$json$Json$Decode$Failure=F2(function(a,b){return{$:"Failure",a:a,b:b}}),$elm$json$Json$Decode$Field=F2(function(a,b){return{$:"Field",a:a,b:b}}),$elm$json$Json$Decode$Index=F2(function(a,b){return{$:"Index",a:a,b:b}}),$elm$core$Result$Ok=function(a){return{$:"Ok",a:a}},$elm$json$Json$Decode$OneOf=function(a){return{$:"OneOf",a:a}},$elm$core$Basics$add=$author$project$Main$init,$elm$core$String$all=$elm$svg$Svg$line,$elm$json$Json$Encode$encode=$mdgriffith$elm_ui$Internal$Style$Right,$elm$core$String$fromInt=_String_fromNumber,$elm$core$String$join=F2(function(sep,chunks){return A2(_String_join,sep,_List_toArray(chunks))}),$elm$core$String$split=F2(function(sep,string){return _List_fromArray(A2(_String_split,sep,string))}),$elm$core$List$foldl=F3(function(func,acc,list){for(;;){if(!list.b)return acc;var xs=list.b,$temp$func=func,$temp$acc=A2(func,list.a,acc);func=$temp$func,acc=$temp$acc,list=xs}}),$elm$core$List$map2=$mdgriffith$elm_ui$Internal$Model$Focus,$elm$core$List$rangeHelp=F3(function(lo,hi,list){for(;;){if(1<=_Utils_cmp(lo,hi))return list;var $temp$lo=lo,$temp$hi=hi-1,$temp$list=A2($elm$core$List$cons,hi,list);lo=$temp$lo,hi=$temp$hi,list=$temp$list}}),$elm$core$List$range=F2(function(lo,hi){return A3($elm$core$List$rangeHelp,lo,hi,_List_Nil)}),$elm$core$List$indexedMap=F2(function(f,xs){return A3($elm$core$List$map2,f,A2($elm$core$List$range,0,$elm$core$List$length(xs)-1),xs)}),$elm$core$Char$toCode=function(char){var code=char.charCodeAt(0);return code<55296||56319<code?code:1024*(code-55296)+char.charCodeAt(1)-56320+65536},$elm$core$List$reverse=function(list){return A3($elm$core$List$foldl,$elm$core$List$cons,_List_Nil,list)},$elm$core$String$uncons=function(string){var word=string.charCodeAt(0);return isNaN(word)?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(word<55296||56319<word?{$:"#2",a:new String(string[0]),b:string.slice(1)}:{$:"#2",a:new String(string[0]+string[1]),b:string.slice(2)})},$elm$json$Json$Decode$errorOneOf=F2(function(i,error){return"\n\n("+$elm$core$String$fromInt(i+1)+(") "+$elm$json$Json$Decode$indent($elm$json$Json$Decode$errorToString(error)))}),$elm$json$Json$Decode$errorToString=function(error){return A2($elm$json$Json$Decode$errorToStringHelp,error,_List_Nil)},$elm$json$Json$Decode$errorToStringHelp=F2(function(error,context){errorToStringHelp:for(;;)switch(error.$){case"Field":var f=error.a,err=error.b,isSimple=function(){var rest=$elm$core$String$uncons(f);if("Nothing"===rest.$)return!1;var _v2=rest.a,rest=_v2.b;return function(_char){return $elm$core$Char$isLower(_char)||$elm$core$Char$isUpper(_char)}(_v2.a)&&A2($elm$core$String$all,$elm$core$Char$isAlphaNum,rest)}();error=err,context=A2($elm$core$List$cons,isSimple?"."+f:"['"+f+"']",context);continue errorToStringHelp;case"Index":var err=error.b,msg="["+$elm$core$String$fromInt(error.a)+"]";error=err,context=A2($elm$core$List$cons,msg,context);continue errorToStringHelp;case"OneOf":var json=error.a;if(json.b){if(json.b.b){var introduction=(context.b?"The Json.Decode.oneOf at json"+A2($elm$core$String$join,"",$elm$core$List$reverse(context)):"Json.Decode.oneOf")+" failed in the following "+$elm$core$String$fromInt($elm$core$List$length(json))+" ways:";return A2($elm$core$String$join,"\n\n",A2($elm$core$List$cons,introduction,A2($elm$core$List$indexedMap,$elm$json$Json$Decode$errorOneOf,json)))}error=err=json.a,context=context;continue errorToStringHelp}return"Ran into a Json.Decode.oneOf with no possibilities"+(context.b?" at json"+A2($elm$core$String$join,"",$elm$core$List$reverse(context)):"!");default:msg=error.a,json=error.b;return(introduction=context.b?"Problem with the value at json"+A2($elm$core$String$join,"",$elm$core$List$reverse(context))+":\n\n    ":"Problem with the given value:\n\n")+($elm$json$Json$Decode$indent(A2($elm$json$Json$Encode$encode,4,json))+"\n\n")+msg}}),$elm$core$Array$Array_elm_builtin=F4(function(a,b,c,d){return{$:"Array_elm_builtin",a:a,b:b,c:c,d:d}}),$elm$core$Elm$JsArray$empty=[],$elm$core$Basics$ceiling=$mdgriffith$elm_ui$Internal$Style$classes_active,$elm$core$Basics$logBase=F2(function(base,number){return _Basics_log(number)/_Basics_log(base)}),$elm$core$Array$shiftStep=$elm$core$Basics$ceiling(A2($elm$core$Basics$logBase,2,32)),$elm$core$Array$empty=A4($elm$core$Array$Array_elm_builtin,0,$elm$core$Array$shiftStep,$elm$core$Elm$JsArray$empty,$elm$core$Elm$JsArray$empty),$elm$core$Elm$JsArray$initialize=$mdgriffith$elm_ui$Internal$Style$classes_clipX,$elm$core$Basics$floor=$mdgriffith$elm_ui$Internal$Style$classes_borderSolid,$elm$core$Elm$JsArray$length=function(array){return array.length},$elm$core$Basics$max=F2(function(x,y){return 0<_Utils_cmp(x,y)?x:y}),$elm$core$Elm$JsArray$initializeFromList=$elm$json$Json$Decode$int,$elm$core$Array$compressNodes=F2(function(nodes,acc){for(;;){var newAcc=A2($elm$core$Elm$JsArray$initializeFromList,32,nodes),remainingNodes=newAcc.b,newAcc=A2($elm$core$List$cons,{$:"SubTree",a:newAcc.a},acc);if(!remainingNodes.b)return $elm$core$List$reverse(newAcc);nodes=remainingNodes,acc=newAcc}}),$elm$core$Array$treeFromBuilder=F2(function(nodeList,nodeListSize){for(;;){var newNodeSize=$elm$core$Basics$ceiling(nodeListSize/32);if(1===newNodeSize)return A2($elm$core$Elm$JsArray$initializeFromList,32,nodeList).a;nodeList=A2($elm$core$Array$compressNodes,nodeList,_List_Nil),nodeListSize=newNodeSize}}),$elm$core$Array$builderToArray=F2(function(tree,builder){if(builder.nodeListSize){var treeLen=32*builder.nodeListSize,depth=$elm$core$Basics$floor(A2($elm$core$Basics$logBase,32,treeLen-1)),tree=tree?$elm$core$List$reverse(builder.nodeList):builder.nodeList,tree=A2($elm$core$Array$treeFromBuilder,tree,builder.nodeListSize);return A4($elm$core$Array$Array_elm_builtin,$elm$core$Elm$JsArray$length(builder.tail)+treeLen,A2($elm$core$Basics$max,5,depth*$elm$core$Array$shiftStep),tree,builder.tail)}return A4($elm$core$Array$Array_elm_builtin,$elm$core$Elm$JsArray$length(builder.tail),$elm$core$Array$shiftStep,$elm$core$Elm$JsArray$empty,builder.tail)}),$elm$core$Array$initializeHelp=F5(function(fn,fromIndex,len,nodeList,tail){for(;;){if(fromIndex<0)return A2($elm$core$Array$builderToArray,!1,{nodeList:nodeList,nodeListSize:len/32|0,tail:tail});var leaf={$:"Leaf",a:A3($elm$core$Elm$JsArray$initialize,32,fromIndex,fn)};fn=fn,fromIndex=fromIndex-32,len=len,nodeList=A2($elm$core$List$cons,leaf,nodeList),tail=tail}}),$elm$core$Array$initialize=F2(function(len,fn){if(0<len){var tailLen=len%32;return A5($elm$core$Array$initializeHelp,fn,len-tailLen-32,len,_List_Nil,A3($elm$core$Elm$JsArray$initialize,tailLen,len-tailLen,fn))}return $elm$core$Array$empty}),$elm$core$Result$isOk=function(result){return"Ok"===result.$},$elm$json$Json$Decode$map=$mdgriffith$elm_ui$Internal$Style$classes_hasBehind,$elm$json$Json$Decode$map2=$mdgriffith$elm_ui$Internal$Style$classes_hover,$elm$json$Json$Decode$succeed=function(msg){return{$:0,a:msg}},$elm$virtual_dom$VirtualDom$toHandlerInt=function(handler){switch(handler.$){case"Normal":return 0;case"MayStopPropagation":return 1;case"MayPreventDefault":return 2;default:return 3}},$elm$url$Url$Http={$:"Http"},$elm$url$Url$Https={$:"Https"},$elm$url$Url$Url=F6(function(protocol,host,port_,path,query,fragment){return{fragment:fragment,host:host,path:path,port_:port_,protocol:protocol,query:query}}),$elm$core$String$contains=$mdgriffith$elm_ui$Internal$Style$classes_textExtraBold,$elm$core$String$length=function(str){return str.length},$elm$core$String$slice=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp,$elm$core$String$dropLeft=F2(function(n,string){return n<1?string:A3($elm$core$String$slice,n,$elm$core$String$length(string),string)}),$elm$core$String$indexes=$mdgriffith$elm_ui$Internal$Style$classes_textSemiBold,$elm$core$String$left=F2(function(n,string){return n<1?"":A3($elm$core$String$slice,0,n,string)}),$elm$core$String$toInt=function(str){for(var total=0,code0=str.charCodeAt(0),start=43==code0||45==code0?1:0,i=start;i<str.length;++i){var code=str.charCodeAt(i);if(code<48||57<code)return $elm$core$Maybe$Nothing;total=10*total+code-48}return i==start?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(45==code0?-total:total)},$elm$url$Url$chompBeforePath=F5(function(protocol,path,params,frag,str){if(""===str||A2($elm$core$String$contains,"@",str))return $elm$core$Maybe$Nothing;var port_=A2($elm$core$String$indexes,":",str);if(port_.b){if(port_.b.b)return $elm$core$Maybe$Nothing;var i=port_.a,port_=$elm$core$String$toInt(A2($elm$core$String$dropLeft,i+1,str));if("Nothing"===port_.$)return $elm$core$Maybe$Nothing;port_=port_;return $elm$core$Maybe$Just(A6($elm$url$Url$Url,protocol,A2($elm$core$String$left,i,str),port_,path,params,frag))}return $elm$core$Maybe$Just(A6($elm$url$Url$Url,protocol,str,$elm$core$Maybe$Nothing,path,params,frag))}),$elm$url$Url$chompBeforeQuery=F4(function(protocol,params,frag,str){if(""===str)return $elm$core$Maybe$Nothing;var i=A2($elm$core$String$indexes,"/",str);if(i.b){i=i.a;return A5($elm$url$Url$chompBeforePath,protocol,A2($elm$core$String$dropLeft,i,str),params,frag,A2($elm$core$String$left,i,str))}return A5($elm$url$Url$chompBeforePath,protocol,"/",params,frag,str)}),$elm$url$Url$chompBeforeFragment=F3(function(protocol,frag,str){if(""===str)return $elm$core$Maybe$Nothing;var i=A2($elm$core$String$indexes,"?",str);if(i.b){i=i.a;return A4($elm$url$Url$chompBeforeQuery,protocol,$elm$core$Maybe$Just(A2($elm$core$String$dropLeft,i+1,str)),frag,A2($elm$core$String$left,i,str))}return A4($elm$url$Url$chompBeforeQuery,protocol,$elm$core$Maybe$Nothing,frag,str)}),$elm$url$Url$chompAfterProtocol=F2(function(protocol,str){if(""===str)return $elm$core$Maybe$Nothing;var i=A2($elm$core$String$indexes,"#",str);if(i.b){i=i.a;return A3($elm$url$Url$chompBeforeFragment,protocol,$elm$core$Maybe$Just(A2($elm$core$String$dropLeft,i+1,str)),A2($elm$core$String$left,i,str))}return A3($elm$url$Url$chompBeforeFragment,protocol,$elm$core$Maybe$Nothing,str)}),$elm$core$String$startsWith=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown,$elm$url$Url$fromString=function(str){return A2($elm$core$String$startsWith,"http://",str)?A2($elm$url$Url$chompAfterProtocol,$elm$url$Url$Http,A2($elm$core$String$dropLeft,7,str)):A2($elm$core$String$startsWith,"https://",str)?A2($elm$url$Url$chompAfterProtocol,$elm$url$Url$Https,A2($elm$core$String$dropLeft,8,str)):$elm$core$Maybe$Nothing},$elm$core$Basics$never=function(){for(;;)0},$elm$core$Task$succeed=_Scheduler_succeed,$mdgriffith$elm_ui$Internal$Model$Focus=$elm$core$Task$succeed(_Utils_Tuple0),$elm$core$List$foldrHelper=F4(function(fn,acc,ctr,c){if(c.b){var a=c.a,r3=c.b;if(r3.b){var b=r3.a,r4=r3.b;if(r4.b){c=r4.a,r3=r4.b;if(r3.b){r4=r3.b;return A2(fn,a,A2(fn,b,A2(fn,c,A2(fn,r3.a,500<ctr?A3($elm$core$List$foldl,fn,acc,$elm$core$List$reverse(r4)):A4($elm$core$List$foldrHelper,fn,acc,ctr+1,r4)))))}return A2(fn,a,A2(fn,b,A2(fn,c,acc)))}return A2(fn,a,A2(fn,b,acc))}return A2(fn,a,acc)}return acc}),$elm$core$List$foldr=F3(function(fn,acc,ls){return A4($elm$core$List$foldrHelper,fn,acc,0,ls)}),$elm$core$List$map=F2(function(f,xs){return A3($elm$core$List$foldr,F2(function(x,acc){return A2($elm$core$List$cons,f(x),acc)}),_List_Nil,xs)}),$elm$core$Task$andThen=_Scheduler_andThen,$elm$core$Task$map=F2(function(func,taskA){return A2($elm$core$Task$andThen,function(a){return $elm$core$Task$succeed(func(a))},taskA)}),$elm$core$Task$map2=F3(function(func,taskA,taskB){return A2($elm$core$Task$andThen,function(a){return A2($elm$core$Task$andThen,function(b){return $elm$core$Task$succeed(A2(func,a,b))},taskB)},taskA)}),$elm$core$Platform$sendToApp=$mdgriffith$elm_ui$Internal$Style$classes_transparent,$elm$core$Task$spawnCmd=F2(function(router,task){task=task.a;return _Scheduler_spawn(A2($elm$core$Task$andThen,$elm$core$Platform$sendToApp(router),task))});function $elm$bytes$Bytes$Encode$getWidth(builder){switch(builder.$){case"I8":return 1;case"I16":return 2;case"I32":return 4;case"U8":return 1;case"U16":return 2;case"U32":case"F32":return 4;case"F64":return 8;case"Seq":case"Utf8":return builder.a;default:return builder.a.byteLength}}function $elm$bytes$Bytes$Encode$string(str){return A2($elm$bytes$Bytes$Encode$Utf8,function(string){for(var width=0,i=0;i<string.length;i++){var code=string.charCodeAt(i);width+=code<128?1:code<2048?2:code<55296||56319<code?3:(i++,4)}return width}(str),str)}function $elm$core$Dict$fromList(assocs){return A3($elm$core$List$foldl,F2(function(_v0,dict){return A3($elm$core$Dict$insert,_v0.a,_v0.b,dict)}),$elm$core$Dict$empty,assocs)}function $chelovek0v$bbase64$Base64$Table$encode(_v0){return"Just"!==(_v0=A2($elm$core$Dict$get,_v0,$chelovek0v$bbase64$Base64$Table$codeToCharMap)).$?"":_v0.a}function $chelovek0v$bbase64$Base64$Shift$toInt(shift){switch(shift.$){case"Shift0":return 0;case"Shift2":return 2;case"Shift4":return 4;default:return 6}}function $chelovek0v$bbase64$Base64$Encode$finalize(_v0){var sixtet_=_v0.b,strAcc=_v0.c;switch(_v0.a.$){case"Shift6":return _Utils_ap(strAcc,$chelovek0v$bbase64$Base64$Table$encode(sixtet_));case"Shift4":return strAcc+($chelovek0v$bbase64$Base64$Table$encode(A2($chelovek0v$bbase64$Base64$Shift$shiftLeftBy,$chelovek0v$bbase64$Base64$Shift$Shift2,sixtet_))+"=");case"Shift2":return strAcc+($chelovek0v$bbase64$Base64$Table$encode(A2($chelovek0v$bbase64$Base64$Shift$shiftLeftBy,$chelovek0v$bbase64$Base64$Shift$Shift4,sixtet_))+"==");default:return strAcc}}function $chelovek0v$bbase64$Base64$Encode$tryEncode(input){var base64Decoder={$:"#2",a:$elm$bytes$Bytes$width(input),b:$chelovek0v$bbase64$Base64$Encode$initialEncodeState},base64Decoder=A2($elm$bytes$Bytes$Decode$loop,base64Decoder,$chelovek0v$bbase64$Base64$Encode$decodeStep($elm$bytes$Bytes$Decode$unsignedInt8));return A2($elm$core$Maybe$map,$chelovek0v$bbase64$Base64$Encode$finalize,A2($elm$bytes$Bytes$Decode$decode,base64Decoder,input))}function $chelovek0v$bbase64$Base64$Encode$encode(encoder){return A2($elm$core$Maybe$withDefault,"",$chelovek0v$bbase64$Base64$Encode$tryEncode("StringEncoder"!==encoder.$?encoder.a:$elm$bytes$Bytes$Encode$encode($elm$bytes$Bytes$Encode$string(encoder.a))))}function $author$project$Msg$AdjustTimeZone(a){return{$:"AdjustTimeZone",a:a}}function $ianmackenzie$elm_units$Angle$degrees(numDegrees){return{$:"Quantity",a:numDegrees/180*3.141592653589793}}function $elm$url$Url$Parser$Query$string(key){return A2($elm$url$Url$Parser$Query$custom,key,function(stringList){return!stringList.b||stringList.b.b?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(stringList.a)})}function $author$project$OAuth$errorCodeFromString(str){switch(str){case"invalid_request":return $author$project$OAuth$InvalidRequest;case"unauthorized_client":return $author$project$OAuth$UnauthorizedClient;case"access_denied":return $author$project$OAuth$AccessDenied;case"unsupported_response_type":return $author$project$OAuth$UnsupportedResponseType;case"invalid_scope":return $author$project$OAuth$InvalidScope;case"server_error":return $author$project$OAuth$ServerError;case"temporarily_unavailable":return $author$project$OAuth$TemporarilyUnavailable;default:return{$:"Custom",a:str}}}function $author$project$OAuth$AuthorizationCode$Error(a){return{$:"Error",a:a}}function $author$project$OAuth$AuthorizationCode$Success(a){return{$:"Success",a:a}}function $elm$core$Dict$moveRedLeft(dict){if("RBNode_elm_builtin"!==dict.$||"RBNode_elm_builtin"!==dict.d.$||"RBNode_elm_builtin"!==dict.e.$)return dict;if("RBNode_elm_builtin"===dict.e.d.$&&"Red"===dict.e.d.a.$){var _v1=dict.d,rRight=dict.e,rK=rRight.b,rV=rRight.c,_v4=(rLeft=rRight.d,rLeft.d),_v5=rLeft.e,rRight=rRight.e;return A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,rLeft.b,rLeft.c,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,dict.b,dict.c,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,_v1.b,_v1.c,_v1.d,_v1.e),_v4),A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,rK,rV,_v5,rRight))}var rK=(_v5=dict.e).b,rV=_v5.c,rLeft=_v5.d,rRight=_v5.e;return A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,dict.b,dict.c,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,(_v4=dict.d).b,_v4.c,_v4.d,_v4.e),A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,rK,rV,rLeft,rRight))}function $elm$core$Dict$moveRedRight(dict){if("RBNode_elm_builtin"!==dict.$||"RBNode_elm_builtin"!==dict.d.$||"RBNode_elm_builtin"!==dict.e.$)return dict;if("RBNode_elm_builtin"!==dict.d.d.$||"Red"!==dict.d.d.a.$)return rK=(_v6=dict.e).b,rV=_v6.c,rLeft=_v6.d,rRight=_v6.e,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,k=dict.b,v=dict.c,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,(_v5=dict.d).b,_v5.c,lLeft=_v5.d,lRight=_v5.e),A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,rK,rV,rLeft,rRight));var k=dict.b,v=dict.c,lLeft=dict.d,_v6=lLeft.d,lRight=lLeft.e,_v5=dict.e,rK=_v5.b,rV=_v5.c,rLeft=_v5.d,rRight=_v5.e;return A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,lLeft.b,lLeft.c,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,_v6.b,_v6.c,_v6.d,_v6.e),A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,k,v,lRight,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,rK,rV,rLeft,rRight)))}function $elm$url$Url$Parser$query(_v0){var queryParser=_v0.a;return{$:"Parser",a:function(_v1){var params=_v1.params;return _List_fromArray([A5($elm$url$Url$Parser$State,_v1.visited,_v1.unvisited,params,_v1.frag,(0,_v1.value)(queryParser(params)))])}}}function $elm$core$List$concat(lists){return A3($elm$core$List$foldr,$elm$core$List$append,_List_Nil,lists)}function $elm$url$Url$toString(url){return A3($elm$url$Url$addPrefixed,"#",url.fragment,A3($elm$url$Url$addPrefixed,"?",url.query,_Utils_ap(A2($elm$url$Url$addPort,url.port_,_Utils_ap("Http"===url.protocol.$?"http://":"https://",url.host)),url.path)))}function $ianmackenzie$elm_geometry$Point3d$xCoordinate(_v0){return{$:"Quantity",a:_v0.a.x}}function $ianmackenzie$elm_geometry$Point3d$yCoordinate(_v0){return{$:"Quantity",a:_v0.a.y}}function $ianmackenzie$elm_geometry$Point3d$zCoordinate(_v0){return{$:"Quantity",a:_v0.a.z}}function $ianmackenzie$elm_geometry$BoundingBox3d$singleton(point){return{$:"BoundingBox3d",a:{maxX:$ianmackenzie$elm_geometry$Point3d$xCoordinate(point),maxY:$ianmackenzie$elm_geometry$Point3d$yCoordinate(point),maxZ:$ianmackenzie$elm_geometry$Point3d$zCoordinate(point),minX:$ianmackenzie$elm_geometry$Point3d$xCoordinate(point),minY:$ianmackenzie$elm_geometry$Point3d$yCoordinate(point),minZ:$ianmackenzie$elm_geometry$Point3d$zCoordinate(point)}}}function $author$project$Msg$wrapAuthMessage(msg){return{$:"OAuthMessage",a:msg}}function $author$project$Msg$MapMessage(a){return{$:"MapMessage",a:a}}function $author$project$Msg$MapRemoved(a){return{$:"MapRemoved",a:a}}function $author$project$Msg$Tick(a){return{$:"Tick",a:a}}_Platform_effectManagers.Task={b:$mdgriffith$elm_ui$Internal$Model$Focus,c:F3(function(router,commands){return A2($elm$core$Task$map,function(){return _Utils_Tuple0},$elm$core$Task$sequence(A2($elm$core$List$map,$elm$core$Task$spawnCmd(router),commands)))}),d:F3(function(){return $elm$core$Task$succeed(_Utils_Tuple0)}),e:F2(function(tagger,_v0){return{$:"Perform",a:A2($elm$core$Task$map,tagger,_v0.a)}}),f:void 0};var millisToPosix,$elm$core$Task$command=_Platform_leaf("Task"),$elm$core$Task$perform=F2(function(toMessage,task){return $elm$core$Task$command({$:"Perform",a:A2($elm$core$Task$map,toMessage,task)})}),$elm$browser$Browser$application=function(impl){var onUrlChange=impl.onUrlChange,onUrlRequest=impl.onUrlRequest,key=function(){key.a(onUrlChange(_Browser_getUrl()))};return _Browser_document({setup:function(sendToApp){return key.a=sendToApp,_Browser_window.addEventListener("popstate",key),~_Browser_window.navigator.userAgent.indexOf("Trident")&&_Browser_window.addEventListener("hashchange",key),F2(function(next,curr){var href;curr.ctrlKey||curr.metaKey||curr.shiftKey||1<=curr.button||next.target||next.hasAttribute("download")||(curr.preventDefault(),href=next.href,curr=_Browser_getUrl(),next=$elm$url$Url$fromString(href).a,sendToApp(onUrlRequest(next&&curr.protocol===next.protocol&&curr.host===next.host&&curr.port_.a===next.port_.a?{$:"Internal",a:next}:{$:"External",a:href})))})},init:function(flags){return A3(impl.init,flags,_Browser_getUrl(),key)},view:impl.view,update:impl.update,subscriptions:impl.subscriptions})},$elm$core$Basics$composeR=F3(function(f,g,x){return g(f(x))}),$mdgriffith$elm_ui$Internal$Style$describeAlignment=function(input){return{$:"BytesEncoder",a:input}},$elm$bytes$Bytes$LE={$:"LE"},$elm$bytes$Bytes$Encode$write=F3(function(builder,mb,offset){switch(builder.$){case"I8":return A3(_Bytes_write_i8,mb,offset,builder.a);case"I16":return A4(_Bytes_write_i16,mb,offset,builder.b,_Utils_eq(builder.a,$elm$bytes$Bytes$LE));case"I32":return A4(_Bytes_write_i32,mb,offset,builder.b,_Utils_eq(builder.a,$elm$bytes$Bytes$LE));case"U8":return A3(_Bytes_write_u8,mb,offset,builder.a);case"U16":return A4(_Bytes_write_u16,mb,offset,builder.b,_Utils_eq(builder.a,$elm$bytes$Bytes$LE));case"U32":return A4(_Bytes_write_u32,mb,offset,builder.b,_Utils_eq(builder.a,$elm$bytes$Bytes$LE));case"F32":return A4(_Bytes_write_f32,mb,offset,builder.b,_Utils_eq(builder.a,$elm$bytes$Bytes$LE));case"F64":return A4(_Bytes_write_f64,mb,offset,builder.b,_Utils_eq(builder.a,$elm$bytes$Bytes$LE));case"Seq":return A3($elm$bytes$Bytes$Encode$writeSequence,builder.b,mb,offset);case"Utf8":return A3(_Bytes_write_string,mb,offset,builder.b);default:return A3(_Bytes_write_bytes,mb,offset,builder.a)}}),$elm$bytes$Bytes$Encode$writeSequence=F3(function(builders,mb,offset){for(;;){if(!builders.b)return offset;var $temp$builders=builders.b,$temp$mb=mb,$temp$offset=A3($elm$bytes$Bytes$Encode$write,builders.a,mb,offset);builders=$temp$builders,mb=$temp$mb,offset=$temp$offset}}),$elm$bytes$Bytes$Encode$encode=function(encoder){var mutableBytes=new DataView(new ArrayBuffer($elm$bytes$Bytes$Encode$getWidth(encoder)));return $elm$bytes$Bytes$Encode$write(encoder)(mutableBytes)(0),mutableBytes},$elm$bytes$Bytes$Encode$Utf8=F2(function(a,b){return{$:"Utf8",a:a,b:b}}),$elm$bytes$Bytes$Decode$decode=F2(function(_v0,bs){return A2(_Bytes_decode,_v0.a,bs)}),$chelovek0v$bbase64$Base64$Shift$Shift2={$:"Shift2"},$chelovek0v$bbase64$Base64$Shift$Shift4={$:"Shift4"},$chelovek0v$bbase64$Base64$Shift$Shift6={$:"Shift6"},$chelovek0v$bbase64$Base64$Shift$and=F2(function(shift,value){switch(shift.$){case"Shift0":return value;case"Shift2":return 3&value;case"Shift4":return 15&value;default:return 63&value}}),$elm$core$Dict$RBEmpty_elm_builtin={$:"RBEmpty_elm_builtin"},$elm$core$Dict$empty=$elm$core$Dict$RBEmpty_elm_builtin,$elm$core$Dict$Black={$:"Black"},$elm$core$Dict$RBNode_elm_builtin=F5(function(a,b,c,d,e){return{$:"RBNode_elm_builtin",a:a,b:b,c:c,d:d,e:e}}),$elm$core$Dict$Red={$:"Red"},$elm$core$Dict$balance=F5(function(_v6,key,value,left,right){if("RBNode_elm_builtin"===right.$&&"Red"===right.a.$){var rK=right.b,rV=right.c,rLeft=right.d,rRight=right.e;if("RBNode_elm_builtin"!==left.$||"Red"!==left.a.$)return A5($elm$core$Dict$RBNode_elm_builtin,_v6,rK,rV,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,key,value,left,rLeft),rRight);return A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,key,value,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,left.b,left.c,left.d,lRight=left.e),A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,rK,rV,rLeft,rRight))}if("RBNode_elm_builtin"!==left.$||"Red"!==left.a.$||"RBNode_elm_builtin"!==left.d.$||"Red"!==left.d.a.$)return A5($elm$core$Dict$RBNode_elm_builtin,_v6,key,value,left,right);var _v6=left.d,lRight=left.e;return A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,left.b,left.c,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,_v6.b,_v6.c,_v6.d,_v6.e),A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,key,value,lRight,right))}),$elm$core$Basics$compare=alpha,$elm$core$Dict$insertHelp=F3(function(key,value,dict){if("RBEmpty_elm_builtin"===dict.$)return A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,key,value,$elm$core$Dict$RBEmpty_elm_builtin,$elm$core$Dict$RBEmpty_elm_builtin);var nColor=dict.a,nKey=dict.b,nValue=dict.c,nLeft=dict.d,nRight=dict.e;switch(A2($elm$core$Basics$compare,key,nKey).$){case"LT":return A5($elm$core$Dict$balance,nColor,nKey,nValue,A3($elm$core$Dict$insertHelp,key,value,nLeft),nRight);case"EQ":return A5($elm$core$Dict$RBNode_elm_builtin,nColor,nKey,value,nLeft,nRight);default:return A5($elm$core$Dict$balance,nColor,nKey,nValue,nLeft,A3($elm$core$Dict$insertHelp,key,value,nRight))}}),$elm$core$Dict$insert=F3(function(key,value,_v0){_v0=A3($elm$core$Dict$insertHelp,key,value,_v0);if("RBNode_elm_builtin"!==_v0.$||"Red"!==_v0.a.$)return _v0;return A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,_v0.b,_v0.c,_v0.d,_v0.e)}),$chelovek0v$bbase64$Base64$Table$codeToCharMap=$elm$core$Dict$fromList(_List_fromArray([{$:"#2",a:0,b:"A"},{$:"#2",a:1,b:"B"},{$:"#2",a:2,b:"C"},{$:"#2",a:3,b:"D"},{$:"#2",a:4,b:"E"},{$:"#2",a:5,b:"F"},{$:"#2",a:6,b:"G"},{$:"#2",a:7,b:"H"},{$:"#2",a:8,b:"I"},{$:"#2",a:9,b:"J"},{$:"#2",a:10,b:"K"},{$:"#2",a:11,b:"L"},{$:"#2",a:12,b:"M"},{$:"#2",a:13,b:"N"},{$:"#2",a:14,b:"O"},{$:"#2",a:15,b:"P"},{$:"#2",a:16,b:"Q"},{$:"#2",a:17,b:"R"},{$:"#2",a:18,b:"S"},{$:"#2",a:19,b:"T"},{$:"#2",a:20,b:"U"},{$:"#2",a:21,b:"V"},{$:"#2",a:22,b:"W"},{$:"#2",a:23,b:"X"},{$:"#2",a:24,b:"Y"},{$:"#2",a:25,b:"Z"},{$:"#2",a:26,b:"a"},{$:"#2",a:27,b:"b"},{$:"#2",a:28,b:"c"},{$:"#2",a:29,b:"d"},{$:"#2",a:30,b:"e"},{$:"#2",a:31,b:"f"},{$:"#2",a:32,b:"g"},{$:"#2",a:33,b:"h"},{$:"#2",a:34,b:"i"},{$:"#2",a:35,b:"j"},{$:"#2",a:36,b:"k"},{$:"#2",a:37,b:"l"},{$:"#2",a:38,b:"m"},{$:"#2",a:39,b:"n"},{$:"#2",a:40,b:"o"},{$:"#2",a:41,b:"p"},{$:"#2",a:42,b:"q"},{$:"#2",a:43,b:"r"},{$:"#2",a:44,b:"s"},{$:"#2",a:45,b:"t"},{$:"#2",a:46,b:"u"},{$:"#2",a:47,b:"v"},{$:"#2",a:48,b:"w"},{$:"#2",a:49,b:"x"},{$:"#2",a:50,b:"y"},{$:"#2",a:51,b:"z"},{$:"#2",a:52,b:"0"},{$:"#2",a:53,b:"1"},{$:"#2",a:54,b:"2"},{$:"#2",a:55,b:"3"},{$:"#2",a:56,b:"4"},{$:"#2",a:57,b:"5"},{$:"#2",a:58,b:"6"},{$:"#2",a:59,b:"7"},{$:"#2",a:60,b:"8"},{$:"#2",a:61,b:"9"},{$:"#2",a:62,b:"+"},{$:"#2",a:63,b:"/"}])),$elm$core$Dict$get=F2(function(targetKey,dict){get:for(;;){if("RBEmpty_elm_builtin"===dict.$)return $elm$core$Maybe$Nothing;var value=dict.c,left=dict.d,right=dict.e;switch(A2($elm$core$Basics$compare,targetKey,dict.b).$){case"LT":targetKey=targetKey,dict=left;continue get;case"EQ":return $elm$core$Maybe$Just(value);default:targetKey=targetKey,dict=right;continue get}}}),$chelovek0v$bbase64$Base64$Shift$shiftRightZfBy=F2(function(shift,value){return value>>>$chelovek0v$bbase64$Base64$Shift$toInt(shift)}),$chelovek0v$bbase64$Base64$Shift$shiftLeftBy=F2(function(shift,value){return value<<$chelovek0v$bbase64$Base64$Shift$toInt(shift)}),$chelovek0v$bbase64$Base64$Encode$sixtet=F2(function(octet,_v0){var sixtet_=_v0.b;switch(_v0.a.$){case"Shift0":return A2($chelovek0v$bbase64$Base64$Shift$shiftRightZfBy,$chelovek0v$bbase64$Base64$Shift$Shift2,octet);case"Shift2":return A2($chelovek0v$bbase64$Base64$Shift$shiftLeftBy,$chelovek0v$bbase64$Base64$Shift$Shift4,sixtet_)|A2($chelovek0v$bbase64$Base64$Shift$shiftRightZfBy,$chelovek0v$bbase64$Base64$Shift$Shift4,octet);case"Shift4":return A2($chelovek0v$bbase64$Base64$Shift$shiftLeftBy,$chelovek0v$bbase64$Base64$Shift$Shift2,sixtet_)|A2($chelovek0v$bbase64$Base64$Shift$shiftRightZfBy,$chelovek0v$bbase64$Base64$Shift$Shift6,octet);default:return sixtet_}}),$chelovek0v$bbase64$Base64$Encode$encodeStep=F2(function(octet,base64Char){var shift=base64Char.a,strAcc=base64Char.c,nextSixtet=function(){switch(shift.$){case"Shift0":return A2($chelovek0v$bbase64$Base64$Shift$and,$chelovek0v$bbase64$Base64$Shift$Shift2,octet);case"Shift2":return A2($chelovek0v$bbase64$Base64$Shift$and,$chelovek0v$bbase64$Base64$Shift$Shift4,octet);case"Shift4":return A2($chelovek0v$bbase64$Base64$Shift$and,$chelovek0v$bbase64$Base64$Shift$Shift6,octet);default:return A2($chelovek0v$bbase64$Base64$Shift$and,$chelovek0v$bbase64$Base64$Shift$Shift2,octet)}}(),base64Char=A2($chelovek0v$bbase64$Base64$Encode$sixtet,octet,base64Char),base64Char="Shift6"===shift.$?_Utils_ap($chelovek0v$bbase64$Base64$Table$encode(base64Char),$chelovek0v$bbase64$Base64$Table$encode(A2($chelovek0v$bbase64$Base64$Shift$shiftRightZfBy,$chelovek0v$bbase64$Base64$Shift$Shift2,octet))):$chelovek0v$bbase64$Base64$Table$encode(base64Char);return{$:"#3",a:function(shift){switch(shift.$){case"Shift0":return $chelovek0v$bbase64$Base64$Shift$Shift2;case"Shift2":return $chelovek0v$bbase64$Base64$Shift$Shift4;case"Shift4":return $chelovek0v$bbase64$Base64$Shift$Shift6;default:return $chelovek0v$bbase64$Base64$Shift$Shift2}}(shift),b:nextSixtet,c:_Utils_ap(strAcc,base64Char)}}),$elm$bytes$Bytes$Decode$map=F2(function(func,_v0){var decodeA=_v0.a;return{$:"Decoder",a:F2(function(bites,_v1){_v1=A2(decodeA,bites,_v1);return{$:"#2",a:_v1.a,b:func(_v1.b)}})}}),$chelovek0v$bbase64$Base64$Encode$decodeStep=F2(function(octetDecoder,_v0){var a,n=_v0.a,encodeState=_v0.b;return 0<n?A2($elm$bytes$Bytes$Decode$map,function(octet){return{$:"Loop",a:{$:"#2",a:n-1,b:A2($chelovek0v$bbase64$Base64$Encode$encodeStep,octet,encodeState)}}},octetDecoder):(a={$:"Done",a:encodeState},{$:"Decoder",a:F2(function(_v0,offset){return{$:"#2",a:offset,b:a}})})}),$chelovek0v$bbase64$Base64$Encode$initialEncodeState={$:"#3",a:{$:"Shift0"},b:0,c:""},$elm$bytes$Bytes$Decode$loopHelp=F4(function(state,callback,bites,offset){for(;;){var step=A2(callback(state).a,bites,offset),newOffset=step.a,step=step.b;if("Loop"!==step.$)return{$:"#2",a:newOffset,b:step.a};state=step.a,callback=callback,bites=bites,offset=newOffset}}),$elm$bytes$Bytes$Decode$loop=F2(function(state,callback){return{$:"Decoder",a:A2($elm$bytes$Bytes$Decode$loopHelp,state,callback)}}),$elm$core$Maybe$map=F2(function(f,maybe){return"Just"!==maybe.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(f(maybe.a))}),$elm$bytes$Bytes$Decode$unsignedInt8={$:"Decoder",a:$mdgriffith$elm_ui$Internal$Style$elDescription},$elm$bytes$Bytes$width=_Bytes_width,$elm$core$Maybe$withDefault=F2(function(_default,maybe){return"Just"!==maybe.$?_default:maybe.a}),$mdgriffith$elm_ui$Internal$Style$classes_borderDashed=A2($elm$core$Basics$composeR,$mdgriffith$elm_ui$Internal$Style$describeAlignment,$chelovek0v$bbase64$Base64$Encode$encode),$elm$bytes$Bytes$Encode$Seq=F2(function(a,b){return{$:"Seq",a:a,b:b}}),$elm$bytes$Bytes$Encode$getWidths=F2(function(width,builders){for(;;){if(!builders.b)return width;var bs=builders.b;width=width+$elm$bytes$Bytes$Encode$getWidth(builders.a),builders=bs}}),$mdgriffith$elm_ui$Internal$Style$classes_active=function(builders){return A2($elm$bytes$Bytes$Encode$Seq,A2($elm$bytes$Bytes$Encode$getWidths,0,builders),builders)},$mdgriffith$elm_ui$Internal$Style$classes_bold=A2($elm$core$Basics$composeR,$elm$core$List$map(function(a){return{$:"U8",a:a}}),A2($elm$core$Basics$composeR,$mdgriffith$elm_ui$Internal$Style$classes_active,$elm$bytes$Bytes$Encode$encode)),$author$project$StravaAuth$convertBytes=A2($elm$core$Basics$composeR,$mdgriffith$elm_ui$Internal$Style$classes_bold,A2($elm$core$Basics$composeR,$mdgriffith$elm_ui$Internal$Style$classes_borderDashed,function(state){return{state:state}})),$author$project$ViewTypes$AboutView={$:"AboutView"},$author$project$Main$DragNone={$:"DragNone"},$author$project$Main$GpxNone={$:"GpxNone"},$author$project$StravaTypes$SegmentNone={$:"SegmentNone"},$author$project$StravaTypes$StravaRouteNone={$:"StravaRouteNone"},$elm$core$Platform$Cmd$batch=_Platform_batch,$author$project$DisplayOptions$PastelCurtain={$:"PastelCurtain"},$author$project$DisplayOptions$defaultDisplayOptions={centreLine:!1,curtainStyle:$author$project$DisplayOptions$PastelCurtain,problems:!1,roadCones:!0,roadPillars:!0,roadTrack:!0,seaLevel:!0,terrain:!1,withLighting:!0},$elm$time$Time$customZone=$mdgriffith$elm_ui$Internal$Style$classes_clipX=F2(function(a,b){return{$:"Zone",a:a,b:b}}),$elm$time$Time$here={$:2,b:function(callback){callback({$:0,a:A2($elm$time$Time$customZone,-(new Date).getTimezoneOffset(),_List_Nil)})},c:null},$author$project$OAuthTypes$AccessTokenRequested={$:"AccessTokenRequested"},$author$project$OAuthTypes$ErrStateMismatch={$:"ErrStateMismatch"},$author$project$OAuthTypes$Idle={$:"Idle"},$andrewMacmurray$elm_delay$Delay$Millisecond={$:"Millisecond"},$andrewMacmurray$elm_delay$Delay$Duration=F2(function(a,b){return{$:"Duration",a:a,b:b}}),$elm$core$Process$sleep=_Process_sleep,$andrewMacmurray$elm_delay$Delay$after_=F2(function(time,msg){return A2($elm$core$Task$perform,$elm$core$Basics$always(msg),$elm$core$Process$sleep(time))}),$andrewMacmurray$elm_delay$Delay$Minute={$:"Minute"},$andrewMacmurray$elm_delay$Delay$Second={$:"Second"},$andrewMacmurray$elm_delay$Delay$toMillis=function(_v0){var t=_v0.a;switch(_v0.b.$){case"Millisecond":return t;case"Second":return 1e3*t;case"Minute":return $andrewMacmurray$elm_delay$Delay$toMillis(A2($andrewMacmurray$elm_delay$Delay$Duration,60*t,$andrewMacmurray$elm_delay$Delay$Second));default:return $andrewMacmurray$elm_delay$Delay$toMillis(A2($andrewMacmurray$elm_delay$Delay$Duration,60*t,$andrewMacmurray$elm_delay$Delay$Minute))}},$andrewMacmurray$elm_delay$Delay$after=F3(function(time,unit,msg){return A2($andrewMacmurray$elm_delay$Delay$after_,$andrewMacmurray$elm_delay$Delay$toMillis(A2($andrewMacmurray$elm_delay$Delay$Duration,time,unit)),msg)}),$elm$core$Platform$Cmd$none=$elm$core$Platform$Cmd$batch(_List_Nil),$author$project$Internal$AuthorizationError=F4(function(error,errorDescription,errorUri,state){return{error:error,errorDescription:errorDescription,errorUri:errorUri,state:state}}),$elm$url$Url$Parser$Query$custom=F2(function(key,func){return{$:"Parser",a:function(dict){return func(A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Dict$get,key,dict)))}}}),$author$project$Internal$errorDescriptionParser=$elm$url$Url$Parser$Query$string("error_description"),$author$project$Internal$errorUriParser=$elm$url$Url$Parser$Query$string("error_uri"),$elm$url$Url$Parser$Query$map3=F4(function(func,_v0,_v1,_v2){var a=_v0.a,b=_v1.a,c=_v2.a;return{$:"Parser",a:function(dict){return A3(func,a(dict),b(dict),c(dict))}}}),$author$project$Internal$stateParser=$elm$url$Url$Parser$Query$string("state"),$mdgriffith$elm_ui$Internal$Style$classes_borderNone=function(errorCode){return A4($elm$url$Url$Parser$Query$map3,$author$project$Internal$AuthorizationError(errorCode),$author$project$Internal$errorDescriptionParser,$author$project$Internal$errorUriParser,$author$project$Internal$stateParser)},$author$project$OAuth$AuthorizationCode$AuthorizationSuccess=F2(function(code,state){return{code:code,state:state}}),$elm$url$Url$Parser$Query$map=F2(function(func,_v0){var a=_v0.a;return{$:"Parser",a:function(dict){return func(a(dict))}}}),$mdgriffith$elm_ui$Internal$Style$classes_borderSolid=$elm$url$Url$Parser$Query$string("code"),$author$project$OAuth$AccessDenied={$:"AccessDenied"},$author$project$OAuth$InvalidRequest={$:"InvalidRequest"},$author$project$OAuth$InvalidScope={$:"InvalidScope"},$author$project$OAuth$ServerError={$:"ServerError"},$author$project$OAuth$TemporarilyUnavailable={$:"TemporarilyUnavailable"},$author$project$OAuth$UnauthorizedClient={$:"UnauthorizedClient"},$author$project$OAuth$UnsupportedResponseType={$:"UnsupportedResponseType"},$mdgriffith$elm_ui$Internal$Style$classes_capturePointerEvents={authorizationErrorParser:$mdgriffith$elm_ui$Internal$Style$classes_borderNone,authorizationSuccessParser:function(code){return A2($elm$url$Url$Parser$Query$map,$author$project$OAuth$AuthorizationCode$AuthorizationSuccess(code),$author$project$Internal$stateParser)},codeParser:$mdgriffith$elm_ui$Internal$Style$classes_borderSolid,errorParser:A2($elm$url$Url$Parser$Query$map,$elm$core$Maybe$map($author$project$OAuth$errorCodeFromString),$elm$url$Url$Parser$Query$string("error"))},$author$project$OAuth$AuthorizationCode$Empty={$:"Empty"},$elm$url$Url$Parser$Query$map2=F3(function(func,_v0,_v1){var a=_v0.a,b=_v1.a;return{$:"Parser",a:function(dict){return A2(func,a(dict),b(dict))}}}),$elm$core$Tuple$pair=F2(function(a,b){return{$:"#2",a:a,b:b}}),$elm$url$Url$Parser$State=F5(function(visited,unvisited,params,frag,value){return{frag:frag,params:params,unvisited:unvisited,value:value,visited:visited}}),$elm$url$Url$Parser$removeFinalEmpty=function(segments){return segments.b&&(""!==segments.a||segments.b.b)?A2($elm$core$List$cons,segments.a,$elm$url$Url$Parser$removeFinalEmpty(segments.b)):_List_Nil},$elm$url$Url$Parser$addToParametersHelp=F2(function(value,maybeList){return $elm$core$Maybe$Just("Nothing"===maybeList.$?_List_fromArray([value]):A2($elm$core$List$cons,value,maybeList.a))}),$elm$url$Url$percentDecode=function(string){try{return $elm$core$Maybe$Just(decodeURIComponent(string))}catch(e){return $elm$core$Maybe$Nothing}},$elm$core$Dict$removeHelpPrepEQGT=F7(function(targetKey,dict,color,key,value,left,right){if("RBNode_elm_builtin"===left.$&&"Red"===left.a.$)return A5($elm$core$Dict$RBNode_elm_builtin,color,left.b,left.c,left.d,A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Red,key,value,left.e,right));_v2$2:for(;"RBNode_elm_builtin"===right.$&&"Black"===right.a.$;){if("RBNode_elm_builtin"===right.d.$){if("Black"!==right.d.a.$)break _v2$2;return $elm$core$Dict$moveRedRight(dict)}return $elm$core$Dict$moveRedRight(dict)}return dict}),$elm$core$Dict$removeMin=function(nRight){if("RBNode_elm_builtin"!==nRight.$||"RBNode_elm_builtin"!==nRight.d.$)return $elm$core$Dict$RBEmpty_elm_builtin;var color=nRight.a,key=nRight.b,value=nRight.c,left=nRight.d,lLeft=left.d,_v4=nRight.e;if("Black"!==left.a.$)return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,$elm$core$Dict$removeMin(left),_v4);if("RBNode_elm_builtin"===lLeft.$&&"Red"===lLeft.a.$)return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,$elm$core$Dict$removeMin(left),_v4);_v4=$elm$core$Dict$moveRedLeft(nRight);if("RBNode_elm_builtin"!==_v4.$)return $elm$core$Dict$RBEmpty_elm_builtin;nRight=_v4.e;return A5($elm$core$Dict$balance,_v4.a,_v4.b,_v4.c,$elm$core$Dict$removeMin(_v4.d),nRight)},$elm$core$Dict$removeHelp=F2(function(targetKey,dict){if("RBEmpty_elm_builtin"===dict.$)return $elm$core$Dict$RBEmpty_elm_builtin;var color=dict.a,key=dict.b,value=dict.c,left=dict.d,right=dict.e;if(_Utils_cmp(targetKey,key)<0){if("RBNode_elm_builtin"!==left.$||"Black"!==left.a.$)return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,A2($elm$core$Dict$removeHelp,targetKey,left),right);var nRight=left.d;if("RBNode_elm_builtin"===nRight.$&&"Red"===nRight.a.$)return A5($elm$core$Dict$RBNode_elm_builtin,color,key,value,A2($elm$core$Dict$removeHelp,targetKey,left),right);var _v7=$elm$core$Dict$moveRedLeft(dict);if("RBNode_elm_builtin"!==_v7.$)return $elm$core$Dict$RBEmpty_elm_builtin;nRight=_v7.e;return A5($elm$core$Dict$balance,_v7.a,_v7.b,_v7.c,A2($elm$core$Dict$removeHelp,targetKey,_v7.d),nRight)}return A2($elm$core$Dict$removeHelpEQGT,targetKey,A7($elm$core$Dict$removeHelpPrepEQGT,targetKey,dict,color,key,value,left,right))}),$elm$core$Dict$removeHelpEQGT=F2(function(targetKey,_v1){if("RBNode_elm_builtin"!==_v1.$)return $elm$core$Dict$RBEmpty_elm_builtin;var color=_v1.a,key=_v1.b,value=_v1.c,left=_v1.d,right=_v1.e;if(_Utils_eq(targetKey,key)){_v1=function(dict){for(;;){if("RBNode_elm_builtin"!==dict.$||"RBNode_elm_builtin"!==dict.d.$)return dict;dict=dict.d}}(right);return"RBNode_elm_builtin"!==_v1.$?$elm$core$Dict$RBEmpty_elm_builtin:A5($elm$core$Dict$balance,color,_v1.b,_v1.c,left,$elm$core$Dict$removeMin(right))}return A5($elm$core$Dict$balance,color,key,value,left,A2($elm$core$Dict$removeHelp,targetKey,right))}),$elm$core$Dict$remove=F2(function(key,_v0){_v0=A2($elm$core$Dict$removeHelp,key,_v0);if("RBNode_elm_builtin"!==_v0.$||"Red"!==_v0.a.$)return _v0;return A5($elm$core$Dict$RBNode_elm_builtin,$elm$core$Dict$Black,_v0.b,_v0.c,_v0.d,_v0.e)}),$elm$core$Dict$update=F3(function(targetKey,_v0,dictionary){_v0=_v0(A2($elm$core$Dict$get,targetKey,dictionary));return"Just"!==_v0.$?A2($elm$core$Dict$remove,targetKey,dictionary):A3($elm$core$Dict$insert,targetKey,_v0.a,dictionary)}),$elm$url$Url$Parser$addParam=F2(function(_v3,dict){var key=A2($elm$core$String$split,"=",_v3);if(key.b&&key.b.b&&!key.b.b.b){_v3=key.b.a,key=$elm$url$Url$percentDecode(key.a);if("Nothing"===key.$)return dict;key=key.a,_v3=$elm$url$Url$percentDecode(_v3);return"Nothing"===_v3.$?dict:A3($elm$core$Dict$update,key,$elm$url$Url$Parser$addToParametersHelp(_v3.a),dict)}return dict}),$elm$url$Url$Parser$parse=F2(function(maybeQuery,url){return function(states){for(;;){if(!states.b)return $elm$core$Maybe$Nothing;var state=states.a,rest=states.b,_v1=state.unvisited;if(!_v1.b)return $elm$core$Maybe$Just(state.value);if(""===_v1.a&&!_v1.b.b)return $elm$core$Maybe$Just(state.value);states=rest}}((0,maybeQuery.a)(A5($elm$url$Url$Parser$State,_List_Nil,function(_v0){_v0=A2($elm$core$String$split,"/",_v0);return $elm$url$Url$Parser$removeFinalEmpty(_v0.b&&""===_v0.a?_v0.b:_v0)}(url.path),"Nothing"===(maybeQuery=url.query).$?$elm$core$Dict$empty:A3($elm$core$List$foldr,$elm$url$Url$Parser$addParam,$elm$core$Dict$empty,A2($elm$core$String$split,"&",maybeQuery.a)),url.fragment,$elm$core$Basics$identity)))}),$author$project$Internal$parseUrlQuery=F3(function(url,def,parser){return A2($elm$core$Maybe$withDefault,def,A2($elm$url$Url$Parser$parse,$elm$url$Url$Parser$query(parser),url))}),$elm$core$List$append=F2(function(xs,ys){return ys.b?A3($elm$core$List$foldr,$elm$core$List$cons,ys,xs):xs}),$elm$core$List$concatMap=F2(function(f,list){return $elm$core$List$concat(A2($elm$core$List$map,f,list))}),$elm$url$Url$Parser$slash=F2(function(_v0,_v1){var parseBefore=_v0.a,parseAfter=_v1.a;return{$:"Parser",a:function(state){return A2($elm$core$List$concatMap,parseAfter,parseBefore(state))}}}),$elm$url$Url$Parser$questionMark=F2(function(parser,queryParser){return A2($elm$url$Url$Parser$slash,parser,$elm$url$Url$Parser$query(queryParser))}),$elm$url$Url$Parser$top={$:"Parser",a:function(state){return _List_fromArray([state])}},$author$project$OAuth$AuthorizationCode$parseCode=F2(function(_v0,url_){var codeParser=_v0.codeParser,errorParser=_v0.errorParser,authorizationSuccessParser=_v0.authorizationSuccessParser,authorizationErrorParser=_v0.authorizationErrorParser,url=_Utils_update(url_,{path:"/"}),_v1=A2($elm$url$Url$Parser$parse,A2($elm$url$Url$Parser$questionMark,$elm$url$Url$Parser$top,A3($elm$url$Url$Parser$Query$map2,$elm$core$Tuple$pair,codeParser,errorParser)),url);_v1$2:for(;"Just"===_v1.$;){if("Just"===_v1.a.a.$)return A3($author$project$Internal$parseUrlQuery,url,$author$project$OAuth$AuthorizationCode$Empty,A2($elm$url$Url$Parser$Query$map,$author$project$OAuth$AuthorizationCode$Success,authorizationSuccessParser(_v1.a.a.a)));if("Just"!==_v1.a.b.$)break _v1$2;return A3($author$project$Internal$parseUrlQuery,url,$author$project$OAuth$AuthorizationCode$Empty,A2($elm$url$Url$Parser$Query$map,$author$project$OAuth$AuthorizationCode$Error,authorizationErrorParser(_v1.a.b.a)))}return $author$project$OAuth$AuthorizationCode$Empty})($mdgriffith$elm_ui$Internal$Style$classes_capturePointerEvents),$elm$browser$Browser$Navigation$replaceUrl=$mdgriffith$elm_ui$Element$Input$white,$elm$url$Url$addPort=F2(function(maybePort,starter){return"Nothing"===maybePort.$?starter:starter+(":"+$elm$core$String$fromInt(maybePort.a))}),$elm$url$Url$addPrefixed=F3(function(prefix,maybeSegment,starter){return"Nothing"===maybeSegment.$?starter:_Utils_ap(starter,_Utils_ap(prefix,maybeSegment.a))}),$author$project$StravaAuth$init=F4(function(mflags,origin,navigationKey,wrapperMsg){var redirectUri=_Utils_update(origin,{fragment:$elm$core$Maybe$Nothing,query:$elm$core$Maybe$Nothing}),clearUrl=A2($elm$browser$Browser$Navigation$replaceUrl,navigationKey,$elm$url$Url$toString(redirectUri)),_v0=$author$project$OAuth$AuthorizationCode$parseCode(origin);switch(_v0.$){case"Empty":return{$:"#2",a:{flow:$author$project$OAuthTypes$Idle,redirectUri:redirectUri},b:$elm$core$Platform$Cmd$none};case"Success":var code=_v0.a.code;return"Nothing"!==mflags.$&&_Utils_eq(_v0.a.state,$elm$core$Maybe$Just(mflags.a.state))?{$:"#2",a:{flow:{$:"Authorized",a:code},redirectUri:redirectUri},b:$elm$core$Platform$Cmd$batch(_List_fromArray([A3($andrewMacmurray$elm_delay$Delay$after,750,$andrewMacmurray$elm_delay$Delay$Millisecond,wrapperMsg($author$project$OAuthTypes$AccessTokenRequested)),clearUrl]))}:{$:"#2",a:{flow:{$:"Errored",a:$author$project$OAuthTypes$ErrStateMismatch},redirectUri:redirectUri},b:clearUrl};default:return{$:"#2",a:{flow:{$:"Errored",a:{$:"ErrAuthorization",a:_v0.a}},redirectUri:redirectUri},b:clearUrl}}}),$elm$time$Time$millisToPosix=function(a){return{$:"Posix",a:a}},$ianmackenzie$elm_geometry$Point3d$origin={$:"Point3d",a:{x:0,y:0,z:0}},$elm$time$Time$utc=A2($mdgriffith$elm_ui$Internal$Style$classes_clipX,0,_List_Nil),$author$project$Main$init=F3(function(mflags,authCmd,authData){authCmd=A4($author$project$StravaAuth$init,mflags,authCmd,authData,$author$project$Msg$wrapAuthMessage),authData=authCmd.a,authCmd=authCmd.b;return{$:"#2",a:{abruptBearingChanges:_List_Nil,abruptGradientChanges:_List_Nil,azimuth:{$:"Quantity",a:.7853981633974483},bearingChangeThreshold:90,bendTrackPointSpacing:3,bumpinessFactor:0,cameraFocusPlan:$ianmackenzie$elm_geometry$Point3d$origin,cameraFocusProfileNode:0,cameraFocusThirdPerson:$ianmackenzie$elm_geometry$Point3d$origin,changeCounter:0,clickData:{$:"#2",a:0,b:0},currentNode:0,currentSceneCamera:$elm$core$Maybe$Nothing,displayOptions:$author$project$DisplayOptions$defaultDisplayOptions,dragAction:$author$project$Main$DragNone,elevation:{$:"Quantity",a:.5235987755982988},externalRouteId:"",externalSegment:$author$project$StravaTypes$SegmentNone,externalSegmentId:"",filename:$elm$core$Maybe$Nothing,filterModes:{$:"#2",a:!0,b:!0},flythrough:$elm$core$Maybe$Nothing,flythroughSpeed:1,gpx:$elm$core$Maybe$Nothing,gpxSource:$author$project$Main$GpxNone,gpxUrl:"",gradientChangeThreshold:10,infoAccordion:_List_Nil,ipInfo:$elm$core$Maybe$Nothing,lastHttpError:$elm$core$Maybe$Nothing,loopiness:{$:"NotALoop",a:0},mapInfo:$elm$core$Maybe$Nothing,mapNodesDraggable:!1,mapVisualEntities:_List_Nil,markedNode:$elm$core$Maybe$Nothing,maxSegmentSplitSize:30,metricFilteredNodes:_List_Nil,mouseDownTime:$elm$time$Time$millisToPosix(0),nodeArray:$elm$core$Array$empty,nodeBox:$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin),nodes:_List_Nil,nudgeValue:0,nudgedNodeRoads:_List_Nil,nudgedRegionStart:0,orbiting:$elm$core$Maybe$Nothing,redoStack:_List_Nil,roadArray:$elm$core$Array$empty,roads:_List_Nil,smoothedBend:$elm$core$Maybe$Nothing,smoothingEndIndex:$elm$core$Maybe$Nothing,staticProfileEntities:_List_Nil,staticVisualEntities:_List_Nil,stravaAuthentication:authData,stravaRoute:$author$project$StravaTypes$StravaRouteNone,summary:$elm$core$Maybe$Nothing,terrainEntities:_List_Nil,time:$elm$time$Time$millisToPosix(0),timeOfLastSave:$elm$time$Time$millisToPosix(0),toolsAccordion:_List_Nil,trackName:$elm$core$Maybe$Nothing,trackPointBox:$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin),trackPoints:_List_Nil,undoStack:_List_Nil,varyingProfileEntities:_List_Nil,varyingVisualEntities:_List_Nil,verticalNudgeValue:0,viewingMode:$author$project$ViewTypes$AboutView,zeroLengths:_List_Nil,zone:$elm$time$Time$utc,zoomLevelFirstPerson:12,zoomLevelOverview:1,zoomLevelPlan:12,zoomLevelProfile:12,zoomLevelThirdPerson:12},b:$elm$core$Platform$Cmd$batch(_List_fromArray([A2($elm$core$Task$perform,$author$project$Msg$AdjustTimeZone,$elm$time$Time$here),authCmd]))}}),$elm$json$Json$Decode$int=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,$elm$json$Json$Decode$list=function(decoder){return{$:3,b:decoder}},$elm$json$Json$Decode$null=function(value){return{$:5,c:value}},$elm$json$Json$Decode$oneOf=function(decoders){return{$:11,g:decoders}},$elm$core$Platform$Sub$batch=_Platform_batch,$elm$time$Time$Every=F2(function(a,b){return{$:"Every",a:a,b:b}}),$elm$time$Time$State=F2(function(taggers,processes){return{processes:processes,taggers:taggers}}),$mdgriffith$elm_ui$Internal$Style$classes_grid=$elm$core$Task$succeed(A2($elm$time$Time$State,$elm$core$Dict$empty,$elm$core$Dict$empty)),$elm$time$Time$addMySub=F2(function(_v1,state){var interval=_v1.a,tagger=_v1.b,_v1=A2($elm$core$Dict$get,interval,state);return A3($elm$core$Dict$insert,interval,"Nothing"===_v1.$?_List_fromArray([tagger]):A2($elm$core$List$cons,tagger,_v1.a),state)}),$elm$core$Process$kill=function(proc){return{$:2,b:function(callback){var task=proc.f;2===task.$&&task.c&&task.c(),proc.f=null,callback({$:0,a:_Utils_Tuple0})},c:null}},$elm$core$Dict$foldl=F3(function(func,acc,dict){for(;;){if("RBEmpty_elm_builtin"===dict.$)return acc;var right=dict.e,$temp$func=func,$temp$acc=A3(func,dict.b,dict.c,A3($elm$core$Dict$foldl,func,acc,dict.d));func=$temp$func,acc=$temp$acc,dict=right}}),$elm$core$Dict$merge=F6(function(leftStep,bothStep,rightStep,leftDict,leftovers,intermediateResult){intermediateResult=A3($elm$core$Dict$foldl,F3(function(rKey,rValue,_v0){for(;;){var list=_v0.a,result=_v0.b;if(!list.b)return{$:"#2",a:list,b:A3(rightStep,rKey,rValue,result)};var rest=list.a,lKey=rest.a,lValue=rest.b,rest=list.b;if(0<=_Utils_cmp(lKey,rKey))return 0<_Utils_cmp(lKey,rKey)?{$:"#2",a:list,b:A3(rightStep,rKey,rValue,result)}:{$:"#2",a:rest,b:A4(bothStep,lKey,lValue,rValue,result)};rKey=rKey,rValue=rValue,_v0={$:"#2",a:rest,b:A3(leftStep,lKey,lValue,result)}}}),{$:"#2",a:$elm$core$Dict$toList(leftDict),b:intermediateResult},leftovers),leftovers=intermediateResult.a,intermediateResult=intermediateResult.b;return A3($elm$core$List$foldl,F2(function(_v4,result){return A3(leftStep,_v4.a,_v4.b,result)}),intermediateResult,leftovers)}),$elm$core$Platform$sendToSelf=$elm$svg$Svg$polygon,$elm$time$Time$setInterval=$mdgriffith$elm_ui$Internal$Style$classes_focus,$elm$core$Process$spawn=_Scheduler_spawn,$elm$time$Time$spawnHelp=F3(function(router,spawnTimer,processes){if(spawnTimer.b){var interval=spawnTimer.a,rest=spawnTimer.b,spawnTimer=$elm$core$Process$spawn(A2($elm$time$Time$setInterval,interval,A2($elm$core$Platform$sendToSelf,router,interval)));return A2($elm$core$Task$andThen,function(id){return A3($elm$time$Time$spawnHelp,router,rest,A3($elm$core$Dict$insert,interval,id,processes))},spawnTimer)}return $elm$core$Task$succeed(processes)}),$mdgriffith$elm_ui$Internal$Style$classes_hasBehind=F3(function(router,subs,rightStep){var _v1=rightStep.processes,rightStep=F3(function(_v6,id,_v7){var kills=_v7.c;return{$:"#3",a:_v7.a,b:_v7.b,c:A2($elm$core$Task$andThen,function(){return kills},$elm$core$Process$kill(id))}}),newTaggers=A3($elm$core$List$foldl,$elm$time$Time$addMySub,$elm$core$Dict$empty,subs),_v1=A6($elm$core$Dict$merge,F3(function(interval,taggers,_v4){var existing=_v4.b,kills=_v4.c;return{$:"#3",a:A2($elm$core$List$cons,interval,_v4.a),b:existing,c:kills}}),F4(function(interval,taggers,id,_v3){var kills=_v3.c;return{$:"#3",a:_v3.a,b:A3($elm$core$Dict$insert,interval,id,_v3.b),c:kills}}),rightStep,newTaggers,_v1,{$:"#3",a:_List_Nil,b:$elm$core$Dict$empty,c:$elm$core$Task$succeed(_Utils_Tuple0)}),spawnList=_v1.a,existingDict=_v1.b;return A2($elm$core$Task$andThen,function(newProcesses){return $elm$core$Task$succeed(A2($elm$time$Time$State,newTaggers,newProcesses))},A2($elm$core$Task$andThen,function(){return A3($elm$time$Time$spawnHelp,router,spawnList,existingDict)},_v1.c))}),$elm$time$Time$now=(millisToPosix=$elm$time$Time$millisToPosix,{$:2,b:function(callback){callback({$:0,a:millisToPosix(Date.now())})},c:null}),$mdgriffith$elm_ui$Internal$Style$classes_hover=F3(function(router,_v0,state){_v0=A2($elm$core$Dict$get,_v0,state.taggers);if("Nothing"===_v0.$)return $elm$core$Task$succeed(state);var taggers=_v0.a;return A2($elm$core$Task$andThen,function(){return $elm$core$Task$succeed(state)},A2($elm$core$Task$andThen,function(time){return $elm$core$Task$sequence(A2($elm$core$List$map,function(tagger){return A2($elm$core$Platform$sendToApp,router,tagger(time))},taggers))},$elm$time$Time$now))}),$elm$core$Basics$composeL=F3(function(g,f,x){return g(f(x))});function $author$project$Msg$GpxDownloaded(a){return{$:"GpxDownloaded",a:a}}function $author$project$Msg$GpxLoaded(a){return{$:"GpxLoaded",a:a}}function $author$project$Msg$GpxSelected(a){return{$:"GpxSelected",a:a}}function $author$project$Msg$HandleRouteData(a){return{$:"HandleRouteData",a:a}}function $author$project$Msg$HandleSegmentData(a){return{$:"HandleSegmentData",a:a}}function $author$project$Msg$HandleSegmentStreams(a){return{$:"HandleSegmentStreams",a:a}}function $author$project$Msg$IpInfoAcknowledged(a){return{$:"IpInfoAcknowledged",a:a}}function $author$project$Msg$ReceivedIpDetails(a){return{$:"ReceivedIpDetails",a:a}}function $elm$core$Array$length(_v0){return _v0.a}function $elm$core$Basics$abs(n){return n<0?-n:n}function $ianmackenzie$elm_geometry$Vector3d$direction(scaledY){if(scaledLength=A2($elm$core$Basics$max,$elm$core$Basics$abs((scaledX=scaledY.a).x),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.y),$elm$core$Basics$abs(scaledX.z)))){var scaledZ=scaledX.z/scaledLength,scaledY=scaledX.y/scaledLength,scaledX=scaledX.x/scaledLength,scaledLength=$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ);return $elm$core$Maybe$Just({$:"Direction3d",a:{x:scaledX/scaledLength,y:scaledY/scaledLength,z:scaledZ/scaledLength}})}return $elm$core$Maybe$Nothing}function $ianmackenzie$elm_geometry$Vector3d$reverse(v){return{$:"Vector3d",a:{x:-(v=v.a).x,y:-v.y,z:-v.z}}}function $ianmackenzie$elm_geometry$Direction3d$perpendicularBasis(d){var xDirection=function(absX){var d=absX.a,absZ=$elm$core$Basics$abs(d.z),absY=$elm$core$Basics$abs(d.y),absX=$elm$core$Basics$abs(d.x);if(_Utils_cmp(absX,absY)<1){if(_Utils_cmp(absX,absZ)<1){var scale=$elm$core$Basics$sqrt(d.z*d.z+d.y*d.y);return{$:"Direction3d",a:{x:0,y:-d.z/scale,z:d.y/scale}}}scale=$elm$core$Basics$sqrt(d.y*d.y+d.x*d.x);return{$:"Direction3d",a:{x:-d.y/scale,y:d.x/scale,z:0}}}if(_Utils_cmp(absY,absZ)<1){scale=$elm$core$Basics$sqrt(d.z*d.z+d.x*d.x);return{$:"Direction3d",a:{x:d.z/scale,y:0,z:-d.x/scale}}}scale=$elm$core$Basics$sqrt(d.x*d.x+d.y*d.y);return{$:"Direction3d",a:{x:-d.y/scale,y:d.x/scale,z:0}}}(d),dX=xDirection.a;return{$:"#2",a:xDirection,b:{$:"Direction3d",a:{x:(d=d.a).y*dX.z-d.z*dX.y,y:d.z*dX.x-d.x*dX.z,z:d.x*dX.y-d.y*dX.x}}}}function $ianmackenzie$elm_geometry$Direction3d$toVector(_v0){return{$:"Vector3d",a:_v0.a}}function $ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt(_arguments){var _v3=A2($ianmackenzie$elm_geometry$Vector3d$from,_arguments.focalPoint,_arguments.eyePoint),_v1=$ianmackenzie$elm_geometry$Direction3d$toVector(_arguments.upDirection);return"Just"!==(_v1=A3($ianmackenzie$elm_geometry$Direction3d$orthonormalize,_v3,_v1,A2($ianmackenzie$elm_geometry$Vector3d$cross,_v3,_v1))).$?"Just"===(_v3=$ianmackenzie$elm_geometry$Vector3d$direction(_v3)).$?{$:"Viewpoint3d",a:A2($ianmackenzie$elm_geometry$Frame3d$withZDirection,_v3.a,_arguments.eyePoint)}:(_v3=$ianmackenzie$elm_geometry$Direction3d$perpendicularBasis(_arguments.upDirection),{$:"Viewpoint3d",a:{$:"Frame3d",a:{originPoint:_arguments.eyePoint,xDirection:_v3.b,yDirection:_arguments.upDirection,zDirection:_v3.a}}}):{$:"Viewpoint3d",a:{$:"Frame3d",a:{originPoint:_arguments.eyePoint,xDirection:(_v1=_v1.a).c,yDirection:_v1.b,zDirection:_v1.a}}}}function $ianmackenzie$elm_units$Quantity$abs(_v0){return{$:"Quantity",a:$elm$core$Basics$abs(_v0.a)}}function $ianmackenzie$elm_units$Quantity$half(_v0){return{$:"Quantity",a:.5*_v0.a}}function $ianmackenzie$elm_units$Angle$tan(_v0){return $elm$core$Basics$tan(_v0.a)}function $ianmackenzie$elm_3d_camera$Camera3d$perspective(_arguments){var halfFieldOfView=$ianmackenzie$elm_units$Quantity$half($ianmackenzie$elm_units$Quantity$abs(_arguments.verticalFieldOfView));return{$:"Camera3d",a:{projection:{$:"Perspective",a:$ianmackenzie$elm_units$Angle$tan(halfFieldOfView)},viewpoint:_arguments.viewpoint}}}function $author$project$Main$firstPersonCamera(model){function eyePoint(road){var _v2=model.flythrough;return"Nothing"===_v2.$?A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),road.startsAt.location):_v2.a.cameraPosition}var _v0=A2($elm$core$Basics$min,model.currentNode,$elm$core$Array$length(model.nodeArray)-2);return"Just"!==(_v0=A2($elm$core$Array$get,_v0,model.roadArray)).$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just($ianmackenzie$elm_3d_camera$Camera3d$perspective({verticalFieldOfView:{$:"Quantity",a:120/(1+model.zoomLevelFirstPerson/2)/180*3.141592653589793},viewpoint:function(road){var flying=model.flythrough;if("Nothing"===flying.$)return $ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt({eyePoint:eyePoint(road),focalPoint:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),road.endsAt.location),upDirection:$ianmackenzie$elm_geometry$Direction3d$positiveZ});flying=flying.a;return $ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt({eyePoint:eyePoint(road),focalPoint:flying.focusPoint,upDirection:$ianmackenzie$elm_geometry$Direction3d$positiveZ})}(_v0.a)}))}function $ianmackenzie$elm_units$Length$inMeters(_v0){return _v0.a}function $ianmackenzie$elm_units$Length$meters(numMeters){return{$:"Quantity",a:numMeters}}function $ianmackenzie$elm_geometry$BoundingBox3d$midY(boundingBox){return A3($ianmackenzie$elm_units$Quantity$interpolateFrom,(boundingBox=boundingBox.a).minY,boundingBox.maxY,.5)}function $ianmackenzie$elm_3d_camera$Camera3d$orthographic(_arguments){return{$:"Camera3d",a:{projection:{$:"Orthographic",a:$ianmackenzie$elm_units$Quantity$abs(_arguments.viewportHeight)},viewpoint:_arguments.viewpoint}}}function $author$project$Main$profileCamera(model){function focus(node){var flying=model.flythrough;return"Nothing"===flying.$?A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$yz,node.location):(flying=flying.a,A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$yz,A2($ianmackenzie$elm_geometry$Point3d$fromRecord,$ianmackenzie$elm_units$Length$meters,_Utils_update(A2($ianmackenzie$elm_geometry$Point3d$toRecord,$ianmackenzie$elm_units$Length$inMeters,node.location),{y:flying.metresFromRouteStart}))))}var trackLength=A2($elm$core$Maybe$withDefault,1e4,A2($elm$core$Maybe$map,function($){return $.trackLength},model.summary)),latitude=3.141592653589793*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(model.trackPointBox))/180;return A2($elm$core$Maybe$map,function(road){return $ianmackenzie$elm_3d_camera$Camera3d$orthographic({viewpoint:$ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt({eyePoint:(node=road.profileStartsAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,100,0,0),focus(node))),focalPoint:focus(road.profileStartsAt),upDirection:$ianmackenzie$elm_geometry$Direction3d$positiveZ}),viewportHeight:{$:"Quantity",a:A2($author$project$MapboxStuff$metresPerPixel,model.zoomLevelProfile,latitude)*(trackLength/900)}});var node},A2($elm$core$Array$get,model.cameraFocusProfileNode,model.roadArray))}function $ianmackenzie$elm_units$Quantity$negate(_v0){return{$:"Quantity",a:-_v0.a}}function $ianmackenzie$elm_geometry$SketchPlane3d$xDirection(_v0){return _v0.a.xDirection}function $ianmackenzie$elm_geometry$SketchPlane3d$yDirection(_v0){return _v0.a.yDirection}function $ianmackenzie$elm_geometry$Frame3d$originPoint(_v0){return _v0.a.originPoint}function $ianmackenzie$elm_geometry$Frame3d$xDirection(_v0){return _v0.a.xDirection}function $ianmackenzie$elm_geometry$Frame3d$yDirection(_v0){return _v0.a.yDirection}function $ianmackenzie$elm_geometry$Frame3d$zDirection(_v0){return _v0.a.zDirection}function $ianmackenzie$elm_geometry$Axis3d$direction(_v0){return _v0.a.direction}function $ianmackenzie$elm_geometry$Frame3d$xAxis(frame){return A2($ianmackenzie$elm_geometry$Axis3d$through,(frame=frame.a).originPoint,frame.xDirection)}function $ianmackenzie$elm_geometry$Frame3d$yAxis(frame){return A2($ianmackenzie$elm_geometry$Axis3d$through,(frame=frame.a).originPoint,frame.yDirection)}function $ianmackenzie$elm_geometry$Frame3d$zAxis(frame){return A2($ianmackenzie$elm_geometry$Axis3d$through,(frame=frame.a).originPoint,frame.zDirection)}function $ianmackenzie$elm_3d_camera$Viewpoint3d$orbit(_arguments){var initialFrame={$:"Frame3d",a:{originPoint:_arguments.focalPoint,xDirection:$ianmackenzie$elm_geometry$SketchPlane3d$yDirection(_arguments.groundPlane),yDirection:A2($ianmackenzie$elm_geometry$Unsafe$Direction3d$unsafeCrossProduct,$ianmackenzie$elm_geometry$SketchPlane3d$xDirection(initialFrame=_arguments.groundPlane),$ianmackenzie$elm_geometry$SketchPlane3d$yDirection(initialFrame)),zDirection:$ianmackenzie$elm_geometry$SketchPlane3d$xDirection(_arguments.groundPlane)}};return{$:"Viewpoint3d",a:A3($ianmackenzie$elm_geometry$Frame3d$translateAlongOwn,$ianmackenzie$elm_geometry$Frame3d$zAxis,_arguments.distance,A3($ianmackenzie$elm_geometry$Frame3d$rotateAroundOwn,$ianmackenzie$elm_geometry$Frame3d$xAxis,$ianmackenzie$elm_units$Quantity$negate(_arguments.elevation),A3($ianmackenzie$elm_geometry$Frame3d$rotateAroundOwn,$ianmackenzie$elm_geometry$Frame3d$yAxis,_arguments.azimuth,initialFrame)))}}function $author$project$Main$thirdPersonCamera(model){var latitude=3.141592653589793*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(model.trackPointBox))/180,camera="Nothing"===(camera=model.flythrough).$?model.cameraFocusThirdPerson:camera.a.cameraPosition,camera=$ianmackenzie$elm_3d_camera$Camera3d$perspective({verticalFieldOfView:{$:"Quantity",a:.5235987755982988},viewpoint:function(_v0){return $ianmackenzie$elm_3d_camera$Viewpoint3d$orbit({azimuth:_v0.azimuth,distance:_v0.distance,elevation:_v0.elevation,focalPoint:_v0.focalPoint,groundPlane:$ianmackenzie$elm_geometry$SketchPlane3d$xy})}({azimuth:model.azimuth,distance:{$:"Quantity",a:1200*A2($author$project$MapboxStuff$metresPerPixel,model.zoomLevelThirdPerson,latitude)},elevation:model.elevation,focalPoint:camera})});return $elm$core$Maybe$Just(camera)}function $author$project$Main$checkSceneCamera(model){return _Utils_update(model,{currentSceneCamera:function(){switch(model.viewingMode.$){case"FirstPersonView":return $author$project$Main$firstPersonCamera(model);case"ThirdPersonView":return $author$project$Main$thirdPersonCamera(model);case"ProfileView":return $author$project$Main$profileCamera(model);case"PlanView":return function(model){var focus,camera=3.141592653589793*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(model.trackPointBox))/180,focus=A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,"Nothing"===(focus=model.flythrough).$?model.cameraFocusPlan:focus.a.cameraPosition),camera=$ianmackenzie$elm_3d_camera$Camera3d$orthographic({viewpoint:$ianmackenzie$elm_3d_camera$Viewpoint3d$lookAt({eyePoint:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,5e3),focus),focalPoint:focus,upDirection:$ianmackenzie$elm_geometry$Direction3d$positiveY}),viewportHeight:{$:"Quantity",a:1200*A2($author$project$MapboxStuff$metresPerPixel,model.zoomLevelPlan,camera)}});return $elm$core$Maybe$Just(camera)}(model);default:return $elm$core$Maybe$Nothing}}()})}function $elm$time$Time$posixToMillis(_v0){return _v0.a}function $elm$core$Array$fromList(list){return list.b?A3($elm$core$Array$fromListHelp,list,_List_Nil,0):$elm$core$Array$empty}function $author$project$TrackPoint$reindexTrackpoints(points){return A3($elm$core$List$map2,F2(function(p,i){return _Utils_update(p,{idx:i})}),points,A2($elm$core$List$range,0,$elm$core$List$length(points)))}function $author$project$Main$cancelFlythrough(model){return _Utils_update(model,{flythrough:$elm$core$Maybe$Nothing})}function $author$project$Main$centreViewOnCurrentNode(model){var node,_v0={$:"#2",a:A2($elm$core$Array$get,model.currentNode,model.nodeArray),b:A2($elm$core$Array$get,model.currentNode,model.roadArray)};return"Just"!==_v0.a.$?model:_Utils_update(model,"Just"===_v0.b.$?{cameraFocusPlan:(node=_v0.a.a).location,cameraFocusProfileNode:model.currentNode,cameraFocusThirdPerson:node.location}:{cameraFocusPlan:(node=_v0.a.a).location,cameraFocusProfileNode:model.currentNode-1,cameraFocusThirdPerson:node.location})}function $author$project$Main$clearTerrain(model){return _Utils_update(model,{terrainEntities:_List_Nil})}function $elm$core$List$head(list){return list.b?$elm$core$Maybe$Just(list.a):$elm$core$Maybe$Nothing}function $ianmackenzie$elm_geometry$Point2d$xCoordinate(_v0){return{$:"Quantity",a:_v0.a.x}}function $ianmackenzie$elm_geometry$Point2d$yCoordinate(_v0){return{$:"Quantity",a:_v0.a.y}}function $author$project$Main$closeTheLoop(model){var gap=$elm$core$List$head(model.roads),newTrack=F2(function(segment,newLatLon){return segment<1?$elm$core$List$reverse(_Utils_ap(A2($elm$core$List$take,1,model.trackPoints),A2($elm$core$List$drop,1,$elm$core$List$reverse(model.trackPoints)))):_Utils_ap(model.trackPoints,_Utils_ap(_List_fromArray([(newLatLon=-1/(segment=newLatLon).length,{ele:segment.startsAt.trackPoint.ele,idx:0,lat:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$yCoordinate(newLatLon=A3($ianmackenzie$elm_geometry$Point2d$interpolateFrom,A2($ianmackenzie$elm_geometry$Point2d$meters,segment.startsAt.trackPoint.lon,segment.startsAt.trackPoint.lat),A2($ianmackenzie$elm_geometry$Point2d$meters,segment.endsAt.trackPoint.lon,segment.endsAt.trackPoint.lat),newLatLon))),lon:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$xCoordinate(newLatLon))})]),A2($elm$core$List$take,1,model.trackPoints)))}),segment1={$:"#2",a:model.loopiness,b:gap};return"AlmostLoop"!==segment1.a.$||"Just"!==segment1.b.$?model:(gap=segment1.a.a,segment1=segment1.b.a,_Utils_update(A2($author$project$Main$addToUndoStack,"complete loop",model),{trackPoints:$author$project$TrackPoint$reindexTrackpoints(A2(newTrack,gap,segment1))}))}function $ianmackenzie$elm_geometry$Vector3d$length(scaledY){var largestComponent=A2($elm$core$Basics$max,$elm$core$Basics$abs((scaledX=scaledY.a).x),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.y),$elm$core$Basics$abs(scaledX.z)));if(largestComponent){var scaledZ=scaledX.z/largestComponent,scaledY=scaledX.y/largestComponent,scaledX=scaledX.x/largestComponent;return{$:"Quantity",a:$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ)*largestComponent}}return $ianmackenzie$elm_units$Quantity$zero}function $ianmackenzie$elm_geometry$Triangle3d$vertices(_v0){return _v0.a}function $ianmackenzie$elm_geometry$BoundingBox3d$midX(boundingBox){return A3($ianmackenzie$elm_units$Quantity$interpolateFrom,(boundingBox=boundingBox.a).minX,boundingBox.maxX,.5)}function $ianmackenzie$elm_geometry$BoundingBox3d$midZ(boundingBox){return A3($ianmackenzie$elm_units$Quantity$interpolateFrom,(boundingBox=boundingBox.a).minZ,boundingBox.maxZ,.5)}function $ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(boundingBox){return A3($ianmackenzie$elm_geometry$Point3d$xyz,$ianmackenzie$elm_geometry$BoundingBox3d$midX(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$midY(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$midZ(boundingBox))}function $author$project$NodesAndRoads$deriveRoads(roadSegments){return roadSegments=A3($elm$core$List$map2,F2(function(node1,node2){var zDifference=node2.trackPoint.ele-node1.trackPoint.ele,earthDistance=A2($author$project$Spherical$range,{$:"#2",a:3.141592653589793*node2.trackPoint.lat/180,b:3.141592653589793*node2.trackPoint.lon/180},{$:"#2",a:3.141592653589793*node1.trackPoint.lat/180,b:3.141592653589793*node1.trackPoint.lon/180});return{bearing:A2($author$project$Spherical$findBearingToTarget,{$:"#2",a:3.141592653589793*node1.trackPoint.lat/180,b:3.141592653589793*node1.trackPoint.lon/180},{$:"#2",a:3.141592653589793*node2.trackPoint.lat/180,b:3.141592653589793*node2.trackPoint.lon/180}),endDistance:0,endsAt:node2,gradient:0<earthDistance?zDifference/earthDistance*100:0,index:0,length:earthDistance,profileEndsAt:node2,profileStartsAt:node1,startDistance:0,startsAt:node1}}),roadSegments,A2($elm$core$List$drop,1,roadSegments)),$elm$core$List$reverse(A3($elm$core$List$foldl,F2(function(road,profileStartAt){var idx=profileStartAt.a,dist=profileStartAt.b,done=profileStartAt.c,profileEndAt=road.startsAt,profileStartAt=_Utils_update(profileEndAt,{location:A3($ianmackenzie$elm_geometry$Point3d$xyz,{$:"Quantity",a:0},{$:"Quantity",a:dist},$ianmackenzie$elm_geometry$Point3d$zCoordinate(profileEndAt.location))}),profileEndAt=road.endsAt,profileEndAt=_Utils_update(profileEndAt,{location:A3($ianmackenzie$elm_geometry$Point3d$xyz,{$:"Quantity",a:0},{$:"Quantity",a:dist+road.length},$ianmackenzie$elm_geometry$Point3d$zCoordinate(profileEndAt.location))});return{$:"#3",a:idx+1,b:dist+road.length,c:A2($elm$core$List$cons,_Utils_update(road,{endDistance:dist+road.length,index:idx,profileEndsAt:profileEndAt,profileStartsAt:profileStartAt,startDistance:dist}),done)}}),{$:"#3",a:0,b:0,c:_List_Nil},roadSegments).c)}function $author$project$Main$deriveNodesAndRoads(roadSegments){function trackPointAsPoint(tp){return A3($ianmackenzie$elm_geometry$Point3d$meters,tp.lon,tp.lat,tp.ele)}var m,costMetric=F3(function(p1,firstVector,p3){p1={$:"#2",a:p1,b:p3};return _Utils_update(firstVector,"Just"!==p1.a.$||"Just"!==p1.b.$?{costMetric:$elm$core$Maybe$Nothing}:{costMetric:$elm$core$Maybe$Just(function(_v0){return _v0.a}((p3=(firstVector=$ianmackenzie$elm_geometry$Triangle3d$vertices(p3={$:"Triangle3d",a:{$:"#3",a:p1.a.a.location,b:firstVector.location,c:p1.b.a.location}})).c,firstVector=A2($ianmackenzie$elm_geometry$Vector3d$from,p1=firstVector.a,firstVector.b),A2($ianmackenzie$elm_units$Quantity$multiplyBy,.5,$ianmackenzie$elm_geometry$Vector3d$length(A2($ianmackenzie$elm_geometry$Vector3d$cross,A2($ianmackenzie$elm_geometry$Vector3d$from,p1,p3),firstVector))))))})});return function(m){return _Utils_update(m,{nodeArray:$elm$core$Array$fromList(m.nodes),roadArray:$elm$core$Array$fromList(m.roads)})}((roadSegments=function(m){return _Utils_update(m,{roads:$author$project$NodesAndRoads$deriveRoads(m.nodes)})}((roadSegments=function(m){var wrappedNodes=A2($elm$core$List$map,$elm$core$Maybe$Just,m.nodes);return _Utils_update(m,{nodes:A4($elm$core$List$map3,costMetric,A2($elm$core$List$cons,$elm$core$Maybe$Nothing,wrappedNodes),m.nodes,_Utils_ap(A2($elm$core$List$drop,1,wrappedNodes),_List_fromArray([$elm$core$Maybe$Nothing])))})}(function(m){return _Utils_update(m,{nodes:A2($author$project$NodesAndRoads$deriveNodes,m.trackPointBox,m.trackPoints)})}(_Utils_update(m=roadSegments,{trackPointBox:function(){var _v1=m.trackPoints;if(_v1.b){var tps=_v1.b;return A2($ianmackenzie$elm_geometry$BoundingBox3d$hull,trackPointAsPoint(_v1.a),A2($elm$core$List$map,trackPointAsPoint,tps))}return $ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin)}()}))),_Utils_update(roadSegments,{nodeBox:(roadSegments=roadSegments.nodes).b?A2($ianmackenzie$elm_geometry$BoundingBox3d$hull,roadSegments.a.location,A2($elm$core$List$map,function($){return $.location},roadSegments.b)):$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin)}))),_Utils_update(roadSegments,{summary:$elm$core$Maybe$Just((roadSegments=roadSegments.roads,A3($elm$core$List$foldl,F2(function(segment,summary){return{climbingDistance:0<segment.gradient?summary.climbingDistance+segment.length:summary.climbingDistance,descendingDistance:segment.gradient<0?summary.climbingDistance+segment.length:summary.climbingDistance,highestMetres:A2($elm$core$Basics$max,summary.highestMetres,A2($elm$core$Basics$max,segment.startsAt.trackPoint.ele,segment.endsAt.trackPoint.ele)),lowestMetres:A2($elm$core$Basics$min,summary.lowestMetres,A2($elm$core$Basics$min,segment.startsAt.trackPoint.ele,segment.endsAt.trackPoint.ele)),totalClimbing:0<segment.gradient?summary.totalClimbing+segment.endsAt.trackPoint.ele-segment.startsAt.trackPoint.ele:summary.totalClimbing,totalDescending:segment.gradient<0?summary.totalClimbing-segment.endsAt.trackPoint.ele+segment.startsAt.trackPoint.ele:summary.totalClimbing,trackLength:summary.trackLength+segment.length}}),{climbingDistance:0,descendingDistance:0,highestMetres:-9999.9,lowestMetres:9999.9,totalClimbing:0,totalDescending:0,trackLength:0},roadSegments)))})))}function $author$project$Main$deriveProblems(model){var zeroLengths=A2($elm$core$List$filterMap,function(road){return 0===road.length?$elm$core$Maybe$Just(road):$elm$core$Maybe$Nothing},model.roads),loopy=function(){var gap=A2($author$project$Main$trackPointGap,$elm$core$List$head(model.trackPoints),$elm$core$List$head($elm$core$List$reverse(model.trackPoints)));if("Just"!==gap.$)return{$:"NotALoop",a:0};var _v1=gap.a,gap=_v1.a;return gap<1&&_v1.b<1?$author$project$Loop$IsALoop:gap<1e3?{$:"AlmostLoop",a:gap}:{$:"NotALoop",a:gap}}(),suddenGradientChanges=A2($elm$core$List$filterMap,$elm$core$Basics$identity,A3($elm$core$List$map2,F2(function(seg1,seg2){return 0<seg1.length&&0<seg2.length&&0<_Utils_cmp($elm$core$Basics$abs(seg1.gradient-seg2.gradient),model.gradientChangeThreshold)?$elm$core$Maybe$Just({after:seg2,before:seg1,node:seg1.endsAt}):$elm$core$Maybe$Nothing}),model.roads,A2($elm$core$List$drop,1,model.roads)));return _Utils_update(model,{abruptBearingChanges:A2($elm$core$List$filterMap,$elm$core$Basics$identity,A3($elm$core$List$map2,F2(function(seg1,seg2){var includedAngle=$elm$core$Basics$abs(seg1.bearing-seg2.bearing),includedAngle=0<_Utils_cmp(includedAngle,3.141592653589793)?6.283185307179586-includedAngle:includedAngle;return 0<seg1.length&&0<seg2.length&&0<_Utils_cmp(180*includedAngle/3.141592653589793,model.bearingChangeThreshold)?$elm$core$Maybe$Just({after:seg2,before:seg1,node:seg1.endsAt}):$elm$core$Maybe$Nothing}),model.roads,A2($elm$core$List$drop,1,model.roads))),abruptGradientChanges:suddenGradientChanges,loopiness:loopy,smoothingEndIndex:$elm$core$Maybe$Nothing,zeroLengths:zeroLengths})}function $ianmackenzie$elm_geometry$LineSegment3d$endPoint(_v0){return _v0.a.b}function $ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$inverseGamma(u){return A3($elm$core$Basics$clamp,0,1,.04045<u?A2($elm$core$Basics$pow,(u+.055)/1.055,2.4):u/12.92)}function $avh4$elm_color$Color$toRgba(_v0){return{alpha:_v0.d,blue:_v0.c,green:_v0.b,red:_v0.a}}function $ianmackenzie$elm_3d_scene$Scene3d$Material$matte(green){return A3($ianmackenzie$elm_3d_scene$Scene3d$Types$LambertianMaterial,$ianmackenzie$elm_3d_scene$Scene3d$Types$UseMeshUvs,{$:"Constant",a:(_v0=$avh4$elm_color$Color$toRgba(blue=green),green=_v0.green,blue=_v0.blue,{$:"LinearRgb",a:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$inverseGamma(_v0.red),$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$inverseGamma(green),$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$inverseGamma(blue))})},{$:"Constant",a:$ianmackenzie$elm_3d_scene$Scene3d$Types$VerticalNormal});var blue,_v0}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$group(drawables){return{$:"Entity",a:{$:"Group",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$collectNodes,drawables,_List_Nil)}}}function $ianmackenzie$elm_units$Luminance$inNits(_v0){return _v0.a}function $ianmackenzie$elm_geometry$Point3d$toMeters(_v0){return _v0.a}function $ianmackenzie$elm_geometry$BoundingBox3d$maxX(_v0){return _v0.a.maxX}function $ianmackenzie$elm_geometry$BoundingBox3d$maxY(_v0){return _v0.a.maxY}function $ianmackenzie$elm_geometry$BoundingBox3d$maxZ(_v0){return _v0.a.maxZ}function $ianmackenzie$elm_geometry$BoundingBox3d$minX(_v0){return _v0.a.minX}function $ianmackenzie$elm_geometry$BoundingBox3d$minY(_v0){return _v0.a.minY}function $ianmackenzie$elm_geometry$BoundingBox3d$minZ(_v0){return _v0.a.minZ}function $ianmackenzie$elm_geometry$BoundingBox3d$dimensions(boundingBox){return{$:"#3",a:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$BoundingBox3d$minX(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$maxX(boundingBox)),b:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$BoundingBox3d$minY(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$maxY(boundingBox)),c:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$BoundingBox3d$minZ(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$maxZ(boundingBox))}}function $ianmackenzie$elm_geometry$Point3d$unwrap(_v0){return _v0.a}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox){var xDimension=(zDimension=$ianmackenzie$elm_geometry$BoundingBox3d$dimensions(boundingBox)).a.a,yDimension=zDimension.b.a,zDimension=zDimension.c.a;return{centerPoint:$ianmackenzie$elm_geometry$Point3d$unwrap($ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(boundingBox)),halfX:xDimension/2,halfY:yDimension/2,halfZ:zDimension/2}}function $elm_explorations$webgl$WebGL$Internal$StencilTest(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return function(h){return function(i){return function(j){return function(k){return{$:"StencilTest",a:a,b:b,c:c,d:d,e:e,f:f,g:g,h:h,i:i,j:j,k:k}}}}}}}}}}}}function $ianmackenzie$elm_geometry$LineSegment3d$startPoint(_v0){return _v0.a.a}function $ianmackenzie$elm_geometry$LineSegment3d$endpoints(_v0){return _v0.a}function $ianmackenzie$elm_3d_scene$Scene3d$Material$color(givenColor){return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$UnlitMaterial,$ianmackenzie$elm_3d_scene$Scene3d$Types$UseMeshUvs,{$:"Constant",a:function(_v0){_v0=$avh4$elm_color$Color$toRgba(_v0);return A3($elm_explorations$linear_algebra$Math$Vector3$vec3,_v0.red,_v0.green,_v0.blue)}(givenColor)})}function $ianmackenzie$elm_units$Angle$cos(_v0){return $elm$core$Basics$cos(_v0.a)}function $ianmackenzie$elm_3d_scene$Scene3d$Mesh$cullBackFaces(mesh){switch(mesh.$){case"EmptyMesh":return mesh;case"Triangles":return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$Triangles,mesh.a,mesh.b,mesh.c,$ianmackenzie$elm_3d_scene$Scene3d$Types$CullBackFaces);case"Facets":return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$Facets,mesh.a,mesh.b,mesh.c,$ianmackenzie$elm_3d_scene$Scene3d$Types$CullBackFaces);case"Indexed":return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$Indexed,mesh.a,mesh.b,mesh.c,$ianmackenzie$elm_3d_scene$Scene3d$Types$CullBackFaces);case"MeshWithNormals":return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormals,mesh.a,mesh.b,mesh.c,$ianmackenzie$elm_3d_scene$Scene3d$Types$CullBackFaces);case"MeshWithUvs":return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithUvs,mesh.a,mesh.b,mesh.c,$ianmackenzie$elm_3d_scene$Scene3d$Types$CullBackFaces);case"MeshWithNormalsAndUvs":return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormalsAndUvs,mesh.a,mesh.b,mesh.c,$ianmackenzie$elm_3d_scene$Scene3d$Types$CullBackFaces);case"MeshWithTangents":return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithTangents,mesh.a,mesh.b,mesh.c,$ianmackenzie$elm_3d_scene$Scene3d$Types$CullBackFaces);case"LineSegments":case"Polyline":default:return mesh}}function $ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(point){return $elm_explorations$linear_algebra$Math$Vector3$fromRecord($ianmackenzie$elm_geometry$Point3d$unwrap(point))}function $ianmackenzie$elm_geometry$Vector3d$unwrap(_v0){return _v0.a}function $ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Vector3d$toVec3(vector){return $elm_explorations$linear_algebra$Math$Vector3$fromRecord($ianmackenzie$elm_geometry$Vector3d$unwrap(vector))}function $ianmackenzie$elm_triangular_mesh$TriangularMesh$faceIndices(_v0){return _v0.a.faceIndices}function $ianmackenzie$elm_geometry$BoundingBox3d$fromExtrema(given){return A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,given.maxX,given.minX)&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,given.maxY,given.minY)&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,given.maxZ,given.minZ)?{$:"BoundingBox3d",a:given}:{$:"BoundingBox3d",a:{maxX:A2($ianmackenzie$elm_units$Quantity$max,given.minX,given.maxX),maxY:A2($ianmackenzie$elm_units$Quantity$max,given.minY,given.maxY),maxZ:A2($ianmackenzie$elm_units$Quantity$max,given.minZ,given.maxZ),minX:A2($ianmackenzie$elm_units$Quantity$min,given.minX,given.maxX),minY:A2($ianmackenzie$elm_units$Quantity$min,given.minY,given.maxY),minZ:A2($ianmackenzie$elm_units$Quantity$min,given.minZ,given.maxZ)}}}function $ianmackenzie$elm_triangular_mesh$TriangularMesh$vertices(_v0){return _v0.a.vertices}function $ianmackenzie$elm_3d_scene$Scene3d$Mesh$indexedFaces(givenMesh){if((webGLMesh=A3($elm$core$Array$foldr,$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectSmooth,_List_Nil,$ianmackenzie$elm_triangular_mesh$TriangularMesh$vertices(givenMesh))).b){var first=webGLMesh.a,rest=webGLMesh.b,webGLMesh=A2($elm_explorations$webgl$WebGL$indexedTriangles,webGLMesh,$ianmackenzie$elm_triangular_mesh$TriangularMesh$faceIndices(givenMesh));return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormals,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBounds,first,rest),givenMesh,webGLMesh,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces)}return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyMesh}function $ianmackenzie$elm_units$Angle$sin(_v0){return $elm$core$Basics$sin(_v0.a)}function $ianmackenzie$elm_triangular_mesh$TriangularMesh$triangles(faceVertices_){return{$:"TriangularMesh",a:{faceIndices:A2($elm$core$List$map,function(i){return{$:"#3",a:3*i,b:3*i+1,c:3*i+2}},A2($elm$core$List$range,0,$elm$core$List$length(faceVertices_)-1)),vertices:$elm$core$Array$fromList($elm$core$List$concat(A2($elm$core$List$map,function(_v0){return _List_fromArray([_v0.a,_v0.b,_v0.c])},faceVertices_)))}}}function $elm$core$Basics$not(bool){return!bool}function $ianmackenzie$elm_geometry$Frame3d$fromZAxis(givenZAxis){var givenZDirection=$ianmackenzie$elm_geometry$Axis3d$direction(givenZAxis),_v0=$ianmackenzie$elm_geometry$Direction3d$perpendicularBasis(givenZDirection);return{$:"Frame3d",a:{originPoint:function(_v0){return _v0.a.originPoint}(givenZAxis),xDirection:_v0.a,yDirection:_v0.b,zDirection:givenZDirection}}}function $ianmackenzie$elm_geometry$Direction3d$xComponent(_v0){return _v0.a.x}function $ianmackenzie$elm_geometry$Direction3d$yComponent(_v0){return _v0.a.y}function $ianmackenzie$elm_geometry$Direction3d$zComponent(_v0){return _v0.a.z}function $ianmackenzie$elm_geometry$Direction3d$unwrap(_v0){return _v0.a}function $ianmackenzie$elm_3d_scene$Scene3d$Transformation$placeIn(frame){var p0=$ianmackenzie$elm_geometry$Point3d$unwrap($ianmackenzie$elm_geometry$Frame3d$originPoint(frame)),k=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$zDirection(frame)),j=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$yDirection(frame)),i=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$xDirection(frame));return{isRightHanded:function(b){var a=b.a,i=$ianmackenzie$elm_geometry$Direction3d$zComponent(a.zDirection),h=$ianmackenzie$elm_geometry$Direction3d$yComponent(a.zDirection),g=$ianmackenzie$elm_geometry$Direction3d$xComponent(a.zDirection),f=$ianmackenzie$elm_geometry$Direction3d$zComponent(a.yDirection),e=$ianmackenzie$elm_geometry$Direction3d$yComponent(a.yDirection),d=$ianmackenzie$elm_geometry$Direction3d$xComponent(a.yDirection),c=$ianmackenzie$elm_geometry$Direction3d$zComponent(a.xDirection),b=$ianmackenzie$elm_geometry$Direction3d$yComponent(a.xDirection),a=$ianmackenzie$elm_geometry$Direction3d$xComponent(a.xDirection);return 0<a*e*i+b*f*g+c*d*h-c*e*g-b*d*i-a*f*h}(frame),ix:i.x,iy:i.y,iz:i.z,jx:j.x,jy:j.y,jz:j.z,kx:k.x,ky:k.y,kz:k.z,px:p0.x,py:p0.y,pz:p0.z,scale:1}}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleDrawFunction(_v0){return function(originalDrawFunction){return function(sceneProperties){return function(modelScale){return function(modelMatrix){return function(isRightHanded){return function(viewMatrix){return function(projectionMatrix){return function(lights){return function(settings){var scaleX=_v0.a,scaleY=_v0.b,updatedModelScale=_v0.c,_v1=$elm_explorations$linear_algebra$Math$Vector4$toRecord(modelScale),updatedModelScale=$elm_explorations$linear_algebra$Math$Vector4$fromRecord({w:_v1.w,x:_v1.x*scaleX,y:_v1.y*scaleY,z:_v1.z*updatedModelScale});return A8(originalDrawFunction,sceneProperties,updatedModelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings)}}}}}}}}}}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow(_v0){return"Just"!==(_v0=function(givenShadow){if("EmptyShadow"===givenShadow.$)return $elm$core$Maybe$Nothing;var webGLMesh=givenShadow.c;return $elm$core$Maybe$Just(F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,shadowLight,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings,isRightHanded,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment,webGLMesh,{modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,shadowLight:shadowLight,viewMatrix:viewMatrix})}))}(_v0)).$?$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty:{$:"Entity",a:{$:"ShadowNode",a:_v0.a}}}function $ianmackenzie$elm_geometry$Direction2d$fromAngle(angle){return{$:"Direction2d",a:{x:$elm$core$Basics$cos(angle=angle.a),y:$elm$core$Basics$sin(angle)}}}function $ianmackenzie$elm_geometry$BoundingBox3d$extrema(_v0){return _v0.a}function $avh4$elm_color$Color$toHsla(s){var r=s.a,g=s.b,b=s.c,a=s.d,h2=A2($elm$core$Basics$min,r,A2($elm$core$Basics$min,g,b)),maxColor=A2($elm$core$Basics$max,r,A2($elm$core$Basics$max,g,b)),l=(h2+maxColor)/2,s=_Utils_eq(h2,maxColor)?0:l<.5?(maxColor-h2)/(maxColor+h2):(maxColor-h2)/(2-maxColor-h2),h2=1/6*(_Utils_eq(maxColor,r)?(g-b)/(maxColor-h2):_Utils_eq(maxColor,g)?2+(b-r)/(maxColor-h2):4+(r-g)/(maxColor-h2));return{alpha:a,hue:$elm$core$Basics$isNaN(h2)?0:h2<0?1+h2:h2,lightness:l,saturation:s}}function $author$project$Utils$gradientColourPastel(steepestAscentHue){var x=(A3($elm$core$Basics$clamp,-15,15,steepestAscentHue)+15)/30,steepestDescentHue=$avh4$elm_color$Color$toHsla($avh4$elm_color$Color$purple).hue,steepestAscentHue=$avh4$elm_color$Color$toHsla($avh4$elm_color$Color$red).hue;return A3($avh4$elm_color$Color$hsl,x*steepestAscentHue+(1-x)*steepestDescentHue,.6,.7)}function $author$project$Utils$gradientColourVivid(steepestAscentHue){var x=(A3($elm$core$Basics$clamp,-15,15,steepestAscentHue)+15)/30,steepestDescentHue=$avh4$elm_color$Color$toHsla($avh4$elm_color$Color$purple).hue,steepestAscentHue=$avh4$elm_color$Color$toHsla($avh4$elm_color$Color$red).hue;return A3($avh4$elm_color$Color$hsl,x*steepestAscentHue+(1-x)*steepestDescentHue,1,.4)}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadow(){return{$:"Entity",a:{$:"ShadowNode",a:F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,shadowLight,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings,!0,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$sphereShadowVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadowMesh,{constantColor:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,0,0,1),modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,shadowLight:shadowLight,viewMatrix:viewMatrix})})}}}function $author$project$Main$deriveStaticVisualEntities(model){var newMapInfo=A2($elm$core$Maybe$map,function(info){return _Utils_update(info,{points:model.trackPoints})},model.mapInfo),context={currentNode:A2($elm$core$Array$get,model.currentNode,model.nodeArray),displayOptions:model.displayOptions,horizontalNudge:model.nudgeValue,markedNode:"Just"!==(context=model.markedNode).$?$elm$core$Maybe$Nothing:A2($elm$core$Array$get,context.a,model.nodeArray),nodeBox:model.nodeBox,nudgedRegionStart:$elm$core$Maybe$Just(model.nudgedRegionStart),nudgedRoads:model.nudgedNodeRoads,smoothedBend:A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,function($){return $.nodes},model.smoothedBend)),verticalNudge:model.verticalNudgeValue,viewingMode:model.viewingMode};return _Utils_update(model,{mapInfo:newMapInfo,mapVisualEntities:A2($author$project$VisualEntities$makeMapEntities,context,model.roads),staticProfileEntities:A2($author$project$VisualEntities$makeStaticProfileEntities,context,model.roads),staticVisualEntities:A2($author$project$VisualEntities$makeStatic3DEntities,context,model.roads)})}function $author$project$Main$deriveVaryingVisualEntities(model){var context={currentNode:A2($elm$core$Array$get,model.currentNode,model.nodeArray),displayOptions:model.displayOptions,horizontalNudge:model.nudgeValue,markedNode:"Just"!==(profileContext=model.markedNode).$?$elm$core$Maybe$Nothing:A2($elm$core$Array$get,profileContext.a,model.nodeArray),nodeBox:model.nodeBox,nudgedRegionStart:$elm$core$Maybe$Just(model.nudgedRegionStart),nudgedRoads:model.nudgedNodeRoads,smoothedBend:A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,function($){return $.nodes},model.smoothedBend)),verticalNudge:model.verticalNudgeValue,viewingMode:model.viewingMode},profileContext=_Utils_update(context,{currentNode:_Utils_cmp(model.currentNode,$elm$core$Array$length(model.roadArray))<0?A2($elm$core$Maybe$map,function($){return $.profileStartsAt},A2($elm$core$Array$get,model.currentNode,model.roadArray)):A2($elm$core$Maybe$map,function($){return $.profileEndsAt},A2($elm$core$Array$get,$elm$core$Array$length(model.roadArray)-1,model.roadArray)),markedNode:function(){var n=model.markedNode;if("Just"!==n.$)return $elm$core$Maybe$Nothing;n=n.a;return _Utils_cmp(n,$elm$core$Array$length(model.roadArray))<0?A2($elm$core$Maybe$map,function($){return $.profileStartsAt},A2($elm$core$Array$get,n,model.roadArray)):A2($elm$core$Maybe$map,function($){return $.profileEndsAt},A2($elm$core$Array$get,$elm$core$Array$length(model.roadArray)-1,model.roadArray))}()});return _Utils_update(model,{varyingProfileEntities:A2($author$project$VisualEntities$makeVaryingProfileEntities,profileContext,model.roads),varyingVisualEntities:A2($author$project$VisualEntities$makeVaryingVisualEntities,context,model.roadArray)})}function $elm$core$Tuple$second(_v0){return _v0.b}function $mdgriffith$elm_ui$Internal$Model$floatClass(x){return $elm$core$String$fromInt($elm$core$Basics$round(255*x))}function $mdgriffith$elm_ui$Internal$Model$transformClass(transform){switch(transform.$){case"Untransformed":return $elm$core$Maybe$Nothing;case"Moved":var angle=transform.a,ox=angle.b,oy=angle.c;return $elm$core$Maybe$Just("mv-"+$mdgriffith$elm_ui$Internal$Model$floatClass(angle.a)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(ox)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(oy))));default:var _v2=transform.a,ty=_v2.b,tz=_v2.c,oz=transform.b,sx=oz.a,sy=oz.b,sz=oz.c,angle=transform.c,ox=angle.a,oy=angle.b,oz=angle.c,angle=transform.d;return $elm$core$Maybe$Just("tfrm-"+$mdgriffith$elm_ui$Internal$Model$floatClass(_v2.a)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(ty)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(tz)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(sx)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(sy)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(sz)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(ox)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(oy)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(oz)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(angle)))))))))))}}function $mdgriffith$elm_ui$Internal$Style$dot(c){return"."+c}function $mdgriffith$elm_ui$Internal$Model$formatColor(_v0){var green=_v0.b,blue=_v0.c,alpha=_v0.d;return"rgba("+$elm$core$String$fromInt($elm$core$Basics$round(255*_v0.a))+(","+$elm$core$String$fromInt($elm$core$Basics$round(255*green))+","+$elm$core$String$fromInt($elm$core$Basics$round(255*blue))+","+$elm$core$String$fromFloat(alpha))+")"}function $mdgriffith$elm_ui$Internal$Model$formatBoxShadow(shadow){return A2($elm$core$String$join," ",A2($elm$core$List$filterMap,$elm$core$Basics$identity,_List_fromArray([shadow.inset?$elm$core$Maybe$Just("inset"):$elm$core$Maybe$Nothing,$elm$core$Maybe$Just($elm$core$String$fromFloat(shadow.offset.a)+"px"),$elm$core$Maybe$Just($elm$core$String$fromFloat(shadow.offset.b)+"px"),$elm$core$Maybe$Just($elm$core$String$fromFloat(shadow.blur)+"px"),$elm$core$Maybe$Just($elm$core$String$fromFloat(shadow.size)+"px"),$elm$core$Maybe$Just($mdgriffith$elm_ui$Internal$Model$formatColor(shadow.color))])))}function $mdgriffith$elm_ui$Internal$Model$renderFocusStyle(focus){return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Style,"."+$mdgriffith$elm_ui$Internal$Style$classes_focusedWithin+":focus-within",A2($elm$core$List$filterMap,$elm$core$Basics$identity,_List_fromArray([A2($elm$core$Maybe$map,function(color){return A2($mdgriffith$elm_ui$Internal$Model$Property,"border-color",$mdgriffith$elm_ui$Internal$Model$formatColor(color))},focus.borderColor),A2($elm$core$Maybe$map,function(color){return A2($mdgriffith$elm_ui$Internal$Model$Property,"background-color",$mdgriffith$elm_ui$Internal$Model$formatColor(color))},focus.backgroundColor),A2($elm$core$Maybe$map,function(shadow){return A2($mdgriffith$elm_ui$Internal$Model$Property,"box-shadow",$mdgriffith$elm_ui$Internal$Model$formatBoxShadow({blur:shadow.blur,color:shadow.color,inset:!1,offset:A2($elm$core$Tuple$mapSecond,$elm$core$Basics$toFloat,A2($elm$core$Tuple$mapFirst,$elm$core$Basics$toFloat,shadow.offset)),size:shadow.size}))},focus.shadow),$elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Internal$Model$Property,"outline","none"))]))),A2($mdgriffith$elm_ui$Internal$Model$Style,"."+$mdgriffith$elm_ui$Internal$Style$classes_any+":focus .focusable, ."+$mdgriffith$elm_ui$Internal$Style$classes_any+".focusable:focus, .ui-slide-bar:focus + ."+$mdgriffith$elm_ui$Internal$Style$classes_any+" .focusable-thumb",A2($elm$core$List$filterMap,$elm$core$Basics$identity,_List_fromArray([A2($elm$core$Maybe$map,function(color){return A2($mdgriffith$elm_ui$Internal$Model$Property,"border-color",$mdgriffith$elm_ui$Internal$Model$formatColor(color))},focus.borderColor),A2($elm$core$Maybe$map,function(color){return A2($mdgriffith$elm_ui$Internal$Model$Property,"background-color",$mdgriffith$elm_ui$Internal$Model$formatColor(color))},focus.backgroundColor),A2($elm$core$Maybe$map,function(shadow){return A2($mdgriffith$elm_ui$Internal$Model$Property,"box-shadow",$mdgriffith$elm_ui$Internal$Model$formatBoxShadow({blur:shadow.blur,color:shadow.color,inset:!1,offset:A2($elm$core$Tuple$mapSecond,$elm$core$Basics$toFloat,A2($elm$core$Tuple$mapFirst,$elm$core$Basics$toFloat,shadow.offset)),size:shadow.size}))},focus.shadow),$elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Internal$Model$Property,"outline","none"))])))])}function $elm$virtual_dom$VirtualDom$node(tag){return _VirtualDom_node(_VirtualDom_noScript(tag))}function $mdgriffith$elm_ui$Internal$Style$selfName(desc){switch(desc.a.$){case"Top":return"."+$mdgriffith$elm_ui$Internal$Style$classes_alignTop;case"Bottom":return"."+$mdgriffith$elm_ui$Internal$Style$classes_alignBottom;case"Right":return"."+$mdgriffith$elm_ui$Internal$Style$classes_alignRight;case"Left":return"."+$mdgriffith$elm_ui$Internal$Style$classes_alignLeft;case"CenterX":return"."+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterX;default:return"."+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterY}}function $elm$core$String$concat(strings){return A2($elm$core$String$join,"",strings)}_Platform_effectManagers.Time={b:$mdgriffith$elm_ui$Internal$Style$classes_grid,c:$mdgriffith$elm_ui$Internal$Style$classes_hasBehind,d:$mdgriffith$elm_ui$Internal$Style$classes_hover,e:0,f:F2(function(f,_v0){return A2($elm$time$Time$Every,_v0.a,A2($elm$core$Basics$composeL,f,_v0.b))})};var tipPoint,wedgeAngle,radius,negativeZVector,elevationAngle,bottomZ,basePoint,values,renderIntermediate,$elm$time$Time$subscription=_Platform_leaf("Time"),$elm$time$Time$every=F2(function(interval,tagger){return $elm$time$Time$subscription(A2($elm$time$Time$Every,interval,tagger))}),$elm$json$Json$Decode$string=decs,$author$project$MapController$mapStopped=_Platform_incomingPort("mapStopped",$elm$json$Json$Decode$string),$author$project$MapController$messageReceiver=_Platform_incomingPort("messageReceiver",$mdgriffith$elm_ui$Internal$Style$classes_opaque),$author$project$OAuthPorts$randomBytes=_Platform_incomingPort("randomBytes",$elm$json$Json$Decode$list($elm$json$Json$Decode$int)),$author$project$Main$DragPan={$:"DragPan"},$author$project$Main$DragPlan={$:"DragPlan"},$author$project$Main$DragProfile={$:"DragProfile"},$author$project$Main$DragRotate={$:"DragRotate"},$author$project$Main$GpxLocalFile={$:"GpxLocalFile"},$author$project$Main$GpxStrava={$:"GpxStrava"},$author$project$MapController$MapStopped={$:"MapStopped"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$SecondButton={$:"SecondButton"},$author$project$StravaTypes$SegmentRequested={$:"SegmentRequested"},$author$project$Msg$SendIpInfo={$:"SendIpInfo"},$author$project$StravaTypes$StravaRouteRequested={$:"StravaRouteRequested"},$author$project$Accordion$Contracted={$:"Contracted"},$author$project$Accordion$Disabled={$:"Disabled"},$author$project$Accordion$Expanded={$:"Expanded"},$elm$core$List$filter=F2(function(isGood,list){return A3($elm$core$List$foldr,F2(function(x,xs){return isGood(x)?A2($elm$core$List$cons,x,xs):xs}),_List_Nil,list)}),$author$project$Accordion$accordionToggle=F2(function(entries,entry){function toggleMatching(e){return _Utils_eq(e.label,entry.label)?_Utils_update(e,{state:function(){switch(e.state.$){case"Expanded":return $author$project$Accordion$Contracted;case"Contracted":return $author$project$Accordion$Expanded;default:return $author$project$Accordion$Disabled}}()}):_Utils_update(e,{state:$author$project$Accordion$Contracted})}var _v0=A2($elm$core$List$filter,function(e){return _Utils_eq(e.label,entry.label)},entries);if(_v0.b)return A2($elm$core$List$map,toggleMatching,entries);return entries}),$elm$core$List$takeReverse=F3(function(n,list,kept){for(;;){if(n<=0)return kept;if(!list.b)return kept;var x=list.a;n=n-1,list=list.b,kept=A2($elm$core$List$cons,x,kept)}}),$elm$core$List$takeTailRec=F2(function(n,list){return $elm$core$List$reverse(A3($elm$core$List$takeReverse,n,list,_List_Nil))}),$elm$core$List$takeFast=F3(function(ctr,n,list){if(0<n){var _v0={$:"#2",a:n,b:list};_v0$1:for(;;){_v0$5:for(;;){if(!_v0.b.b)return list;if(!_v0.b.b.b){if(1===_v0.a)break _v0$1;break _v0$5}switch(_v0.a){case 1:break _v0$1;case 2:var _v9=_v0.b;return _List_fromArray([_v9.a,_v9.b.a]);case 3:if(_v0.b.b.b.b){var tl=_v0.b,w=tl.b;return _List_fromArray([tl.a,w.a,w.b.a])}break _v0$5;default:if(_v0.b.b.b.b&&_v0.b.b.b.b.b){var _v7=_v0.b,_v8=_v7.b,_v9=_v8.b,tl=_v9.b,w=tl.a,tl=tl.b;return A2($elm$core$List$cons,_v7.a,A2($elm$core$List$cons,_v8.a,A2($elm$core$List$cons,_v9.a,A2($elm$core$List$cons,w,1e3<ctr?A2($elm$core$List$takeTailRec,n-4,tl):A3($elm$core$List$takeFast,ctr+1,n-4,tl)))))}break _v0$5}}return list}return _List_fromArray([_v0.b.a])}return _List_Nil}),$elm$core$List$take=F2(function(n,list){return A3($elm$core$List$takeFast,0,n,list)}),$author$project$Main$addToUndoStack=F2(function(label,model){return _Utils_update(model,{changeCounter:model.changeCounter+1,redoStack:_List_Nil,undoStack:A2($elm$core$List$cons,{currentNode:model.currentNode,label:label,markedNode:model.markedNode,trackPoints:model.trackPoints},A2($elm$core$List$take,9,model.undoStack))})}),$elm$core$Array$bitMask=4294967295>>>32-$elm$core$Array$shiftStep,$elm$core$Elm$JsArray$unsafeGet=$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsX,$elm$core$Array$getHelp=F3(function(shift,index,tree){for(;;){var _v0=A2($elm$core$Elm$JsArray$unsafeGet,$elm$core$Array$bitMask&index>>>shift,tree);if("SubTree"!==_v0.$)return A2($elm$core$Elm$JsArray$unsafeGet,$elm$core$Array$bitMask&index,_v0.a);shift=shift-$elm$core$Array$shiftStep,index=index,tree=_v0.a}}),$elm$core$Array$get=F2(function(index,tail){var len=tail.a,startShift=tail.b,tree=tail.c,tail=tail.d;return index<0||-1<_Utils_cmp(index,len)?$elm$core$Maybe$Nothing:-1<_Utils_cmp(index,len>>>5<<5)?$elm$core$Maybe$Just(A2($elm$core$Elm$JsArray$unsafeGet,$elm$core$Array$bitMask&index,tail)):$elm$core$Maybe$Just(A3($elm$core$Array$getHelp,startShift,index,tree))}),$ianmackenzie$elm_geometry$Vector3d$cross=F2(function(v2,v1){v2=v2.a,v1=v1.a;return{$:"Vector3d",a:{x:v1.y*v2.z-v1.z*v2.y,y:v1.z*v2.x-v1.x*v2.z,z:v1.x*v2.y-v1.y*v2.x}}}),$elm$core$Basics$sqrt=$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsY,$ianmackenzie$elm_geometry$Vector3d$from=F2(function(p1,p2){p1=p1.a,p2=p2.a;return{$:"Vector3d",a:{x:p2.x-p1.x,y:p2.y-p1.y,z:p2.z-p1.z}}}),$elm$core$Maybe$andThen=F2(function(callback,maybeValue){return"Just"!==maybeValue.$?$elm$core$Maybe$Nothing:callback(maybeValue.a)}),$ianmackenzie$elm_geometry$Vector3d$dot=F2(function(v2,v1){v2=v2.a,v1=v1.a;return{$:"Quantity",a:v1.x*v2.x+v1.y*v2.y+v1.z*v2.z}}),$ianmackenzie$elm_units$Quantity$greaterThan=F2(function(_v0,_v1){return 0<_Utils_cmp(_v1.a,_v0.a)}),$ianmackenzie$elm_units$Quantity$lessThan=F2(function(_v0,_v1){return _Utils_cmp(_v1.a,_v0.a)<0}),$ianmackenzie$elm_geometry$Vector3d$minus=F2(function(v2,v1){v2=v2.a,v1=v1.a;return{$:"Vector3d",a:{x:v1.x-v2.x,y:v1.y-v2.y,z:v1.z-v2.z}}}),$ianmackenzie$elm_geometry$Vector3d$projectionIn=F2(function(d,projectedLength){d=d.a,projectedLength=projectedLength.a,projectedLength=projectedLength.x*d.x+projectedLength.y*d.y+projectedLength.z*d.z;return{$:"Vector3d",a:{x:d.x*projectedLength,y:d.y*projectedLength,z:d.z*projectedLength}}}),$ianmackenzie$elm_units$Quantity$zero={$:"Quantity",a:0},$ianmackenzie$elm_geometry$Vector3d$zero={$:"Vector3d",a:{x:0,y:0,z:0}},$ianmackenzie$elm_geometry$Direction3d$orthonormalize=F3(function(xVector,xyVector,xyzVector){return A2($elm$core$Maybe$andThen,function(xDirection){return A2($elm$core$Maybe$andThen,function(yDirection){var zVector=A2($ianmackenzie$elm_geometry$Vector3d$cross,xyVector,xVector),tripleProduct=A2($ianmackenzie$elm_geometry$Vector3d$dot,xyzVector,zVector),zVector=A2($ianmackenzie$elm_units$Quantity$greaterThan,$ianmackenzie$elm_units$Quantity$zero,tripleProduct)?zVector:A2($ianmackenzie$elm_units$Quantity$lessThan,$ianmackenzie$elm_units$Quantity$zero,tripleProduct)?$ianmackenzie$elm_geometry$Vector3d$reverse(zVector):$ianmackenzie$elm_geometry$Vector3d$zero;return A2($elm$core$Maybe$map,function(zDirection){return{$:"#3",a:xDirection,b:yDirection,c:zDirection}},$ianmackenzie$elm_geometry$Vector3d$direction(zVector))},$ianmackenzie$elm_geometry$Vector3d$direction(A2($ianmackenzie$elm_geometry$Vector3d$minus,A2($ianmackenzie$elm_geometry$Vector3d$projectionIn,xDirection,xyVector),xyVector)))},$ianmackenzie$elm_geometry$Vector3d$direction(xVector))}),$ianmackenzie$elm_geometry$Frame3d$withZDirection=F2(function(givenZDirection,givenOrigin){var _v0=$ianmackenzie$elm_geometry$Direction3d$perpendicularBasis(givenZDirection);return{$:"Frame3d",a:{originPoint:givenOrigin,xDirection:_v0.a,yDirection:_v0.b,zDirection:givenZDirection}}}),$ianmackenzie$elm_geometry$Vector3d$meters=F3(function(x,y,z){return{$:"Vector3d",a:{x:x,y:y,z:z}}}),$elm$core$Basics$min=F2(function(x,y){return _Utils_cmp(x,y)<0?x:y}),$elm$core$Basics$tan=$elm_explorations$webgl$WebGL$Settings$Blend$customAdd,$ianmackenzie$elm_geometry$Direction3d$positiveZ={$:"Direction3d",a:{x:0,y:0,z:1}},$ianmackenzie$elm_geometry$Point3d$translateBy=F2(function(v,p){v=v.a,p=p.a;return{$:"Point3d",a:{x:p.x+v.x,y:p.y+v.y,z:p.z+v.z}}}),$elm$core$Basics$cos=color,$elm$core$Basics$pow=$mdgriffith$elm_ui$Internal$Model$FontFamily,$author$project$MapboxStuff$metresPerPixel=F2(function(zoomLevel,latitude){return 78271.484*$elm$core$Basics$cos(latitude)/A2($elm$core$Basics$pow,2,zoomLevel)}),$ianmackenzie$elm_units$Quantity$interpolateFrom=F3(function(start,end,parameter){start=start.a,end=end.a;return.5<parameter?{$:"Quantity",a:end+(1-parameter)*(start-end)}:{$:"Quantity",a:start+parameter*(end-start)}}),$ianmackenzie$elm_geometry$Direction3d$positiveY={$:"Direction3d",a:{x:0,y:1,z:0}},$ianmackenzie$elm_geometry$Point3d$projectOnto=F2(function(p,distance){var n=p.a,p=distance.a,distance=n.originPoint.a,n=n.normalDirection.a,distance=(p.x-distance.x)*n.x+(p.y-distance.y)*n.y+(p.z-distance.z)*n.z;return{$:"Point3d",a:{x:p.x-distance*n.x,y:p.y-distance*n.y,z:p.z-distance*n.z}}}),$ianmackenzie$elm_geometry$Plane3d$xy=A2($mdgriffith$elm_ui$Internal$Style$classes_textExtraBold=F2(function(givenPoint,givenNormalDirection){return{$:"Plane3d",a:{normalDirection:givenNormalDirection,originPoint:givenPoint}}}),$ianmackenzie$elm_geometry$Point3d$origin,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp=$ianmackenzie$elm_geometry$Direction3d$positiveZ),$ianmackenzie$elm_geometry$Point3d$xyz=F3(function(_v0,_v1,_v2){return{$:"Point3d",a:{x:_v0.a,y:_v1.a,z:_v2.a}}}),$ianmackenzie$elm_geometry$Point3d$fromRecord=F2(function(toQuantity,_v0){var y=_v0.y,z=_v0.z;return A3($ianmackenzie$elm_geometry$Point3d$xyz,toQuantity(_v0.x),toQuantity(y),toQuantity(z))}),$ianmackenzie$elm_geometry$Point3d$toRecord=F2(function(fromQuantity,point){return{x:fromQuantity($ianmackenzie$elm_geometry$Point3d$xCoordinate(point)),y:fromQuantity($ianmackenzie$elm_geometry$Point3d$yCoordinate(point)),z:fromQuantity($ianmackenzie$elm_geometry$Point3d$zCoordinate(point))}}),$ianmackenzie$elm_geometry$Direction3d$x={$:"Direction3d",a:{x:1,y:0,z:0}},$ianmackenzie$elm_geometry$Plane3d$yz=A2($mdgriffith$elm_ui$Internal$Style$classes_textExtraBold,$ianmackenzie$elm_geometry$Point3d$origin,$ianmackenzie$elm_geometry$Direction3d$x),$ianmackenzie$elm_geometry$Unsafe$Direction3d$unsafeCrossProduct=F2(function(d1,d2){d1=d1.a,d2=d2.a;return{$:"Direction3d",a:{x:d1.y*d2.z-d1.z*d2.y,y:d1.z*d2.x-d1.x*d2.z,z:d1.x*d2.y-d1.y*d2.x}}}),$elm$core$Basics$sin=$mdgriffith$elm_ui$Internal$Style$classes_textExtraLight,$ianmackenzie$elm_geometry$Direction3d$rotateAround=F3(function(qxx,qwy,qyz){var qyy=qxx.a,d=qyz.a,qxy=.5*qwy.a,qwz=$elm$core$Basics$cos(qxy),qzz=$elm$core$Basics$sin(qxy),a=qyy.direction.a,qxz=a.x*qzz,qwx=qwz*qxz,qxx=qxz*qxz,qyz=a.y*qzz,qwy=qwz*qyz,qxy=qxz*qyz,qyy=qyz*qyz,qzz=a.z*qzz,qwz=qwz*qzz,qxz=qxz*qzz,qyz=qyz*qzz,qzz=qzz*qzz;return{$:"Direction3d",a:{x:(1-2*(qyy+qzz))*d.x+2*(qxy-qwz)*d.y+2*(qxz+qwy)*d.z,y:2*(qxy+qwz)*d.x+(1-2*(qxx+qzz))*d.y+2*(qyz-qwx)*d.z,z:2*(qxz-qwy)*d.x+2*(qyz+qwx)*d.y+(1-2*(qxx+qyy))*d.z}}}),$ianmackenzie$elm_geometry$Point3d$rotateAround=F3(function(wx,yz,xx){var yy=wx.a,xy=xx.a,wy=.5*yz.a,wz=$elm$core$Basics$cos(wy),zz=$elm$core$Basics$sin(wy),p0=yy.originPoint.a,deltaX=xy.x-p0.x,deltaY=xy.y-p0.y,deltaZ=xy.z-p0.z,d=yy.direction.a,xz=d.x*zz,wx=wz*xz,xx=xz*xz,yz=d.y*zz,wy=wz*yz,xy=xz*yz,yy=yz*yz,zz=d.z*zz,wz=wz*zz,xz=xz*zz,yz=yz*zz,zz=zz*zz;return{$:"Point3d",a:{x:p0.x+(1-2*(yy+zz))*deltaX+2*(xy-wz)*deltaY+2*(xz+wy)*deltaZ,y:p0.y+2*(xy+wz)*deltaX+(1-2*(xx+zz))*deltaY+2*(yz-wx)*deltaZ,z:p0.z+2*(xz-wy)*deltaX+2*(yz+wx)*deltaY+(1-2*(xx+yy))*deltaZ}}}),$ianmackenzie$elm_geometry$Frame3d$rotateAround=F3(function(axis,angle,frame){return{$:"Frame3d",a:{originPoint:A3($ianmackenzie$elm_geometry$Point3d$rotateAround,axis,angle,$ianmackenzie$elm_geometry$Frame3d$originPoint(frame)),xDirection:A3($ianmackenzie$elm_geometry$Direction3d$rotateAround,axis,angle,$ianmackenzie$elm_geometry$Frame3d$xDirection(frame)),yDirection:A3($ianmackenzie$elm_geometry$Direction3d$rotateAround,axis,angle,$ianmackenzie$elm_geometry$Frame3d$yDirection(frame)),zDirection:A3($ianmackenzie$elm_geometry$Direction3d$rotateAround,axis,angle,$ianmackenzie$elm_geometry$Frame3d$zDirection(frame))}}}),$ianmackenzie$elm_geometry$Frame3d$rotateAroundOwn=F3(function(axis,angle,frame){return A3($ianmackenzie$elm_geometry$Frame3d$rotateAround,axis(frame),angle,frame)}),$ianmackenzie$elm_geometry$Frame3d$translateBy=F2(function(vector,frame){return{$:"Frame3d",a:{originPoint:A2($ianmackenzie$elm_geometry$Point3d$translateBy,vector,$ianmackenzie$elm_geometry$Frame3d$originPoint(frame)),xDirection:$ianmackenzie$elm_geometry$Frame3d$xDirection(frame),yDirection:$ianmackenzie$elm_geometry$Frame3d$yDirection(frame),zDirection:$ianmackenzie$elm_geometry$Frame3d$zDirection(frame)}}}),$ianmackenzie$elm_geometry$Vector3d$withLength=F2(function(a,d){a=a.a,d=d.a;return{$:"Vector3d",a:{x:a*d.x,y:a*d.y,z:a*d.z}}}),$ianmackenzie$elm_geometry$Frame3d$translateIn=F3(function(direction,distance,frame){return A2($ianmackenzie$elm_geometry$Frame3d$translateBy,A2($ianmackenzie$elm_geometry$Vector3d$withLength,distance,direction),frame)}),$ianmackenzie$elm_geometry$Frame3d$translateAlongOwn=F3(function(axis,distance,frame){return A3($ianmackenzie$elm_geometry$Frame3d$translateIn,$ianmackenzie$elm_geometry$Axis3d$direction(axis(frame)),distance,frame)}),$ianmackenzie$elm_geometry$Axis3d$through=F2(function(givenPoint,givenDirection){return{$:"Axis3d",a:{direction:givenDirection,originPoint:givenPoint}}}),$ianmackenzie$elm_geometry$Direction3d$y=$ianmackenzie$elm_geometry$Direction3d$positiveY,$ianmackenzie$elm_geometry$SketchPlane3d$xy=function(a){return{$:"SketchPlane3d",a:a}}({originPoint:$ianmackenzie$elm_geometry$Point3d$origin,xDirection:$ianmackenzie$elm_geometry$Direction3d$x,yDirection:$ianmackenzie$elm_geometry$Direction3d$y}),$elm$core$Basics$clamp=F3(function(low,high,number){return _Utils_cmp(number,low)<0?low:0<_Utils_cmp(number,high)?high:number}),$ianmackenzie$elm_geometry$Point3d$interpolateFrom=F3(function(p1,p2,t){p1=p1.a,p2=p2.a;return.5<t?{$:"Point3d",a:{x:p2.x+(1-t)*(p1.x-p2.x),y:p2.y+(1-t)*(p1.y-p2.y),z:p2.z+(1-t)*(p1.z-p2.z)}}:{$:"Point3d",a:{x:p1.x+t*(p2.x-p1.x),y:p1.y+t*(p2.y-p1.y),z:p1.z+t*(p2.z-p1.z)}}}),$author$project$Flythrough$flythrough=F4(function(newTime,flying,lookingAt,segFraction){var newDistance=($elm$time$Time$posixToMillis(newTime)-$elm$time$Time$posixToMillis(flying.lastUpdated))/1e3,newDistance=flying.metresFromRouteStart+newDistance*A2($elm$core$Basics$pow,10,lookingAt),lookingAt=A2(F2(function(d,rs){for(;;){if(!rs.b)return{$:"#2",a:$elm$core$Maybe$Nothing,b:$elm$core$Maybe$Nothing};if(!rs.b.b)return _Utils_cmp(d,(r1=rs.a).endDistance)<0?{$:"#2",a:$elm$core$Maybe$Just(r1),b:$elm$core$Maybe$Nothing}:{$:"#2",a:$elm$core$Maybe$Nothing,b:$elm$core$Maybe$Nothing};var r1,rN=rs.b,r2=rN.a,rN=rN.b;if(-1<_Utils_cmp(d,(r1=rs.a).startDistance)&&_Utils_cmp(d,r1.endDistance)<0)return{$:"#2",a:$elm$core$Maybe$Just(r1),b:$elm$core$Maybe$Just(r2)};d=d,rs=A2($elm$core$List$cons,r2,rN)}}),newDistance,segFraction),segFraction=lookingAt.a,nextSeg=lookingAt.b;if(flying.running){if("Just"!==segFraction.$)return _Utils_update(flying,{running:!1});var seg=segFraction.a,lookingAt=newDistance-seg.startDistance,segFraction=lookingAt/seg.length,headTurnFraction=A3($elm$core$Basics$clamp,0,1,10-(seg.length-lookingAt))/10,lookingAt=function(){if("Just"!==nextSeg.$)return A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),seg.endsAt.location);var next3d=nextSeg.a,next3d=A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,next3d.startsAt.location,next3d.endsAt.location,.5);return A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,seg.endsAt.location,next3d,headTurnFraction))}();return _Utils_update(flying,{cameraPosition:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,seg.startsAt.location,seg.endsAt.location,segFraction)),focusPoint:lookingAt,lastUpdated:newTime,metresFromRouteStart:newDistance,segment:seg})}return _Utils_update(flying,{running:!1})}),$author$project$Main$advanceFlythrough=F2(function(newTime,model){var _v0=model.flythrough;return"Just"!==_v0.$?model:$author$project$Main$checkSceneCamera(_Utils_update(model,{flythrough:$elm$core$Maybe$Just(A4($author$project$Flythrough$flythrough,newTime,_v0.a,model.flythroughSpeed,model.roads))}))}),$author$project$Loop$IsALoop={$:"IsALoop"},$author$project$Filters$centreValue=F6(function(f,_v0,_v1,p2){return f(p2)}),$elm$core$List$drop=F2(function(n,list){for(;;){if(n<=0)return list;if(!list.b)return list;n=n-1,list=list.b}}),$elm$core$Array$fromListHelp=F3(function(list,nodeList,nodeListSize){for(;;){var remainingItems=A2($elm$core$Elm$JsArray$initializeFromList,32,list),jsArray=remainingItems.a,remainingItems=remainingItems.b;if(_Utils_cmp($elm$core$Elm$JsArray$length(jsArray),32)<0)return A2($elm$core$Array$builderToArray,!0,{nodeList:nodeList,nodeListSize:nodeListSize,tail:jsArray});list=remainingItems,nodeList=A2($elm$core$List$cons,{$:"Leaf",a:jsArray},nodeList),nodeListSize=nodeListSize+1}}),$elm$core$List$map5=$mdgriffith$elm_ui$Internal$Style$classes_textHeavy,$elm$core$Elm$JsArray$appendN=$elm$svg$Svg$Attributes$x1,$elm$core$Elm$JsArray$slice=$mdgriffith$elm_ui$Element$rgb,$elm$core$Array$appendHelpBuilder=F2(function(tail,builder){var tailLen=$elm$core$Elm$JsArray$length(tail),notAppended=32-$elm$core$Elm$JsArray$length(builder.tail)-tailLen,appended=A3($elm$core$Elm$JsArray$appendN,32,builder.tail,tail);return notAppended<0?{nodeList:A2($elm$core$List$cons,{$:"Leaf",a:appended},builder.nodeList),nodeListSize:builder.nodeListSize+1,tail:A3($elm$core$Elm$JsArray$slice,notAppended,tailLen,tail)}:notAppended?{nodeList:builder.nodeList,nodeListSize:builder.nodeListSize,tail:appended}:{nodeList:A2($elm$core$List$cons,{$:"Leaf",a:appended},builder.nodeList),nodeListSize:builder.nodeListSize+1,tail:$elm$core$Elm$JsArray$empty}}),$elm$core$Array$sliceLeft=F2(function(from,array){var skipNodes=array.a,rest=array.c,initialBuilder=array.d;if(from){if(-1<_Utils_cmp(from,skipNodes>>>5<<5))return A4($elm$core$Array$Array_elm_builtin,skipNodes-from,$elm$core$Array$shiftStep,$elm$core$Elm$JsArray$empty,A3($elm$core$Elm$JsArray$slice,from-(skipNodes>>>5<<5),$elm$core$Elm$JsArray$length(initialBuilder),initialBuilder));var skipNodes=from/32|0,helper=F2(function(node,acc){return"SubTree"!==node.$?A2($elm$core$List$cons,node.a,acc):A3($elm$core$Elm$JsArray$foldr,helper,acc,node.a)}),initialBuilder=A3($elm$core$Elm$JsArray$foldr,helper,_List_fromArray([initialBuilder]),rest),rest=A2($elm$core$List$drop,skipNodes,initialBuilder);if(rest.b){initialBuilder=rest.a,rest=rest.b,initialBuilder={nodeList:_List_Nil,nodeListSize:0,tail:A3($elm$core$Elm$JsArray$slice,from-32*skipNodes,$elm$core$Elm$JsArray$length(initialBuilder),initialBuilder)};return A2($elm$core$Array$builderToArray,!0,A3($elm$core$List$foldl,$elm$core$Array$appendHelpBuilder,initialBuilder,rest))}return $elm$core$Array$empty}return array}),$elm$core$Array$fetchNewTail=F4(function(shift,end,treeEnd,tree){for(;;){var _v0=A2($elm$core$Elm$JsArray$unsafeGet,$elm$core$Array$bitMask&treeEnd>>>shift,tree);if("SubTree"!==_v0.$)return A3($elm$core$Elm$JsArray$slice,0,$elm$core$Array$bitMask&end,_v0.a);shift=shift-$elm$core$Array$shiftStep,end=end,treeEnd=treeEnd,tree=_v0.a}}),$elm$core$Array$hoistTree=F3(function(oldShift,newShift,tree){for(;;){if(_Utils_cmp(oldShift,newShift)<1||!$elm$core$Elm$JsArray$length(tree))return tree;var _v0=A2($elm$core$Elm$JsArray$unsafeGet,0,tree);if("SubTree"!==_v0.$)return tree;oldShift=oldShift-$elm$core$Array$shiftStep,newShift=newShift,tree=_v0.a}}),$elm$core$Elm$JsArray$unsafeSet=$mdgriffith$elm_ui$Internal$Model$Attr,$elm$core$Array$sliceTree=F3(function(shift,endIdx,tree){var lastPos=$elm$core$Array$bitMask&endIdx>>>shift,newSub=A2($elm$core$Elm$JsArray$unsafeGet,lastPos,tree);if("SubTree"!==newSub.$)return A3($elm$core$Elm$JsArray$slice,0,lastPos,tree);newSub=A3($elm$core$Array$sliceTree,shift-$elm$core$Array$shiftStep,endIdx,newSub.a);return $elm$core$Elm$JsArray$length(newSub)?A3($elm$core$Elm$JsArray$unsafeSet,lastPos,{$:"SubTree",a:newSub},A3($elm$core$Elm$JsArray$slice,0,1+lastPos,tree)):A3($elm$core$Elm$JsArray$slice,0,lastPos,tree)}),$elm$core$Array$sliceRight=F2(function(end,array){var endIdx=array.a,startShift=array.b,tree=array.c,newShift=array.d;if(_Utils_eq(end,endIdx))return array;if(-1<_Utils_cmp(end,endIdx>>>5<<5))return A4($elm$core$Array$Array_elm_builtin,end,startShift,tree,A3($elm$core$Elm$JsArray$slice,0,$elm$core$Array$bitMask&end,newShift));endIdx=end>>>5<<5,newShift=$elm$core$Basics$floor(A2($elm$core$Basics$logBase,32,A2($elm$core$Basics$max,1,endIdx-1))),newShift=A2($elm$core$Basics$max,5,newShift*$elm$core$Array$shiftStep);return A4($elm$core$Array$Array_elm_builtin,end,newShift,A3($elm$core$Array$hoistTree,startShift,newShift,A3($elm$core$Array$sliceTree,startShift,endIdx,tree)),A4($elm$core$Array$fetchNewTail,startShift,end,endIdx,tree))}),$elm$core$Array$translateIndex=F2(function(posIndex,len){len=len.a,posIndex=posIndex<0?len+posIndex:posIndex;return posIndex<0?0:0<_Utils_cmp(posIndex,len)?len:posIndex}),$elm$core$Array$slice=F3(function(correctFrom,correctTo,array){correctTo=A2($elm$core$Array$translateIndex,correctTo,array),correctFrom=A2($elm$core$Array$translateIndex,correctFrom,array);return 0<_Utils_cmp(correctFrom,correctTo)?$elm$core$Array$empty:A2($elm$core$Array$sliceLeft,correctFrom,A2($elm$core$Array$sliceRight,correctTo,array))}),$author$project$Filters$weightedAverage=F6(function(_v0,p0,p1,p2,p3,p4){var latFn=_v0.a,lonFn=_v0.b;return{ele:A6(_v0.c,function($){return $.ele},p0,p1,p2,p3,p4),idx:p2.idx,lat:A6(latFn,function($){return $.lat},p0,p1,p2,p3,p4),lon:A6(lonFn,function($){return $.lon},p0,p1,p2,p3,p4)}}),$author$project$Filters$withWeights=F6(function(f,p0,p1,_v1,x4,x3){x4={$:"#2",a:f(x4),b:f(x3)},x3=x4.a,x4=x4.b,_v1={$:"#3",a:f(p0),b:f(p1),c:f(_v1)};return(_v1.a+2*_v1.b+4*_v1.c+2*x3+x4)/10}),$author$project$Filters$applyWeightedAverageFilter=F4(function(fixedFirst,fixedLast,loopiness,points){var start=fixedFirst.a,finish=fixedFirst.b,latFn=fixedLast.a,lonFn=fixedLast.b,withinRange=A2($elm$core$Basics$composeR,$elm$core$Array$fromList,A2($elm$core$Basics$composeR,A2($elm$core$Array$slice,start+1,finish),$elm$core$Array$toList)),numPoints=$elm$core$List$length(points),filteredLoop=_Utils_ap(points,A2($elm$core$List$drop,1,points)),filtered=A2($elm$core$List$take,1,points),eleFn={$:"#2",a:A2($elm$core$List$take,start+1,points),b:A2($elm$core$List$drop,finish,points)},fixedFirst=eleFn.a,fixedLast=eleFn.b,eleFn={$:"#3",a:latFn?$author$project$Filters$withWeights:$author$project$Filters$centreValue,b:latFn?$author$project$Filters$withWeights:$author$project$Filters$centreValue,c:lonFn?$author$project$Filters$withWeights:$author$project$Filters$centreValue},latFn=eleFn.a,lonFn=eleFn.b,eleFn=eleFn.c,filtered=A6($elm$core$List$map5,$author$project$Filters$weightedAverage({$:"#3",a:latFn,b:lonFn,c:eleFn}),_Utils_ap(filtered,_Utils_ap(filtered,points)),_Utils_ap(filtered,points),points,A2($elm$core$List$drop,1,filteredLoop),A2($elm$core$List$drop,2,filteredLoop)),filteredLoop=A6($elm$core$List$map5,$author$project$Filters$weightedAverage({$:"#3",a:latFn,b:lonFn,c:eleFn}),A2($elm$core$List$drop,numPoints-2,filteredLoop),A2($elm$core$List$drop,numPoints-1,filteredLoop),points,A2($elm$core$List$drop,1,filteredLoop),A2($elm$core$List$drop,2,filteredLoop));return _Utils_eq(start,finish)&&_Utils_eq(loopiness,$author$project$Loop$IsALoop)?filteredLoop:_Utils_ap(fixedFirst,_Utils_ap(withinRange(filtered),fixedLast))}),$author$project$TrackPoint$interpolateSegment=F3(function(w,_v2,_v0){_v0={$:"#3",a:_v0.lon,b:_v0.lat,c:_v0.ele},_v2={$:"#3",a:_v2.lon,b:_v2.lat,c:_v2.ele},_v2={$:"#3",a:w*_v0.a+(1-w)*_v2.a,b:w*_v0.b+(1-w)*_v2.b,c:w*_v0.c+(1-w)*_v2.c};return{ele:_v2.c,idx:0,lat:_v2.b,lon:_v2.a}}),$author$project$TrackPoint$meanTrackPoint=F2(function(tp0,tp1){return{ele:(tp0.ele+tp1.ele)/2,idx:tp0.idx,lat:(tp0.lat+tp1.lat)/2,lon:(tp0.lon+tp1.lon)/2}}),$author$project$Spherical$range=F2(function(_v0,_v1){var lat1=_v0.a,x=_v1.a,y=x-lat1,x=(_v1.b-_v0.b)*$elm$core$Basics$cos((lat1+x)/2);return 6371e3*$elm$core$Basics$sqrt(x*x+y*y)}),$author$project$TrackPoint$trackPointSeparation=F2(function(tp1,tp2){return A2($author$project$Spherical$range,{$:"#2",a:tp1.lat,b:tp1.lon},{$:"#2",a:tp2.lat,b:tp2.lon})}),$author$project$AutoFix$chamfer=F3(function(tp0,secondTP,tp2){var t1t2Length=A2($author$project$TrackPoint$trackPointSeparation,secondTP,tp2),t0t2Length=A2($author$project$TrackPoint$trackPointSeparation,tp0,tp2),firstTP=A2($author$project$TrackPoint$trackPointSeparation,tp0,secondTP),cosineT1=(A2($elm$core$Basics$pow,firstTP,2)+A2($elm$core$Basics$pow,t1t2Length,2)-A2($elm$core$Basics$pow,t0t2Length,2))/(2*firstTP*t1t2Length),commonAmountToSteal=A2($elm$core$Basics$min,firstTP/2,t1t2Length/2),firstTP=A3($author$project$TrackPoint$interpolateSegment,commonAmountToSteal/firstTP,secondTP,tp0),secondTP=A3($author$project$TrackPoint$interpolateSegment,commonAmountToSteal/t1t2Length,secondTP,tp2);return t0t2Length<2||0<_Utils_cmp(cosineT1,$elm$core$Basics$cos(1.5707963267948966))?_List_fromArray([tp0,A2($author$project$TrackPoint$meanTrackPoint,tp0,tp2),tp2]):_List_fromArray([tp0,firstTP,secondTP,tp2])}),$author$project$AutoFix$autoFixInternal=F2(function(inputs,nodesToFix){for(;;){var n1={$:"#2",a:inputs,b:nodesToFix};if(!(n1.a.b&&n1.a.b.b&&n1.a.b.b.b&&n1.b.b))return inputs;var tp2=n1.a,tp0=tp2.a,tpRest=tp2.b,tp1=tpRest.a,nRest=tpRest.b,tp2=nRest.a,tpRest=nRest.b,nRest=n1.b,n1=nRest.a,nRest=nRest.b;if(_Utils_eq(tp1.idx,n1))return _Utils_ap(A3($author$project$AutoFix$chamfer,tp0,tp1,tp2),A2($author$project$AutoFix$autoFixInternal,tpRest,nRest));if(_Utils_cmp(tp1.idx,n1)<0)return A2($elm$core$List$cons,tp0,A2($author$project$AutoFix$autoFixInternal,A2($elm$core$List$cons,tp1,A2($elm$core$List$cons,tp2,tpRest)),nodesToFix));inputs=inputs,nodesToFix=nRest}}),$author$project$AutoFix$autoFix=F2(function(tps,nodesToFix){return $author$project$TrackPoint$reindexTrackpoints(A2($author$project$AutoFix$autoFixInternal,tps,nodesToFix))}),$author$project$Main$changeLoopStart=F2(function(n,model){var undoMessage="move start point to "+$elm$core$String$fromInt(n),remainingTPs=A2($elm$core$List$drop,n,model.trackPoints),newTPs=_Utils_ap(remainingTPs,_Utils_ap(A2($elm$core$List$take,n,model.trackPoints),A2($elm$core$List$take,1,remainingTPs)));return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{currentNode:0,trackPoints:$author$project$TrackPoint$reindexTrackpoints(newTPs)})}),$ianmackenzie$elm_geometry$Point2d$interpolateFrom=F3(function(p1,p2,t){p1=p1.a,p2=p2.a;return.5<t?{$:"Point2d",a:{x:p2.x+(1-t)*(p1.x-p2.x),y:p2.y+(1-t)*(p1.y-p2.y)}}:{$:"Point2d",a:{x:p1.x+t*(p2.x-p1.x),y:p1.y+t*(p2.y-p1.y)}}}),$ianmackenzie$elm_geometry$Point2d$meters=F2(function(x,y){return{$:"Point2d",a:{x:x,y:y}}}),$ianmackenzie$elm_units$Quantity$multiplyBy=F2(function(scale,_v0){return{$:"Quantity",a:scale*_v0.a}}),$ianmackenzie$elm_geometry$Point3d$fromTuple=F2(function(toQuantity,_v0){var y=_v0.b,z=_v0.c;return A3($ianmackenzie$elm_geometry$Point3d$xyz,toQuantity(_v0.a),toQuantity(y),toQuantity(z))}),$ianmackenzie$elm_geometry$Point3d$toTuple=F2(function(fromQuantity,point){return{$:"#3",a:fromQuantity($ianmackenzie$elm_geometry$Point3d$xCoordinate(point)),b:fromQuantity($ianmackenzie$elm_geometry$Point3d$yCoordinate(point)),c:fromQuantity($ianmackenzie$elm_geometry$Point3d$zCoordinate(point))}}),$author$project$NodesAndRoads$deriveNodes=F2(function(_v0,tps){var _v0=A2($ianmackenzie$elm_geometry$Point3d$toTuple,$ianmackenzie$elm_units$Length$inMeters,$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(_v0)),midLon=_v0.a,midLat=_v0.b;return A2($elm$core$List$map,function(tp){var z=tp.ele,y=78846.81*(tp.lat-midLat),x=78846.81*(tp.lon-midLon)*$elm$core$Basics$cos(3.141592653589793*tp.lat/180);return{costMetric:$elm$core$Maybe$Nothing,location:A2($ianmackenzie$elm_geometry$Point3d$fromTuple,$ianmackenzie$elm_units$Length$meters,{$:"#3",a:x,b:y,c:z}),trackPoint:tp}},tps)}),$elm$core$Basics$atan2=$mdgriffith$elm_ui$Internal$Style$classes_textLight,$author$project$Spherical$findBearingToTarget=F2(function(lon2,y){var lat1=lon2.a,x=lon2.b,lat2=y.a,lon2=y.b,y=$elm$core$Basics$sin(lon2-x)*$elm$core$Basics$cos(lat2),x=$elm$core$Basics$cos(lat1)*$elm$core$Basics$sin(lat2)-$elm$core$Basics$sin(lat1)*$elm$core$Basics$cos(lat2)*$elm$core$Basics$cos(lon2-x);return A2($elm$core$Basics$atan2,y,x)}),$ianmackenzie$elm_geometry$BoundingBox3d$hullHelp=F7(function(currentMinX,currentMaxX,currentMinY,currentMaxY,currentMinZ,currentMaxZ,points){for(;;){if(!points.b)return{$:"BoundingBox3d",a:{maxX:{$:"Quantity",a:currentMaxX},maxY:{$:"Quantity",a:currentMaxY},maxZ:{$:"Quantity",a:currentMaxZ},minX:{$:"Quantity",a:currentMinX},minY:{$:"Quantity",a:currentMinY},minZ:{$:"Quantity",a:currentMinZ}}};var z=points.a,rest=points.b,x=z.a.x,y=z.a.y,z=z.a.z;currentMinX=A2($elm$core$Basics$min,x,currentMinX),currentMaxX=A2($elm$core$Basics$max,x,currentMaxX),currentMinY=A2($elm$core$Basics$min,y,currentMinY),currentMaxY=A2($elm$core$Basics$max,y,currentMaxY),currentMinZ=A2($elm$core$Basics$min,z,currentMinZ),currentMaxZ=A2($elm$core$Basics$max,z,currentMaxZ),points=rest}}),$ianmackenzie$elm_geometry$BoundingBox3d$hull=F2(function(z,rest){var x=z.a.x,y=z.a.y,z=z.a.z;return A7($ianmackenzie$elm_geometry$BoundingBox3d$hullHelp,x,x,y,y,z,z,rest)}),$elm$core$List$map3=$mdgriffith$elm_ui$Internal$Style$classes_textMedium,$ianmackenzie$elm_geometry$Point3d$meters=F3(function(x,y,z){return{$:"Point3d",a:{x:x,y:y,z:z}}}),$elm$core$List$maybeCons=F3(function(f,_v0,xs){_v0=f(_v0);return"Just"!==_v0.$?xs:A2($elm$core$List$cons,_v0.a,xs)}),$elm$core$List$filterMap=F2(function(f,xs){return A3($elm$core$List$foldr,$elm$core$List$maybeCons(f),_List_Nil,xs)}),$author$project$Main$trackPointGap=F2(function(tp2,tp1){tp2={$:"#2",a:tp2,b:tp1};if("Just"!==tp2.a.$||"Just"!==tp2.b.$)return $elm$core$Maybe$Nothing;tp1=tp2.a.a,tp2=tp2.b.a;return $elm$core$Maybe$Just({$:"#2",a:A2($author$project$Spherical$range,{$:"#2",a:3.141592653589793*tp1.lon/180,b:3.141592653589793*tp1.lat/180},{$:"#2",a:3.141592653589793*tp2.lon/180,b:3.141592653589793*tp2.lat/180}),b:$elm$core$Basics$abs(tp1.ele-tp2.ele)})}),$avh4$elm_color$Color$RgbaSpace=F4(function(a,b,c,d){return{$:"RgbaSpace",a:a,b:b,c:c,d:d}}),$avh4$elm_color$Color$lightRed=A4($avh4$elm_color$Color$RgbaSpace,239/255,41/255,41/255,1),$ianmackenzie$elm_3d_scene$Scene3d$Types$LambertianMaterial=F3(function(a,b,c){return{$:"LambertianMaterial",a:a,b:b,c:c}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$UseMeshUvs={$:"UseMeshUvs"},$ianmackenzie$elm_3d_scene$Scene3d$Types$VerticalNormal={$:"VerticalNormal"},$elm_explorations$linear_algebra$Math$Vector3$vec3=$mdgriffith$elm_ui$Internal$Style$classes_textNormalWeight,$ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyNode={$:"EmptyNode"},$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty={$:"Entity",a:$ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyNode},$ianmackenzie$elm_3d_scene$Scene3d$Entity$collectNodes=F2(function(drawables,accumulated){for(;;){if(!drawables.b)return accumulated;var node=drawables.a.a;drawables=drawables.b,accumulated=A2($elm$core$List$cons,node,accumulated)}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces={$:"KeepBackFaces"},$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode=F2(function(a,b){return{$:"MeshNode",a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$colorTextureFragment={src:"\n        precision mediump float;\n        \n        uniform mediump sampler2D colorTexture;\n        \n        varying mediump vec2 interpolatedUv;\n        \n        void main () {\n            gl_FragColor = texture2D(colorTexture, interpolatedUv);\n        }\n    ",attributes:{},uniforms:{colorTexture:"colorTexture"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantFragment={src:"\n        precision lowp float;\n        \n        uniform lowp vec3 constantColor;\n        \n        void main () {\n            gl_FragColor = vec4(constantColor, 1.0);\n        }\n    ",attributes:{},uniforms:{constantColor:"constantColor"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveFragment={src:"\n        precision mediump float;\n        \n        uniform mediump vec3 emissiveColor;\n        uniform highp mat4 sceneProperties;\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main () {\n            gl_FragColor = toSrgb(emissiveColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{emissiveColor:"emissiveColor",sceneProperties:"sceneProperties"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveTextureFragment={src:"\n        precision mediump float;\n        \n        uniform mediump sampler2D colorTexture;\n        uniform mediump float backlight;\n        uniform highp mat4 sceneProperties;\n        \n        varying mediump vec2 interpolatedUv;\n        \n        float inverseGamma(float u) {\n            if (u <= 0.04045) {\n                return clamp(u / 12.92, 0.0, 1.0);\n            } else {\n                return clamp(pow((u + 0.055) / 1.055, 2.4), 0.0, 1.0);\n            }\n        }\n        \n        vec3 fromSrgb(vec3 srgbColor) {\n            return vec3(\n                inverseGamma(srgbColor.r),\n                inverseGamma(srgbColor.g),\n                inverseGamma(srgbColor.b)\n            );\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main () {\n            vec3 emissiveColor = fromSrgb(texture2D(colorTexture, interpolatedUv).rgb) * backlight;\n            gl_FragColor = toSrgb(emissiveColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{backlight:"backlight",colorTexture:"colorTexture",sceneProperties:"sceneProperties"}},$elm_explorations$webgl$WebGL$Internal$enableOption=F2(function(ctx,option){switch(option.$){case"Alpha":return A2(_WebGL_enableAlpha,ctx,option);case"Depth":return A2(_WebGL_enableDepth,ctx,option);case"Stencil":return A2(_WebGL_enableStencil,ctx,option);case"Antialias":return A2(_WebGL_enableAntialias,ctx,option);case"ClearColor":return A2(_WebGL_enableClearColor,ctx,option);default:return A2(_WebGL_enablePreserveDrawingBuffer,ctx,option)}}),$elm_explorations$webgl$WebGL$Internal$enableSetting=F2(function(cache,setting){switch(setting.$){case"Blend":return A2(_WebGL_enableBlend,cache,setting);case"DepthTest":return A2(_WebGL_enableDepthTest,cache,setting);case"StencilTest":return A2(_WebGL_enableStencilTest,cache,setting);case"Scissor":return A2(_WebGL_enableScissor,cache,setting);case"ColorMask":return A2(_WebGL_enableColorMask,cache,setting);case"CullFace":return A2(_WebGL_enableCullFace,cache,setting);case"PolygonOffset":return A2(_WebGL_enablePolygonOffset,cache,setting);case"SampleCoverage":return A2(_WebGL_enableSampleCoverage,cache,setting);default:return function(cache){var sampleAlphaToCoverage=cache.sampleAlphaToCoverage;sampleAlphaToCoverage.toggle=cache.toggle,sampleAlphaToCoverage.enabled||(cache.gl.enable(cache.gl.SAMPLE_ALPHA_TO_COVERAGE),sampleAlphaToCoverage.enabled=!0)}(cache)}}),$elm_explorations$webgl$WebGL$entityWith=$elm$html$Html$Attributes$spellcheck,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianFragment={src:"\n        precision highp float;\n        \n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 lights12;\n        uniform highp mat4 lights34;\n        uniform highp mat4 lights56;\n        uniform highp mat4 lights78;\n        uniform lowp vec4 enabledLights;\n        uniform lowp vec3 materialColor;\n        uniform highp mat4 viewMatrix;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        const lowp float kPerspectiveProjection = 0.0;\n        const lowp float kOrthographicProjection = 1.0;\n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const highp float kPi = 3.14159265359;\n        const lowp float kDisabledLight = 0.0;\n        const lowp float kSoftLighting = 3.0;\n        \n        float getNormalSign() {\n            return 2.0 * float(gl_FrontFacing) - 1.0;\n        }\n        \n        vec3 getDirectionToCamera(vec3 surfacePosition, mat4 sceneProperties) {\n            float projectionType = sceneProperties[1].w;\n            if (projectionType == kPerspectiveProjection) {\n                vec3 cameraPoint = sceneProperties[1].xyz;\n                return normalize(cameraPoint - surfacePosition);\n            } else if (projectionType == kOrthographicProjection) {\n                return sceneProperties[1].xyz;\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        void getDirectionToLightAndNormalIlluminance(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            out vec3 directionToLight,\n            out vec3 normalIlluminance\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                directionToLight = xyz_type.xyz;\n                normalIlluminance = rgb_parameter.rgb;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                vec3 displacement = lightPosition - surfacePosition;\n                float distance = length(displacement);\n                directionToLight = displacement / distance;\n                normalIlluminance = rgb_parameter.rgb / (4.0 * kPi * distance * distance);\n            }\n        }\n        \n        float positiveDotProduct(vec3 v1, vec3 v2) {\n            return clamp(dot(v1, v2), 0.0, 1.0);\n        }\n        \n        vec3 softLightingLuminance(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localLightDirection\n        ) {\n            float sinElevation = dot(localLightDirection, localUpDirection);\n            float t = (sinElevation + 1.0) / 2.0;\n            return aboveLuminance * t + belowLuminance * (1.0 - t);\n        }\n        \n        vec3 lambertianLight(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 materialColor,\n            vec4 xyz_type,\n            vec4 rgb_parameter\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDisabledLight) {\n                return vec3(0.0, 0.0, 0.0);\n            } else if (lightType == kSoftLighting) {\n                vec3 upDirection = xyz_type.xyz;\n                vec3 aboveLuminance = rgb_parameter.rgb;\n                vec3 belowLuminance = rgb_parameter.a * aboveLuminance;\n                vec3 luminance = softLightingLuminance(aboveLuminance, belowLuminance, upDirection, surfaceNormal);\n                return luminance * materialColor;\n            }\n        \n            vec3 directionToLight = vec3(0.0, 0.0, 0.0);\n            vec3 normalIlluminance = vec3(0.0, 0.0, 0.0);\n            getDirectionToLightAndNormalIlluminance(\n                xyz_type,\n                rgb_parameter,\n                surfacePosition,\n                directionToLight,\n                normalIlluminance\n            );\n        \n            float dotNL = positiveDotProduct(directionToLight, surfaceNormal);\n            return (normalIlluminance * dotNL) * (materialColor / kPi);\n        }\n        \n        vec3 lambertianLighting(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 materialColor,\n            mat4 lights12,\n            mat4 lights34,\n            mat4 lights56,\n            mat4 lights78,\n            vec4 enabledLights\n        ) {\n            vec3 litColor1 = enabledLights[0] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights12[0], lights12[1]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor2 = enabledLights[1] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights12[2], lights12[3]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor3 = enabledLights[2] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights34[0], lights34[1]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor4 = enabledLights[3] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights34[2], lights34[3]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor5 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights56[0], lights56[1]);\n            vec3 litColor6 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights56[2], lights56[3]);\n            vec3 litColor7 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights78[0], lights78[1]);\n            vec3 litColor8 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights78[2], lights78[3]);\n            return litColor1 + litColor2 + litColor3 + litColor4 + litColor5 + litColor6 + litColor7 + litColor8;\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main() {\n            vec3 normalDirection = normalize(interpolatedNormal) * getNormalSign();\n            vec3 directionToCamera = getDirectionToCamera(interpolatedPosition, sceneProperties);\n        \n            vec3 linearColor = lambertianLighting(\n                interpolatedPosition,\n                normalDirection,\n                materialColor,\n                lights12,\n                lights34,\n                lights56,\n                lights78,\n                enabledLights\n            );\n        \n            gl_FragColor = toSrgb(linearColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{enabledLights:"enabledLights",lights12:"lights12",lights34:"lights34",lights56:"lights56",lights78:"lights78",materialColor:"materialColor",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianTextureFragment={src:"\n        precision highp float;\n        \n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 lights12;\n        uniform highp mat4 lights34;\n        uniform highp mat4 lights56;\n        uniform highp mat4 lights78;\n        uniform lowp vec4 enabledLights;\n        uniform mediump sampler2D materialColorTexture;\n        uniform mediump sampler2D normalMapTexture;\n        uniform lowp float useNormalMap;\n        uniform highp mat4 viewMatrix;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        const lowp float kPerspectiveProjection = 0.0;\n        const lowp float kOrthographicProjection = 1.0;\n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const highp float kPi = 3.14159265359;\n        const lowp float kDisabledLight = 0.0;\n        const lowp float kSoftLighting = 3.0;\n        \n        vec3 getLocalNormal(sampler2D normalMap, float useNormalMap, vec2 uv) {\n            vec3 rgb = useNormalMap * texture2D(normalMap, uv).rgb + (1.0 - useNormalMap) * vec3(0.5, 0.5, 1.0);\n            float x = 2.0 * (rgb.r - 0.5);\n            float y = 2.0 * (rgb.g - 0.5);\n            float z = 2.0 * (rgb.b - 0.5);\n            return normalize(vec3(-x, -y, z));\n        }\n        \n        float getNormalSign() {\n            return 2.0 * float(gl_FrontFacing) - 1.0;\n        }\n        \n        vec3 getMappedNormal(vec3 normal, vec3 tangent, float normalSign, vec3 localNormal) {\n            vec3 bitangent = cross(normal, tangent) * normalSign;\n            return normalize(localNormal.x * tangent + localNormal.y * bitangent + localNormal.z * normal);\n        }\n        \n        vec3 getDirectionToCamera(vec3 surfacePosition, mat4 sceneProperties) {\n            float projectionType = sceneProperties[1].w;\n            if (projectionType == kPerspectiveProjection) {\n                vec3 cameraPoint = sceneProperties[1].xyz;\n                return normalize(cameraPoint - surfacePosition);\n            } else if (projectionType == kOrthographicProjection) {\n                return sceneProperties[1].xyz;\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        void getDirectionToLightAndNormalIlluminance(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            out vec3 directionToLight,\n            out vec3 normalIlluminance\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                directionToLight = xyz_type.xyz;\n                normalIlluminance = rgb_parameter.rgb;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                vec3 displacement = lightPosition - surfacePosition;\n                float distance = length(displacement);\n                directionToLight = displacement / distance;\n                normalIlluminance = rgb_parameter.rgb / (4.0 * kPi * distance * distance);\n            }\n        }\n        \n        float positiveDotProduct(vec3 v1, vec3 v2) {\n            return clamp(dot(v1, v2), 0.0, 1.0);\n        }\n        \n        vec3 softLightingLuminance(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localLightDirection\n        ) {\n            float sinElevation = dot(localLightDirection, localUpDirection);\n            float t = (sinElevation + 1.0) / 2.0;\n            return aboveLuminance * t + belowLuminance * (1.0 - t);\n        }\n        \n        vec3 lambertianLight(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 materialColor,\n            vec4 xyz_type,\n            vec4 rgb_parameter\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDisabledLight) {\n                return vec3(0.0, 0.0, 0.0);\n            } else if (lightType == kSoftLighting) {\n                vec3 upDirection = xyz_type.xyz;\n                vec3 aboveLuminance = rgb_parameter.rgb;\n                vec3 belowLuminance = rgb_parameter.a * aboveLuminance;\n                vec3 luminance = softLightingLuminance(aboveLuminance, belowLuminance, upDirection, surfaceNormal);\n                return luminance * materialColor;\n            }\n        \n            vec3 directionToLight = vec3(0.0, 0.0, 0.0);\n            vec3 normalIlluminance = vec3(0.0, 0.0, 0.0);\n            getDirectionToLightAndNormalIlluminance(\n                xyz_type,\n                rgb_parameter,\n                surfacePosition,\n                directionToLight,\n                normalIlluminance\n            );\n        \n            float dotNL = positiveDotProduct(directionToLight, surfaceNormal);\n            return (normalIlluminance * dotNL) * (materialColor / kPi);\n        }\n        \n        vec3 lambertianLighting(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 materialColor,\n            mat4 lights12,\n            mat4 lights34,\n            mat4 lights56,\n            mat4 lights78,\n            vec4 enabledLights\n        ) {\n            vec3 litColor1 = enabledLights[0] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights12[0], lights12[1]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor2 = enabledLights[1] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights12[2], lights12[3]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor3 = enabledLights[2] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights34[0], lights34[1]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor4 = enabledLights[3] == 1.0 ? lambertianLight(surfacePosition, surfaceNormal, materialColor, lights34[2], lights34[3]) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor5 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights56[0], lights56[1]);\n            vec3 litColor6 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights56[2], lights56[3]);\n            vec3 litColor7 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights78[0], lights78[1]);\n            vec3 litColor8 = lambertianLight(surfacePosition, surfaceNormal, materialColor, lights78[2], lights78[3]);\n            return litColor1 + litColor2 + litColor3 + litColor4 + litColor5 + litColor6 + litColor7 + litColor8;\n        }\n        \n        float inverseGamma(float u) {\n            if (u <= 0.04045) {\n                return clamp(u / 12.92, 0.0, 1.0);\n            } else {\n                return clamp(pow((u + 0.055) / 1.055, 2.4), 0.0, 1.0);\n            }\n        }\n        \n        vec3 fromSrgb(vec3 srgbColor) {\n            return vec3(\n                inverseGamma(srgbColor.r),\n                inverseGamma(srgbColor.g),\n                inverseGamma(srgbColor.b)\n            );\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main() {\n            vec3 localNormal = getLocalNormal(normalMapTexture, useNormalMap, interpolatedUv);\n            float normalSign = getNormalSign();\n            vec3 originalNormal = normalize(interpolatedNormal) * normalSign;\n            vec3 normalDirection = getMappedNormal(originalNormal, interpolatedTangent, normalSign, localNormal);\n            vec3 directionToCamera = getDirectionToCamera(interpolatedPosition, sceneProperties);\n            vec3 materialColor = fromSrgb(texture2D(materialColorTexture, interpolatedUv).rgb);\n        \n            vec3 linearColor = lambertianLighting(\n                interpolatedPosition,\n                normalDirection,\n                materialColor,\n                lights12,\n                lights34,\n                lights56,\n                lights78,\n                enabledLights\n            );\n        \n            gl_FragColor = toSrgb(linearColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{enabledLights:"enabledLights",lights12:"lights12",lights34:"lights34",lights56:"lights56",lights78:"lights78",materialColorTexture:"materialColorTexture",normalMapTexture:"normalMapTexture",sceneProperties:"sceneProperties",useNormalMap:"useNormalMap",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$cullBackFaceSetting=($mdgriffith$elm_ui$Internal$Style$classes_textSemiBold=function(_v0){return{$:"CullFace",a:_v0.a}})({$:"FaceMode",a:1029}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$cullFrontFaceSetting=$mdgriffith$elm_ui$Internal$Style$classes_textSemiBold({$:"FaceMode",a:1028}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings=F3(function(isRightHanded,backFaceSetting,settings){return"CullBackFaces"===backFaceSetting.$?A2($elm$core$List$cons,isRightHanded?$ianmackenzie$elm_3d_scene$Scene3d$Entity$cullBackFaceSetting:$ianmackenzie$elm_3d_scene$Scene3d$Entity$cullFrontFaceSetting,settings):settings}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalFragment={src:"\n        precision highp float;\n        \n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 lights12;\n        uniform highp mat4 lights34;\n        uniform highp mat4 lights56;\n        uniform highp mat4 lights78;\n        uniform lowp vec4 enabledLights;\n        uniform lowp vec3 baseColor;\n        uniform lowp float roughness;\n        uniform lowp float metallic;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        const lowp float kPerspectiveProjection = 0.0;\n        const lowp float kOrthographicProjection = 1.0;\n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const highp float kPi = 3.14159265359;\n        const mediump float kMediumpFloatMax = 65504.0;\n        const lowp float kDisabledLight = 0.0;\n        const lowp float kSoftLighting = 3.0;\n        \n        float getNormalSign() {\n            return 2.0 * float(gl_FrontFacing) - 1.0;\n        }\n        \n        vec3 getDirectionToCamera(vec3 surfacePosition, mat4 sceneProperties) {\n            float projectionType = sceneProperties[1].w;\n            if (projectionType == kPerspectiveProjection) {\n                vec3 cameraPoint = sceneProperties[1].xyz;\n                return normalize(cameraPoint - surfacePosition);\n            } else if (projectionType == kOrthographicProjection) {\n                return sceneProperties[1].xyz;\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        void getDirectionToLightAndNormalIlluminance(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            out vec3 directionToLight,\n            out vec3 normalIlluminance\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                directionToLight = xyz_type.xyz;\n                normalIlluminance = rgb_parameter.rgb;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                vec3 displacement = lightPosition - surfacePosition;\n                float distance = length(displacement);\n                directionToLight = displacement / distance;\n                normalIlluminance = rgb_parameter.rgb / (4.0 * kPi * distance * distance);\n            }\n        }\n        \n        float positiveDotProduct(vec3 v1, vec3 v2) {\n            return clamp(dot(v1, v2), 0.0, 1.0);\n        }\n        \n        // Adapted from https://google.github.io/filament/Filament.md.html#materialsystem/specularbrdf/normaldistributionfunction(speculard)\n        float specularD(float alpha, float dotNH, vec3 normalDirection, vec3 halfDirection) {\n            vec3 crossNH = cross(normalDirection, halfDirection);\n            float a = dotNH * alpha;\n            float k = alpha / (dot(crossNH, crossNH) + a * a);\n            float d = k * k * (1.0 / kPi);\n            return min(d, kMediumpFloatMax);\n        }\n        \n        float safeQuotient(float numerator, float denominator) {\n            if (denominator == 0.0) {\n                return 0.0;\n            } else {\n                return numerator / denominator;\n            }\n        }\n        \n        float g1(float dotNV, float alphaSquared) {\n            return safeQuotient(2.0 * dotNV, dotNV + sqrt(alphaSquared + (1.0 - alphaSquared) * dotNV * dotNV));\n        }\n        \n        float specularG(float dotNL, float dotNV, float alphaSquared) {\n            return g1(dotNV, alphaSquared) * g1(dotNL, alphaSquared);\n        }\n        \n        vec3 fresnelColor(vec3 specularBaseColor, float dotVH) {\n            vec3 one = vec3(1.0, 1.0, 1.0);\n            float scale = exp2((-5.55473 * dotVH - 6.98316) * dotVH);\n            return specularBaseColor + (one - specularBaseColor) * scale;\n        }\n        \n        vec3 brdf(vec3 normalDirection, vec3 directionToCamera, vec3 directionToLight, float alpha, float dotNV, float dotNL, vec3 specularBaseColor, vec3 normalIlluminance) {\n            vec3 halfDirection = normalize(directionToCamera + directionToLight);\n            float dotVH = positiveDotProduct(directionToCamera, halfDirection);\n            float dotNH = positiveDotProduct(normalDirection, halfDirection);\n            float dotNHSquared = dotNH * dotNH;\n        \n            float d = specularD(alpha, dotNH, normalDirection, halfDirection);\n            float g = specularG(dotNL, dotNV, alpha * alpha);\n            vec3 f = fresnelColor(specularBaseColor, dotVH);\n            return safeQuotient(d * g, 4.0 * dotNL * dotNV) * f;\n        }\n        \n        vec3 sampleFacetNormal(vec3 vH, vec3 vT1, vec3 vT2, float s, float alpha) {\n            float t2 = (1.0 - s);\n            vec3 vNh = t2 * vT2 + sqrt(max(0.0, 1.0 - t2 * t2)) * vH;\n            return normalize(vec3(alpha * vNh.x, alpha * vNh.y, max(0.0, vNh.z)));\n        }\n        \n        vec3 softLightingLuminance(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localLightDirection\n        ) {\n            float sinElevation = dot(localLightDirection, localUpDirection);\n            float t = (sinElevation + 1.0) / 2.0;\n            return aboveLuminance * t + belowLuminance * (1.0 - t);\n        }\n        \n        vec3 softLightingSpecularSample(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localViewDirection,\n            vec3 localLightDirection,\n            vec3 localHalfDirection,\n            float alphaSquared,\n            vec3 specularBaseColor\n        ) {\n            vec3 luminance = softLightingLuminance(aboveLuminance, belowLuminance, localUpDirection, localLightDirection);\n            float dotVH = positiveDotProduct(localViewDirection, localHalfDirection);\n            float dotNL = localLightDirection.z;\n            return luminance * (fresnelColor(specularBaseColor, dotVH) * g1(dotNL, alphaSquared));\n        }\n        \n        vec3 softLighting(\n            vec3 normalDirection,\n            vec3 diffuseBaseColor,\n            vec3 specularBaseColor,\n            float alpha,\n            vec3 directionToCamera,\n            vec3 viewY,\n            vec4 xyz_type,\n            vec4 rgb_parameter\n        ) {\n            float alphaSquared = alpha * alpha;\n            vec3 upDirection = xyz_type.xyz;\n            vec3 luminanceAbove = rgb_parameter.rgb;\n            vec3 luminanceBelow = rgb_parameter.a * luminanceAbove;\n            vec3 crossProduct = cross(normalDirection, directionToCamera);\n            float crossMagnitude = length(crossProduct);\n            vec3 xDirection = vec3(0.0, 0.0, 0.0);\n            vec3 yDirection = vec3(0.0, 0.0, 0.0);\n            if (crossMagnitude > 1.0e-6) {\n                yDirection = (1.0 / crossMagnitude) * crossProduct;\n                xDirection = cross(yDirection, normalDirection);\n            } else {\n                vec3 viewY = vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]);\n                xDirection = normalize(cross(viewY, normalDirection));\n                yDirection = cross(normalDirection, xDirection);\n            }\n            float localViewX = dot(directionToCamera, xDirection);\n            float localViewZ = dot(directionToCamera, normalDirection);\n            vec3 localViewDirection = vec3(localViewX, 0, localViewZ);\n            float localUpX = dot(upDirection, xDirection);\n            float localUpY = dot(upDirection, yDirection);\n            float localUpZ = dot(upDirection, normalDirection);\n            vec3 localUpDirection = vec3(localUpX, localUpY, localUpZ);\n        \n            vec3 vH = normalize(vec3(alpha * localViewX, 0.0, localViewZ));\n            vec3 vT1 = vec3(0.0, 1.0, 0.0);\n            vec3 vT2 = cross(vH, vT1);\n            float s = 0.5 * (1.0 + vH.z);\n            \n            vec3 localHalfDirection = sampleFacetNormal(vH, vT1, vT2, s, alpha);\n            vec3 localLightDirection = vec3(0.0, 0.0, 0.0);\n            \n            localLightDirection = -reflect(localViewDirection, localHalfDirection);\n            vec3 specular = softLightingSpecularSample(luminanceAbove, luminanceBelow, localUpDirection, localViewDirection, localLightDirection, localHalfDirection, alphaSquared, specularBaseColor);\n            \n            localLightDirection = vec3(0.000000, 0.000000, 1.000000);\n            vec3 diffuse = softLightingLuminance(luminanceAbove, luminanceBelow, localUpDirection, localLightDirection) * localLightDirection.z;\n            \n            return specular + diffuse * diffuseBaseColor;\n        }\n        \n        vec3 physicalLight(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            vec3 normalDirection,\n            vec3 directionToCamera,\n            vec3 viewY,\n            float dotNV,\n            vec3 diffuseBaseColor,\n            vec3 specularBaseColor,\n            float alpha\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDisabledLight) {\n                return vec3(0.0, 0.0, 0.0);\n            } else if (lightType == kSoftLighting) {\n                return softLighting(normalDirection, diffuseBaseColor, specularBaseColor, alpha, directionToCamera, viewY, xyz_type, rgb_parameter);\n            }\n        \n            vec3 directionToLight = vec3(0.0, 0.0, 0.0);\n            vec3 normalIlluminance = vec3(0.0, 0.0, 0.0);\n            getDirectionToLightAndNormalIlluminance(xyz_type, rgb_parameter, surfacePosition, directionToLight, normalIlluminance);\n        \n            float dotNL = positiveDotProduct(normalDirection, directionToLight);\n            vec3 specularColor = brdf(normalDirection, directionToCamera, directionToLight, alpha, dotNV, dotNL, specularBaseColor, normalIlluminance);\n            return (normalIlluminance * dotNL) * ((diffuseBaseColor / kPi) + specularColor);\n        }\n        \n        vec3 physicalLighting(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 baseColor,\n            vec3 directionToCamera,\n            mat4 viewMatrix,\n            float roughness,\n            float metallic,\n            mat4 lights12,\n            mat4 lights34,\n            mat4 lights56,\n            mat4 lights78,\n            vec4 enabledLights\n        ) {\n            float dotNV = positiveDotProduct(surfaceNormal, directionToCamera);\n            float alpha = roughness * roughness;\n            float nonmetallic = 1.0 - metallic;\n            vec3 diffuseBaseColor = nonmetallic * 0.96 * baseColor;\n            vec3 specularBaseColor = nonmetallic * 0.04 * vec3(1.0, 1.0, 1.0) + metallic * baseColor;\n            vec3 viewY = vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]);\n        \n            vec3 litColor1 = enabledLights[0] == 1.0 ? physicalLight(lights12[0], lights12[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor2 = enabledLights[1] == 1.0 ? physicalLight(lights12[2], lights12[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor3 = enabledLights[2] == 1.0 ? physicalLight(lights34[0], lights34[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor4 = enabledLights[3] == 1.0 ? physicalLight(lights34[2], lights34[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor5 = physicalLight(lights56[0], lights56[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor6 = physicalLight(lights56[2], lights56[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor7 = physicalLight(lights78[0], lights78[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor8 = physicalLight(lights78[2], lights78[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            return litColor1 + litColor2 + litColor3 + litColor4 + litColor5 + litColor6 + litColor7 + litColor8;\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main() {\n            vec3 normalDirection = normalize(interpolatedNormal) * getNormalSign();\n            vec3 directionToCamera = getDirectionToCamera(interpolatedPosition, sceneProperties);\n        \n            vec3 linearColor = physicalLighting(\n                interpolatedPosition,\n                normalDirection,\n                baseColor,\n                directionToCamera,\n                viewMatrix,\n                roughness,\n                metallic,\n                lights12,\n                lights34,\n                lights56,\n                lights78,\n                enabledLights\n            );\n        \n            gl_FragColor = toSrgb(linearColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{baseColor:"baseColor",enabledLights:"enabledLights",lights12:"lights12",lights34:"lights34",lights56:"lights56",lights78:"lights78",metallic:"metallic",roughness:"roughness",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalTexturesFragment={src:"\n        precision highp float;\n        \n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 lights12;\n        uniform highp mat4 lights34;\n        uniform highp mat4 lights56;\n        uniform highp mat4 lights78;\n        uniform lowp vec4 enabledLights;\n        uniform mediump sampler2D baseColorTexture;\n        uniform lowp vec4 constantBaseColor;\n        uniform mediump sampler2D roughnessTexture;\n        uniform lowp vec2 constantRoughness;\n        uniform mediump sampler2D metallicTexture;\n        uniform lowp vec2 constantMetallic;\n        uniform mediump sampler2D normalMapTexture;\n        uniform lowp float useNormalMap;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        const lowp float kPerspectiveProjection = 0.0;\n        const lowp float kOrthographicProjection = 1.0;\n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const highp float kPi = 3.14159265359;\n        const mediump float kMediumpFloatMax = 65504.0;\n        const lowp float kDisabledLight = 0.0;\n        const lowp float kSoftLighting = 3.0;\n        \n        float getFloatValue(sampler2D texture, vec2 uv, vec2 constantValue) {\n            if (constantValue.y == 1.0) {\n                return constantValue.x;\n            } else {\n                vec4 textureColor = texture2D(texture, uv);\n                return dot(textureColor, vec4(0.2126, 0.7152, 0.0722, 0.0));\n            }\n        }\n        \n        vec3 getLocalNormal(sampler2D normalMap, float useNormalMap, vec2 uv) {\n            vec3 rgb = useNormalMap * texture2D(normalMap, uv).rgb + (1.0 - useNormalMap) * vec3(0.5, 0.5, 1.0);\n            float x = 2.0 * (rgb.r - 0.5);\n            float y = 2.0 * (rgb.g - 0.5);\n            float z = 2.0 * (rgb.b - 0.5);\n            return normalize(vec3(-x, -y, z));\n        }\n        \n        float getNormalSign() {\n            return 2.0 * float(gl_FrontFacing) - 1.0;\n        }\n        \n        vec3 getMappedNormal(vec3 normal, vec3 tangent, float normalSign, vec3 localNormal) {\n            vec3 bitangent = cross(normal, tangent) * normalSign;\n            return normalize(localNormal.x * tangent + localNormal.y * bitangent + localNormal.z * normal);\n        }\n        \n        vec3 getDirectionToCamera(vec3 surfacePosition, mat4 sceneProperties) {\n            float projectionType = sceneProperties[1].w;\n            if (projectionType == kPerspectiveProjection) {\n                vec3 cameraPoint = sceneProperties[1].xyz;\n                return normalize(cameraPoint - surfacePosition);\n            } else if (projectionType == kOrthographicProjection) {\n                return sceneProperties[1].xyz;\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        void getDirectionToLightAndNormalIlluminance(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            out vec3 directionToLight,\n            out vec3 normalIlluminance\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                directionToLight = xyz_type.xyz;\n                normalIlluminance = rgb_parameter.rgb;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                vec3 displacement = lightPosition - surfacePosition;\n                float distance = length(displacement);\n                directionToLight = displacement / distance;\n                normalIlluminance = rgb_parameter.rgb / (4.0 * kPi * distance * distance);\n            }\n        }\n        \n        float positiveDotProduct(vec3 v1, vec3 v2) {\n            return clamp(dot(v1, v2), 0.0, 1.0);\n        }\n        \n        // Adapted from https://google.github.io/filament/Filament.md.html#materialsystem/specularbrdf/normaldistributionfunction(speculard)\n        float specularD(float alpha, float dotNH, vec3 normalDirection, vec3 halfDirection) {\n            vec3 crossNH = cross(normalDirection, halfDirection);\n            float a = dotNH * alpha;\n            float k = alpha / (dot(crossNH, crossNH) + a * a);\n            float d = k * k * (1.0 / kPi);\n            return min(d, kMediumpFloatMax);\n        }\n        \n        float safeQuotient(float numerator, float denominator) {\n            if (denominator == 0.0) {\n                return 0.0;\n            } else {\n                return numerator / denominator;\n            }\n        }\n        \n        float g1(float dotNV, float alphaSquared) {\n            return safeQuotient(2.0 * dotNV, dotNV + sqrt(alphaSquared + (1.0 - alphaSquared) * dotNV * dotNV));\n        }\n        \n        float specularG(float dotNL, float dotNV, float alphaSquared) {\n            return g1(dotNV, alphaSquared) * g1(dotNL, alphaSquared);\n        }\n        \n        vec3 fresnelColor(vec3 specularBaseColor, float dotVH) {\n            vec3 one = vec3(1.0, 1.0, 1.0);\n            float scale = exp2((-5.55473 * dotVH - 6.98316) * dotVH);\n            return specularBaseColor + (one - specularBaseColor) * scale;\n        }\n        \n        vec3 brdf(vec3 normalDirection, vec3 directionToCamera, vec3 directionToLight, float alpha, float dotNV, float dotNL, vec3 specularBaseColor, vec3 normalIlluminance) {\n            vec3 halfDirection = normalize(directionToCamera + directionToLight);\n            float dotVH = positiveDotProduct(directionToCamera, halfDirection);\n            float dotNH = positiveDotProduct(normalDirection, halfDirection);\n            float dotNHSquared = dotNH * dotNH;\n        \n            float d = specularD(alpha, dotNH, normalDirection, halfDirection);\n            float g = specularG(dotNL, dotNV, alpha * alpha);\n            vec3 f = fresnelColor(specularBaseColor, dotVH);\n            return safeQuotient(d * g, 4.0 * dotNL * dotNV) * f;\n        }\n        \n        vec3 sampleFacetNormal(vec3 vH, vec3 vT1, vec3 vT2, float s, float alpha) {\n            float t2 = (1.0 - s);\n            vec3 vNh = t2 * vT2 + sqrt(max(0.0, 1.0 - t2 * t2)) * vH;\n            return normalize(vec3(alpha * vNh.x, alpha * vNh.y, max(0.0, vNh.z)));\n        }\n        \n        vec3 softLightingLuminance(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localLightDirection\n        ) {\n            float sinElevation = dot(localLightDirection, localUpDirection);\n            float t = (sinElevation + 1.0) / 2.0;\n            return aboveLuminance * t + belowLuminance * (1.0 - t);\n        }\n        \n        vec3 softLightingSpecularSample(\n            vec3 aboveLuminance,\n            vec3 belowLuminance,\n            vec3 localUpDirection,\n            vec3 localViewDirection,\n            vec3 localLightDirection,\n            vec3 localHalfDirection,\n            float alphaSquared,\n            vec3 specularBaseColor\n        ) {\n            vec3 luminance = softLightingLuminance(aboveLuminance, belowLuminance, localUpDirection, localLightDirection);\n            float dotVH = positiveDotProduct(localViewDirection, localHalfDirection);\n            float dotNL = localLightDirection.z;\n            return luminance * (fresnelColor(specularBaseColor, dotVH) * g1(dotNL, alphaSquared));\n        }\n        \n        vec3 softLighting(\n            vec3 normalDirection,\n            vec3 diffuseBaseColor,\n            vec3 specularBaseColor,\n            float alpha,\n            vec3 directionToCamera,\n            vec3 viewY,\n            vec4 xyz_type,\n            vec4 rgb_parameter\n        ) {\n            float alphaSquared = alpha * alpha;\n            vec3 upDirection = xyz_type.xyz;\n            vec3 luminanceAbove = rgb_parameter.rgb;\n            vec3 luminanceBelow = rgb_parameter.a * luminanceAbove;\n            vec3 crossProduct = cross(normalDirection, directionToCamera);\n            float crossMagnitude = length(crossProduct);\n            vec3 xDirection = vec3(0.0, 0.0, 0.0);\n            vec3 yDirection = vec3(0.0, 0.0, 0.0);\n            if (crossMagnitude > 1.0e-6) {\n                yDirection = (1.0 / crossMagnitude) * crossProduct;\n                xDirection = cross(yDirection, normalDirection);\n            } else {\n                vec3 viewY = vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]);\n                xDirection = normalize(cross(viewY, normalDirection));\n                yDirection = cross(normalDirection, xDirection);\n            }\n            float localViewX = dot(directionToCamera, xDirection);\n            float localViewZ = dot(directionToCamera, normalDirection);\n            vec3 localViewDirection = vec3(localViewX, 0, localViewZ);\n            float localUpX = dot(upDirection, xDirection);\n            float localUpY = dot(upDirection, yDirection);\n            float localUpZ = dot(upDirection, normalDirection);\n            vec3 localUpDirection = vec3(localUpX, localUpY, localUpZ);\n        \n            vec3 vH = normalize(vec3(alpha * localViewX, 0.0, localViewZ));\n            vec3 vT1 = vec3(0.0, 1.0, 0.0);\n            vec3 vT2 = cross(vH, vT1);\n            float s = 0.5 * (1.0 + vH.z);\n            \n            vec3 localHalfDirection = sampleFacetNormal(vH, vT1, vT2, s, alpha);\n            vec3 localLightDirection = vec3(0.0, 0.0, 0.0);\n            \n            localLightDirection = -reflect(localViewDirection, localHalfDirection);\n            vec3 specular = softLightingSpecularSample(luminanceAbove, luminanceBelow, localUpDirection, localViewDirection, localLightDirection, localHalfDirection, alphaSquared, specularBaseColor);\n            \n            localLightDirection = vec3(0.000000, 0.000000, 1.000000);\n            vec3 diffuse = softLightingLuminance(luminanceAbove, luminanceBelow, localUpDirection, localLightDirection) * localLightDirection.z;\n            \n            return specular + diffuse * diffuseBaseColor;\n        }\n        \n        vec3 physicalLight(\n            vec4 xyz_type,\n            vec4 rgb_parameter,\n            vec3 surfacePosition,\n            vec3 normalDirection,\n            vec3 directionToCamera,\n            vec3 viewY,\n            float dotNV,\n            vec3 diffuseBaseColor,\n            vec3 specularBaseColor,\n            float alpha\n        ) {\n            float lightType = xyz_type.w;\n            if (lightType == kDisabledLight) {\n                return vec3(0.0, 0.0, 0.0);\n            } else if (lightType == kSoftLighting) {\n                return softLighting(normalDirection, diffuseBaseColor, specularBaseColor, alpha, directionToCamera, viewY, xyz_type, rgb_parameter);\n            }\n        \n            vec3 directionToLight = vec3(0.0, 0.0, 0.0);\n            vec3 normalIlluminance = vec3(0.0, 0.0, 0.0);\n            getDirectionToLightAndNormalIlluminance(xyz_type, rgb_parameter, surfacePosition, directionToLight, normalIlluminance);\n        \n            float dotNL = positiveDotProduct(normalDirection, directionToLight);\n            vec3 specularColor = brdf(normalDirection, directionToCamera, directionToLight, alpha, dotNV, dotNL, specularBaseColor, normalIlluminance);\n            return (normalIlluminance * dotNL) * ((diffuseBaseColor / kPi) + specularColor);\n        }\n        \n        vec3 physicalLighting(\n            vec3 surfacePosition,\n            vec3 surfaceNormal,\n            vec3 baseColor,\n            vec3 directionToCamera,\n            mat4 viewMatrix,\n            float roughness,\n            float metallic,\n            mat4 lights12,\n            mat4 lights34,\n            mat4 lights56,\n            mat4 lights78,\n            vec4 enabledLights\n        ) {\n            float dotNV = positiveDotProduct(surfaceNormal, directionToCamera);\n            float alpha = roughness * roughness;\n            float nonmetallic = 1.0 - metallic;\n            vec3 diffuseBaseColor = nonmetallic * 0.96 * baseColor;\n            vec3 specularBaseColor = nonmetallic * 0.04 * vec3(1.0, 1.0, 1.0) + metallic * baseColor;\n            vec3 viewY = vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]);\n        \n            vec3 litColor1 = enabledLights[0] == 1.0 ? physicalLight(lights12[0], lights12[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor2 = enabledLights[1] == 1.0 ? physicalLight(lights12[2], lights12[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor3 = enabledLights[2] == 1.0 ? physicalLight(lights34[0], lights34[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor4 = enabledLights[3] == 1.0 ? physicalLight(lights34[2], lights34[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha) : vec3(0.0, 0.0, 0.0);\n            vec3 litColor5 = physicalLight(lights56[0], lights56[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor6 = physicalLight(lights56[2], lights56[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor7 = physicalLight(lights78[0], lights78[1], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            vec3 litColor8 = physicalLight(lights78[2], lights78[3], surfacePosition, surfaceNormal, directionToCamera, viewY, dotNV, diffuseBaseColor, specularBaseColor, alpha);\n            return litColor1 + litColor2 + litColor3 + litColor4 + litColor5 + litColor6 + litColor7 + litColor8;\n        }\n        \n        float inverseGamma(float u) {\n            if (u <= 0.04045) {\n                return clamp(u / 12.92, 0.0, 1.0);\n            } else {\n                return clamp(pow((u + 0.055) / 1.055, 2.4), 0.0, 1.0);\n            }\n        }\n        \n        vec3 fromSrgb(vec3 srgbColor) {\n            return vec3(\n                inverseGamma(srgbColor.r),\n                inverseGamma(srgbColor.g),\n                inverseGamma(srgbColor.b)\n            );\n        }\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        void main() {\n            vec3 baseColor = fromSrgb(texture2D(baseColorTexture, interpolatedUv).rgb) * (1.0 - constantBaseColor.w) + constantBaseColor.rgb * constantBaseColor.w;\n            float roughness = getFloatValue(roughnessTexture, interpolatedUv, constantRoughness);\n            float metallic = getFloatValue(metallicTexture, interpolatedUv, constantMetallic);\n        \n            vec3 localNormal = getLocalNormal(normalMapTexture, useNormalMap, interpolatedUv);\n            float normalSign = getNormalSign();\n            vec3 originalNormal = normalize(interpolatedNormal) * normalSign;\n            vec3 normalDirection = getMappedNormal(originalNormal, interpolatedTangent, normalSign, localNormal);\n            vec3 directionToCamera = getDirectionToCamera(interpolatedPosition, sceneProperties);\n        \n            vec3 linearColor = physicalLighting(\n                interpolatedPosition,\n                normalDirection,\n                baseColor,\n                directionToCamera,\n                viewMatrix,\n                roughness,\n                metallic,\n                lights12,\n                lights34,\n                lights56,\n                lights78,\n                enabledLights\n            );\n        \n            gl_FragColor = toSrgb(linearColor, sceneProperties);\n        }\n    ",attributes:{},uniforms:{baseColorTexture:"baseColorTexture",constantBaseColor:"constantBaseColor",constantMetallic:"constantMetallic",constantRoughness:"constantRoughness",enabledLights:"enabledLights",lights12:"lights12",lights34:"lights34",lights56:"lights56",lights78:"lights78",metallicTexture:"metallicTexture",normalMapTexture:"normalMapTexture",roughnessTexture:"roughnessTexture",sceneProperties:"sceneProperties",useNormalMap:"useNormalMap",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainQuadVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 quadVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 quadVertexPositions;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadVertex.z), quadVertexPositions, position, normal, tangent);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n        }\n    ",attributes:{quadVertex:"quadVertex"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",quadVertexPositions:"quadVertexPositions",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$elm_explorations$linear_algebra$Math$Matrix4$fromRecord=function(r){var m=new Float64Array(16);return m[0]=r.m11,m[1]=r.m21,m[2]=r.m31,m[3]=r.m41,m[4]=r.m12,m[5]=r.m22,m[6]=r.m32,m[7]=r.m42,m[8]=r.m13,m[9]=r.m23,m[10]=r.m33,m[11]=r.m43,m[12]=r.m14,m[13]=r.m24,m[14]=r.m34,m[15]=r.m44,m},$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions=F4(function(p1,p2,p3,p4){p4=$ianmackenzie$elm_geometry$Point3d$toMeters(p4),p3=$ianmackenzie$elm_geometry$Point3d$toMeters(p3),p2=$ianmackenzie$elm_geometry$Point3d$toMeters(p2),p1=$ianmackenzie$elm_geometry$Point3d$toMeters(p1);return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:p1.x,m12:p2.x,m13:p3.x,m14:p4.x,m21:p1.y,m22:p2.y,m23:p3.y,m24:p4.y,m31:p1.z,m32:p2.z,m33:p3.z,m34:p4.z,m41:0,m42:0,m43:0,m44:0})}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices=($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=F2(function(a,b){return{$:"Mesh1",a:a,b:b}}))({elemSize:1,indexSize:0,mode:6})(_List_fromArray([{quadVertex:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,0,0,0)},{quadVertex:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,1,0,1)},{quadVertex:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,1,1,2)},{quadVertex:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,0,1,3)}])),$ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedLambertianMaterial=F2(function(a,b){return{$:"TexturedLambertianMaterial",a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple=F2(function(fallbackData,channel){if("Constant"!==channel.$)return{$:"#2",a:channel.a.data,b:1};return{$:"#2",a:fallbackData,b:0}}),$elm_explorations$linear_algebra$Math$Vector3$getX=function(a){return a[0]},$elm_explorations$linear_algebra$Math$Vector3$getY=function(a){return a[1]},$elm_explorations$linear_algebra$Math$Vector3$getZ=function(a){return a[2]},$elm_explorations$linear_algebra$Math$Vector4$vec4=$mdgriffith$elm_ui$Internal$Style$classes_textThin,$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec4=A4($elm_explorations$linear_algebra$Math$Vector4$vec4,0,0,0,0),$ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple=F2(function(fallbackData,vector){return"Constant"!==vector.$?{$:"#2",a:vector.a.data,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec4}:{$:"#2",a:fallbackData,b:A4($elm_explorations$linear_algebra$Math$Vector4$vec4,$elm_explorations$linear_algebra$Math$Vector3$getX(vector=vector.a.a),$elm_explorations$linear_algebra$Math$Vector3$getY(vector),$elm_explorations$linear_algebra$Math$Vector3$getZ(vector),1)}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$resolveLambertian=F2(function(materialColorTexture,normalMapTexture){var _v0={$:"#2",a:materialColorTexture,b:normalMapTexture};if("Constant"!==_v0.a.$)return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedLambertianMaterial,{$:"#2",a:data=_v0.a.a.data,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec4},A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));if("Constant"!==_v0.b.$)return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedLambertianMaterial,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple,data=_v0.b.a.data,materialColorTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));var data;return{$:"ConstantLambertianMaterial",a:_v0.a.a}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$ConstantPbrMaterial=F3(function(a,b,c){return{$:"ConstantPbrMaterial",a:a,b:b,c:c}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial=F4(function(a,b,c,d){return{$:"TexturedPbrMaterial",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$Tuple4=F4(function(a,b,c,d){return{$:"Tuple4",a:a,b:b,c:c,d:d}}),$elm_explorations$linear_algebra$Math$Vector2$vec2=$mdgriffith$elm_ui$Element$Input$darkGrey,$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec2=A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,0),$ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple=F2(function(fallbackData,texture){return"Constant"!==texture.$?{$:"#2",a:texture.a.data,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec2}:{$:"#2",a:fallbackData,b:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,texture.a,1)}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$resolvePbr=F4(function(baseColorTexture,roughnessTexture,metallicTexture,normalMapTexture){var _v0=A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$Tuple4,baseColorTexture,roughnessTexture,metallicTexture,normalMapTexture);if("Constant"!==_v0.a.$)return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial,{$:"#2",a:data=_v0.a.a.data,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec4},A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,roughnessTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,metallicTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));if("Constant"!==_v0.b.$)return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple,data=_v0.b.a.data,baseColorTexture),{$:"#2",a:data,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec2},A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,metallicTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));if("Constant"!==_v0.c.$)return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple,data=_v0.c.a.data,baseColorTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,roughnessTexture),{$:"#2",a:data,b:$ianmackenzie$elm_3d_scene$Scene3d$Entity$zeroVec2},A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMapTuple,data,normalMapTexture));if("Constant"!==_v0.d.$)return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$TexturedPbrMaterial,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$vec3Tuple,data=_v0.d.a.data,baseColorTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,roughnessTexture),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$floatTuple,data,metallicTexture),{$:"#2",a:data,b:1});var data;return A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$ConstantPbrMaterial,_v0.a.a,_v0.b.a,_v0.c.a)}),$elm_explorations$linear_algebra$Math$Vector3$scale=$mdgriffith$elm_ui$Internal$Style$classes_transition,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothQuadVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 quadVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 quadVertexPositions;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadVertex.z), quadVertexPositions, position, normal, tangent);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n        }\n    ",attributes:{quadVertex:"quadVertex"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",quadVertexPositions:"quadVertexPositions",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedQuadVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 quadVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 quadVertexPositions;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadVertex.z), quadVertexPositions, position, normal, tangent);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n            interpolatedUv = quadVertex.xy;\n            interpolatedTangent = tangent;\n        }\n    ",attributes:{quadVertex:"quadVertex"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",quadVertexPositions:"quadVertexPositions",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_units$Quantity$minus=F2(function(_v0,_v1){return{$:"Quantity",a:_v1.a-_v0.a}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitQuadVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 quadVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 quadVertexPositions;\n        \n        varying mediump vec2 interpolatedUv;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadVertex.z), quadVertexPositions, position, normal, tangent);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedUv = quadVertex.xy;\n        }\n    ",attributes:{quadVertex:"quadVertex"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",quadVertexPositions:"quadVertexPositions",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadMesh=F5(function(givenMaterial,firstPoint,secondPoint,thirdPoint,fourthPoint){var bounds=A2($ianmackenzie$elm_geometry$BoundingBox3d$hull,firstPoint,_List_fromArray([secondPoint,thirdPoint,fourthPoint])),bounds=$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(bounds);return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,function(){switch(givenMaterial.$){case"UnlitMaterial":if("Constant"===givenMaterial.b.$){var color=givenMaterial.b.a;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{constantColor:color,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),sceneProperties:sceneProperties,viewMatrix:viewMatrix})})}var data=givenMaterial.b.a.data;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$colorTextureFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{colorTexture:data,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),sceneProperties:sceneProperties,viewMatrix:viewMatrix})});case"EmissiveMaterial":if("Constant"===givenMaterial.b.$){var emissiveColor=givenMaterial.b.a.a,backlight=givenMaterial.c;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{backlight:backlight,emissiveColor:A2($elm_explorations$linear_algebra$Math$Vector3$scale,$ianmackenzie$elm_units$Luminance$inNits(backlight),emissiveColor),modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),sceneProperties:sceneProperties,viewMatrix:viewMatrix})})}data=givenMaterial.b.a.data,backlight=givenMaterial.c;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveTextureFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{backlight:$ianmackenzie$elm_units$Luminance$inNits(backlight),colorTexture:data,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),sceneProperties:sceneProperties,viewMatrix:viewMatrix})});case"LambertianMaterial":var _v15=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolveLambertian,givenMaterial.b,givenMaterial.c);if("ConstantLambertianMaterial"===_v15.$){var materialColor=_v15.a.a;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,materialColor:materialColor,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),sceneProperties:sceneProperties,viewMatrix:viewMatrix})})}var _v14=_v15.a,materialColorData=_v14.a,_v14=_v15.b,normalMapData=_v14.a,useNormalMap=_v14.b;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianTextureFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,materialColorTexture:materialColorData,modelMatrix:modelMatrix,modelScale:modelScale,normalMapTexture:normalMapData,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),sceneProperties:sceneProperties,useNormalMap:useNormalMap,viewMatrix:viewMatrix})});default:_v15=A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolvePbr,givenMaterial.b,givenMaterial.c,givenMaterial.d,givenMaterial.e);if("ConstantPbrMaterial"===_v15.$){var baseColor=_v15.a.a,roughness=_v15.b,metallic=_v15.c;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{baseColor:baseColor,enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,metallic:metallic,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),roughness:roughness,sceneProperties:sceneProperties,viewMatrix:viewMatrix})})}var _v14=_v15.a,baseColorData=_v14.a,constantBaseColor=_v14.b,_v14=_v15.b,roughnessData=_v14.a,constantRoughness=_v14.b,_v14=_v15.c,metallicData=_v14.a,constantMetallic=_v14.b,_v15=_v15.d,normalMapData=_v15.a,useNormalMap=_v15.b;return F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedQuadVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalTexturesFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertices,{baseColorTexture:baseColorData,constantBaseColor:constantBaseColor,constantMetallic:constantMetallic,constantRoughness:constantRoughness,enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,metallicTexture:metallicData,modelMatrix:modelMatrix,modelScale:modelScale,normalMapTexture:normalMapData,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),roughnessTexture:roughnessData,sceneProperties:sceneProperties,useNormalMap:useNormalMap,viewMatrix:viewMatrix})})}}())}}),$elm_explorations$webgl$WebGL$indexedTriangles=F3(function(a,b,c){return{$:"MeshIndexed3",a:a,b:b,c:c}})({elemSize:1,indexSize:3,mode:4}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadowMesh=($mdgriffith$elm_ui$Internal$Style$classes_transparent=_List_fromArray([{quadShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,1)},{quadShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,1)},{quadShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,2,1)},{quadShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,3,1)},{quadShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,-1)},{quadShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,-1)},{quadShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,2,-1)},{quadShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,3,-1)}]),$mdgriffith$elm_ui$Internal$Model$Focus=_List_fromArray([{$:"#3",a:0,b:1,c:2},{$:"#3",a:0,b:2,c:3},{$:"#3",a:4,b:6,c:5},{$:"#3",a:4,b:7,c:6},{$:"#3",a:4,b:5,c:1},{$:"#3",a:1,b:0,c:4},{$:"#3",a:5,b:6,c:2},{$:"#3",a:2,b:1,c:5},{$:"#3",a:6,b:7,c:3},{$:"#3",a:3,b:2,c:6},{$:"#3",a:7,b:4,c:0},{$:"#3",a:0,b:3,c:7}]),A2($elm_explorations$webgl$WebGL$indexedTriangles,$mdgriffith$elm_ui$Internal$Style$classes_transparent,$mdgriffith$elm_ui$Internal$Model$Focus)),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$quadShadowVertex={src:"\n        precision highp float;\n        \n        attribute highp vec2 quadShadowVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 shadowLight;\n        uniform highp mat4 quadVertexPositions;\n        \n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        \n        void getQuadVertex(int quadVertexIndex, mat4 quadVertexPositions, out vec3 position, out vec3 normal, out vec3 tangent) {\n            vec3 next = vec3(0.0, 0.0, 0.0);\n            vec3 prev = vec3(0.0, 0.0, 0.0);\n            if (quadVertexIndex == 0) {\n                prev = quadVertexPositions[3].xyz;\n                position = quadVertexPositions[0].xyz;\n                next = quadVertexPositions[1].xyz;\n                tangent = normalize(next - position);\n            } else if (quadVertexIndex == 1) {\n                prev = quadVertexPositions[0].xyz;\n                position = quadVertexPositions[1].xyz;\n                next = quadVertexPositions[2].xyz;\n                tangent = normalize(position - prev);\n            } else if (quadVertexIndex == 2) {\n                prev = quadVertexPositions[1].xyz;\n                position = quadVertexPositions[2].xyz;\n                next = quadVertexPositions[3].xyz;\n                tangent = normalize(position - next);\n            } else {\n                prev = quadVertexPositions[2].xyz;\n                position = quadVertexPositions[3].xyz;\n                next = quadVertexPositions[0].xyz;\n                tangent = normalize(prev - position);\n            }\n            normal = normalize(cross(next - position, prev - position));\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        vec3 getDirectionToLight(vec3 surfacePosition, vec4 xyz_type, vec4 rgb_parameter) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                return xyz_type.xyz;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                return normalize(lightPosition - surfacePosition);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 shadowVertexPosition(vec3 position, vec3 normal, mat4 shadowLight, vec4 modelScale, mat4 modelMatrix, mat4 viewMatrix, mat4 projectionMatrix, mat4 sceneProperties) {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            vec3 worldNormal = getWorldNormal(normal, vec4(modelScale.xyz, 1.0), modelMatrix);\n            vec4 xyz_type = shadowLight[0];\n            vec4 rgb_parameter = shadowLight[1];\n            vec3 directionToLight = getDirectionToLight(worldPosition.xyz, xyz_type, rgb_parameter);\n            vec3 offset = vec3(0.0, 0.0, 0.0);\n            float sceneDiameter = sceneProperties[3][1];\n            if (dot(directionToLight, worldNormal) <= 0.0) {\n                offset = -sceneDiameter * directionToLight;\n            } else {\n                offset = -0.001 * sceneDiameter * directionToLight;\n            }\n            vec4 offsetPosition = worldPosition + vec4(offset, 0.0);\n            return projectionMatrix * (viewMatrix * offsetPosition);\n        }\n        \n        void main () {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            vec3 tangent = vec3(0.0, 0.0, 0.0);\n            getQuadVertex(int(quadShadowVertex.x), quadVertexPositions, position, normal, tangent);\n            normal *= quadShadowVertex.y;\n            gl_Position = shadowVertexPosition(\n                position,\n                normal,\n                shadowLight,\n                modelScale,\n                modelMatrix,\n                viewMatrix,\n                projectionMatrix,\n                sceneProperties\n            );\n        }\n    ",attributes:{quadShadowVertex:"quadShadowVertex"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",quadVertexPositions:"quadVertexPositions",sceneProperties:"sceneProperties",shadowLight:"shadowLight",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment={src:"\n        precision lowp float;\n        \n        void main () {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    ",attributes:{},uniforms:{}},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick={$:"Test",a:519},alpha={$:"Operation",a:7683},$elm$svg$Svg$line={$:"Operation",a:7682},$elm_explorations$webgl$WebGL$Settings$StencilTest$keep={$:"Operation",a:7680},$elm_explorations$webgl$WebGL$Settings$StencilTest$testSeparate=F3(function(expand,options1,options2){var ref=expand.ref,mask=expand.mask,writeMask=expand.writeMask,expandTest=F2(function(_v2,fn){return fn(_v2.a)}),expandOp=F2(function(_v1,fn){return fn(_v1.a)}),expand=function(options){return A2($elm$core$Basics$composeR,expandTest(options.test),A2($elm$core$Basics$composeR,expandOp(options.fail),A2($elm$core$Basics$composeR,expandOp(options.zfail),expandOp(options.zpass))))};return A2(expand,options2,A2(expand,options1,A3($elm_explorations$webgl$WebGL$Internal$StencilTest,ref,mask,writeMask)))}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$leftHandedStencilTest=A3($elm_explorations$webgl$WebGL$Settings$StencilTest$testSeparate,{mask:0,ref:0,writeMask:15},{fail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,test:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,zfail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,zpass:alpha},{fail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,test:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,zfail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,zpass:$elm$svg$Svg$line}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$rightHandedStencilTest=A3($elm_explorations$webgl$WebGL$Settings$StencilTest$testSeparate,{mask:0,ref:0,writeMask:15},{fail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,test:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,zfail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,zpass:$elm$svg$Svg$line},{fail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,test:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,zfail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,zpass:alpha}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings=F2(function(isRightHanded,settings){return A2($elm$core$List$cons,isRightHanded?$ianmackenzie$elm_3d_scene$Scene3d$Entity$rightHandedStencilTest:$ianmackenzie$elm_3d_scene$Scene3d$Entity$leftHandedStencilTest,settings)}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadow=F4(function(firstPoint,secondPoint,thirdPoint,fourthPoint){return{$:"Entity",a:{$:"ShadowNode",a:F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,shadowLight,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings,isRightHanded,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$quadShadowVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadowMesh,{modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,quadVertexPositions:A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadVertexPositions,firstPoint,secondPoint,thirdPoint,fourthPoint),sceneProperties:sceneProperties,shadowLight:shadowLight,viewMatrix:viewMatrix})})}}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$quad=F7(function(renderObject,_v0,meshEntity,firstPoint,secondPoint,thirdPoint,fourthPoint){meshEntity=A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadMesh,meshEntity,firstPoint,secondPoint,thirdPoint,fourthPoint),_v0={$:"#2",a:renderObject,b:_v0};return _v0.a?_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([meshEntity,A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadow,firstPoint,secondPoint,thirdPoint,fourthPoint)])):meshEntity:_v0.b?A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$quadShadow,firstPoint,secondPoint,thirdPoint,fourthPoint):$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}),$ianmackenzie$elm_3d_scene$Scene3d$quad=F5(function(givenMaterial,p1,p2,p3,p4){return A7($ianmackenzie$elm_3d_scene$Scene3d$Entity$quad,!0,!1,givenMaterial,p1,p2,p3,p4)}),$ianmackenzie$elm_geometry$LineSegment3d$mapEndpoints=F2(function(_function,p2){var _v0=$ianmackenzie$elm_geometry$LineSegment3d$endpoints(p2),p2=_v0.b;return{$:"LineSegment3d",a:{$:"#2",a:_function(_v0.a),b:_function(p2)}}}),$ianmackenzie$elm_geometry$LineSegment3d$translateBy=F2(function(displacementVector,lineSegment){return A2($ianmackenzie$elm_geometry$LineSegment3d$mapEndpoints,$ianmackenzie$elm_geometry$Point3d$translateBy(displacementVector),lineSegment)}),$author$project$VisualEntities$makeMapEntities=F2(function(context,roadList){return $elm$core$List$concat(A2($elm$core$List$map,function(leftKerbVector){var leftKerb={$:"LineSegment3d",a:{$:"#2",a:leftKerbVector.startsAt.location,b:leftKerbVector.endsAt.location}},rightKerb={$:"#2",a:3*$elm$core$Basics$cos(leftKerbVector.bearing),b:3*$elm$core$Basics$sin(leftKerbVector.bearing)},leftKerbVector=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*rightKerb.a,rightKerb.b,0),rightKerb=$ianmackenzie$elm_geometry$Vector3d$reverse(leftKerbVector),rightKerb={$:"#2",a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftKerbVector,leftKerb),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightKerb,leftKerb)},leftKerb=rightKerb.a,rightKerb=rightKerb.b;return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$matte($avh4$elm_color$Color$lightRed),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(leftKerb),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(leftKerb),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(rightKerb),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(rightKerb))])},roadList))}),$author$project$DisplayOptions$NoCurtain={$:"NoCurtain"},$avh4$elm_color$Color$black=A4($avh4$elm_color$Color$RgbaSpace,0,0,0,1),$avh4$elm_color$Color$brown=A4($avh4$elm_color$Color$RgbaSpace,193/255,125/255,17/255,1),$ianmackenzie$elm_3d_scene$Scene3d$Types$UnlitMaterial=F2(function(a,b){return{$:"UnlitMaterial",a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$CullBackFaces={$:"CullBackFaces"},$ianmackenzie$elm_3d_scene$Scene3d$Types$Facets=F4(function(a,b,c,d){return{$:"Facets",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$Indexed=F4(function(a,b,c,d){return{$:"Indexed",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormals=F4(function(a,b,c,d){return{$:"MeshWithNormals",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormalsAndUvs=F4(function(a,b,c,d){return{$:"MeshWithNormalsAndUvs",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithTangents=F4(function(a,b,c,d){return{$:"MeshWithTangents",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithUvs=F4(function(a,b,c,d){return{$:"MeshWithUvs",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$Triangles=F4(function(a,b,c,d){return{$:"Triangles",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_units$Quantity$divideBy=F2(function(divisor,_v0){return{$:"Quantity",a:_v0.a/divisor}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyMesh={$:"EmptyMesh"},$elm_explorations$linear_algebra$Math$Vector3$fromRecord=function(r){return new Float64Array([r.x,r.y,r.z])},$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectSmooth=F2(function(_v0,accumulated){var position=_v0.position;return A2($elm$core$List$cons,{normal:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Vector3d$toVec3(_v0.normal),position:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(position)},accumulated)}),$ianmackenzie$elm_units$Quantity$lessThanOrEqualTo=F2(function(_v0,_v1){return _Utils_cmp(_v1.a,_v0.a)<1}),$ianmackenzie$elm_units$Quantity$max=F2(function(_v0,_v1){return{$:"Quantity",a:A2($elm$core$Basics$max,_v0.a,_v1.a)}}),$ianmackenzie$elm_units$Quantity$min=F2(function(_v0,_v1){return{$:"Quantity",a:A2($elm$core$Basics$min,_v0.a,_v1.a)}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBoundsHelp=F7(function(minX,maxX,minY,maxY,minZ,maxZ,remaining){for(;;){if(!remaining.b)return $ianmackenzie$elm_geometry$BoundingBox3d$fromExtrema({maxX:{$:"Quantity",a:maxX},maxY:{$:"Quantity",a:maxY},maxZ:{$:"Quantity",a:maxZ},minX:{$:"Quantity",a:minX},minY:{$:"Quantity",a:minY},minZ:{$:"Quantity",a:minZ}});var x=remaining.a,rest=remaining.b,z=$elm_explorations$linear_algebra$Math$Vector3$getZ(x.position),y=$elm_explorations$linear_algebra$Math$Vector3$getY(x.position),x=$elm_explorations$linear_algebra$Math$Vector3$getX(x.position);minX=A2($elm$core$Basics$min,minX,x),maxX=A2($elm$core$Basics$max,maxX,x),minY=A2($elm$core$Basics$min,minY,y),maxY=A2($elm$core$Basics$max,maxY,y),minZ=A2($elm$core$Basics$min,minZ,z),maxZ=A2($elm$core$Basics$max,maxZ,z),remaining=rest}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBounds=F2(function(x,rest){var z=$elm_explorations$linear_algebra$Math$Vector3$getZ(x.position),y=$elm_explorations$linear_algebra$Math$Vector3$getY(x.position),x=$elm_explorations$linear_algebra$Math$Vector3$getX(x.position);return A7($ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBoundsHelp,x,x,y,y,z,z,rest)}),$elm$core$Basics$modBy=$mdgriffith$elm_ui$Internal$Style$AllChildren,$ianmackenzie$elm_geometry$Direction3d$negativeZ={$:"Direction3d",a:{x:0,y:0,z:-1}},$ianmackenzie$elm_geometry$Direction3d$xyZ=F2(function(phi,cosPhi){var theta=phi.a,phi=cosPhi.a,cosPhi=$elm$core$Basics$cos(phi);return{$:"Direction3d",a:{x:cosPhi*$elm$core$Basics$cos(theta),y:cosPhi*$elm$core$Basics$sin(theta),z:$elm$core$Basics$sin(phi)}}}),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cone=(tipPoint=A3($ianmackenzie$elm_geometry$Point3d$xyz,$ianmackenzie$elm_units$Quantity$zero,$ianmackenzie$elm_units$Quantity$zero,{$:"Quantity",a:1}),wedgeAngle=A2($ianmackenzie$elm_units$Quantity$divideBy,72,{$:"Quantity",a:6.283185307179586}),radius={$:"Quantity",a:1},negativeZVector=$ianmackenzie$elm_geometry$Direction3d$toVector($ianmackenzie$elm_geometry$Direction3d$negativeZ),elevationAngle={$:"Quantity",a:.7853981633974483},basePoint=A3($ianmackenzie$elm_geometry$Point3d$xyz,bottomZ=$ianmackenzie$elm_units$Quantity$zero,$ianmackenzie$elm_units$Quantity$zero,bottomZ),$mdgriffith$elm_ui$Internal$Style$Left=$ianmackenzie$elm_triangular_mesh$TriangularMesh$triangles($elm$core$List$concat(A2($elm$core$List$map,function(endX){var tipNormal=$ianmackenzie$elm_geometry$Vector3d$zero,p0=A2($ianmackenzie$elm_units$Quantity$multiplyBy,endX,wedgeAngle),startNormal=$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$xyZ,p0,elevationAngle)),p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(p0),radius),endNormal=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(p0),radius),p0=A3($ianmackenzie$elm_geometry$Point3d$xyz,p1,endNormal,bottomZ),p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,A2($elm$core$Basics$modBy,72,endX+1),wedgeAngle),endNormal=$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$xyZ,p1,elevationAngle)),endX=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(p1),radius),p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(p1),radius),p1=A3($ianmackenzie$elm_geometry$Point3d$xyz,endX,p1,bottomZ);return _List_fromArray([{$:"#3",a:{normal:negativeZVector,position:basePoint},b:{normal:negativeZVector,position:p1},c:{normal:negativeZVector,position:p0}},{$:"#3",a:{normal:startNormal,position:p0},b:{normal:endNormal,position:p1},c:{normal:tipNormal,position:tipPoint}}])},A2($elm$core$List$range,0,71)))),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$cullBackFaces($ianmackenzie$elm_3d_scene$Scene3d$Mesh$indexedFaces($mdgriffith$elm_ui$Internal$Style$Left))),$ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyShadow={$:"EmptyShadow"},$ianmackenzie$elm_3d_scene$Scene3d$Types$Shadow=F3(function(a,b,c){return{$:"Shadow",a:a,b:b,c:c}}),$ianmackenzie$elm_geometry$Vector3d$normalize=F2(function(scaledZ,scaledY){var q=scaledZ.a,scaledX=scaledY.a,scaledLength=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.x),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.y),$elm$core$Basics$abs(scaledX.z)));if(scaledLength){scaledZ=scaledX.z/scaledLength,scaledY=scaledX.y/scaledLength,scaledX=scaledX.x/scaledLength,scaledLength=$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ);return{$:"Vector3d",a:{x:q*scaledX/scaledLength,y:q*scaledY/scaledLength,z:q*scaledZ/scaledLength}}}return $ianmackenzie$elm_geometry$Vector3d$zero})({$:"Quantity",a:1}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$triangleNormal=F3(function(p1,p2,p3){return $ianmackenzie$elm_geometry$Vector3d$normalize(A2($ianmackenzie$elm_geometry$Vector3d$cross,A2($ianmackenzie$elm_geometry$Vector3d$from,p2,p3),A2($ianmackenzie$elm_geometry$Vector3d$from,p1,p2)))}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectShadowVertices=F3(function(sv1,sv3,accumulated){var faceNormal=sv3.a,sv2=sv3.b,sv3=sv1(sv3.c),sv2=sv1(sv2),sv1=sv1(faceNormal),faceNormal=$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Vector3d$toVec3(A3($ianmackenzie$elm_3d_scene$Scene3d$Mesh$triangleNormal,sv1,sv2,sv3)),sv1={normal:faceNormal,position:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(sv1)},sv2={normal:faceNormal,position:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(sv2)},sv3={normal:faceNormal,position:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(sv3)};return A2($elm$core$List$cons,sv1,A2($elm$core$List$cons,sv2,A2($elm$core$List$cons,sv3,accumulated)))}),$elm$core$Maybe$map3=F4(function(func,ma,mb,mc){return"Nothing"===ma.$||"Nothing"===mb.$||"Nothing"===mc.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(A3(func,ma.a,mb.a,mc.a))}),$ianmackenzie$elm_triangular_mesh$TriangularMesh$vertex=F2(function(index,mesh){return A2($elm$core$Array$get,index,$ianmackenzie$elm_triangular_mesh$TriangularMesh$vertices(mesh))}),$elm$core$List$any=F2(function(isOkay,list){for(;;){if(!list.b)return!1;var xs=list.b;if(isOkay(list.a))return!0;isOkay=isOkay,list=xs}}),$elm$core$List$all=F2(function(isOkay,list){return!A2($elm$core$List$any,A2($elm$core$Basics$composeL,$elm$core$Basics$not,isOkay),list)}),$ianmackenzie$elm_triangular_mesh$TriangularMesh$indexed=F2(function(vertices_,faceIndices_){function validIndices(k){var i=k.a,j=k.b,k=k.c;return 0<=i&&_Utils_cmp(i,numVertices)<0&&0<=j&&_Utils_cmp(j,numVertices)<0&&0<=k&&_Utils_cmp(k,numVertices)<0}var numVertices=$elm$core$Array$length(vertices_);return A2($elm$core$List$all,validIndices,faceIndices_)?{$:"TriangularMesh",a:{faceIndices:faceIndices_,vertices:vertices_}}:{$:"TriangularMesh",a:{faceIndices:A2($elm$core$List$filter,validIndices,faceIndices_),vertices:vertices_}}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey=F2(function(p1,p2){p2=$ianmackenzie$elm_geometry$Point3d$toMeters(p2),p1=$ianmackenzie$elm_geometry$Point3d$toMeters(p1);return{$:"#2",a:{$:"#3",a:p1.x,b:p1.y,c:p1.z},b:{$:"#3",a:p2.x,b:p2.y,c:p2.z}}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$zeroVec3=A3($elm_explorations$linear_algebra$Math$Vector3$vec3,0,0,0),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdge=F6(function(b,v1,start,end,v2,nextShadowVertexIndex){var shadowFaceIndices=nextShadowVertexIndex.a,extraShadowVertices=nextShadowVertexIndex.b,nextShadowVertexIndex=nextShadowVertexIndex.c,v2=A2($elm$core$Dict$get,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey,b,v1),v2);if("Just"===v2.$)return{$:"#3",a:A2($elm$core$List$cons,{$:"#3",a:start,b:v2.a,c:end},shadowFaceIndices),b:extraShadowVertices,c:nextShadowVertexIndex};v2={normal:$ianmackenzie$elm_3d_scene$Scene3d$Mesh$zeroVec3,position:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(v1)},v1={normal:$ianmackenzie$elm_3d_scene$Scene3d$Mesh$zeroVec3,position:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(b)},b=nextShadowVertexIndex+1;return{$:"#3",a:A2($elm$core$List$cons,{$:"#3",a:start,b:nextShadowVertexIndex,c:b},A2($elm$core$List$cons,{$:"#3",a:start,b:b,c:end},shadowFaceIndices)),b:A2($elm$core$List$cons,v2,A2($elm$core$List$cons,v1,extraShadowVertices)),c:nextShadowVertexIndex+2}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdges=F5(function(getPosition,neighborDict,meshFaceVertices,nextShadowVertexIndex,state){for(;;){if(!meshFaceVertices.b)return{$:"#2",a:state.a,b:$elm$core$List$reverse(state.b)};var $temp$getPosition=meshFaceVertices.a,$temp$meshFaceVertices=$temp$getPosition.a,$temp$neighborDict=$temp$getPosition.b,$temp$nextShadowVertexIndex=meshFaceVertices.b,p3=getPosition($temp$getPosition.c),p2=getPosition($temp$neighborDict),p1=getPosition($temp$meshFaceVertices),c=nextShadowVertexIndex+2,$temp$state=nextShadowVertexIndex+1,$temp$getPosition=getPosition,$temp$neighborDict=neighborDict,$temp$meshFaceVertices=$temp$nextShadowVertexIndex,$temp$nextShadowVertexIndex=nextShadowVertexIndex+3,$temp$state=A6($ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdge,p3,p1,c,nextShadowVertexIndex,neighborDict,A6($ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdge,p2,p3,$temp$state,c,neighborDict,A6($ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdge,p1,p2,nextShadowVertexIndex,$temp$state,neighborDict,state)));getPosition=$temp$getPosition,neighborDict=$temp$neighborDict,meshFaceVertices=$temp$meshFaceVertices,nextShadowVertexIndex=$temp$nextShadowVertexIndex,state=$temp$state}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$visitFaces=F5(function(getPosition,meshFaceVertices,nextShadowVertexIndex,shadowFaceIndices,neighborDict){for(;;){if(!meshFaceVertices.b)return{$:"#3",a:shadowFaceIndices,b:neighborDict,c:nextShadowVertexIndex};var c=meshFaceVertices.a,a=c.a,b=c.b,remainingMeshFaceVertices=meshFaceVertices.b,p3=getPosition(c.c),p2=getPosition(b),updatedNeighborDict=getPosition(a),c=nextShadowVertexIndex+2,b=nextShadowVertexIndex+1,a=nextShadowVertexIndex,updatedNeighborDict=A3($elm$core$Dict$insert,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey,updatedNeighborDict,p3),c,A3($elm$core$Dict$insert,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey,p3,p2),b,A3($elm$core$Dict$insert,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$edgeKey,p2,updatedNeighborDict),a,neighborDict)));getPosition=getPosition,meshFaceVertices=remainingMeshFaceVertices,nextShadowVertexIndex=nextShadowVertexIndex+3,shadowFaceIndices=A2($elm$core$List$cons,{$:"#3",a:a,b:b,c:c},shadowFaceIndices),neighborDict=updatedNeighborDict}}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$shadowImpl=F3(function(meshBounds,getPosition,allShadowFaceIndices){var mesh,extraShadowVertices=A2($elm$core$List$filterMap,function(k){var i=k.a,j=k.b,k=k.c;return A4($elm$core$Maybe$map3,F3(function(firstVertex,secondVertex,thirdVertex){return{$:"#3",a:firstVertex,b:secondVertex,c:thirdVertex}}),A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$vertex,i,mesh),A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$vertex,j,mesh),A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$vertex,k,mesh))},$ianmackenzie$elm_triangular_mesh$TriangularMesh$faceIndices(mesh=allShadowFaceIndices)),allShadowVertices=A3($elm$core$List$foldr,$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectShadowVertices(getPosition),_List_Nil,extraShadowVertices),allShadowFaceIndices=A5($ianmackenzie$elm_3d_scene$Scene3d$Mesh$visitFaces,getPosition,extraShadowVertices,0,_List_Nil,$elm$core$Dict$empty),extraShadowVertices=A5($ianmackenzie$elm_3d_scene$Scene3d$Mesh$joinEdges,getPosition,allShadowFaceIndices.b,extraShadowVertices,0,{$:"#3",a:allShadowFaceIndices.a,b:_List_Nil,c:allShadowFaceIndices.c}),allShadowFaceIndices=extraShadowVertices.a,extraShadowVertices=extraShadowVertices.b,allShadowVertices=extraShadowVertices.b?_Utils_ap(allShadowVertices,extraShadowVertices):allShadowVertices;return A3($ianmackenzie$elm_3d_scene$Scene3d$Types$Shadow,meshBounds,A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$indexed,$elm$core$Array$fromList(allShadowVertices),allShadowFaceIndices),A2($elm_explorations$webgl$WebGL$indexedTriangles,allShadowVertices,allShadowFaceIndices))}),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$coneShadow=($mdgriffith$elm_ui$Internal$Style$Right=function(mesh){switch(mesh.$){case"EmptyMesh":return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyShadow;case"Triangles":case"Facets":return A3($ianmackenzie$elm_3d_scene$Scene3d$Mesh$shadowImpl,mesh.a,$elm$core$Basics$identity,$ianmackenzie$elm_triangular_mesh$TriangularMesh$triangles(A2($elm$core$List$map,$ianmackenzie$elm_geometry$Triangle3d$vertices,mesh.b)));case"Indexed":return A3($ianmackenzie$elm_3d_scene$Scene3d$Mesh$shadowImpl,mesh.a,$elm$core$Basics$identity,mesh.b);case"MeshWithNormals":case"MeshWithUvs":case"MeshWithNormalsAndUvs":case"MeshWithTangents":return A3($ianmackenzie$elm_3d_scene$Scene3d$Mesh$shadowImpl,mesh.a,function($){return $.position},mesh.b);case"LineSegments":case"Polyline":default:return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyShadow}})($ianmackenzie$elm_3d_scene$Scene3d$Primitives$cone),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute mediump vec2 uv;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        varying mediump vec2 interpolatedUv;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main() {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedUv = uv;\n        }\n    ",attributes:{position:"position",uv:"uv"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$colorTextureMesh=F4(function(data,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$colorTextureFragment,webGLMesh,{colorTexture:data,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n        }\n    ",attributes:{position:"position"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$constantMesh=F4(function(color,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantFragment,webGLMesh,{constantColor:color,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$PointNode=F2(function(a,b){return{$:"PointNode",a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantPointFragment={src:"\n        precision lowp float;\n        \n        uniform lowp vec3 constantColor;\n        uniform lowp float pointRadius;\n        uniform highp mat4 sceneProperties;\n        \n        float pointAlpha(float pointRadius, vec2 pointCoord) {\n            float pointSize = 2.0 * pointRadius;\n            float x = (pointSize + 2.0) * (pointCoord.s - 0.5);\n            float y = (pointSize + 2.0) * (pointCoord.t - 0.5);\n            float r = sqrt(x * x + y * y);\n            float innerRadius = pointRadius;\n            float outerRadius = pointRadius + 1.0;\n            if (r > outerRadius) {\n                return 0.0;\n            } else if (r > innerRadius) {\n                return outerRadius - r;\n            } else {\n                return 1.0;\n            }\n        }\n        \n        void main () {\n            float supersampling = sceneProperties[3][0];\n            float alpha = pointAlpha(pointRadius * supersampling, gl_PointCoord);\n            gl_FragColor = vec4(constantColor, alpha);\n        }\n    ",attributes:{},uniforms:{constantColor:"constantColor",pointRadius:"pointRadius",sceneProperties:"sceneProperties"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$pointVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform lowp float pointRadius;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            float supersampling = sceneProperties[3][0];\n            gl_PointSize = 2.0 * pointRadius * supersampling + 2.0;\n        }\n    ",attributes:{position:"position"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",pointRadius:"pointRadius",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$constantPointMesh=F4(function(color,radius,bounds,webGLMesh){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$PointNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,settings,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$pointVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantPointFragment,webGLMesh,{constantColor:color,modelMatrix:modelMatrix,modelScale:modelScale,pointRadius:radius,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$emissiveMesh=F5(function(color,backlight,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveFragment,webGLMesh,{emissiveColor:A2($elm_explorations$linear_algebra$Math$Vector3$scale,$ianmackenzie$elm_units$Luminance$inNits(backlight),color),modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissivePointFragment={src:"\n        precision mediump float;\n        \n        uniform mediump vec3 emissiveColor;\n        uniform lowp float pointRadius;\n        uniform highp mat4 sceneProperties;\n        \n        float gammaCorrect(float u) {\n            if (u <= 0.0031308) {\n                return 12.92 * u;\n            } else {\n                return 1.055 * pow(u, 1.0 / 2.4) - 0.055;\n            }\n        }\n        \n        vec3 gammaCorrectedColor(vec3 color) {\n            float red = gammaCorrect(color.r);\n            float green = gammaCorrect(color.g);\n            float blue = gammaCorrect(color.b);\n            return vec3(red, green, blue);\n        }\n        \n        vec3 reinhardLuminanceToneMap(vec3 color) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scale = 1.0 / (1.0 + luminance);\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 reinhardPerChannelToneMap(vec3 color) {\n            return gammaCorrectedColor(color / (color + 1.0));\n        }\n        \n        float extendedReinhardToneMap(float x, float xMax) {\n            return x * (1.0 + (x / (xMax * xMax))) / (1.0 + x);\n        }\n        \n        vec3 extendedReinhardLuminanceToneMap(vec3 color, float overexposureLimit) {\n            float luminance = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;\n            float scaledLuminance = extendedReinhardToneMap(luminance, overexposureLimit);\n            float scale = scaledLuminance / luminance;\n            return gammaCorrectedColor(color * scale);\n        }\n        \n        vec3 extendedReinhardPerChannelToneMap(vec3 color, float overexposureLimit) {\n            float red = extendedReinhardToneMap(color.r, overexposureLimit);\n            float green = extendedReinhardToneMap(color.g, overexposureLimit);\n            float blue = extendedReinhardToneMap(color.b, overexposureLimit);\n            return gammaCorrectedColor(vec3(red, green, blue));\n        }\n        \n        vec3 hableFilmicHelper(vec3 color) {\n            float a = 0.15;\n            float b = 0.5;\n            float c = 0.1;\n            float d = 0.2;\n            float e = 0.02;\n            float f = 0.3;\n            return (color * (a * color + c * b) + d * e) / (color * (a * color + b) + d * f) - e / f;\n        }\n        \n        vec3 hableFilmicToneMap(vec3 color) {\n            float exposureBias = 2.0;\n            vec3 unscaled = hableFilmicHelper(exposureBias * color);\n            vec3 scale = 1.0 / hableFilmicHelper(vec3(11.2));\n            return gammaCorrectedColor(scale * unscaled);\n        }\n        \n        vec3 toneMap(vec3 color, float toneMapType, float toneMapParam) {\n            if (toneMapType == 0.0) {\n                return gammaCorrectedColor(color);\n            } else if (toneMapType == 1.0) {\n                return reinhardLuminanceToneMap(color);\n            } else if (toneMapType == 2.0) {\n                return reinhardPerChannelToneMap(color);\n            } else if (toneMapType == 3.0) {\n                return extendedReinhardLuminanceToneMap(color, toneMapParam);\n            } else if (toneMapType == 4.0) {\n                return extendedReinhardPerChannelToneMap(color, toneMapParam);\n            } else if (toneMapType == 5.0) {\n                return hableFilmicToneMap(color);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 toSrgb(vec3 linearColor, mat4 sceneProperties) {\n            vec3 referenceWhite = sceneProperties[2].rgb;\n            float unitR = linearColor.r / referenceWhite.r;\n            float unitG = linearColor.g / referenceWhite.g;\n            float unitB = linearColor.b / referenceWhite.b;\n            float toneMapType = sceneProperties[3][2];\n            float toneMapParam = sceneProperties[3][3];\n            vec3 toneMapped = toneMap(vec3(unitR, unitG, unitB), toneMapType, toneMapParam);\n            return vec4(toneMapped, 1.0);\n        }\n        \n        float pointAlpha(float pointRadius, vec2 pointCoord) {\n            float pointSize = 2.0 * pointRadius;\n            float x = (pointSize + 2.0) * (pointCoord.s - 0.5);\n            float y = (pointSize + 2.0) * (pointCoord.t - 0.5);\n            float r = sqrt(x * x + y * y);\n            float innerRadius = pointRadius;\n            float outerRadius = pointRadius + 1.0;\n            if (r > outerRadius) {\n                return 0.0;\n            } else if (r > innerRadius) {\n                return outerRadius - r;\n            } else {\n                return 1.0;\n            }\n        }\n        \n        void main () {\n            vec4 color = toSrgb(emissiveColor, sceneProperties);\n            float supersampling = sceneProperties[3][0];\n            float alpha = pointAlpha(pointRadius * supersampling, gl_PointCoord);\n            gl_FragColor = vec4(color.rgb, alpha);\n        }\n    ",attributes:{},uniforms:{emissiveColor:"emissiveColor",pointRadius:"pointRadius",sceneProperties:"sceneProperties"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$emissivePointMesh=F5(function(color,backlight,radius,bounds,webGLMesh){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$PointNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,settings,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$pointVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissivePointFragment,webGLMesh,{emissiveColor:A2($elm_explorations$linear_algebra$Math$Vector3$scale,$ianmackenzie$elm_units$Luminance$inNits(backlight),color),modelMatrix:modelMatrix,modelScale:modelScale,pointRadius:radius,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$uniformVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute highp vec3 normal;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n        }\n    ",attributes:{normal:"normal",position:"position"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$lambertianMesh=F4(function(color,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$uniformVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianFragment,webGLMesh,{enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,materialColor:color,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$normalMappedVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute highp vec3 normal;\n        attribute mediump vec2 uv;\n        attribute highp vec3 tangent;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        vec3 getWorldTangent(vec3 modelTangent, vec4 modelScale, mat4 modelMatrix) {\n            return (modelMatrix * vec4(safeNormalize(modelScale.xyz * modelTangent), 0.0)).xyz;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n            interpolatedUv = uv;\n            interpolatedTangent = getWorldTangent(tangent, modelScale, modelMatrix);\n        }\n    ",attributes:{normal:"normal",position:"position",tangent:"tangent",uv:"uv"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMappedLambertianMesh=F6(function(materialColorData,normalMapData,useNormalMap,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$normalMappedVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianTextureFragment,webGLMesh,{enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,materialColorTexture:materialColorData,modelMatrix:modelMatrix,modelScale:modelScale,normalMapTexture:normalMapData,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,useNormalMap:useNormalMap,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$physicalMesh=F6(function(color,roughness,metallic,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$uniformVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalFragment,webGLMesh,{baseColor:color,enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,metallic:metallic,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,roughness:roughness,sceneProperties:sceneProperties,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedEmissiveMesh=F5(function(colorData,backlight,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$unlitVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveTextureFragment,webGLMesh,{backlight:$ianmackenzie$elm_units$Luminance$inNits(backlight),colorTexture:colorData,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute highp vec3 normal;\n        attribute mediump vec2 uv;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        varying mediump vec2 interpolatedUv;\n        varying highp vec3 interpolatedTangent;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main () {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n            interpolatedUv = uv;\n            interpolatedTangent = vec3(0.0, 0.0, 0.0);\n        }\n    ",attributes:{normal:"normal",position:"position",uv:"uv"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedLambertianMesh=F4(function(materialColorData,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianTextureFragment,webGLMesh,{enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,materialColorTexture:materialColorData,modelMatrix:modelMatrix,modelScale:modelScale,normalMapTexture:materialColorData,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,useNormalMap:0,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedPhysicalMesh=F9(function(baseColorData,constantBaseColor,roughnessData,constantRoughness,metallicData,constantMetallic,bounds,webGLMesh,backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$texturedVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalTexturesFragment,webGLMesh,{baseColorTexture:baseColorData,constantBaseColor:constantBaseColor,constantMetallic:constantMetallic,constantRoughness:constantRoughness,enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,metallicTexture:metallicData,modelMatrix:modelMatrix,modelScale:modelScale,normalMapTexture:baseColorData,projectionMatrix:projectionMatrix,roughnessTexture:roughnessData,sceneProperties:sceneProperties,useNormalMap:0,viewMatrix:viewMatrix})}))}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$mesh=F2(function(givenMaterial,givenMesh){switch(givenMaterial.$){case"UnlitMaterial":if("Constant"===givenMaterial.b.$){var color=givenMaterial.b.a;switch(givenMesh.$){case"EmptyMesh":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"Triangles":case"Facets":case"Indexed":case"MeshWithNormals":case"MeshWithUvs":case"MeshWithNormalsAndUvs":case"MeshWithTangents":webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$constantMesh,color,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case"LineSegments":case"Polyline":webGLMesh=givenMesh.c;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$constantMesh,color,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces);default:webGLMesh=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$constantPointMesh,color,givenMesh.b,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh)}}else{var data=givenMaterial.b.a.data;switch(givenMesh.$){case"EmptyMesh":case"Triangles":case"Facets":case"Indexed":case"MeshWithNormals":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"MeshWithUvs":case"MeshWithNormalsAndUvs":case"MeshWithTangents":webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$colorTextureMesh,data,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case"LineSegments":case"Polyline":default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}case"EmissiveMaterial":if("Constant"===givenMaterial.b.$){var emissiveColor=givenMaterial.b.a.a,backlight=givenMaterial.c;switch(givenMesh.$){case"EmptyMesh":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"Triangles":case"Facets":case"Indexed":case"MeshWithNormals":case"MeshWithUvs":case"MeshWithNormalsAndUvs":case"MeshWithTangents":webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$emissiveMesh,emissiveColor,backlight,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case"LineSegments":case"Polyline":webGLMesh=givenMesh.c;return A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$emissiveMesh,emissiveColor,backlight,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces);default:webGLMesh=givenMesh.d;return A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$emissivePointMesh,emissiveColor,backlight,givenMesh.b,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh)}}else{data=givenMaterial.b.a.data,backlight=givenMaterial.c;switch(givenMesh.$){case"EmptyMesh":case"Triangles":case"Facets":case"Indexed":case"MeshWithNormals":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"MeshWithUvs":case"MeshWithNormalsAndUvs":case"MeshWithTangents":webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A5($ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedEmissiveMesh,data,backlight,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case"LineSegments":case"Polyline":default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}case"LambertianMaterial":var _v19=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolveLambertian,givenMaterial.b,givenMaterial.c);if("ConstantLambertianMaterial"===_v19.$){var materialColor=_v19.a.a;switch(givenMesh.$){case"EmptyMesh":case"Triangles":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"Facets":var webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$lambertianMesh,materialColor,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case"Indexed":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"MeshWithNormals":webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$lambertianMesh,materialColor,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case"MeshWithUvs":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"MeshWithNormalsAndUvs":case"MeshWithTangents":webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$lambertianMesh,materialColor,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case"LineSegments":case"Polyline":default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}else{var _v18=_v19.a,materialColorData=_v18.a,_v18=_v19.b,normalMapData=_v18.a,useNormalMap=_v18.b;switch(givenMesh.$){case"EmptyMesh":case"Triangles":case"Facets":case"Indexed":case"MeshWithNormals":case"MeshWithUvs":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"MeshWithNormalsAndUvs":webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedLambertianMesh,materialColorData,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case"MeshWithTangents":webGLMesh=givenMesh.c,cullBackFaces=givenMesh.d;return A6($ianmackenzie$elm_3d_scene$Scene3d$Entity$normalMappedLambertianMesh,materialColorData,normalMapData,useNormalMap,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,cullBackFaces);case"LineSegments":case"Polyline":default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}default:_v19=A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolvePbr,givenMaterial.b,givenMaterial.c,givenMaterial.d,givenMaterial.e);if("ConstantPbrMaterial"===_v19.$){var baseColor=_v19.a.a,roughness=_v19.b,metallic=_v19.c;switch(givenMesh.$){case"EmptyMesh":case"Triangles":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"Facets":webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A6($ianmackenzie$elm_3d_scene$Scene3d$Entity$physicalMesh,baseColor,roughness,metallic,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case"Indexed":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"MeshWithNormals":webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A6($ianmackenzie$elm_3d_scene$Scene3d$Entity$physicalMesh,baseColor,roughness,metallic,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case"MeshWithUvs":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"MeshWithNormalsAndUvs":case"MeshWithTangents":webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A6($ianmackenzie$elm_3d_scene$Scene3d$Entity$physicalMesh,baseColor,roughness,metallic,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case"LineSegments":case"Polyline":default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}else{var _v18=_v19.a,baseColorData=_v18.a,constantBaseColor=_v18.b,_v18=_v19.b,roughnessData=_v18.a,constantRoughness=_v18.b,_v18=_v19.c,metallicData=_v18.a,constantMetallic=_v18.b,_v19=_v19.d,normalMapData=_v19.a,useNormalMap=_v19.b;switch(givenMesh.$){case"EmptyMesh":case"Triangles":case"Facets":case"Indexed":case"MeshWithNormals":case"MeshWithUvs":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"MeshWithNormalsAndUvs":webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return A9($ianmackenzie$elm_3d_scene$Scene3d$Entity$texturedPhysicalMesh,baseColorData,constantBaseColor,roughnessData,constantRoughness,metallicData,constantMetallic,$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox=givenMesh.a),webGLMesh,backFaceSetting);case"MeshWithTangents":var boundingBox=givenMesh.a,webGLMesh=givenMesh.c,backFaceSetting=givenMesh.d;return function(baseColorData){return function(constantBaseColor){return function(roughnessData){return function(constantRoughness){return function(metallicData){return function(constantMetallic){return function(normalMapData){return function(useNormalMap){return function(bounds){return function(webGLMesh){return function(backFaceSetting){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,backFaceSetting,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$normalMappedVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalTexturesFragment,webGLMesh,{baseColorTexture:baseColorData,constantBaseColor:constantBaseColor,constantMetallic:constantMetallic,constantRoughness:constantRoughness,enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,metallicTexture:metallicData,modelMatrix:modelMatrix,modelScale:modelScale,normalMapTexture:normalMapData,projectionMatrix:projectionMatrix,roughnessTexture:roughnessData,sceneProperties:sceneProperties,useNormalMap:useNormalMap,viewMatrix:viewMatrix})}))}}}}}}}}}}}}(baseColorData)(constantBaseColor)(roughnessData)(constantRoughness)(metallicData)(constantMetallic)(normalMapData)(useNormalMap)($ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox))(webGLMesh)(backFaceSetting);case"LineSegments":case"Polyline":default:return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}}}}),$ianmackenzie$elm_3d_scene$Scene3d$Types$Transformed=F2(function(a,b){return{$:"Transformed",a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$Transformation$compose=F2(function(t1,t2){return{isRightHanded:_Utils_eq(t1.isRightHanded,t2.isRightHanded),ix:t1.ix*t2.ix+t1.iy*t2.jx+t1.iz*t2.kx,iy:t1.ix*t2.iy+t1.iy*t2.jy+t1.iz*t2.ky,iz:t1.ix*t2.iz+t1.iy*t2.jz+t1.iz*t2.kz,jx:t1.jx*t2.ix+t1.jy*t2.jx+t1.jz*t2.kx,jy:t1.jx*t2.iy+t1.jy*t2.jy+t1.jz*t2.ky,jz:t1.jx*t2.iz+t1.jy*t2.jz+t1.jz*t2.kz,kx:t1.kx*t2.ix+t1.ky*t2.jx+t1.kz*t2.kx,ky:t1.kx*t2.iy+t1.ky*t2.jy+t1.kz*t2.ky,kz:t1.kx*t2.iz+t1.ky*t2.jz+t1.kz*t2.kz,px:t2.px+(t1.px*t2.ix+t1.py*t2.jx+t1.pz*t2.kx)*t2.scale,py:t2.py+(t1.px*t2.iy+t1.py*t2.jy+t1.pz*t2.ky)*t2.scale,pz:t2.pz+(t1.px*t2.iz+t1.py*t2.jz+t1.pz*t2.kz)*t2.scale,scale:t1.scale*t2.scale}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$transformBy=F2(function(transformation,_v0){var node=_v0.a;switch(node.$){case"EmptyNode":return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"Transformed":var underlyingNode=node.b;return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$Transformed,A2($ianmackenzie$elm_3d_scene$Scene3d$Transformation$compose,node.a,transformation),underlyingNode)};case"MeshNode":case"PointNode":case"ShadowNode":default:return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$Transformed,transformation,node)}}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$placeIn=F2(function(frame,givenDrawable){return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$transformBy,$ianmackenzie$elm_3d_scene$Scene3d$Transformation$placeIn(frame),givenDrawable)}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleBounds=F2(function(originalCenterPoint,bounds){var scaleX=originalCenterPoint.a,scaleY=originalCenterPoint.b,scaleZ=originalCenterPoint.c,originalCenterPoint=bounds.centerPoint;return{centerPoint:{x:scaleX*originalCenterPoint.x,y:scaleY*originalCenterPoint.y,z:scaleZ*originalCenterPoint.z},halfX:scaleX*bounds.halfX,halfY:scaleY*bounds.halfY,halfZ:scaleZ*bounds.halfZ}}),$elm_explorations$linear_algebra$Math$Vector4$fromRecord=function(r){return new Float64Array([r.x,r.y,r.z,r.w])},$elm_explorations$linear_algebra$Math$Vector4$toRecord=function(a){return{x:a[0],y:a[1],z:a[2],w:a[3]}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleNode=F2(function(scalingFactors,node){switch(node.$){case"EmptyNode":return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyNode;case"Transformed":return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$Transformed,node.a,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleNode,scalingFactors,node.b));case"MeshNode":var childNodes=node.b;return A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleBounds,scalingFactors,node.a),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleDrawFunction,scalingFactors,childNodes));case"PointNode":return node;case"ShadowNode":return{$:"ShadowNode",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleDrawFunction,scalingFactors,childNodes=node.a)};default:childNodes=node.a;return{$:"Group",a:A2($elm$core$List$map,$ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleNode(scalingFactors),childNodes)}}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$preScale=F2(function(scalingFactors,_v0){return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScaleNode,scalingFactors,_v0.a)}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowVertex={src:"\n        precision highp float;\n        \n        attribute highp vec3 position;\n        attribute highp vec3 normal;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 shadowLight;\n        \n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        vec3 getDirectionToLight(vec3 surfacePosition, vec4 xyz_type, vec4 rgb_parameter) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                return xyz_type.xyz;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                return normalize(lightPosition - surfacePosition);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 shadowVertexPosition(vec3 position, vec3 normal, mat4 shadowLight, vec4 modelScale, mat4 modelMatrix, mat4 viewMatrix, mat4 projectionMatrix, mat4 sceneProperties) {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            vec3 worldNormal = getWorldNormal(normal, vec4(modelScale.xyz, 1.0), modelMatrix);\n            vec4 xyz_type = shadowLight[0];\n            vec4 rgb_parameter = shadowLight[1];\n            vec3 directionToLight = getDirectionToLight(worldPosition.xyz, xyz_type, rgb_parameter);\n            vec3 offset = vec3(0.0, 0.0, 0.0);\n            float sceneDiameter = sceneProperties[3][1];\n            if (dot(directionToLight, worldNormal) <= 0.0) {\n                offset = -sceneDiameter * directionToLight;\n            } else {\n                offset = -0.001 * sceneDiameter * directionToLight;\n            }\n            vec4 offsetPosition = worldPosition + vec4(offset, 0.0);\n            return projectionMatrix * (viewMatrix * offsetPosition);\n        }\n        \n        void main () {\n            gl_Position = shadowVertexPosition(\n                position,\n                normal,\n                shadowLight,\n                modelScale,\n                modelMatrix,\n                viewMatrix,\n                projectionMatrix,\n                sceneProperties\n            );\n        }\n    ",attributes:{normal:"normal",position:"position"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",shadowLight:"shadowLight",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$cone=F4(function(renderObject,radius,untransformedEntity,_v1){var baseFrame=$ianmackenzie$elm_geometry$Frame3d$fromZAxis(function(_v0){return _v0.a.axis}(_v1)),untransformedEntity=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$mesh,untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cone),untransformedEntity=(radius={$:"#2",a:renderObject,b:radius}).a?radius.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow($ianmackenzie$elm_3d_scene$Scene3d$Primitives$coneShadow)])):untransformedEntity:radius.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow($ianmackenzie$elm_3d_scene$Scene3d$Primitives$coneShadow):$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty,radius=function(_v0){return _v0.a.radius}(_v1).a,_v1=function(_v0){return _v0.a.length}(_v1);return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$placeIn,baseFrame,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScale,{$:"#3",a:radius,b:radius,c:_v1.a},untransformedEntity))}),$ianmackenzie$elm_3d_scene$Scene3d$cone=F2(function(givenMaterial,givenCone){return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$cone,!0,!1,givenMaterial,givenCone)}),$ianmackenzie$elm_geometry$Direction3d$on=F2(function(d,j){var i=d.a,d=j.a,j=i.yDirection.a,i=i.xDirection.a;return{$:"Direction3d",a:{x:d.x*i.x+d.y*j.x,y:d.x*i.y+d.y*j.y,z:d.x*i.z+d.y*j.z}}}),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinder=function(){var wedgeAngle=A2($ianmackenzie$elm_units$Quantity$divideBy,72,{$:"Quantity",a:6.283185307179586}),radius={$:"Quantity",a:1},positiveZVector=$ianmackenzie$elm_geometry$Direction3d$toVector($ianmackenzie$elm_geometry$Direction3d$positiveZ),negativeZVector=$ianmackenzie$elm_geometry$Direction3d$toVector($ianmackenzie$elm_geometry$Direction3d$negativeZ),triangularMesh={$:"Quantity",a:1},topZ=A2($ianmackenzie$elm_units$Quantity$multiplyBy,.5,triangularMesh),topCenter=A3($ianmackenzie$elm_geometry$Point3d$xyz,$ianmackenzie$elm_units$Quantity$zero,$ianmackenzie$elm_units$Quantity$zero,topZ),bottomZ=A2($ianmackenzie$elm_units$Quantity$multiplyBy,-.5,triangularMesh),bottomCenter=A3($ianmackenzie$elm_geometry$Point3d$xyz,$ianmackenzie$elm_units$Quantity$zero,$ianmackenzie$elm_units$Quantity$zero,bottomZ),triangularMesh=$ianmackenzie$elm_triangular_mesh$TriangularMesh$triangles($elm$core$List$concat(A2($elm$core$List$map,function(p3){var p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,p3,wedgeAngle),startNormal=$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$on,$ianmackenzie$elm_geometry$SketchPlane3d$xy,$ianmackenzie$elm_geometry$Direction2d$fromAngle(p1))),endNormal=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(p1),radius),endX=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(p1),radius),p2=A3($ianmackenzie$elm_geometry$Point3d$xyz,endNormal,endX,topZ),p0=A3($ianmackenzie$elm_geometry$Point3d$xyz,endNormal,endX,bottomZ),p1=A2($ianmackenzie$elm_units$Quantity$multiplyBy,A2($elm$core$Basics$modBy,72,p3+1),wedgeAngle),endNormal=$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$on,$ianmackenzie$elm_geometry$SketchPlane3d$xy,$ianmackenzie$elm_geometry$Direction2d$fromAngle(p1))),endX=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(p1),radius),p3=A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(p1),radius),p1=A3($ianmackenzie$elm_geometry$Point3d$xyz,endX,p3,bottomZ),p3=A3($ianmackenzie$elm_geometry$Point3d$xyz,endX,p3,topZ);return _List_fromArray([{$:"#3",a:{normal:negativeZVector,position:bottomCenter},b:{normal:negativeZVector,position:p1},c:{normal:negativeZVector,position:p0}},{$:"#3",a:{normal:startNormal,position:p0},b:{normal:endNormal,position:p1},c:{normal:endNormal,position:p3}},{$:"#3",a:{normal:startNormal,position:p0},b:{normal:endNormal,position:p3},c:{normal:startNormal,position:p2}},{$:"#3",a:{normal:positiveZVector,position:topCenter},b:{normal:positiveZVector,position:p2},c:{normal:positiveZVector,position:p3}}])},A2($elm$core$List$range,0,71))));return $ianmackenzie$elm_3d_scene$Scene3d$Mesh$cullBackFaces($ianmackenzie$elm_3d_scene$Scene3d$Mesh$indexedFaces(triangularMesh))}(),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinderShadow=$mdgriffith$elm_ui$Internal$Style$Right($ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinder),$ianmackenzie$elm_3d_scene$Scene3d$Entity$cylinder=F4(function(renderObject,radius,untransformedEntity,_v1){var centerFrame=$ianmackenzie$elm_geometry$Frame3d$fromZAxis(function(_v0){return _v0.a.axis}(_v1)),untransformedEntity=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$mesh,untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinder),untransformedEntity=(radius={$:"#2",a:renderObject,b:radius}).a?radius.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow($ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinderShadow)])):untransformedEntity:radius.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$shadow($ianmackenzie$elm_3d_scene$Scene3d$Primitives$cylinderShadow):$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty,radius=function(_v0){return _v0.a.radius}(_v1).a,_v1=function(_v0){return _v0.a.length}(_v1);return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$placeIn,centerFrame,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScale,{$:"#3",a:radius,b:radius,c:_v1.a},untransformedEntity))}),$ianmackenzie$elm_3d_scene$Scene3d$cylinder=F2(function(givenMaterial,givenCylinder){return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$cylinder,!0,!1,givenMaterial,givenCylinder)}),$avh4$elm_color$Color$darkGreen=A4($avh4$elm_color$Color$RgbaSpace,78/255,154/255,6/255,1),$ianmackenzie$elm_units$Quantity$plus=F2(function(_v0,_v1){return{$:"Quantity",a:_v1.a+_v0.a}}),$ianmackenzie$elm_geometry$BoundingBox3d$unsafeOffsetBy=F2(function(amount,boundingBox){return{$:"BoundingBox3d",a:{maxX:A2($ianmackenzie$elm_units$Quantity$plus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$maxX(boundingBox)),maxY:A2($ianmackenzie$elm_units$Quantity$plus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$maxY(boundingBox)),maxZ:A2($ianmackenzie$elm_units$Quantity$plus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$maxZ(boundingBox)),minX:A2($ianmackenzie$elm_units$Quantity$minus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$minX(boundingBox)),minY:A2($ianmackenzie$elm_units$Quantity$minus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$minY(boundingBox)),minZ:A2($ianmackenzie$elm_units$Quantity$minus,amount,$ianmackenzie$elm_geometry$BoundingBox3d$minZ(boundingBox))}}}),$ianmackenzie$elm_geometry$BoundingBox3d$expandBy=F2(function(amount,boundingBox){return A2($ianmackenzie$elm_geometry$BoundingBox3d$unsafeOffsetBy,$ianmackenzie$elm_units$Quantity$abs(amount),boundingBox)}),$avh4$elm_color$Color$hsla=F4(function(r,b,g,alpha){var hueToRgb={$:"#3",a:r,b:b,c:g},r=hueToRgb.a,b=hueToRgb.b,g=hueToRgb.c,m2=.5<g?g+b-g*b:g*(b+1),m1=2*g-m2,hueToRgb=function(h_){h_=h_<0?h_+1:1<h_?h_-1:h_;return 6*h_<1?m1+(m2-m1)*h_*6:2*h_<1?m2:3*h_<2?m1+(m2-m1)*(2/3-h_)*6:m1},b=hueToRgb(r-1/3),g=hueToRgb(r),r=hueToRgb(r+1/3);return A4($avh4$elm_color$Color$RgbaSpace,r,g,b,alpha)}),$avh4$elm_color$Color$hsl=F3(function(h,s,l){return A4($avh4$elm_color$Color$hsla,h,s,l,1)}),$avh4$elm_color$Color$purple=A4($avh4$elm_color$Color$RgbaSpace,117/255,80/255,123/255,1),$avh4$elm_color$Color$red=A4($avh4$elm_color$Color$RgbaSpace,.8,0,0,1),$elm$core$Basics$isNaN=$mdgriffith$elm_ui$Internal$Style$Supports,$avh4$elm_color$Color$grey=A4($avh4$elm_color$Color$RgbaSpace,211/255,215/255,207/255,1),$author$project$VisualEntities$optionally=F2(function(test,element){return test?element:_List_Nil}),$avh4$elm_color$Color$rgb255=F3(function(r,g,b){return A4($avh4$elm_color$Color$RgbaSpace,r/255,g/255,b/255,1)}),$ianmackenzie$elm_geometry$Cone3d$startingAt=F3(function(givenBasePoint,givenDirection,_arguments){return{$:"Cone3d",a:{axis:A2($ianmackenzie$elm_geometry$Axis3d$through,givenBasePoint,givenDirection),length:$ianmackenzie$elm_units$Quantity$abs(_arguments.length),radius:$ianmackenzie$elm_units$Quantity$abs(_arguments.radius)}}}),$ianmackenzie$elm_geometry$Point3d$translateIn=F3(function(d,distance,p){d=d.a,distance=distance.a,p=p.a;return{$:"Point3d",a:{x:p.x+distance*d.x,y:p.y+distance*d.y,z:p.z+distance*d.z}}}),$ianmackenzie$elm_geometry$Cylinder3d$startingAt=F3(function(computedCenterPoint,givenDirection,_arguments){var computedLength=$ianmackenzie$elm_units$Quantity$abs(_arguments.length),computedCenterPoint=A3($ianmackenzie$elm_geometry$Point3d$translateIn,givenDirection,$ianmackenzie$elm_units$Quantity$half(computedLength),computedCenterPoint);return{$:"Cylinder3d",a:{axis:A2($ianmackenzie$elm_geometry$Axis3d$through,computedCenterPoint,givenDirection),length:computedLength,radius:$ianmackenzie$elm_units$Quantity$abs(_arguments.radius)}}}),$author$project$VisualEntities$makeStatic3DEntities=F2(function(context,_v0){function trackpointmarker(loc){return A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$black),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,-1),loc),$ianmackenzie$elm_geometry$Direction3d$positiveZ,{length:{$:"Quantity",a:1},radius:{$:"Quantity",a:.6}}))}var trackpointMarkers=_Utils_ap(A2($elm$core$List$map,function(road){return trackpointmarker(road.startsAt.location)},A2($elm$core$List$take,1,_v0)),A2($elm$core$List$map,makeEndCone,_v0));function makeEndCone(road){return trackpointmarker(road.endsAt.location)}function brownPillar(loc){return A2($ianmackenzie$elm_3d_scene$Scene3d$cylinder,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$brown),A3($ianmackenzie$elm_geometry$Cylinder3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,-1),loc),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{length:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$Point3d$zCoordinate(loc),{$:"Quantity",a:1}),radius:{$:"Quantity",a:.5}}))}var seaLevel,pillars=function(road){var leftEdge={$:"LineSegment3d",a:{$:"#2",a:road.startsAt.location,b:road.endsAt.location}},rightEdge={$:"#2",a:.3*$elm$core$Basics$cos(road.bearing),b:.3*$elm$core$Basics$sin(road.bearing)},leftVector=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*rightEdge.a,rightEdge.b,.05),rightEdge=$ianmackenzie$elm_geometry$Vector3d$reverse(leftVector),rightEdge={$:"#2",a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftVector,leftEdge),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightEdge,leftEdge)},leftEdge=rightEdge.a,rightEdge=rightEdge.b;return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($author$project$Utils$gradientColourPastel(road.gradient)),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(leftEdge),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(leftEdge),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(rightEdge),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(rightEdge))])},seaLevel=(roadSurfaces=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(A2($ianmackenzie$elm_geometry$BoundingBox3d$expandBy,{$:"Quantity",a:1e3},context.nodeBox)),seaLevel=roadSurfaces.minX,curtains=roadSurfaces.maxX,centreLine=roadSurfaces.minY,roadSurfaces=roadSurfaces.maxY,A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$darkGreen),A3($ianmackenzie$elm_geometry$Point3d$xyz,seaLevel,centreLine,{$:"Quantity",a:0}),A3($ianmackenzie$elm_geometry$Point3d$xyz,seaLevel,roadSurfaces,{$:"Quantity",a:0}),A3($ianmackenzie$elm_geometry$Point3d$xyz,curtains,roadSurfaces,{$:"Quantity",a:0}),A3($ianmackenzie$elm_geometry$Point3d$xyz,curtains,centreLine,{$:"Quantity",a:0}))),roadSurfaces=A2($elm$core$List$concatMap,function(leftKerbVector){var leftKerb={$:"LineSegment3d",a:{$:"#2",a:leftKerbVector.startsAt.location,b:leftKerbVector.endsAt.location}},rightKerb={$:"#2",a:3*$elm$core$Basics$cos(leftKerbVector.bearing),b:3*$elm$core$Basics$sin(leftKerbVector.bearing)},leftKerbVector=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*rightKerb.a,rightKerb.b,0),rightKerb=$ianmackenzie$elm_geometry$Vector3d$reverse(leftKerbVector),rightKerb={$:"#2",a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftKerbVector,leftKerb),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightKerb,leftKerb)},leftKerb=rightKerb.a,rightKerb=rightKerb.b;return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$matte($avh4$elm_color$Color$grey),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(leftKerb),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(leftKerb),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(rightKerb),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(rightKerb))])},_v0),curtains=A2($elm$core$List$concatMap,function(road){return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color(function(gradient){switch(context.displayOptions.curtainStyle.$){case"RainbowCurtain":return $author$project$Utils$gradientColourVivid(gradient);case"PastelCurtain":return $author$project$Utils$gradientColourPastel(gradient);case"PlainCurtain":return A3($avh4$elm_color$Color$rgb255,0,100,0);default:return A3($avh4$elm_color$Color$rgb255,0,0,0)}}(road.gradient)),road.startsAt.location,road.endsAt.location,A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,road.endsAt.location),A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,road.startsAt.location))])},_v0),centreLine=A2($elm$core$List$concatMap,pillars,_v0),pillars=_Utils_ap(A2($elm$core$List$map,function(r){return brownPillar(r.startsAt.location)},A2($elm$core$List$take,1,_v0)),A2($elm$core$List$map,function(r){return brownPillar(r.endsAt.location)},_v0)),_v0={$:"#2",a:A2($ianmackenzie$elm_geometry$Vector3d$withLength,{$:"Quantity",a:.5},$ianmackenzie$elm_geometry$Direction3d$x),b:A2($ianmackenzie$elm_geometry$Vector3d$withLength,{$:"Quantity",a:.5},$ianmackenzie$elm_geometry$Direction3d$y)};return _Utils_ap(_List_fromArray([seaLevel]),_Utils_ap(A2($author$project$VisualEntities$optionally,context.displayOptions.roadPillars,pillars),_Utils_ap(A2($author$project$VisualEntities$optionally,context.displayOptions.roadCones,trackpointMarkers),_Utils_ap(A2($author$project$VisualEntities$optionally,context.displayOptions.roadTrack,roadSurfaces),_Utils_ap(A2($author$project$VisualEntities$optionally,!_Utils_eq(context.displayOptions.curtainStyle,$author$project$DisplayOptions$NoCurtain),curtains),A2($author$project$VisualEntities$optionally,context.displayOptions.centreLine,centreLine))))))}),$ianmackenzie$elm_units$Quantity$ratio=F2(function(_v0,_v1){return _v0.a/_v1.a}),$ianmackenzie$elm_1d_parameter$Parameter1d$range=F5(function(startIndex,index,divisor,_function,accumulated){for(;;){var newAccumulated=_function(index/divisor),newAccumulated=A2($elm$core$List$cons,newAccumulated,accumulated);if(_Utils_eq(index,startIndex))return newAccumulated;startIndex=startIndex,index=index-1,divisor=divisor,_function=_function,accumulated=newAccumulated}}),$ianmackenzie$elm_1d_parameter$Parameter1d$steps=F2(function(n,_function){return n<1?_List_Nil:A5($ianmackenzie$elm_1d_parameter$Parameter1d$range,0,n,n,_function,_List_Nil)}),$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectSmoothTextured=F2(function(_v0,accumulated){var position=_v0.position,v=_v0.uv,u=v.a,v=v.b;return A2($elm$core$List$cons,{normal:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Vector3d$toVec3(_v0.normal),position:$ianmackenzie$elm_geometry_linear_algebra_interop$Geometry$Interop$LinearAlgebra$Point3d$toVec3(position),uv:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,u,v)},accumulated)}),$ianmackenzie$elm_3d_scene$Scene3d$Primitives$sphere=function(){var radius={$:"Quantity",a:1},faces=A2($elm$core$List$range,0,71),vertices=A2($ianmackenzie$elm_1d_parameter$Parameter1d$steps,72,A2($ianmackenzie$elm_units$Quantity$interpolateFrom,$ianmackenzie$elm_units$Quantity$zero,{$:"Quantity",a:6.283185307179586})),m=$elm$core$Basics$ceiling(36),phiStartIndices=A2($elm$core$List$range,0,m-1),phiValues=A2($ianmackenzie$elm_1d_parameter$Parameter1d$steps,m,A2($ianmackenzie$elm_units$Quantity$interpolateFrom,{$:"Quantity",a:1.5707963267948966},{$:"Quantity",a:-1.5707963267948966})),vertices=$elm$core$Array$fromList($elm$core$List$concat(A2($elm$core$List$map,function(theta){return A2($elm$core$List$map,function(phi){return{normal:$ianmackenzie$elm_geometry$Direction3d$toVector(A2($ianmackenzie$elm_geometry$Direction3d$xyZ,theta,phi)),position:A3($ianmackenzie$elm_geometry$Point3d$xyz,A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(phi)*$ianmackenzie$elm_units$Angle$cos(theta),radius),A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$cos(phi)*$ianmackenzie$elm_units$Angle$sin(theta),radius),A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(phi),radius)),uv:{$:"#2",a:A2($ianmackenzie$elm_units$Quantity$ratio,theta,{$:"Quantity",a:6.283185307179586}),b:A2($ianmackenzie$elm_units$Quantity$ratio,A2($ianmackenzie$elm_units$Quantity$plus,{$:"Quantity",a:1.5707963267948966},phi),{$:"Quantity",a:3.141592653589793})}}},phiValues)},vertices))),linearIndex=F2(function(i,j){return i*(m+1)+j}),faces=$elm$core$List$concat(A2($elm$core$List$map,function(i){return $elm$core$List$concat(A2($elm$core$List$map,function(bottomLeftIndex){var topRightIndex=A2(linearIndex,i+1,bottomLeftIndex),topLeftIndex=A2(linearIndex,i,bottomLeftIndex),bottomRightIndex=A2(linearIndex,i+1,bottomLeftIndex+1),bottomLeftIndex=A2(linearIndex,i,bottomLeftIndex+1);return _List_fromArray([{$:"#3",a:bottomLeftIndex,b:bottomRightIndex,c:topRightIndex},{$:"#3",a:bottomLeftIndex,b:topRightIndex,c:topLeftIndex}])},phiStartIndices))},faces));return $ianmackenzie$elm_3d_scene$Scene3d$Mesh$cullBackFaces(function(givenMesh){var webGLMesh=A3($elm$core$Array$foldr,$ianmackenzie$elm_3d_scene$Scene3d$Mesh$collectSmoothTextured,_List_Nil,$ianmackenzie$elm_triangular_mesh$TriangularMesh$vertices(givenMesh));if(webGLMesh.b){var first=webGLMesh.a,rest=webGLMesh.b,webGLMesh=A2($elm_explorations$webgl$WebGL$indexedTriangles,webGLMesh,$ianmackenzie$elm_triangular_mesh$TriangularMesh$faceIndices(givenMesh));return A4($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshWithNormalsAndUvs,A2($ianmackenzie$elm_3d_scene$Scene3d$Mesh$vertexBounds,first,rest),givenMesh,webGLMesh,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces)}return $ianmackenzie$elm_3d_scene$Scene3d$Types$EmptyMesh}(A2($ianmackenzie$elm_triangular_mesh$TriangularMesh$indexed,vertices,faces)))}(),$mdgriffith$elm_ui$Internal$Style$elDescription=F2(function(stripIndex,accumulated){for(;;){var updated=A2($elm$core$Basics$modBy,144,2*stripIndex+3),d=A2($elm$core$Basics$modBy,144,2*stripIndex+2),c=2*stripIndex+1,b=2*stripIndex,updated=A2($elm$core$List$cons,{$:"#3",a:144,b:b,c:d},A2($elm$core$List$cons,{$:"#3",a:b,b:updated,c:d},A2($elm$core$List$cons,{$:"#3",a:b,b:c,c:updated},A2($elm$core$List$cons,{$:"#3",a:c,b:145,c:updated},accumulated))));if(!stripIndex)return updated;stripIndex=stripIndex-1,accumulated=updated}}),$ianmackenzie$elm_float_extra$Float$Extra$interpolateFrom=F3(function(start,end,parameter){return.5<parameter?end+(1-parameter)*(start-end):start+parameter*(end-start)}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadowMesh=($mdgriffith$elm_ui$Internal$Style$describeAlignment=A2(F2(function(stripIndex,accumulated){for(;;){var updated=A3($ianmackenzie$elm_float_extra$Float$Extra$interpolateFrom,0,6.283185307179586,stripIndex/72),updated=A2($elm$core$List$cons,{angle:updated,offsetScale:0,radiusScale:1},A2($elm$core$List$cons,{angle:updated,offsetScale:1,radiusScale:1},accumulated));if(!stripIndex)return updated;stripIndex=stripIndex-1,accumulated=updated}}),71,_List_fromArray([{angle:0,offsetScale:0,radiusScale:0},{angle:0,offsetScale:1,radiusScale:0}])),A2($elm_explorations$webgl$WebGL$indexedTriangles,$mdgriffith$elm_ui$Internal$Style$describeAlignment,A2($mdgriffith$elm_ui$Internal$Style$elDescription,71,_List_Nil))),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$sphereShadowVertex={src:"\n        precision highp float;\n        \n        attribute highp float angle;\n        attribute highp float offsetScale;\n        attribute highp float radiusScale;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 shadowLight;\n        \n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        const lowp float kPerspectiveProjection = 0.0;\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 getDirectionToLight(vec3 surfacePosition, vec4 xyz_type, vec4 rgb_parameter) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                return xyz_type.xyz;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                return normalize(lightPosition - surfacePosition);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec3 perpendicularTo(vec3 d) {\n            float absX = abs(d.x);\n            float absY = abs(d.y);\n            float absZ = abs(d.z);\n            if (absX <= absY) {\n                if (absX <= absZ) {\n                    float scale = 1.0 / length(d.zy);\n                    return vec3(0.0, -d.z * scale, d.y * scale);\n                } else {\n                    float scale = 1.0 / length(d.xy);\n                    return vec3(-d.y * scale, d.x * scale, 0.0);\n                }\n            } else {\n                if (absY <= absZ) {\n                    float scale = 1.0 / length(d.xz);\n                    return vec3(d.z * scale, 0.0, -d.x * scale);\n                } else {\n                    float scale = 1.0 / length(d.xy);\n                    return vec3(-d.y * scale, d.x * scale, 0.0);\n                }\n            }\n        }\n        \n        void main () {\n            vec4 worldCenter = getWorldPosition(vec3(0.0, 0.0, 0.0), modelScale, modelMatrix);\n            vec4 xyz_type = shadowLight[0];\n            vec4 rgb_parameter = shadowLight[1];\n            vec3 zDirection = getDirectionToLight(worldCenter.xyz, xyz_type, rgb_parameter);\n            vec3 xDirection = perpendicularTo(zDirection);\n            vec3 yDirection = cross(zDirection, xDirection);\n            float r = modelScale.x;\n            float adjustedRadius = r;\n            float zOffset = 0.0;\n            if (xyz_type.w == kPointLight) {\n                float distanceToLight = length(xyz_type.xyz - worldCenter.xyz);\n                float rSquared = r * r;\n                zOffset = rSquared / distanceToLight;\n                float zSquared = zOffset * zOffset;\n                adjustedRadius = sqrt(rSquared - zSquared) * radiusScale;\n            }\n            vec3 worldPosition =\n                worldCenter.xyz\n                    + zDirection * zOffset\n                    + xDirection * adjustedRadius * cos(angle)\n                    + yDirection * adjustedRadius * sin(angle);\n            vec3 directionToLight = getDirectionToLight(worldPosition, xyz_type, rgb_parameter);\n            float sceneDiameter = sceneProperties[3][1];\n            vec3 offset = -sceneDiameter * offsetScale * directionToLight;\n            vec4 offsetPosition = vec4(worldPosition + offset, 1.0);\n            gl_Position = projectionMatrix * (viewMatrix * offsetPosition);\n        }\n    ",attributes:{angle:"angle",offsetScale:"offsetScale",radiusScale:"radiusScale"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",shadowLight:"shadowLight",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$translateBy=F2(function(displacement,givenDrawable){return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$transformBy,function(v){v=$ianmackenzie$elm_geometry$Vector3d$unwrap(v);return{isRightHanded:!0,ix:1,iy:0,iz:0,jx:0,jy:1,jz:0,kx:0,ky:0,kz:1,px:v.x,py:v.y,pz:v.z,scale:1}}(displacement),givenDrawable)}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphere=F4(function(renderObject,r,untransformedEntity,givenSphere){untransformedEntity=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$mesh,untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Primitives$sphere),untransformedEntity=(r={$:"#2",a:renderObject,b:r}).a?r.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([untransformedEntity,$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadow()])):untransformedEntity:r.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$sphereShadow():$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty,r=function(_v0){return _v0.a.radius}(givenSphere).a;return A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$translateBy,A2($ianmackenzie$elm_geometry$Vector3d$from,$ianmackenzie$elm_geometry$Point3d$origin,function(_v0){return _v0.a.centerPoint}(givenSphere)),A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$preScale,{$:"#3",a:r,b:r,c:r},untransformedEntity))}),$ianmackenzie$elm_3d_scene$Scene3d$sphere=F2(function(givenMaterial,givenSphere){return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$sphere,!0,!1,givenMaterial,givenSphere)}),$ianmackenzie$elm_geometry$Sphere3d$withRadius=F2(function(givenRadius,givenCenterPoint){return{$:"Sphere3d",a:{centerPoint:givenCenterPoint,radius:$ianmackenzie$elm_units$Quantity$abs(givenRadius)}}}),$author$project$VisualEntities$makeStaticProfileEntities=F2(function(context,pillars){function trackpointmarker(loc){return A2($ianmackenzie$elm_3d_scene$Scene3d$sphere,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$black),A2($ianmackenzie$elm_geometry$Sphere3d$withRadius,{$:"Quantity",a:.2},loc))}function brownPillar(loc){return A2($ianmackenzie$elm_3d_scene$Scene3d$cylinder,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$brown),A3($ianmackenzie$elm_geometry$Cylinder3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,-.2),loc),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{length:A2($ianmackenzie$elm_units$Quantity$minus,$ianmackenzie$elm_geometry$Point3d$zCoordinate(loc),{$:"Quantity",a:.2}),radius:{$:"Quantity",a:.1}}))}var trackpointMarkers=_Utils_ap(A2($elm$core$List$map,function(r){return trackpointmarker(r.profileStartsAt.location)},A2($elm$core$List$take,1,pillars)),A2($elm$core$List$map,function(r){return trackpointmarker(r.profileEndsAt.location)},pillars)),curtains=$elm$core$List$concat(A2($elm$core$List$map,function(road){return _List_fromArray([A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color(function(gradient){switch(context.displayOptions.curtainStyle.$){case"RainbowCurtain":return $author$project$Utils$gradientColourVivid(gradient);case"PastelCurtain":return $author$project$Utils$gradientColourPastel(gradient);case"PlainCurtain":return A3($avh4$elm_color$Color$rgb255,0,100,0);default:return A3($avh4$elm_color$Color$rgb255,0,0,0)}}(road.gradient)),road.profileStartsAt.location,road.profileEndsAt.location,A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,road.profileEndsAt.location),A2($ianmackenzie$elm_geometry$Point3d$projectOnto,$ianmackenzie$elm_geometry$Plane3d$xy,road.profileStartsAt.location))])},pillars)),pillars=_Utils_ap(A2($elm$core$List$map,function(r){return brownPillar(r.profileStartsAt.location)},A2($elm$core$List$take,1,pillars)),A2($elm$core$List$map,function(r){return brownPillar(r.profileEndsAt.location)},pillars));return _Utils_ap(_List_Nil,_Utils_ap(A2($author$project$VisualEntities$optionally,context.displayOptions.roadPillars,pillars),_Utils_ap(A2($author$project$VisualEntities$optionally,context.displayOptions.roadCones,trackpointMarkers),A2($author$project$VisualEntities$optionally,!_Utils_eq(context.displayOptions.curtainStyle,$author$project$DisplayOptions$NoCurtain),curtains))))}),$author$project$Main$lookupRoad=F2(function(model,idx){return A2($elm$core$Array$get,idx,model.roadArray)}),$avh4$elm_color$Color$lightOrange=A4($avh4$elm_color$Color$RgbaSpace,252/255,175/255,62/255,1),$avh4$elm_color$Color$lightYellow=A4($avh4$elm_color$Color$RgbaSpace,1,233/255,79/255,1),$author$project$VisualEntities$makeVaryingProfileEntities=F2(function(context,roadList){var nudgedNodes=function(){var segmentsInvolved=context.nudgedRegionStart;if("Just"!==segmentsInvolved.$)return _List_Nil;var node1=segmentsInvolved.a,segmentsInvolved=node1?A2($elm$core$List$drop,node1-1,roadList):roadList,baselineWithElevationFromNudged=F2(function(baseline,nudgedRecord){nudgedRecord=$ianmackenzie$elm_geometry$Point3d$toMeters(nudgedRecord);return{$:"Point3d",a:_Utils_update($ianmackenzie$elm_geometry$Point3d$toMeters(baseline),{z:nudgedRecord.z})}});return A3($elm$core$List$map2,F2(function(baseline,nudged){return A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$lightYellow),baseline.profileStartsAt.location,A2(baselineWithElevationFromNudged,baseline.profileStartsAt.location,nudged.startsAt.location),A2(baselineWithElevationFromNudged,baseline.profileEndsAt.location,nudged.endsAt.location),baseline.profileEndsAt.location)}),segmentsInvolved,context.nudgedRoads)}(),markedNode=function(){var node=context.markedNode;if("Just"!==node.$)return _List_Nil;node=node.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$purple),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2.1),node.location),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{length:{$:"Quantity",a:2},radius:{$:"Quantity",a:.25}}))])}();return _Utils_ap(function(){var node=context.currentNode;if("Just"!==node.$)return _List_Nil;node=node.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$lightOrange),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),node.location),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{length:{$:"Quantity",a:1.9},radius:{$:"Quantity",a:.3}}))])}(),_Utils_ap(markedNode,nudgedNodes))}),$ianmackenzie$elm_geometry$Direction3d$from=F2(function(scaledZ,scaledY){var scaledLength=scaledZ.a,scaledX=scaledY.a,scaledZ=scaledX.z-scaledLength.z,scaledY=scaledX.y-scaledLength.y,scaledX=scaledX.x-scaledLength.x,scaledLength=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledY),$elm$core$Basics$abs(scaledZ)));if(scaledLength){scaledZ=scaledZ/scaledLength,scaledY=scaledY/scaledLength,scaledX=scaledX/scaledLength,scaledLength=$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ);return $elm$core$Maybe$Just({$:"Direction3d",a:{x:scaledX/scaledLength,y:scaledY/scaledLength,z:scaledZ/scaledLength}})}return $elm$core$Maybe$Nothing}),$author$project$VisualEntities$makeVaryingVisualEntities=F2(function(context){var nudgeElement=F2(function(colour,leftVector){var leftEdge=A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,.1),{$:"LineSegment3d",a:{$:"#2",a:leftVector.startsAt.location,b:leftVector.endsAt.location}}),rightEdge={$:"#2",a:+$elm$core$Basics$cos(leftVector.bearing),b:+$elm$core$Basics$sin(leftVector.bearing)},leftVector=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*rightEdge.a,rightEdge.b,.05),rightEdge=$ianmackenzie$elm_geometry$Vector3d$reverse(leftVector),rightEdge={$:"#2",a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftVector,leftEdge),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightEdge,leftEdge)},leftEdge=rightEdge.a,rightEdge=rightEdge.b;return A5($ianmackenzie$elm_3d_scene$Scene3d$quad,$ianmackenzie$elm_3d_scene$Scene3d$Material$color(colour),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(leftEdge),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(leftEdge),$ianmackenzie$elm_geometry$LineSegment3d$endPoint(rightEdge),$ianmackenzie$elm_geometry$LineSegment3d$startPoint(rightEdge))}),nudges=A2($elm$core$List$map,nudgeElement($avh4$elm_color$Color$lightOrange),context.nudgedRoads),markedNode=function(){var _v5={$:"#2",a:context.markedNode,b:context.viewingMode};_v5$2:for(;"Just"===_v5.a.$;)switch(_v5.b.$){case"ThirdPersonView":var node=_v5.a.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$purple),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,10.1),node.location),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{length:{$:"Quantity",a:8},radius:{$:"Quantity",a:3.5}}))]);case"PlanView":node=_v5.a.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$purple),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,10.1),node.location),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{length:{$:"Quantity",a:8},radius:{$:"Quantity",a:1.6}}))]);default:break _v5$2}return _List_Nil}();return _Utils_ap(function(){var _v2={$:"#2",a:context.currentNode,b:context.viewingMode};_v2$2:for(;"Just"===_v2.a.$;)switch(_v2.b.$){case"ThirdPersonView":var node=_v2.a.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$lightOrange),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,10.1),node.location),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{length:{$:"Quantity",a:10},radius:{$:"Quantity",a:3}}))]);case"PlanView":node=_v2.a.a;return _List_fromArray([A2($ianmackenzie$elm_3d_scene$Scene3d$cone,$ianmackenzie$elm_3d_scene$Scene3d$Material$color($avh4$elm_color$Color$lightOrange),A3($ianmackenzie$elm_geometry$Cone3d$startingAt,A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,10.1),node.location),$ianmackenzie$elm_geometry$Direction3d$negativeZ,{length:{$:"Quantity",a:10},radius:{$:"Quantity",a:1.5}}))]);default:break _v2$2}return _List_Nil}(),_Utils_ap(markedNode,_Utils_ap(A2($elm$core$List$map,nudgeElement($avh4$elm_color$Color$lightYellow),A3($elm$core$List$map2,F2(function(n1,n2){return{bearing:function(){var direction=A2($ianmackenzie$elm_geometry$Direction3d$from,n1,n2);if("Just"!==direction.$)return 0;direction=direction.a;return A2($elm$core$Basics$atan2,$ianmackenzie$elm_geometry$Direction3d$xComponent(direction),$ianmackenzie$elm_geometry$Direction3d$yComponent(direction))}(),endsAt:{location:n2},startsAt:{location:n1}}}),context.smoothedBend,A2($elm$core$List$drop,1,context.smoothedBend))),nudges)))}),$mdgriffith$elm_ui$Element$centerX={$:"AlignX",a:{$:"CenterX"}},$mdgriffith$elm_ui$Internal$Model$asColumn={$:"AsColumn"},$mdgriffith$elm_ui$Internal$Style$classes_above="a",$mdgriffith$elm_ui$Internal$Style$classes_active="atv",$mdgriffith$elm_ui$Internal$Style$classes_alignBottom="ab",$mdgriffith$elm_ui$Internal$Style$classes_alignCenterX="cx",$mdgriffith$elm_ui$Internal$Style$classes_alignCenterY="cy",$mdgriffith$elm_ui$Internal$Style$classes_alignContainerBottom="acb",$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterX="accx",$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterY="accy",$mdgriffith$elm_ui$Internal$Style$classes_alignContainerRight="acr",$mdgriffith$elm_ui$Internal$Style$classes_alignLeft="al",$mdgriffith$elm_ui$Internal$Style$classes_alignRight="ar",$mdgriffith$elm_ui$Internal$Style$classes_alignTop="at",$mdgriffith$elm_ui$Internal$Style$classes_alignedHorizontally="ah",$mdgriffith$elm_ui$Internal$Style$classes_alignedVertically="av",$mdgriffith$elm_ui$Internal$Style$classes_any="s",$mdgriffith$elm_ui$Internal$Style$classes_behind="bh",$mdgriffith$elm_ui$Internal$Style$classes_below="b",$mdgriffith$elm_ui$Internal$Style$classes_bold="w7",$mdgriffith$elm_ui$Internal$Style$classes_borderDashed="bd",$mdgriffith$elm_ui$Internal$Style$classes_borderDotted="bdt",$mdgriffith$elm_ui$Internal$Style$classes_borderNone="bn",$mdgriffith$elm_ui$Internal$Style$classes_borderSolid="bs",$mdgriffith$elm_ui$Internal$Style$classes_capturePointerEvents="cpe",$mdgriffith$elm_ui$Element$Input$white="cp",$mdgriffith$elm_ui$Internal$Style$classes_clipX="cpx",$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove="cpy",$mdgriffith$elm_ui$Internal$Style$classes_column="c",$mdgriffith$elm_ui$Internal$Style$classes_container="ctr",$mdgriffith$elm_ui$Internal$Style$classes_contentBottom="cb",$mdgriffith$elm_ui$Internal$Style$classes_contentCenterX="ccx",$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY="ccy",$mdgriffith$elm_ui$Internal$Style$classes_contentLeft="cl",$mdgriffith$elm_ui$Internal$Style$classes_contentRight="cr",$mdgriffith$elm_ui$Internal$Style$classes_contentTop="ct",$elm$svg$Svg$polygon="cptr",$mdgriffith$elm_ui$Internal$Style$classes_cursorText="ctxt",$mdgriffith$elm_ui$Internal$Style$classes_focus="fcs",$mdgriffith$elm_ui$Internal$Style$classes_focusedWithin="focus-within",$mdgriffith$elm_ui$Internal$Style$classes_fullSize="fs",$mdgriffith$elm_ui$Internal$Style$classes_hasBehind="hbh",$mdgriffith$elm_ui$Internal$Style$classes_heightContent="hc",$mdgriffith$elm_ui$Internal$Style$classes_heightExact="he",$mdgriffith$elm_ui$Internal$Style$classes_heightFill="hf",$mdgriffith$elm_ui$Internal$Style$classes_heightFillPortion="hfp",$mdgriffith$elm_ui$Internal$Style$classes_hover="hv",$mdgriffith$elm_ui$Internal$Style$classes_imageContainer="ic",$mdgriffith$elm_ui$Internal$Style$classes_inFront="fr",$mdgriffith$elm_ui$Internal$Style$classes_inputLabel="lbl",$mdgriffith$elm_ui$Internal$Style$classes_inputMultiline="iml",$mdgriffith$elm_ui$Internal$Style$classes_inputMultilineFiller="imlf",$mdgriffith$elm_ui$Internal$Style$classes_inputMultilineParent="imlp",$mdgriffith$elm_ui$Internal$Style$classes_inputMultilineWrapper="implw",$mdgriffith$elm_ui$Internal$Style$classes_inputText="it",decs="i",$mdgriffith$elm_ui$Internal$Style$classes_link="lnk",$mdgriffith$elm_ui$Internal$Style$classes_nearby="nb",$mdgriffith$elm_ui$Internal$Style$classes_noTextSelection="notxt",$mdgriffith$elm_ui$Internal$Style$classes_onLeft="ol",$mdgriffith$elm_ui$Internal$Style$classes_onRight="or",$mdgriffith$elm_ui$Internal$Style$classes_opaque="oq",$mdgriffith$elm_ui$Internal$Style$classes_page="pg",$mdgriffith$elm_ui$Internal$Style$classes_paragraph="p",$mdgriffith$elm_ui$Internal$Style$classes_passPointerEvents="ppe",$mdgriffith$elm_ui$Internal$Style$classes_root="ui",$mdgriffith$elm_ui$Internal$Style$classes_row="r",$mdgriffith$elm_ui$Internal$Style$classes_scrollbars="sb",$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsX="sbx",$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsY="sby",$mdgriffith$elm_ui$Internal$Style$classes_seButton="sbt",$mdgriffith$elm_ui$Internal$Style$classes_single="e",$mdgriffith$elm_ui$Internal$Style$classes_sizeByCapital="cap",$elm_explorations$webgl$WebGL$Settings$Blend$customAdd="sev",color="sk",$mdgriffith$elm_ui$Internal$Style$classes_text="t",$mdgriffith$elm_ui$Internal$Model$FontFamily="tc",$mdgriffith$elm_ui$Internal$Style$classes_textExtraBold="w8",$mdgriffith$elm_ui$Internal$Style$classes_textExtraLight="w2",$mdgriffith$elm_ui$Internal$Style$classes_textHeavy="w9",$elm$svg$Svg$Attributes$x1="tj",$mdgriffith$elm_ui$Element$rgb="tja",$mdgriffith$elm_ui$Internal$Model$Attr="tl",$mdgriffith$elm_ui$Internal$Style$classes_textLight="w3",$mdgriffith$elm_ui$Internal$Style$classes_textMedium="w5",$mdgriffith$elm_ui$Internal$Style$classes_textNormalWeight="w4",$elm$html$Html$Attributes$spellcheck="tr",$mdgriffith$elm_ui$Internal$Style$classes_textSemiBold="w6",$mdgriffith$elm_ui$Internal$Style$classes_textThin="w1",$mdgriffith$elm_ui$Element$Input$darkGrey="tun",$mdgriffith$elm_ui$Internal$Style$classes_transition="ts",$mdgriffith$elm_ui$Internal$Style$classes_transparent="clr",$mdgriffith$elm_ui$Internal$Model$Focus="u",$mdgriffith$elm_ui$Internal$Style$classes_widthContent="wc",$mdgriffith$elm_ui$Internal$Style$classes_widthExact="we",$mdgriffith$elm_ui$Internal$Style$classes_widthFill="wf",$mdgriffith$elm_ui$Internal$Style$classes_widthFillPortion="wfp",$mdgriffith$elm_ui$Internal$Style$classes_wrapped="wrp",$mdgriffith$elm_ui$Internal$Model$div={$:"Generic"},$mdgriffith$elm_ui$Internal$Model$NoNearbyChildren={$:"NoNearbyChildren"},$mdgriffith$elm_ui$Internal$Model$columnClass=$mdgriffith$elm_ui$Internal$Style$classes_any+" "+$mdgriffith$elm_ui$Internal$Style$classes_column,$mdgriffith$elm_ui$Internal$Model$gridClass=$mdgriffith$elm_ui$Internal$Style$classes_any+" "+($mdgriffith$elm_ui$Internal$Style$classes_grid="g"),$mdgriffith$elm_ui$Internal$Model$pageClass=$mdgriffith$elm_ui$Internal$Style$classes_any+" "+$mdgriffith$elm_ui$Internal$Style$classes_page,$mdgriffith$elm_ui$Internal$Model$paragraphClass=$mdgriffith$elm_ui$Internal$Style$classes_any+" "+$mdgriffith$elm_ui$Internal$Style$classes_paragraph,$mdgriffith$elm_ui$Internal$Model$rowClass=$mdgriffith$elm_ui$Internal$Style$classes_any+" "+$mdgriffith$elm_ui$Internal$Style$classes_row,$mdgriffith$elm_ui$Internal$Model$singleClass=$mdgriffith$elm_ui$Internal$Style$classes_any+" "+$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Model$NoStyleSheet={$:"NoStyleSheet"},$elm$svg$Svg$line=function(a){return{$:"Unstyled",a:a}},$mdgriffith$elm_ui$Internal$Model$addChildren=F2(function(existing,nearbyChildren){switch(nearbyChildren.$){case"NoNearbyChildren":return existing;case"ChildrenBehind":return _Utils_ap(nearbyChildren.a,existing);case"ChildrenInFront":return _Utils_ap(existing,nearbyChildren.a);default:return _Utils_ap(nearbyChildren.a,_Utils_ap(existing,nearbyChildren.b))}}),$mdgriffith$elm_ui$Internal$Model$addKeyedChildren=F3(function(key,existing,nearbyChildren){switch(nearbyChildren.$){case"NoNearbyChildren":return existing;case"ChildrenBehind":return _Utils_ap(A2($elm$core$List$map,function(x){return{$:"#2",a:key,b:x}},nearbyChildren.a),existing);case"ChildrenInFront":return _Utils_ap(existing,A2($elm$core$List$map,function(x){return{$:"#2",a:key,b:x}},inFront=nearbyChildren.a));default:var inFront=nearbyChildren.b;return _Utils_ap(A2($elm$core$List$map,function(x){return{$:"#2",a:key,b:x}},nearbyChildren.a),_Utils_ap(existing,A2($elm$core$List$map,function(x){return{$:"#2",a:key,b:x}},inFront)))}}),$mdgriffith$elm_ui$Internal$Model$asEl={$:"AsEl"},$mdgriffith$elm_ui$Internal$Model$asParagraph={$:"AsParagraph"},$mdgriffith$elm_ui$Internal$Flag$alignBottom=(alpha=function(i){return 31<i?{$:"Second",a:1<<i-32}:{$:"Flag",a:1<<i}})(41),$mdgriffith$elm_ui$Internal$Flag$alignRight=alpha(40),$mdgriffith$elm_ui$Internal$Flag$centerX=alpha(42),$mdgriffith$elm_ui$Internal$Flag$centerY=alpha(43),$elm$json$Json$Encode$string=_Json_wrap,$elm$html$Html$Attributes$stringProperty=F2(function(key,string){return A2(_VirtualDom_property,key,$elm$json$Json$Encode$string(string))}),$elm$html$Html$Attributes$class=$elm$html$Html$Attributes$stringProperty("className"),$elm$html$Html$div=_VirtualDom_node("div"),$elm$core$Set$empty={$:"Set_elm_builtin",a:$elm$core$Dict$empty},$mdgriffith$elm_ui$Internal$Model$lengthClassName=function(x){switch(x.$){case"Px":return $elm$core$String$fromInt(x.a)+"px";case"Content":return"auto";case"Fill":return $elm$core$String$fromInt(x.a)+"fr";case"Min":var len=x.b;return"min"+($elm$core$String$fromInt(x.a)+$mdgriffith$elm_ui$Internal$Model$lengthClassName(len));default:len=x.b;return"max"+($elm$core$String$fromInt(x.a)+$mdgriffith$elm_ui$Internal$Model$lengthClassName(len))}},$elm$core$Basics$round=$mdgriffith$elm_ui$Internal$Style$locations,$mdgriffith$elm_ui$Internal$Model$getStyleName=function(style){switch(style.$){case"Shadows":return name=style.a;case"Transparency":return name=style.a;case"Style":return style.a;case"FontFamily":return name=style.a;case"FontSize":return"font-size-"+$elm$core$String$fromInt(style.a);case"Single":case"Colored":return style.a;case"SpacingStyle":return style.a;case"PaddingStyle":case"BorderWidth":return style.a;case"GridTemplateStyle":var template=style.a;return"grid-rows-"+A2($elm$core$String$join,"-",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$lengthClassName,template.rows))+("-cols-"+A2($elm$core$String$join,"-",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$lengthClassName,template.columns))+("-space-x-"+$mdgriffith$elm_ui$Internal$Model$lengthClassName(template.spacing.a)+("-space-y-"+$mdgriffith$elm_ui$Internal$Model$lengthClassName(template.spacing.b))));case"GridPosition":var subStyle=style.a;return"gp grid-pos-"+$elm$core$String$fromInt(subStyle.row)+("-"+$elm$core$String$fromInt(subStyle.col)+("-"+$elm$core$String$fromInt(subStyle.width)+("-"+$elm$core$String$fromInt(subStyle.height))));case"PseudoSelector":var selector=style.a,subStyle=style.b,name=function(){switch(selector.$){case"Focus":return"fs";case"Hover":return"hv";default:return"act"}}();return A2($elm$core$String$join," ",A2($elm$core$List$map,function(_v1){_v1=$mdgriffith$elm_ui$Internal$Model$getStyleName(_v1);return""===_v1?"":_v1+"-"+name},subStyle));default:return A2($elm$core$Maybe$withDefault,"",$mdgriffith$elm_ui$Internal$Model$transformClass(style.a))}},$elm$core$Set$insert=F2(function(key,_v0){return{$:"Set_elm_builtin",a:A3($elm$core$Dict$insert,key,_Utils_Tuple0,_v0.a)}}),$elm$core$Dict$member=F2(function(key,dict){return"Just"===A2($elm$core$Dict$get,key,dict).$}),$elm$core$Set$member=F2(function(key,_v0){return A2($elm$core$Dict$member,key,_v0.a)}),$mdgriffith$elm_ui$Internal$Model$reduceStyles=F2(function(style,nevermind){var cache=nevermind.a,existing=nevermind.b,styleName=$mdgriffith$elm_ui$Internal$Model$getStyleName(style);return A2($elm$core$Set$member,styleName,cache)?nevermind:{$:"#2",a:A2($elm$core$Set$insert,styleName,cache),b:A2($elm$core$List$cons,style,existing)}}),$mdgriffith$elm_ui$Internal$Model$Property=F2(function(a,b){return{$:"Property",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$Style=F2(function(a,b){return{$:"Style",a:a,b:b}}),$elm$core$String$fromFloat=_String_fromNumber,$elm$core$Tuple$mapFirst=F2(function(func,_v0){var y=_v0.b;return{$:"#2",a:func(_v0.a),b:y}}),$elm$core$Tuple$mapSecond=F2(function(func,_v0){return{$:"#2",a:_v0.a,b:func(_v0.b)}}),$elm$virtual_dom$VirtualDom$property=F2(function(key,value){return A2(_VirtualDom_property,function(key){return"innerHTML"==key||"formAction"==key?"data-"+key:key}(key),_VirtualDom_noJavaScriptOrHtmlUri(value))}),$mdgriffith$elm_ui$Internal$Style$AllChildren=F2(function(a,b){return{$:"AllChildren",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Child=F2(function(a,b){return{$:"Child",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Class=F2(function(a,b){return{$:"Class",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Descriptor=F2(function(a,b){return{$:"Descriptor",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Left={$:"Left"},$mdgriffith$elm_ui$Internal$Style$Prop=F2(function(a,b){return{$:"Prop",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$Right={$:"Right"},$mdgriffith$elm_ui$Internal$Style$Supports=F2(function(a,b){return{$:"Supports",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Style$alignments=_List_fromArray([{$:"Top"},{$:"Bottom"},$mdgriffith$elm_ui$Internal$Style$Right,$mdgriffith$elm_ui$Internal$Style$Left,{$:"CenterX"},{$:"CenterY"}]),$mdgriffith$elm_ui$Internal$Style$describeAlignment=function(values){return{$:"Batch",a:A2($elm$core$List$concatMap,function(alignment){var indiv=values(alignment),content=indiv.a,indiv=indiv.b;return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,function(desc){switch(desc.a.$){case"Top":return"."+$mdgriffith$elm_ui$Internal$Style$classes_contentTop;case"Bottom":return"."+$mdgriffith$elm_ui$Internal$Style$classes_contentBottom;case"Right":return"."+$mdgriffith$elm_ui$Internal$Style$classes_contentRight;case"Left":return"."+$mdgriffith$elm_ui$Internal$Style$classes_contentLeft;case"CenterX":return"."+$mdgriffith$elm_ui$Internal$Style$classes_contentCenterX;default:return"."+$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY}}({$:"Content",a:alignment}),content),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$selfName({$:"Self",a:alignment}),indiv)]))])},$mdgriffith$elm_ui$Internal$Style$alignments)}},$mdgriffith$elm_ui$Internal$Style$elDescription=_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","column"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_hasBehind,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","0"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_behind,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","-1")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_seButton,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_text,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","auto !important")]))]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightContent,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","100000")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthFillPortion,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthContent,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment.$){case"Top":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","0 !important")])};case"Bottom":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","0 !important")])};case"Right":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-end")])};case"Left":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])};case"CenterX":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","center")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","center")])};default:return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto")]))]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important")])}}})]),$mdgriffith$elm_ui$Internal$Style$Above={$:"Above"},$mdgriffith$elm_ui$Internal$Style$Behind={$:"Behind"},$mdgriffith$elm_ui$Internal$Style$Below={$:"Below"},$mdgriffith$elm_ui$Internal$Style$OnLeft={$:"OnLeft"},$mdgriffith$elm_ui$Internal$Style$OnRight={$:"OnRight"},$mdgriffith$elm_ui$Internal$Style$Within={$:"Within"},$mdgriffith$elm_ui$Internal$Style$locations=function(){var loc=$mdgriffith$elm_ui$Internal$Style$Above;!function(){switch(loc.$){case"Above":case"Below":case"OnRight":case"OnLeft":case"Within":default:;}}();return _List_fromArray([$mdgriffith$elm_ui$Internal$Style$Above,$mdgriffith$elm_ui$Internal$Style$Below,$mdgriffith$elm_ui$Internal$Style$OnRight,$mdgriffith$elm_ui$Internal$Style$OnLeft,$mdgriffith$elm_ui$Internal$Style$Within,$mdgriffith$elm_ui$Internal$Style$Behind])}(),color=_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Class,"html,body",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"padding","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0")])),A2($mdgriffith$elm_ui$Internal$Style$Class,_Utils_ap("."+$mdgriffith$elm_ui$Internal$Style$classes_any,_Utils_ap("."+$mdgriffith$elm_ui$Internal$Style$classes_single,"."+$mdgriffith$elm_ui$Internal$Style$classes_imageContainer)),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","block"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"img",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"max-height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"object-fit","cover")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"img",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"max-width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"object-fit","cover")]))]))])),A2($mdgriffith$elm_ui$Internal$Style$Class,"."+$mdgriffith$elm_ui$Internal$Style$classes_any+":focus",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"outline","none")])),A2($mdgriffith$elm_ui$Internal$Style$Class,"."+$mdgriffith$elm_ui$Internal$Style$classes_root,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"min-height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","0"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,_Utils_ap("."+$mdgriffith$elm_ui$Internal$Style$classes_any,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightFill),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_inFront,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_nearby,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","fixed"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20")]))]))])),A2($mdgriffith$elm_ui$Internal$Style$Class,"."+$mdgriffith$elm_ui$Internal$Style$classes_nearby,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","relative"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"border","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","row"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$elDescription),{$:"Batch",a:A2($elm$core$List$map,function(loc){switch(loc.$){case"Above":return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_above),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"bottom","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Child,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_heightFill),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Child,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_widthFill),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]));case"Below":return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_below),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"bottom","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Child,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_heightFill),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","auto")]))]));case"OnRight":return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_onRight),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]));case"OnLeft":return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_onLeft),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"right","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","20"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]));case"Within":return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_inFront),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]));default:return A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$dot($mdgriffith$elm_ui$Internal$Style$classes_behind),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","absolute"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none"),A2($mdgriffith$elm_ui$Internal$Style$Child,"*",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto")]))]))}},$mdgriffith$elm_ui$Internal$Style$locations)}])),A2($mdgriffith$elm_ui$Internal$Style$Class,"."+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","relative"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"border","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","row"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"resize","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-feature-settings","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"box-sizing","border-box"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"padding","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-width","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-style","solid"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-size","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"color","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-family","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"line-height","1"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-style","inherit"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_wrapped,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-wrap","wrap")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_noTextSelection,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"-moz-user-select","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"-webkit-user-select","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"-ms-user-select","none"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"user-select","none")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm$svg$Svg$polygon,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"cursor","pointer")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_cursorText,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"cursor","text")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_passPointerEvents,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none !important")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_capturePointerEvents,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","auto !important")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_transparent,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_opaque,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_hover,$mdgriffith$elm_ui$Internal$Style$classes_transparent)+":hover",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_hover,$mdgriffith$elm_ui$Internal$Style$classes_opaque)+":hover",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_focus,$mdgriffith$elm_ui$Internal$Style$classes_transparent)+":focus",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_focus,$mdgriffith$elm_ui$Internal$Style$classes_opaque)+":focus",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_active,$mdgriffith$elm_ui$Internal$Style$classes_transparent)+":active",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+_Utils_ap($mdgriffith$elm_ui$Internal$Style$classes_active,$mdgriffith$elm_ui$Internal$Style$classes_opaque)+":active",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"opacity","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_transition,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"transition",A2($elm$core$String$join,", ",A2($elm$core$List$map,function(x){return x+" 160ms"},_List_fromArray(["transform","opacity","filter","background-color","color","font-size"]))))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_scrollbars,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-x","auto"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_row,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","1")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-y","auto"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_column,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","1")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_single,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-shrink","1")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Element$Input$white,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow","hidden")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_clipX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-x","hidden")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-y","hidden")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthContent,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_borderNone,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-width","0")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_borderDashed,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-style","dashed")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_borderDotted,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-style","dotted")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_borderSolid,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-style","solid")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_text,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline-block")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_inputText,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"line-height","1.05"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"background","transparent"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","inherit")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$elDescription),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_row,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","row"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","0%"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthExact,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_link,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","stretch !important")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightFillPortion,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","stretch !important")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","100000")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_container,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","stretch")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"u:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerRight,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-left","auto !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:last-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-right","auto !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:only-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:last-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterX+" ~ u",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"u:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerRight+" ~ s."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterX,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment.$){case"Top":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])};case"Bottom":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-end")])};case"Right":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-end")]),b:_List_Nil};case"Left":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-start")]),b:_List_Nil};case"CenterX":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","center")]),b:_List_Nil};default:return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","center")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","center")])}}}),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm_explorations$webgl$WebGL$Settings$Blend$customAdd,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","space-between")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_inputLabel,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","baseline")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_column,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-direction","column"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","0px"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"min-height","min-content"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightExact,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_heightFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","100000")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthFill,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthFillPortion,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthContent,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"u:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerBottom,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","0 !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:last-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","0 !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:only-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","1"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto !important")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"s:last-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterY+" ~ u",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"u:first-of-type."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerBottom+" ~ s."+$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterY,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment.$){case"Top":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-bottom","auto")])};case"Bottom":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin-top","auto")])};case"Right":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-end")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-end")])};case"Left":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-start")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","flex-start")])};case"CenterX":return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","center")]),b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","center")])};default:return{$:"#2",a:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","center")]),b:_List_Nil}}}),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_container,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-grow","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-self","stretch !important")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm_explorations$webgl$WebGL$Settings$Blend$customAdd,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","space-between")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_grid,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","-ms-grid"),A2($mdgriffith$elm_ui$Internal$Style$Child,".gp",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%")]))])),A2($mdgriffith$elm_ui$Internal$Style$Supports,{$:"#2",a:"display",b:"grid"},_List_fromArray([{$:"#2",a:"display",b:"grid"}])),(values=function(alignment){switch(alignment.$){case"Top":return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-start")]);case"Bottom":return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","flex-end")]);case"Right":return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-end")]);case"Left":return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","flex-start")]);case"CenterX":return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"align-items","center")]);default:return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"justify-content","center")])}},{$:"Batch",a:A2($elm$core$List$concatMap,function(alignment){return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,$mdgriffith$elm_ui$Internal$Style$selfName({$:"Self",a:alignment}),values(alignment))]))])},$mdgriffith$elm_ui$Internal$Style$alignments)})])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_page,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","block"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any+":first-child",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any+($mdgriffith$elm_ui$Internal$Style$selfName({$:"Self",a:$mdgriffith$elm_ui$Internal$Style$Left})+":first-child + .")+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_any+($mdgriffith$elm_ui$Internal$Style$selfName({$:"Self",a:$mdgriffith$elm_ui$Internal$Style$Right})+":first-child + .")+$mdgriffith$elm_ui$Internal$Style$classes_any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"margin","0 !important")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment.$){case"Top":case"Bottom":return{$:"#2",a:_List_Nil,b:_List_Nil};case"Right":return{$:"#2",a:_List_Nil,b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"float","right"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"::after",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"content",'""'),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","table"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"clear","both")]))])};case"Left":return{$:"#2",a:_List_Nil,b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"float","left"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"::after",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"content",'""'),A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","table"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"clear","both")]))])};case"CenterX":default:return{$:"#2",a:_List_Nil,b:_List_Nil}}})])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_inputMultiline,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre-wrap !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"background-color","transparent")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_inputMultilineWrapper,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_single,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"flex-basis","auto")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_inputMultilineParent,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre-wrap !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"cursor","text"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_inputMultilineFiller,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","pre-wrap !important"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"color","transparent")]))])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_paragraph,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","block"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","normal"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"overflow-wrap","break-word"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_hasBehind,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","0"),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_behind,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"z-index","-1")]))])),A2($mdgriffith$elm_ui$Internal$Style$AllChildren,"."+$mdgriffith$elm_ui$Internal$Style$classes_text,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","normal")])),A2($mdgriffith$elm_ui$Internal$Style$AllChildren,"."+$mdgriffith$elm_ui$Internal$Style$classes_paragraph,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"::after",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"content","none")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"::before",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"content","none")]))])),A2($mdgriffith$elm_ui$Internal$Style$AllChildren,"."+$mdgriffith$elm_ui$Internal$Style$classes_single,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","normal"),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_widthExact,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline-block")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_inFront,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_behind,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_above,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_below,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_onRight,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_onLeft,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","flex")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_text,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"white-space","normal")]))])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_row,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_column,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline-flex")])),A2($mdgriffith$elm_ui$Internal$Style$Child,"."+$mdgriffith$elm_ui$Internal$Style$classes_grid,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","inline-grid")])),$mdgriffith$elm_ui$Internal$Style$describeAlignment(function(alignment){switch(alignment.$){case"Top":case"Bottom":return{$:"#2",a:_List_Nil,b:_List_Nil};case"Right":return{$:"#2",a:_List_Nil,b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"float","right")])};case"Left":return{$:"#2",a:_List_Nil,b:_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"float","left")])};case"CenterX":default:return{$:"#2",a:_List_Nil,b:_List_Nil}}})])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,".hidden",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"display","none")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_textThin,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","100")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_textExtraLight,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","200")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_textLight,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","300")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_textNormalWeight,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","400")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_textMedium,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","500")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_textSemiBold,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","600")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_bold,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","700")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_textExtraBold,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","800")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Style$classes_textHeavy,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-weight","900")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+decs,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-style","italic")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+color,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration","line-through")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Model$Focus,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration","underline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration-skip-ink","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration-skip","ink")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,_Utils_ap("."+$mdgriffith$elm_ui$Internal$Model$Focus,"."+color),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration","line-through underline"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration-skip-ink","auto"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-decoration-skip","ink")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Element$Input$darkGrey,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-style","normal")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm$svg$Svg$Attributes$x1,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","justify")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Element$rgb,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","justify-all")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Model$FontFamily,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","center")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$elm$html$Html$Attributes$spellcheck,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","right")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,"."+$mdgriffith$elm_ui$Internal$Model$Attr,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"text-align","left")])),A2($mdgriffith$elm_ui$Internal$Style$Descriptor,".modal",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"position","fixed"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"left","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"top","0"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"width","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"height","100%"),A2($mdgriffith$elm_ui$Internal$Style$Prop,"pointer-events","none")]))]))]),$mdgriffith$elm_ui$Element$Input$darkGrey=function(_var){return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Class,".v-"+_var,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-feature-settings",'"'+_var+'"')])),A2($mdgriffith$elm_ui$Internal$Style$Class,".v-"+_var+"-off",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-feature-settings",'"'+_var+'" 0')]))])},$elm$svg$Svg$Attributes$x1=$elm$core$List$concat(_List_fromArray([A2($elm$core$List$map,function(x){return A2($mdgriffith$elm_ui$Internal$Style$Class,".border-"+$elm$core$String$fromInt(x),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"border-width",$elm$core$String$fromInt(x)+"px")]))},A2($elm$core$List$range,0,6)),A2($elm$core$List$map,function(i){return A2($mdgriffith$elm_ui$Internal$Style$Class,".font-size-"+$elm$core$String$fromInt(i),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-size",$elm$core$String$fromInt(i)+"px")]))},A2($elm$core$List$range,8,32)),A2($elm$core$List$map,function(i){return A2($mdgriffith$elm_ui$Internal$Style$Class,".p-"+$elm$core$String$fromInt(i),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"padding",$elm$core$String$fromInt(i)+"px")]))},A2($elm$core$List$range,0,24)),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Class,".v-smcp",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-variant","small-caps")])),A2($mdgriffith$elm_ui$Internal$Style$Class,".v-smcp-off",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Style$Prop,"font-variant","normal")]))]),$mdgriffith$elm_ui$Element$Input$darkGrey("zero"),$mdgriffith$elm_ui$Element$Input$darkGrey("onum"),$mdgriffith$elm_ui$Element$Input$darkGrey("liga"),$mdgriffith$elm_ui$Element$Input$darkGrey("dlig"),$mdgriffith$elm_ui$Element$Input$darkGrey("ordn"),$mdgriffith$elm_ui$Element$Input$darkGrey("tnum"),$mdgriffith$elm_ui$Element$Input$darkGrey("afrc"),$mdgriffith$elm_ui$Element$Input$darkGrey("frac")])),$mdgriffith$elm_ui$Element$rgb="@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {."+$mdgriffith$elm_ui$Internal$Style$classes_any+"."+$mdgriffith$elm_ui$Internal$Style$classes_row+" > ."+$mdgriffith$elm_ui$Internal$Style$classes_any+" { flex-basis: auto !important; } ."+$mdgriffith$elm_ui$Internal$Style$classes_any+"."+$mdgriffith$elm_ui$Internal$Style$classes_row+" > ."+$mdgriffith$elm_ui$Internal$Style$classes_any+"."+$mdgriffith$elm_ui$Internal$Style$classes_container+' { flex-basis: auto !important; }}\ninput[type="search"],\ninput[type="search"]::-webkit-search-decoration,\ninput[type="search"]::-webkit-search-cancel-button,\ninput[type="search"]::-webkit-search-results-button,\ninput[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance:none;\n}\n\ninput[type=range] {\n  -webkit-appearance: none; \n  background: transparent;\n  position:absolute;\n  left:0;\n  top:0;\n  z-index:10;\n  width: 100%;\n  outline: dashed 1px;\n  height: 100%;\n  opacity: 0;\n}\n\ninput[type=range]::-moz-range-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-ms-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-webkit-slider-runnable-track {\n    background: transparent;\n    cursor: pointer;\n}\n\ninput[type=range]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-moz-range-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-ms-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range][orient=vertical]{\n    writing-mode: bt-lr; /* IE */\n    -webkit-appearance: slider-vertical;  /* WebKit */\n}\n'+("\n.explain {\n    border: 6px solid rgb(174, 121, 15) !important;\n}\n.explain > ."+$mdgriffith$elm_ui$Internal$Style$classes_any+" {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n.ctr {\n    border: none !important;\n}\n.explain > .ctr > ."+$mdgriffith$elm_ui$Internal$Style$classes_any+" {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n"),$mdgriffith$elm_ui$Internal$Style$emptyIntermediate=F2(function(selector,closing){return{$:"Intermediate",a:{closing:closing,others:_List_Nil,props:_List_Nil,selector:selector}}}),$mdgriffith$elm_ui$Internal$Style$renderRules=F2(function(_v0,rulesToRender){var parent=_v0.a;return{$:"Intermediate",a:A3($elm$core$List$foldr,F2(function(rule,rendered){switch(rule.$){case"Prop":return _Utils_update(rendered,{props:A2($elm$core$List$cons,{$:"#2",a:rule.a,b:rule.b},rendered.props)});case"Supports":var adjRules=rule.a;return _Utils_update(rendered,{others:A2($elm$core$List$cons,{$:"Intermediate",a:{closing:"\n}",others:_List_Nil,props:rule.b,selector:"@supports ("+adjRules.a+":"+adjRules.b+") {"+parent.selector}},rendered.others)});case"Adjacent":adjRules=rule.b;return _Utils_update(rendered,{others:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,parent.selector+" + "+rule.a,""),adjRules),rendered.others)});case"Child":var childRules=rule.b;return _Utils_update(rendered,{others:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,parent.selector+" > "+rule.a,""),childRules),rendered.others)});case"AllChildren":childRules=rule.b;return _Utils_update(rendered,{others:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,parent.selector+" "+rule.a,""),childRules),rendered.others)});case"Descriptor":var batched=rule.b;return _Utils_update(rendered,{others:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,_Utils_ap(parent.selector,rule.a),""),batched),rendered.others)});default:batched=rule.a;return _Utils_update(rendered,{others:A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,parent.selector,""),batched),rendered.others)})}}),parent,rulesToRender)}}),$mdgriffith$elm_ui$Internal$Style$rules=_Utils_ap($mdgriffith$elm_ui$Element$rgb,(decs=_Utils_ap(color,$elm$svg$Svg$Attributes$x1),$elm$core$String$concat(A2($elm$core$List$map,renderIntermediate=function(rule){rule=rule.a;return _Utils_ap(renderClass(rule),$elm$core$String$concat(A2($elm$core$List$map,renderIntermediate,rule.others)))},A3($elm$core$List$foldr,F2(function(_v1,existing){var styleRules=_v1.b;return A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Style$renderRules,A2($mdgriffith$elm_ui$Internal$Style$emptyIntermediate,_v1.a,""),styleRules),existing)}),_List_Nil,decs)))));function renderClass(rule){return rule.props.b?rule.selector+("{"+($elm$core$String$concat(A2($elm$core$List$map,function(_v3){return _v3.a+":"+_v3.b+";"},rule.props))+(rule.closing+"}"))):""}function $mdgriffith$elm_ui$Internal$Model$staticRoot(opts){switch(opts.mode.$){case"Layout":return A3($elm$virtual_dom$VirtualDom$node,"div",_List_Nil,_List_fromArray([A3($elm$virtual_dom$VirtualDom$node,"style",_List_Nil,_List_fromArray([$elm$virtual_dom$VirtualDom$text($mdgriffith$elm_ui$Internal$Style$rules)]))]));case"NoStaticStyleSheet":return $elm$virtual_dom$VirtualDom$text("");default:return A3($elm$virtual_dom$VirtualDom$node,"elm-ui-static-rules",_List_fromArray([A2($elm$virtual_dom$VirtualDom$property,"rules",$elm$json$Json$Encode$string($mdgriffith$elm_ui$Internal$Style$rules))]),_List_Nil)}}function $elm$json$Json$Encode$object(pairs){return{$:0,a:A3($elm$core$List$foldl,F2(function(_v0,obj){return A3(_Json_addField,_v0.a,_v0.b,obj)}),{},pairs)}}function $mdgriffith$elm_ui$Internal$Model$fontName(font){switch(font.$){case"Serif":return"serif";case"SansSerif":return"sans-serif";case"Monospace":return"monospace";case"Typeface":return'"'+font.a+'"';case"ImportFont":return'"'+font.a+'"';default:return'"'+font.a.name+'"'}}function $mdgriffith$elm_ui$Internal$Model$isSmallCaps(_var){switch(_var.$){case"VariantActive":return"smcp"===_var.a;case"VariantOff":return!1;default:return"smcp"===_var.a&&1===_var.b}}function $mdgriffith$elm_ui$Internal$Model$hasSmallCaps(typeface){return"FontWith"===typeface.$&&A2($elm$core$List$any,$mdgriffith$elm_ui$Internal$Model$isSmallCaps,typeface.a.variants)}function $mdgriffith$elm_ui$Internal$Model$renderVariant(_var){switch(_var.$){case"VariantActive":return'"'+_var.a+'"';case"VariantOff":return'"'+_var.a+'" 0';default:return'"'+_var.a+('" '+$elm$core$String$fromInt(_var.b))}}function $mdgriffith$elm_ui$Internal$Model$renderVariants(typeface){return"FontWith"!==typeface.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(A2($elm$core$String$join,", ",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$renderVariant,typeface.a.variants)))}function $elm$core$List$minimum(list){return list.b?$elm$core$Maybe$Just(A3($elm$core$List$foldl,$elm$core$Basics$min,list.a,list.b)):$elm$core$Maybe$Nothing}function $mdgriffith$elm_ui$Internal$Model$convertAdjustment(ascender){var fullSize=_List_fromArray([ascender.capital,ascender.baseline,ascender.descender,ascender.lowercase]),descender=A2($elm$core$Maybe$withDefault,ascender.descender,$elm$core$List$minimum(fullSize)),newBaseline=A2($elm$core$Maybe$withDefault,ascender.baseline,$elm$core$List$minimum(A2($elm$core$List$filter,function(x){return!_Utils_eq(x,descender)},fullSize))),fullSize=1/((ascender=A2($elm$core$Maybe$withDefault,ascender.capital,(fullVertical=fullSize).b?$elm$core$Maybe$Just(A3($elm$core$List$foldl,$elm$core$Basics$max,fullVertical.a,fullVertical.b)):$elm$core$Maybe$Nothing))-descender),fullVertical=1-ascender;return{capital:A3($mdgriffith$elm_ui$Internal$Model$adjust,1/(ascender-newBaseline),ascender-newBaseline,1-ascender),full:A3($mdgriffith$elm_ui$Internal$Model$adjust,fullSize,ascender-descender,fullVertical)}}function $mdgriffith$elm_ui$Internal$Model$fontAdjustmentRules(converted){return{$:"#2",a:_List_fromArray([{$:"#2",a:"display",b:"block"}]),b:_List_fromArray([{$:"#2",a:"display",b:"inline-block"},{$:"#2",a:"line-height",b:$elm$core$String$fromFloat(converted.height)},{$:"#2",a:"vertical-align",b:$elm$core$String$fromFloat(converted.vertical)+"em"},{$:"#2",a:"font-size",b:$elm$core$String$fromFloat(converted.size)+"em"}])}}function $mdgriffith$elm_ui$Internal$Model$renderTopLevelValues(rules){function withImport(font){return"ImportFont"!==font.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just("@import url('"+font.b+"');")}function fontImports(_v2){return A2($elm$core$String$join,"\n",A2($elm$core$List$filterMap,withImport,_v2.b))}function fontAdjustments(_v0){var name=_v0.a,_v0=function(typefaces){return A3($elm$core$List$foldl,F2(function(adjustment,found){if("Nothing"!==found.$)return found;if("FontWith"!==adjustment.$)return found;adjustment=adjustment.a.adjustment;if("Nothing"===adjustment.$)return found;adjustment=adjustment.a;return $elm$core$Maybe$Just({$:"#2",a:$mdgriffith$elm_ui$Internal$Model$fontAdjustmentRules($mdgriffith$elm_ui$Internal$Model$convertAdjustment(adjustment).full),b:$mdgriffith$elm_ui$Internal$Model$fontAdjustmentRules($mdgriffith$elm_ui$Internal$Model$convertAdjustment(adjustment).capital)})}),$elm$core$Maybe$Nothing,typefaces)}(_v0.b);return A2($elm$core$String$join,"",A2($elm$core$List$map,"Nothing"===_v0.$?$mdgriffith$elm_ui$Internal$Model$renderNullAdjustmentRule(name):A2($mdgriffith$elm_ui$Internal$Model$renderFontAdjustmentRule,name,_v0.a),allNames))}var allNames=A2($elm$core$List$map,$elm$core$Tuple$first,rules);return _Utils_ap(A2($elm$core$String$join,"\n",A2($elm$core$List$map,fontImports,rules)),A2($elm$core$String$join,"\n",A2($elm$core$List$map,fontAdjustments,rules)))}function $elm$virtual_dom$VirtualDom$keyedNode(tag){return _VirtualDom_keyedNode(_VirtualDom_noScript(tag))}function $mdgriffith$elm_ui$Internal$Model$textElement(str){return A2($elm$html$Html$div,_List_fromArray([$elm$html$Html$Attributes$class($mdgriffith$elm_ui$Internal$Model$textElementClasses)]),_List_fromArray([$elm$html$Html$text(str)]))}function $mdgriffith$elm_ui$Internal$Model$textElementFill(str){return A2($elm$html$Html$div,_List_fromArray([$elm$html$Html$Attributes$class($mdgriffith$elm_ui$Internal$Model$textElementFillClasses)]),_List_fromArray([$elm$html$Html$text(str)]))}function $mdgriffith$elm_ui$Internal$Model$htmlClass(cls){return{$:"Attr",a:$elm$html$Html$Attributes$class(cls)}}function $mdgriffith$elm_ui$Element$padding(x){var f=x;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,"p-"+$elm$core$String$fromInt(x),f,f,f,f))}function $cuducos$elm_format_number$FormatNumber$Parser$classify(formatted){return A2($elm$core$String$all,function(_char){return _Utils_eq(_char,new String("0"))},$elm$core$String$concat(A2($elm$core$List$append,formatted.integers,_List_fromArray([formatted.decimals]))))?$cuducos$elm_format_number$FormatNumber$Parser$Zero:formatted.original<0?$cuducos$elm_format_number$FormatNumber$Parser$Negative:$cuducos$elm_format_number$FormatNumber$Parser$Positive}function $elm$core$String$fromChar(_char){return A2($elm$core$String$cons,_char,"")}function $myrho$elm_round$Round$splitComma(_v0){return(_v0=A2($elm$core$String$split,".",_v0)).b?_v0.b.b?{$:"#2",a:_v0.a,b:_v0.b.a}:{$:"#2",a:_v0.a,b:"0"}:{$:"#2",a:"0",b:"0"}}function $author$project$Utils$showDecimal2(x){var locale=_Utils_update($cuducos$elm_format_number$FormatNumber$Locales$usLocale,{decimals:{$:"Exact",a:2},negativePrefix:"-",thousandSeparator:""});return A2($cuducos$elm_format_number$FormatNumber$format,locale,x)}function $mdgriffith$elm_ui$Element$spacing(x){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$spacing,A3($mdgriffith$elm_ui$Internal$Model$SpacingStyle,A2($mdgriffith$elm_ui$Internal$Model$spacingName,x,x),x,x))}function $author$project$Utils$showDecimal6(x){var locale=_Utils_update($cuducos$elm_format_number$FormatNumber$Locales$usLocale,{decimals:{$:"Exact",a:6},negativePrefix:"-",thousandSeparator:""});return A2($cuducos$elm_format_number$FormatNumber$format,locale,x)}function $author$project$NodesAndRoads$summaryData(x){if("Just"!==x.$)return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:"You appear to be at the end of the track."},{$:"Text",a:"Go back one track point and see if that helps."}]));var road=x.a;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:"Start point index "},{$:"Text",a:"Length "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:$elm$core$String$fromInt(road.index)},{$:"Text",a:$author$project$Utils$showDecimal2(road.length)}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:"Gradient "},{$:"Text",a:"Bearing "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:$author$project$Utils$showDecimal2(road.gradient)},{$:"Text",a:$author$project$Utils$showDecimal2(180*((x=road.bearing)<0?6.283185307179586+x:x)/3.141592653589793)}]))])),A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:"   "},{$:"Text",a:"Latitude "},{$:"Text",a:"Longitude "},{$:"Text",a:"Elevation "},{$:"Text",a:"Distance "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:"At start"},{$:"Text",a:$author$project$Utils$showDecimal6(road.startsAt.trackPoint.lat)},{$:"Text",a:$author$project$Utils$showDecimal6(road.startsAt.trackPoint.lon)},{$:"Text",a:$author$project$Utils$showDecimal2(road.startsAt.trackPoint.ele)},{$:"Text",a:$author$project$Utils$showDecimal2(road.startDistance)}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:"At end"},{$:"Text",a:$author$project$Utils$showDecimal6(road.endsAt.trackPoint.lat)},{$:"Text",a:$author$project$Utils$showDecimal6(road.endsAt.trackPoint.lon)},{$:"Text",a:$author$project$Utils$showDecimal2(road.endsAt.trackPoint.ele)},{$:"Text",a:$author$project$Utils$showDecimal2(road.endDistance)}]))]))]))}function $author$project$Msg$UserMovedNodeSlider(a){return{$:"UserMovedNodeSlider",a:a}}function $author$project$Msg$SetBearingChangeThreshold(a){return{$:"SetBearingChangeThreshold",a:a}}function $mdgriffith$elm_ui$Element$behindContent(element){return A2($mdgriffith$elm_ui$Element$createNearby,$mdgriffith$elm_ui$Internal$Model$Behind,element)}function $mdgriffith$elm_ui$Internal$Model$formatColorClass(_v0){var green=_v0.b,blue=_v0.c,alpha=_v0.d;return $mdgriffith$elm_ui$Internal$Model$floatClass(_v0.a)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(green)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(blue)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(alpha))))}function $mdgriffith$elm_ui$Element$Background$color(clr){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$bgColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"bg-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(clr),"background-color",clr))}function $mdgriffith$elm_ui$Element$Border$rounded(radius){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderRound,A3($mdgriffith$elm_ui$Internal$Model$Single,"br-"+$elm$core$String$fromInt(radius),"border-radius",$elm$core$String$fromInt(radius)+"px"))}function $mdgriffith$elm_ui$Element$Border$color(clr){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"bc-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(clr),"border-color",clr))}function $mdgriffith$elm_ui$Element$Border$width(v){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderWidth,A5($mdgriffith$elm_ui$Internal$Model$BorderWidth,"b-"+$elm$core$String$fromInt(v),v,v,v,v))}function $mdgriffith$elm_ui$Internal$Model$getHeight(attrs){return A3($elm$core$List$foldr,F2(function(attr,acc){return"Just"!==acc.$?"Height"!==attr.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(attr.a):$elm$core$Maybe$Just(acc.a)}),$elm$core$Maybe$Nothing,attrs)}function $mdgriffith$elm_ui$Internal$Model$getWidth(attrs){return A3($elm$core$List$foldr,F2(function(attr,acc){return"Just"!==acc.$?"Width"!==attr.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(attr.a):$elm$core$Maybe$Just(acc.a)}),$elm$core$Maybe$Nothing,attrs)}function $mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(label){return"HiddenLabel"!==label.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:{$:"Describe",a:{$:"Label",a:label.a}}}function $elm$html$Html$Events$alwaysStop(x){return{$:"#2",a:x,b:!0}}function $elm$html$Html$Events$onInput(tagger){return A2($elm$html$Html$Events$stopPropagationOn,"input",A2($elm$json$Json$Decode$map,$elm$html$Html$Events$alwaysStop,A2($elm$json$Json$Decode$map,tagger,$elm$html$Html$Events$targetValue)))}function $mdgriffith$elm_ui$Element$Input$hasFocusStyle(attr){return"StyleClass"===attr.$&&"PseudoSelector"===attr.b.$&&"Focus"===attr.b.a.$}function $elm$html$Html$Events$onClick(msg){return A2($elm$html$Html$Events$on,"click",$elm$json$Json$Decode$succeed(msg))}function $mdgriffith$elm_ui$Element$Input$onKeyLookup(lookup){return{$:"Attr",a:A2($elm$html$Html$Events$preventDefaultOn,"keydown",A2($elm$json$Json$Decode$map,function(fired){return{$:"#2",a:fired,b:!0}},A2($elm$json$Json$Decode$andThen,function(_v0){_v0=lookup(_v0);return"Nothing"===_v0.$?$elm$json$Json$Decode$fail("No key matched"):$elm$json$Json$Decode$succeed(_v0.a)},A2($elm$json$Json$Decode$field,"key",$elm$json$Json$Decode$string))))}}function $elm$html$Html$Attributes$tabindex(n){return A2(_VirtualDom_attribute,"tabIndex",$elm$core$String$fromInt(n))}function $mdgriffith$elm_ui$Element$Font$color(fontColor){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"fc-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(fontColor),"color",fontColor))}function $mdgriffith$elm_ui$Internal$Model$unwrapDecorations(_v0){return A2($elm$core$List$cons,{$:"Transform",a:(_v0=A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$unwrapDecsHelper,{$:"#2",a:_List_Nil,b:$mdgriffith$elm_ui$Internal$Model$Untransformed},_v0)).b},_v0.a)}function $mdgriffith$elm_ui$Element$mouseOver(decs){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$hover,A2($mdgriffith$elm_ui$Internal$Model$PseudoSelector,$mdgriffith$elm_ui$Internal$Model$Hover,$mdgriffith$elm_ui$Internal$Model$unwrapDecorations(decs)))}function $mdgriffith$elm_ui$Element$Border$shadow(shadow){var shade={blur:shadow.blur,color:shadow.color,inset:!1,offset:shadow.offset,size:shadow.size};return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$shadows,A3($mdgriffith$elm_ui$Internal$Model$Single,$elm$core$String$concat(_List_fromArray([(shadow=shade).inset?"box-inset":"box-",$mdgriffith$elm_ui$Internal$Model$floatClass(shadow.offset.a)+"px",$mdgriffith$elm_ui$Internal$Model$floatClass(shadow.offset.b)+"px",$mdgriffith$elm_ui$Internal$Model$floatClass(shadow.blur)+"px",$mdgriffith$elm_ui$Internal$Model$floatClass(shadow.size)+"px",$mdgriffith$elm_ui$Internal$Model$formatColorClass(shadow.color)])),"box-shadow",$mdgriffith$elm_ui$Internal$Model$formatBoxShadow(shade)))}function $mdgriffith$elm_ui$Element$Font$size(i){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontSize,{$:"FontSize",a:i})}function $author$project$Main$viewBearingChanges(model){function linkButton(nodeNum){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:$elm$core$String$fromInt(nodeNum)},onPress:$elm$core$Maybe$Just({$:"UserMovedNodeSlider",a:nodeNum})})}var nodeList=A2($elm$core$List$map,function(change){return change.node.trackPoint.idx},model.abruptBearingChanges),autosmoothButton=nodeList.b?A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Try Autosmooth today"},onPress:$elm$core$Maybe$Just({$:"AutoFix",a:nodeList})}):$mdgriffith$elm_ui$Element$none;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:"Text",a:"Direction change threshold = "+$elm$core$String$fromInt(model.bearingChangeThreshold)}),max:120,min:20,onChange:$author$project$Msg$SetBearingChangeThreshold,step:$elm$core$Maybe$Just(1),thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:model.bearingChangeThreshold})}(model),autosmoothButton])),A2($mdgriffith$elm_ui$Element$wrappedRow,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$alignLeft]),A2($elm$core$List$map,linkButton,nodeList))]))}function $author$project$Msg$SetGradientChangeThreshold(a){return{$:"SetGradientChangeThreshold",a:a}}function $author$project$Main$viewGradientChanges(model){function linkButton(nodeNum){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:$elm$core$String$fromInt(nodeNum)},onPress:$elm$core$Maybe$Just({$:"UserMovedNodeSlider",a:nodeNum})})}var nodeList=A2($elm$core$List$map,function(change){return change.node.trackPoint.idx},model.abruptGradientChanges),autosmoothButton=nodeList.b?A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Try AutoFix today"},onPress:$elm$core$Maybe$Just({$:"AutoFix",a:nodeList})}):$mdgriffith$elm_ui$Element$none;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:"Text",a:"Gradient change threshold = "+$author$project$Utils$showDecimal2(model.gradientChangeThreshold)}),max:20,min:5,onChange:$author$project$Msg$SetGradientChangeThreshold,step:$elm$core$Maybe$Just(1),thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:model.gradientChangeThreshold})}(model),autosmoothButton])),A2($mdgriffith$elm_ui$Element$wrappedRow,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$alignLeft]),A2($elm$core$List$map,linkButton,nodeList))]))}function $author$project$Msg$ToggleMapNodesDraggable(a){return{$:"ToggleMapNodesDraggable",a:a}}function $author$project$ViewElements$checkboxIcon(isChecked){return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(32)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(32)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$padding(4),$mdgriffith$elm_ui$Element$Border$rounded(6),$mdgriffith$elm_ui$Element$Border$width(2),$mdgriffith$elm_ui$Element$Border$color($author$project$ColourPalette$buttonShadow)]),A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$Border$rounded(4),$mdgriffith$elm_ui$Element$Background$color(isChecked?$author$project$ColourPalette$buttonBackground:$author$project$ColourPalette$collapsedTabBorder)]),$mdgriffith$elm_ui$Element$none))}function $author$project$Msg$SetCurtainStyle(a){return{$:"SetCurtainStyle",a:a}}function $author$project$Msg$ToggleCentreLine(a){return{$:"ToggleCentreLine",a:a}}function $author$project$Msg$ToggleCones(a){return{$:"ToggleCones",a:a}}function $author$project$Msg$ToggleLighting(a){return{$:"ToggleLighting",a:a}}function $author$project$Msg$TogglePillars(a){return{$:"TogglePillars",a:a}}function $author$project$Msg$ToggleRoad(a){return{$:"ToggleRoad",a:a}}function $mdgriffith$elm_ui$Element$paddingEach(topFloat){var top=topFloat.top,right=topFloat.right,bottom=topFloat.bottom,left=topFloat.left;if(_Utils_eq(top,right)&&_Utils_eq(top,bottom)&&_Utils_eq(top,left)){topFloat=top;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,"p-"+$elm$core$String$fromInt(top),topFloat,topFloat,topFloat,topFloat))}return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,A4($mdgriffith$elm_ui$Internal$Model$paddingName,top,right,bottom,left),top,right,bottom,left))}function $mdgriffith$elm_ui$Element$Border$roundEach(bottomRight){var topLeft=bottomRight.topLeft,topRight=bottomRight.topRight,bottomLeft=bottomRight.bottomLeft,bottomRight=bottomRight.bottomRight;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderRound,A3($mdgriffith$elm_ui$Internal$Model$Single,"br-"+$elm$core$String$fromInt(topLeft)+("-"+$elm$core$String$fromInt(topRight)+($elm$core$String$fromInt(bottomLeft)+("-"+$elm$core$String$fromInt(bottomRight)))),"border-radius",$elm$core$String$fromInt(topLeft)+("px "+$elm$core$String$fromInt(topRight)+("px "+$elm$core$String$fromInt(bottomRight)+("px "+$elm$core$String$fromInt(bottomLeft))))+"px"))}function $mdgriffith$elm_ui$Element$Border$widthEach(right){var bottom=right.bottom,top=right.top,left=right.left,right=right.right;return _Utils_eq(top,bottom)&&_Utils_eq(left,right)?_Utils_eq(top,right)?$mdgriffith$elm_ui$Element$Border$width(top):A2($mdgriffith$elm_ui$Element$Border$widthXY,left,top):A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderWidth,A5($mdgriffith$elm_ui$Internal$Model$BorderWidth,"b-"+$elm$core$String$fromInt(top)+("-"+$elm$core$String$fromInt(right)+("-"+$elm$core$String$fromInt(bottom)+("-"+$elm$core$String$fromInt(left)))),top,right,bottom,left))}function $author$project$Main$infoAccordion(model){return _List_fromArray([{content:function(summary){summary=summary.summary;if("Just"!==summary.$)return $mdgriffith$elm_ui$Element$none;summary=summary.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:"Highest point "},{$:"Text",a:"Lowest point "},{$:"Text",a:"Track length "},{$:"Text",a:"Climbing distance "},{$:"Text",a:"Elevation gain "},{$:"Text",a:"Descending distance "},{$:"Text",a:"Elevation loss "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:$author$project$Utils$showDecimal2(summary.highestMetres)},{$:"Text",a:$author$project$Utils$showDecimal2(summary.lowestMetres)},{$:"Text",a:$author$project$Utils$showDecimal2(summary.trackLength)},{$:"Text",a:$author$project$Utils$showDecimal2(summary.climbingDistance)},{$:"Text",a:$author$project$Utils$showDecimal2(summary.totalClimbing)},{$:"Text",a:$author$project$Utils$showDecimal2(summary.descendingDistance)},{$:"Text",a:$author$project$Utils$showDecimal2(summary.totalDescending)}]))]))}(model),label:"Summary",state:$author$project$Accordion$Expanded},{content:$author$project$NodesAndRoads$summaryData(A2($author$project$Main$lookupRoad,model,model.currentNode)),label:"Road segment data",state:$author$project$Accordion$Contracted},{content:function(model){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$paddingEach({bottom:0,left:10,right:10,top:10}),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Font$size(14)]),_List_fromArray([_Utils_eq(model.terrainEntities,_List_Nil)?A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Build terrain\n(I understand this may take several\nminutes and will be lost if I make changes)"},onPress:$elm$core$Maybe$Just($author$project$Msg$MakeTerrain)}):A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Remove the terrain."},onPress:$elm$core$Maybe$Just($author$project$Msg$ClearTerrain)}),A2($mdgriffith$elm_ui$Element$paragraph,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([{$:"Text",a:"Select view elements"}])),A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{checked:model.displayOptions.roadTrack,icon:$author$project$ViewElements$checkboxIcon,label:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:"Road surface"}),onChange:$author$project$Msg$ToggleRoad}),A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{checked:model.displayOptions.centreLine,icon:$author$project$ViewElements$checkboxIcon,label:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:"Centre line"}),onChange:$author$project$Msg$ToggleCentreLine})])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{checked:model.displayOptions.roadPillars,icon:$author$project$ViewElements$checkboxIcon,label:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:"Road support pillars"}),onChange:$author$project$Msg$TogglePillars}),A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{checked:model.displayOptions.roadCones,icon:$author$project$ViewElements$checkboxIcon,label:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:"Trackpoint cones"}),onChange:$author$project$Msg$ToggleCones})])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{checked:model.displayOptions.withLighting,icon:$author$project$ViewElements$checkboxIcon,label:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:"Lighting"}),onChange:$author$project$Msg$ToggleLighting})]))])),A2($mdgriffith$elm_ui$Element$Input$radioRow,_List_fromArray([$mdgriffith$elm_ui$Element$Border$rounded(6),$mdgriffith$elm_ui$Element$Border$shadow({blur:10,color:A3($mdgriffith$elm_ui$Element$rgb255,224,224,224),offset:{$:"#2",a:0,b:0},size:3})]),{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_fromArray([$mdgriffith$elm_ui$Element$centerX]),{$:"Text",a:"Curtain style"}),onChange:$author$project$Msg$SetCurtainStyle,options:_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$DisplayOptions$NoCurtain,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$First,"None")),A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$DisplayOptions$PlainCurtain,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$Mid,"Plain")),A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$DisplayOptions$PastelCurtain,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$Mid,"Pastel")),A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$DisplayOptions$RainbowCurtain,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$Last,"Rainbow"))]),selected:$elm$core$Maybe$Just(model.displayOptions.curtainStyle)})]))}(model),label:"Visual styles",state:$author$project$Accordion$Contracted},{content:$author$project$Main$viewGradientChanges(model),label:"Gradient problems",state:$author$project$Accordion$Contracted},{content:$author$project$Main$viewBearingChanges(model),label:"Bend problems",state:$author$project$Accordion$Contracted},{content:function(model){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Font$size(14)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{checked:model.mapNodesDraggable,icon:$author$project$ViewElements$checkboxIcon,label:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:"Drag track points"}),onChange:$author$project$Msg$ToggleMapNodesDraggable})]))}(model),label:"Map options",state:$author$project$Accordion$Contracted}])}function $author$project$Msg$SetFlythroughSpeed(a){return{$:"SetFlythroughSpeed",a:a}}function $author$project$Msg$SetBendTrackPointSpacing(a){return{$:"SetBendTrackPointSpacing",a:a}}function $author$project$Main$viewBendFixerPane(model){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([function(){var smooth=model.smoothedBend;if("Just"!==smooth.$)return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:"Text",a:"Sorry, failed to find a nice bend."},{$:"Text",a:"Try re-positioning the current pointer or marker."}]));smooth=smooth.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([function(smooth){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Smooth between markers\nRadius "+$author$project$Utils$showDecimal2(smooth.radius)},onPress:$elm$core$Maybe$Just($author$project$Msg$SmoothBend)})}(smooth),function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:"Text",a:"Spacing = "+$author$project$Utils$showDecimal2(model.bendTrackPointSpacing)}),max:10,min:1,onChange:$author$project$Msg$SetBendTrackPointSpacing,step:$elm$core$Maybe$Nothing,thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:model.bendTrackPointSpacing})}(model)]))}()]))}function $author$project$Msg$ToggleFilterXY(a){return{$:"ToggleFilterXY",a:a}}function $author$project$Msg$ToggleFilterZ(a){return{$:"ToggleFilterZ",a:a}}function $author$project$Main$wholeTrackTextHelper(_v0){var wholeTrack="Just"!==(wholeTrack=_v0.markedNode).$||_Utils_eq(wholeTrack.a,_v0.currentNode),_v0=_Utils_eq(_v0.loopiness,$author$project$Loop$IsALoop);return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$warningColor),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),_List_fromArray([$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$info)),A2($mdgriffith$elm_ui$Element$column,_List_Nil,_List_fromArray((_v0={$:"#2",a:wholeTrack,b:_v0}).a?_v0.b?[{$:"Text",a:"Applies to the whole route and include the start/finish."},{$:"Text",a:"Position markers to apply only to a range of points."}]:[{$:"Text",a:"Applies to the whole route but not the start/finish."},{$:"Text",a:"Position markers to apply only to a range of points."},{$:"Text",a:"Convert the track to a loop to smooth the start/finish."}]:_v0.b?[{$:"Text",a:"Applies between the marker cones, avoiding the start/finish."},{$:"Text",a:"Clear the marker to apply to the whole route."}]:[{$:"Text",a:"Applies between the marker cones only."},{$:"Text",a:"Clear the marker to apply to the whole route."}]))]))}function $elm$core$List$sum(numbers){return A3($elm$core$List$foldl,$elm$core$Basics$add,0,numbers)}function $author$project$Msg$SetBumpinessFactor(a){return{$:"SetBumpinessFactor",a:a}}function $author$project$Main$viewGradientFixerPane(model){var avg=A3($author$project$Main$averageGradient,model,A2($elm$core$Basics$min,model.currentNode,gradientSmoothControls=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode)),A2($elm$core$Basics$max,model.currentNode,gradientSmoothControls)),gradientSmoothControls=function(){if("Just"!==avg.$)return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:"Text",a:"Gradient smoothing works over a range of track segments."},{$:"Text",a:"Try re-positioning the current pointer or marker."}]));var gradient=avg.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(5)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Smooth between markers\nAverage gradient "+$author$project$Utils$showDecimal2(gradient)},onPress:$elm$core$Maybe$Just({$:"SmoothGradient",a:gradient})}),function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:"Text",a:"Bumpiness = "+$author$project$Utils$showDecimal2(model.bumpinessFactor)}),max:1,min:0,onChange:$author$project$Msg$SetBumpinessFactor,step:$elm$core$Maybe$Nothing,thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:model.bumpinessFactor})}(model)]))}();return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([gradientSmoothControls]))}function $author$project$Main$viewLoopTools(model){var simplifyButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Remove "+$elm$core$String$fromInt($elm$core$List$length(model.metricFilteredNodes))+" track points\nto simplify the route."},onPress:$elm$core$Maybe$Just($author$project$Msg$SimplifyTrack)}),reverseButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Reverse the track"},onPress:$elm$core$Maybe$Just($author$project$Msg$ReverseTrack)}),loopButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Make the track into a loop"},onPress:$elm$core$Maybe$Just($author$project$Msg$CloseTheLoop)}),commonButtons=A2($mdgriffith$elm_ui$Element$wrappedRow,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([reverseButton,simplifyButton]));return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX]),function(){var _v0=model.loopiness;switch(_v0.$){case"IsALoop":return _List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:"Text",a:"This track is a loop."},A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Move start/finish to current point"},onPress:$elm$core$Maybe$Just({$:"ChangeLoopStart",a:model.currentNode})})])),commonButtons]);case"AlmostLoop":var gap=_v0.a;return _List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:"Text",a:"This track is "+$author$project$Utils$showDecimal2(gap)+"\naway from a loop"},loopButton])),commonButtons]);default:gap=_v0.a;return _List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:"Text",a:"This track is "+$author$project$Utils$showDecimal2(gap)+" away from a loop"},loopButton])),commonButtons])}}())}function $author$project$Msg$SetHorizontalNudgeFactor(a){return{$:"SetHorizontalNudgeFactor",a:a}}function $author$project$Msg$SetVerticalNudgeFactor(a){return{$:"SetVerticalNudgeFactor",a:a}}function $author$project$Main$viewNudgeTools(model){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([(value=model.verticalNudgeValue,A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(80)),$mdgriffith$elm_ui$Element$centerX]),A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortVerticalSliderStyles,{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_fromArray([$mdgriffith$elm_ui$Element$centerX]),{$:"Text",a:"Height = "+$author$project$Utils$showDecimal2(value)+"m"}),max:5,min:-5,onChange:$author$project$Msg$SetVerticalNudgeFactor,step:$elm$core$Maybe$Nothing,thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:value}))),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$centerY]),_List_fromArray([function(value){return A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:"Text",a:"Offset = "+$author$project$Utils$showDecimal2(value)+"m"}),max:5,min:-5,onChange:$author$project$Msg$SetHorizontalNudgeFactor,step:$elm$core$Maybe$Nothing,thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:value})}(model.nudgeValue),A2($author$project$ViewElements$nudgeButton,model.nudgeValue,model.verticalNudgeValue)]))]))]));var value}function $author$project$Msg$UserChangedSegmentId(a){return{$:"UserChangedSegmentId",a:a}}function $elm$url$Url$Builder$toQueryPair(_v0){return _v0.a+"="+_v0.b}function $elm$url$Url$Builder$toQuery(parameters){return parameters.b?"?"+A2($elm$core$String$join,"&",A2($elm$core$List$map,$elm$url$Url$Builder$toQueryPair,parameters)):""}function $author$project$ViewElements$displayName(s){return"Just"!==s.$?$mdgriffith$elm_ui$Element$none:(s=s.a,A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$Font$size(20)]),{$:"Text",a:s}))}function $mdgriffith$elm_ui$Element$Input$calcMoveToCompensateForPadding(y){return"Nothing"===(y=A3($elm$core$List$foldr,F2(function(_v2,found){if("StyleClass"!==_v2.$||"SpacingStyle"!==_v2.b.$)return found;_v2=_v2.b;return"Nothing"===found.$?$elm$core$Maybe$Just(_v2.c):found}),$elm$core$Maybe$Nothing,y)).$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:(y=$elm$core$Basics$floor(y.a/2),A2($mdgriffith$elm_ui$Internal$Model$TransformComponent,$mdgriffith$elm_ui$Internal$Flag$moveY,{$:"MoveY",a:-y}))}function $mdgriffith$elm_ui$Element$Input$getHeight(attr){return"Height"!==attr.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(attr.a)}function $mdgriffith$elm_ui$Element$Input$isConstrained(len){isConstrained:for(;;)switch(len.$){case"Content":return!1;case"Px":case"Fill":return!0;case"Min":len=len.b;continue isConstrained;default:return!0}}function $mdgriffith$elm_ui$Element$Input$isFill(len){isFill:for(;;)switch(len.$){case"Fill":return 1;case"Content":case"Px":return;case"Min":default:len=len.b;continue isFill}}function $mdgriffith$elm_ui$Element$alpha(transparency){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$transparency,A2($mdgriffith$elm_ui$Internal$Model$Transparency,"transparency-"+$mdgriffith$elm_ui$Internal$Model$floatClass(transparency=1-A2($elm$core$Basics$min,1,A2($elm$core$Basics$max,0,transparency))),transparency))}function $author$project$Msg$SetMaxTrackpointSpacing(a){return{$:"SetMaxTrackpointSpacing",a:a}}function $author$project$Main$viewTrackPointTools(model){var c,start=(c={$:"#2",a:A2($elm$core$Basics$min,model.currentNode,value=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode)),b:A2($elm$core$Basics$max,model.currentNode,value)}).a,value=c.b;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(20)]),_List_fromArray([(c=model.currentNode,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Put two trackpoints in\nplace of this one"},onPress:$elm$core$Maybe$Just(A2($author$project$Msg$InsertBeforeOrAfter,c,$author$project$Msg$InsertNodeAfter))})]))),function(message){var start=message.a,finish=message.b,message=_Utils_eq(start,finish)?"Delete current point":"Delete from "+$elm$core$String$fromInt(start)+(" to "+$elm$core$String$fromInt(finish));return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:message},onPress:$elm$core$Maybe$Just({$:"DeleteTrackPoints",a:{$:"#2",a:start,b:finish}})})}({$:"#2",a:start,b:value})])),(value=model.maxSegmentSplitSize,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:"Text",a:"Maximum gap = "+$author$project$Utils$showDecimal2(value=value)+"m"}),max:50,min:5,onChange:$author$project$Msg$SetMaxTrackpointSpacing,step:$elm$core$Maybe$Just(5),thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:value}),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Add track points"},onPress:$elm$core$Maybe$Just($author$project$Msg$SplitRoad)})]))),$author$project$Main$wholeTrackTextHelper(model)]))}function $author$project$Main$toolsAccordion(model){return _List_fromArray([{content:$author$project$Main$viewLoopTools(model),label:"Loop maker",state:$author$project$Accordion$Contracted},{content:$author$project$Main$viewBendFixerPane(model),label:"Smooth bend",state:$author$project$Accordion$Contracted},{content:$author$project$Main$viewGradientFixerPane(model),label:"Smooth gradient",state:$author$project$Accordion$Contracted},{content:$author$project$Main$viewNudgeTools(model),label:"Nudge ",state:$author$project$Accordion$Contracted},{content:function(model){var marker=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode);return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([_Utils_eq(model.currentNode,marker)?A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([{$:"Text",a:"The straighten tool requires a range."},{$:"Text",a:"Drop the marker and move it away from the current pointer."}])):$author$project$ViewElements$straightenButton]))}(model),label:"Straighten",state:$author$project$Accordion$Contracted},{content:$author$project$Main$viewTrackPointTools(model),label:"Trackpoints",state:$author$project$Accordion$Contracted},{content:function(model){var _v1,resetButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$rewind)),onPress:$elm$core$Maybe$Just($author$project$Msg$ResetFlythrough)}),flythroughSpeedSlider=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$play)),onPress:$elm$core$Maybe$Just({$:"RunFlythrough",a:!0})}),playPauseButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:$mdgriffith$elm_ui$Element$html(A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$pause)),onPress:$elm$core$Maybe$Just({$:"RunFlythrough",a:!1})}),playPauseButton="Nothing"!==(_v1=model.flythrough).$&&_v1.a.running?playPauseButton:flythroughSpeedSlider,flythroughSpeedSlider=A2($mdgriffith$elm_ui$Element$Input$slider,$author$project$ViewElements$commonShortHorizontalSliderStyles,{label:A2($mdgriffith$elm_ui$Element$Input$labelBelow,_List_Nil,{$:"Text",a:"Fly-through speed = "+$author$project$Utils$showDecimal2(A2($elm$core$Basics$pow,10,model.flythroughSpeed))+" m/sec"}),max:3,min:1,onChange:$author$project$Msg$SetFlythroughSpeed,step:$elm$core$Maybe$Nothing,thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:model.flythroughSpeed});return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([resetButton,playPauseButton,flythroughSpeedSlider])),function(){var flythrough=model.flythrough;if("Just"!==flythrough.$)return $mdgriffith$elm_ui$Element$none;flythrough=flythrough.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:"Segment "},{$:"Text",a:"Metres from start "}])),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([{$:"Text",a:$elm$core$String$fromInt(flythrough.segment.index)},{$:"Text",a:$author$project$Utils$showDecimal2(flythrough.metresFromRouteStart)}]))]))}()]))}(model),label:"Fly-through",state:$author$project$Accordion$Contracted},{content:function(model){var stravaLink=(segmentButton=A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["routes",model.externalRouteId]),_List_Nil),_Utils_eq(model.gpxSource,$author$project$Main$GpxStrava)?A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$Font$size(14),$mdgriffith$elm_ui$Element$padding(5)]),_List_fromArray([$author$project$ViewElements$displayName(model.trackName),A2($mdgriffith$elm_ui$Element$newTabLink,_List_fromArray([$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$stravaOrange)]),{label:{$:"Text",a:"View on Strava"},url:segmentButton})])):$mdgriffith$elm_ui$Element$none),segmentInfo=function(){var _v2=model.externalSegment;switch(_v2.$){case"SegmentRequested":return{$:"Text",a:"Waiting for segment"};case"SegmentError":return{$:"Text",a:_v2.a};case"SegmentNone":return{$:"Text",a:"Segment data not loaded, or not yet."};case"SegmentOk":default:return{$:"Text",a:_v2.a.name}}}(),segmentIdField=A2($mdgriffith$elm_ui$Element$Input$text,_List_Nil,{label:$mdgriffith$elm_ui$Element$Input$labelHidden("Segment ID"),onChange:$author$project$Msg$UserChangedSegmentId,placeholder:$elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Element$Input$placeholder,_List_Nil,{$:"Text",a:"Segment ID"})),text:model.externalSegmentId}),segmentButton=function(){var _v0=model.externalSegment;switch(_v0.$){case"SegmentOk":var buttonText=_v0.a,buttonText="Just"!==(buttonText={$:"#2",a:A3($author$project$TrackPoint$trackPointFromLatLon,buttonText.start_latitude,buttonText.start_longitude,model.trackPoints),b:A3($author$project$TrackPoint$trackPointFromLatLon,buttonText.end_latitude,buttonText.end_longitude,model.trackPoints)}).a.$||"Just"!==buttonText.b.$?"Oh! Can't work out how to paste this.":_Utils_cmp(buttonText.a.a.idx,buttonText.b.a.idx)<0?"Paste segment into route":"Reverse segment and paste into route";return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:buttonText},onPress:$elm$core$Maybe$Just($author$project$Msg$LoadSegmentStreams)});case"SegmentNone":return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Fetch header"},onPress:$elm$core$Maybe$Just($author$project$Msg$LoadExternalSegment)});case"SegmentNotInRoute":return{$:"Text",a:"This segment is not\ncontained in the route"};default:return $mdgriffith$elm_ui$Element$none}}();return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),_List_fromArray([stravaLink,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([segmentIdField,segmentButton])),segmentInfo]))}(model),label:"Strava",state:$author$project$Accordion$Contracted},{content:function(model){var filterZ=model.filterModes,filterXY=filterZ.a,filterZ=filterZ.b;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([{$:"Text",a:"Smooth the track by applying some filters."},{$:"Text",a:"Better results may be achieved by inserting track points first."},{$:"Text",a:"Note that repeatedly applying approximates to Gaussian smoothing."},A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(3),$mdgriffith$elm_ui$Element$spacing(3)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{checked:filterXY,icon:$author$project$ViewElements$checkboxIcon,label:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:"Filter latitude & longitude"}),onChange:$author$project$Msg$ToggleFilterXY}),A2($mdgriffith$elm_ui$Element$Input$checkbox,_List_Nil,{checked:filterZ,icon:$author$project$ViewElements$checkboxIcon,label:A2($mdgriffith$elm_ui$Element$Input$labelRight,_List_fromArray([$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:"Filter elevation"}),onChange:$author$project$Msg$ToggleFilterZ})])),function(){var _v1=model.filterModes;_v1$2:for(;;){if(_v1.a){if(_v1.b)break _v1$2;return{$:"Text",a:"That might be weird, but it's your call."}}if(_v1.b)break _v1$2;return{$:"Text",a:"You know that won't do anything."}}return $mdgriffith$elm_ui$Element$none}(),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Five point weighted average"},onPress:$elm$core$Maybe$Just($author$project$Msg$FilterWeightedAverage)}),$author$project$Main$wholeTrackTextHelper(model)]))}(model),label:"Filters",state:$author$project$Accordion$Contracted}])}function $author$project$NodesAndRoads$metricFilteredNodes(forRemovalInIndexOrder){var numberOfNodes=$elm$core$List$length(forRemovalInIndexOrder),forRemovalInIndexOrder=A2($elm$core$List$take,.2*numberOfNodes|0,A2($elm$core$List$sortBy,function(node){return A2($elm$core$Maybe$withDefault,A2($elm$core$Basics$pow,10,10),node.costMetric)},forRemovalInIndexOrder)),forRemovalInIndexOrder=A2($elm$core$List$sortBy,$elm$core$Basics$identity,A2($elm$core$List$map,A2($elm$core$Basics$composeR,function($){return $.trackPoint},function($){return $.idx}),forRemovalInIndexOrder)),avoidingNeighbours=F2(function(lastRemoved,suggestions){for(;;){if(!suggestions.b)return _List_Nil;if(!suggestions.b.b)return _List_fromArray([suggestions.a]);var n1=suggestions.a,ns=suggestions.b;if(!_Utils_eq(n1,lastRemoved+1))return A2($elm$core$List$cons,n1,A2(avoidingNeighbours,n1,ns));lastRemoved=lastRemoved,suggestions=ns}});return A2(avoidingNeighbours,-1,forRemovalInIndexOrder)}function $author$project$Main$lookForSimplifications(model){return _Utils_update(model,{metricFilteredNodes:$author$project$NodesAndRoads$metricFilteredNodes(model.nodes)})}function $author$project$Utils$asRegex(t){return A2($elm$core$Maybe$withDefault,$elm$regex$Regex$never,A2($elm$regex$Regex$fromStringWith,{caseInsensitive:!1,multiline:!1},t))}function $author$project$TrackPoint$parseTrackPoints(elevations){function value(_v1){return(_v1=_v1.submatches).b&&"Just"===_v1.a.$?$elm$core$String$toFloat(_v1.a.a):$elm$core$Maybe$Nothing}function matches(xs){return A2($elm$core$List$map,value,xs)}var makeTrackPoint=F4(function(mayLat,mayLon,_v0,idx){_v0={$:"#3",a:mayLat,b:mayLon,c:_v0};return"Just"!==_v0.a.$||"Just"!==_v0.b.$||"Just"!==_v0.c.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({ele:_v0.c.a,idx:idx,lat:_v0.a.a,lon:_v0.b.a})}),longitudes=matches(A2($elm$regex$Regex$find,$author$project$Utils$asRegex('lon=\\"([\\d\\.-]*)\\"'),elevations)),latitudes=matches(A2($elm$regex$Regex$find,$author$project$Utils$asRegex('lat=\\"([\\d\\.-]*)\\"'),elevations)),elevations=matches(A2($elm$regex$Regex$find,$author$project$Utils$asRegex("<ele>([\\d\\.-]*)<\\/ele>"),elevations));return A2($elm$core$List$filterMap,$elm$core$Basics$identity,A5($elm$core$List$map4,makeTrackPoint,latitudes,longitudes,elevations,A2($elm$core$List$range,0,$elm$core$List$length(latitudes))))}function $author$project$MapboxStuff$zoomLevelFromBoundingBox(zoom){var horizontalMetresPerPixel=$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(zoom),latitude=3.141592653589793*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(horizontalMetresPerPixel))/180,horizontalMetresPerPixel=$ianmackenzie$elm_geometry$BoundingBox3d$dimensions(zoom),zoom=78846.81*$ianmackenzie$elm_units$Length$inMeters(horizontalMetresPerPixel.b)/600,horizontalMetresPerPixel=78846.81*$ianmackenzie$elm_units$Length$inMeters(horizontalMetresPerPixel.a)/900,zoom=1.5*A2($elm$core$Basics$max,horizontalMetresPerPixel,zoom),zoom=A2($elm$core$Basics$logBase,2,78271.484*$elm$core$Basics$cos(latitude)/zoom);return A3($elm$core$Basics$clamp,0,22,zoom)}function $author$project$TrackPoint$trackPointsToJSON(features){function point(tp){return $elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"type",b:$elm$json$Json$Encode$string("Point")},{$:"#2",a:"coordinates",b:function(tp){return A2($elm$json$Json$Encode$list,$elm$json$Json$Encode$float,_List_fromArray([tp.lon,tp.lat]))}(tp)}]))}return features=A2($elm$core$List$map,function(tp){return $elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"type",b:$elm$json$Json$Encode$string("Feature")},{$:"#2",a:"geometry",b:point(tp)}]))},features),$elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"type",b:$elm$json$Json$Encode$string("FeatureCollection")},{$:"#2",a:"features",b:A2($elm$json$Json$Encode$list,$elm$core$Basics$identity,features)}]))}function $author$project$TrackPoint$trackToJSON(geometry){return geometry=A2($elm$core$List$map,function(tp){return A2($elm$json$Json$Encode$list,$elm$json$Json$Encode$float,_List_fromArray([tp.lon,tp.lat]))},geometry),geometry=$elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"type",b:$elm$json$Json$Encode$string("LineString")},{$:"#2",a:"coordinates",b:A2($elm$json$Json$Encode$list,$elm$core$Basics$identity,geometry)}])),$elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"type",b:$elm$json$Json$Encode$string("Feature")},{$:"#2",a:"properties",b:$elm$json$Json$Encode$object(_List_Nil)},{$:"#2",a:"geometry",b:geometry}]))}function $author$project$MapController$addTrackToMap(info){return $author$project$MapController$mapPort($elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"Cmd",b:$elm$json$Json$Encode$string("Track")},{$:"#2",a:"lon",b:$elm$json$Json$Encode$float(info.centreLon)},{$:"#2",a:"lat",b:$elm$json$Json$Encode$float(info.centreLat)},{$:"#2",a:"zoom",b:$elm$json$Json$Encode$float(info.mapZoom)},{$:"#2",a:"data",b:$author$project$TrackPoint$trackToJSON(info.points)},{$:"#2",a:"points",b:$author$project$TrackPoint$trackPointsToJSON(info.points)}])))}function $author$project$MapController$createMap(info){return $author$project$MapController$mapPort($elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"Cmd",b:$elm$json$Json$Encode$string("Init")},{$:"#2",a:"token",b:$elm$json$Json$Encode$string("pk.eyJ1IjoicGV0ZXJqYW1lc3dhcmQiLCJhIjoiY2tpdWswb3dsMm02bDMzcDMyNGw1bmh5aSJ9.Fk3ibin0PpeEGXlGsctP1g")},{$:"#2",a:"lon",b:$elm$json$Json$Encode$float(info.centreLon)},{$:"#2",a:"lat",b:$elm$json$Json$Encode$float(info.centreLat)},{$:"#2",a:"zoom",b:$elm$json$Json$Encode$float(info.mapZoom)}])))}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(p2){var p3=$ianmackenzie$elm_geometry$Triangle3d$vertices(p2),p1=$ianmackenzie$elm_geometry$Point3d$toMeters(p3.a),p2=$ianmackenzie$elm_geometry$Point3d$toMeters(p3.b),p3=$ianmackenzie$elm_geometry$Point3d$toMeters(p3.c);return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:p1.x,m12:p2.x,m13:p3.x,m14:0,m21:p1.y,m22:p2.y,m23:p3.y,m24:0,m31:p1.z,m32:p2.z,m33:p3.z,m34:0,m41:0,m42:0,m43:0,m44:0})}function $ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadow(givenTriangle){return{$:"Entity",a:{$:"ShadowNode",a:F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,shadowLight,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$shadowSettings,isRightHanded,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$triangleShadowVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$shadowFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadowMesh,{modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,shadowLight:shadowLight,triangleVertexPositions:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),viewMatrix:viewMatrix})})}}}function $ianmackenzie$elm_geometry$Vector2d$direction(scaledY){var scaledX=scaledY.a,scaledLength=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.x),$elm$core$Basics$abs(scaledX.y));if(scaledLength){scaledY=scaledX.y/scaledLength,scaledX=scaledX.x/scaledLength,scaledLength=$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY);return $elm$core$Maybe$Just({$:"Direction2d",a:{x:scaledX/scaledLength,y:scaledY/scaledLength}})}return $elm$core$Maybe$Nothing}function $ianmackenzie$elm_geometry$Direction2d$xComponent(_v0){return _v0.a.x}function $ianmackenzie$elm_geometry$Direction2d$yComponent(_v0){return _v0.a.y}function $ianmackenzie$elm_geometry$Vector3d$half(vector){return A2($ianmackenzie$elm_geometry$Vector3d$scaleBy,.5,vector)}function $author$project$Terrain$pointToComparable(p3d){return{$:"#2",a:{$:"#2",a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(p3d)),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(p3d))},b:p3d}}function $ianmackenzie$elm_geometry$Rectangle2d$axes(_v0){return function(_v0){return{$:"Frame2d",a:_v0.a}}(_v0.a.axes)}function $ianmackenzie$elm_3d_camera$Viewpoint3d$eyePoint(_v0){return $ianmackenzie$elm_geometry$Frame3d$originPoint(_v0.a)}function $ianmackenzie$elm_geometry$Direction3d$reverse(d){return{$:"Direction3d",a:{x:-(d=d.a).x,y:-d.y,z:-d.z}}}function $ianmackenzie$elm_3d_camera$Viewpoint3d$viewDirection(_v0){return $ianmackenzie$elm_geometry$Direction3d$reverse($ianmackenzie$elm_geometry$Frame3d$zDirection(_v0.a))}function $author$project$Main$findBracketedRange(model){var marker=model.markedNode;return"Just"!==marker.$?{$:"#2",a:0,b:$elm$core$Array$length(model.nodeArray)-1}:{$:"#2",a:A2($elm$core$Basics$min,model.currentNode,marker=marker.a),b:A2($elm$core$Basics$max,model.currentNode,marker)}}function $author$project$StravaAuth$getStravaToken(model){var _v0=model.flow;switch(_v0.$){case"Done":return $elm$core$Maybe$Just(_v0.b);case"Authenticated":return $elm$core$Maybe$Just(_v0.a);default:return $elm$core$Maybe$Nothing}}function $ianmackenzie$elm_units$Angle$inRadians(_v0){return _v0.a}function $ianmackenzie$elm_units$Angle$inDegrees(angle){return $ianmackenzie$elm_units$Angle$inRadians(angle)/3.141592653589793*180}function $author$project$Main$synchroniseMap(model){return A2($author$project$Main$switchViewMode,model,model.viewingMode)}function $ianmackenzie$elm_geometry$Arc2d$radius(arc){return A2($ianmackenzie$elm_geometry$Quantity$Extra$lOverTheta,(arc=arc.a).signedLength,arc.sweptAngle)}function $author$project$BendSmoother$toPoint(location){return{x:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(location)),y:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(location))}}function $author$project$BendSmoother$roadToGeometry(road){return{endsAt:{x:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(road.endsAt.location)),y:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(road.endsAt.location))},startAt:{x:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(road.startsAt.location)),y:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(road.startsAt.location))}}}function $author$project$Main$tryBendSmoother(model){var entrySegment=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode),failed=_Utils_update(model,{nudgeValue:0,nudgedNodeRoads:_List_Nil,smoothedBend:$elm$core$Maybe$Nothing,verticalNudgeValue:0}),n1=(newBend={$:"#2",a:A2($elm$core$Basics$min,model.currentNode,entrySegment),b:A2($elm$core$Basics$max,model.currentNode,entrySegment)}).a,n2=newBend.b,entrySegment=A2($elm$core$Array$get,n1,model.roadArray),newBend=A2($elm$core$Array$get,n2-1,model.roadArray);if(-1<_Utils_cmp(n2,n1+2)){newBend={$:"#2",a:entrySegment,b:newBend};if("Just"!==newBend.a.$||"Just"!==newBend.b.$)return failed;newBend=A3($author$project$BendSmoother$lookForSmoothBendOption,model.bendTrackPointSpacing,newBend.a.a,newBend.b.a);return"Just"!==newBend.$?failed:_Utils_update(model,{nudgeValue:0,nudgedNodeRoads:_List_Nil,smoothedBend:$elm$core$Maybe$Just(newBend.a),verticalNudgeValue:0})}return failed}function $author$project$Main$trackHasChanged(model){return $author$project$Main$synchroniseMap($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother($author$project$Main$clearTerrain($author$project$Main$lookForSimplifications($author$project$Main$deriveProblems($author$project$Main$deriveStaticVisualEntities($author$project$Main$deriveNodesAndRoads(model))))))))}function $author$project$Main$updateMapVaryingElements(model){var node1,nudgedTrackPoints=_Utils_ap(A2($elm$core$List$map,A2($elm$core$Basics$composeR,function($){return $.startsAt},function($){return $.trackPoint}),A2($elm$core$List$take,1,model.nudgedNodeRoads)),A2($elm$core$List$map,A2($elm$core$Basics$composeR,function($){return $.endsAt},function($){return $.trackPoint}),model.nudgedNodeRoads)),node2=A2($elm$core$Array$get,A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode),model.nodeArray),_v0=A2($elm$core$Array$get,model.currentNode,model.nodeArray),centre=$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(model.trackPointBox);return"Just"!==(_v0={$:"#2",a:_v0,b:node2}).a.$?$elm$core$Platform$Cmd$none:A4($author$project$MapController$addMarkersToMap,{$:"#2",a:(node1=_v0.a.a).trackPoint.lon,b:node1.trackPoint.lat},"Just"!==_v0.b.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({$:"#2",a:(node2=_v0.b.a).trackPoint.lon,b:node2.trackPoint.lat}),A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,A2($elm$core$Basics$composeR,function($){return $.nodes},$author$project$Main$nodesToTrackPoints(centre)),model.smoothedBend)),nudgedTrackPoints)}function $author$project$WriteGPX$decimals6(x){var locale=_Utils_update($cuducos$elm_format_number$FormatNumber$Locales$usLocale,{decimals:{$:"Exact",a:6},negativePrefix:"-",thousandSeparator:""});return A2($cuducos$elm_format_number$FormatNumber$format,locale,x)}function $author$project$WriteGPX$writeTrackPoint(tp){return'<trkpt lat="'+$author$project$WriteGPX$decimals6(tp.lat)+('" lon="'+$author$project$WriteGPX$decimals6(tp.lon)+('"><ele>'+$author$project$WriteGPX$decimals6(tp.ele)))+"</ele></trkpt>\n"}function $elm$http$Http$BadBody(a){return{$:"BadBody",a:a}}var $elm$virtual_dom$VirtualDom$text=_VirtualDom_text,$elm$json$Json$Encode$list=F2(function(func,entries){return{$:0,a:A3($elm$core$List$foldl,function(func){return F2(function(entry,array){return array.push(func(entry).a),array})}(func),[],entries)}}),$mdgriffith$elm_ui$Internal$Model$renderProps=F3(function(force,val,existing){var key=val.a,val=val.b;return force?existing+"\n  "+key+": "+val+" !important;":existing+"\n  "+key+": "+val+";"}),$mdgriffith$elm_ui$Internal$Model$renderStyle=F4(function(options,maybePseudo,selector,props){if("Nothing"===maybePseudo.$)return _List_fromArray([selector+("{"+A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!1),"",props))+"\n}"]);switch(maybePseudo.a.$){case"Hover":switch(options.hover.$){case"NoHover":return _List_Nil;case"ForceHover":return _List_fromArray([selector+("-hv {"+A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!0),"",props))+"\n}"]);default:return _List_fromArray([selector+("-hv:hover {"+A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!1),"",props))+"\n}"])}case"Focus":var renderedProps=A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!1),"",props);return _List_fromArray([selector+"-fs:focus {"+renderedProps+"\n}","."+$mdgriffith$elm_ui$Internal$Style$classes_any+":focus "+selector+"-fs  {"+renderedProps+"\n}",selector+"-fs:focus-within {"+renderedProps+"\n}",".ui-slide-bar:focus + ."+$mdgriffith$elm_ui$Internal$Style$classes_any+" .focusable-thumb"+selector+"-fs {"+renderedProps+"\n}"]);default:return _List_fromArray([selector+("-act:active {"+A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderProps(!1),"",props))+"\n}"])}}),$mdgriffith$elm_ui$Internal$Model$renderStyleRule=F3(function(options,rule,maybePseudo){switch(rule.$){case"Style":return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,rule.a,rule.b);case"Shadows":return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(halfX=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"box-shadow",rule.b)]));case"Transparency":return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(halfX=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"opacity",$elm$core$String$fromFloat(A2($elm$core$Basics$max,0,A2($elm$core$Basics$min,1,1-rule.b))))]));case"FontSize":var wrappedRow=rule.a;return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,".font-size-"+$elm$core$String$fromInt(wrappedRow),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"font-size",$elm$core$String$fromInt(wrappedRow)+"px")]));case"FontFamily":var halfX=rule.a,halfY=rule.b,page=A2($elm$core$String$join,", ",A2($elm$core$List$filterMap,$mdgriffith$elm_ui$Internal$Model$renderVariants,halfY)),column=_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"font-family",A2($elm$core$String$join,", ",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$fontName,halfY))),A2($mdgriffith$elm_ui$Internal$Model$Property,"font-feature-settings",page),A2($mdgriffith$elm_ui$Internal$Model$Property,"font-variant",A2($elm$core$List$any,$mdgriffith$elm_ui$Internal$Model$hasSmallCaps,halfY)?"small-caps":"normal")]);return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+halfX,column);case"Single":return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(_class=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,rule.b,_v12=rule.c)]));case"Colored":return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(_class=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,rule.b,$mdgriffith$elm_ui$Internal$Model$formatColor(rule.c))]));case"SpacingStyle":var cls=rule.a,any=rule.b,columns=rule.c,yPx=$elm$core$String$fromInt(columns)+"px",xPx=$elm$core$String$fromInt(any)+"px",row="."+$mdgriffith$elm_ui$Internal$Style$classes_row,wrappedRow="."+$mdgriffith$elm_ui$Internal$Style$classes_wrapped+row,rows="."+$mdgriffith$elm_ui$Internal$Style$classes_alignRight,template="."+$mdgriffith$elm_ui$Internal$Style$classes_paragraph,page="."+$mdgriffith$elm_ui$Internal$Style$classes_page,msColumns="."+$mdgriffith$elm_ui$Internal$Style$classes_alignLeft,halfY=$elm$core$String$fromFloat(columns/2)+"px",halfX=$elm$core$String$fromFloat(any/2)+"px",column="."+$mdgriffith$elm_ui$Internal$Style$classes_column,any="."+$mdgriffith$elm_ui$Internal$Style$classes_any;return $elm$core$List$concat(_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,(_class="."+cls)+row+" > "+any+" + "+any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-left",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+wrappedRow+" > "+any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin",halfY+" "+halfX)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+column+" > "+any+" + "+any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-top",yPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+page+" > "+any+" + "+any,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-top",yPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+page+" > "+msColumns,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-right",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+page+" > "+rows,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-left",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_Utils_ap(_class,template),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"line-height","calc(1em + "+$elm$core$String$fromInt(columns)+"px)")])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"textarea"+any+_class,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"line-height","calc(1em + "+$elm$core$String$fromInt(columns)+"px)"),A2($mdgriffith$elm_ui$Internal$Model$Property,"height","calc(100% + "+$elm$core$String$fromInt(columns)+"px)")])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+template+" > "+msColumns,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-right",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+template+" > "+rows,_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-left",xPx)])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+template+"::after",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"content","''"),A2($mdgriffith$elm_ui$Internal$Model$Property,"display","block"),A2($mdgriffith$elm_ui$Internal$Model$Property,"height","0"),A2($mdgriffith$elm_ui$Internal$Model$Property,"width","0"),A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-top",$elm$core$String$fromInt(-1*(columns/2|0))+"px")])),A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class+template+"::before",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"content","''"),A2($mdgriffith$elm_ui$Internal$Model$Property,"display","block"),A2($mdgriffith$elm_ui$Internal$Model$Property,"height","0"),A2($mdgriffith$elm_ui$Internal$Model$Property,"width","0"),A2($mdgriffith$elm_ui$Internal$Model$Property,"margin-bottom",$elm$core$String$fromInt(-1*(columns/2|0))+"px")]))]));case"PaddingStyle":var rows=rule.c,msRows=rule.d,msColumns=rule.e;return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class="."+(cls=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"padding",$elm$core$String$fromFloat(rule.b)+("px "+$elm$core$String$fromFloat(rows)+("px "+$elm$core$String$fromFloat(msRows)+("px "+$elm$core$String$fromFloat(msColumns))))+"px")]));case"BorderWidth":rows=rule.c,msRows=rule.d,msColumns=rule.e;return A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,_class="."+(cls=rule.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"border-width",$elm$core$String$fromInt(rule.b)+("px "+$elm$core$String$fromInt(rows)+("px "+$elm$core$String$fromInt(msRows)+("px "+$elm$core$String$fromInt(msColumns))))+"px")]));case"GridTemplateStyle":var template=rule.a,toGridLengthHelper=F3(function(minimum,maximum,x){toGridLengthHelper:for(;;)switch(x.$){case"Px":return $elm$core$String$fromInt(x.a)+"px";case"Content":var _v7={$:"#2",a:minimum,b:maximum};if("Nothing"===_v7.a.$){if("Nothing"===_v7.b.$)return"max-content";return"minmax(max-content, "+$elm$core$String$fromInt(maxSize=_v7.b.a)+"px)"}if("Nothing"===_v7.b.$)return"minmax("+$elm$core$String$fromInt(_v7.a.a)+"px, max-content)";var maxSize=_v7.b.a;return"minmax("+$elm$core$String$fromInt(_v7.a.a)+("px, "+$elm$core$String$fromInt(maxSize))+"px)";case"Fill":var i=x.a,_v7={$:"#2",a:minimum,b:maximum};if("Nothing"===_v7.a.$){if("Nothing"===_v7.b.$)return $elm$core$String$fromInt(i)+"fr";return"minmax(max-content, "+$elm$core$String$fromInt(maxSize=_v7.b.a)+"px)"}if("Nothing"===_v7.b.$)return"minmax("+$elm$core$String$fromInt(_v7.a.a)+("px, "+$elm$core$String$fromInt(i))+"frfr)";maxSize=_v7.b.a;return"minmax("+$elm$core$String$fromInt(_v7.a.a)+("px, "+$elm$core$String$fromInt(maxSize))+"px)";case"Min":var len=x.b;minimum=$elm$core$Maybe$Just(x.a),maximum=maximum,x=len;continue toGridLengthHelper;default:len=x.b;minimum=minimum,maximum=$elm$core$Maybe$Just(x.a),x=len;continue toGridLengthHelper}}),columns=function(x){return A3(toGridLengthHelper,$elm$core$Maybe$Nothing,$elm$core$Maybe$Nothing,x)},position=(columns(template.spacing.a),columns(template.spacing.b)),rows="grid-template-rows: "+A2($elm$core$String$join," ",A2($elm$core$List$map,columns,template.rows))+";",msRows="-ms-grid-rows: "+A2($elm$core$String$join,position,A2($elm$core$List$map,columns,template.columns))+";",msColumns="-ms-grid-columns: "+A2($elm$core$String$join,position,A2($elm$core$List$map,columns,template.columns))+";",msPosition="grid-row-gap:"+columns(template.spacing.b)+";",position="grid-column-gap:"+columns(template.spacing.a)+";",columns="grid-template-columns: "+A2($elm$core$String$join," ",A2($elm$core$List$map,columns,template.columns))+";";return _List_fromArray([(_class=".grid-rows-"+A2($elm$core$String$join,"-",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$lengthClassName,template.rows))+("-cols-"+A2($elm$core$String$join,"-",A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$lengthClassName,template.columns))+("-space-x-"+$mdgriffith$elm_ui$Internal$Model$lengthClassName(template.spacing.a)+("-space-y-"+$mdgriffith$elm_ui$Internal$Model$lengthClassName(template.spacing.b)))))+"{"+msColumns+msRows+"}","@supports (display:grid) {"+(_class+"{"+columns+rows+position+msPosition+"}")+"}"]);case"GridPosition":var position=rule.a,msPosition=A2($elm$core$String$join," ",_List_fromArray(["-ms-grid-row: "+$elm$core$String$fromInt(position.row)+";","-ms-grid-row-span: "+$elm$core$String$fromInt(position.height)+";","-ms-grid-column: "+$elm$core$String$fromInt(position.col)+";","-ms-grid-column-span: "+$elm$core$String$fromInt(position.width)+";"])),transform=A2($elm$core$String$join," ",_List_fromArray(["grid-row: "+$elm$core$String$fromInt(position.row)+(" / "+$elm$core$String$fromInt(position.row+position.height))+";","grid-column: "+$elm$core$String$fromInt(position.col)+(" / "+$elm$core$String$fromInt(position.col+position.width))+";"]));return _List_fromArray([(_class=".grid-pos-"+$elm$core$String$fromInt(position.row)+("-"+$elm$core$String$fromInt(position.col)+("-"+$elm$core$String$fromInt(position.width)+("-"+$elm$core$String$fromInt(position.height)))))+"{"+msPosition+"}","@supports (display:grid) {"+(_class+"{"+transform+"}")+"}"]);case"PseudoSelector":var _class=rule.a;return A2($elm$core$List$concatMap,function(style){return A3($mdgriffith$elm_ui$Internal$Model$renderStyleRule,options,style,$elm$core$Maybe$Just(_class))},rule.b);default:var transform=rule.a,_v12=function(transform){switch(transform.$){case"Untransformed":return $elm$core$Maybe$Nothing;case"Moved":var rotate=transform.a,ox=rotate.b,oy=rotate.c;return $elm$core$Maybe$Just("translate3d("+$elm$core$String$fromFloat(rotate.a)+("px, "+$elm$core$String$fromFloat(ox)+("px, "+$elm$core$String$fromFloat(oy)))+"px)");default:var _v2=transform.a,ty=_v2.b,translate=_v2.c,oz=transform.b,sx=oz.a,sy=oz.b,scale=oz.c,rotate=transform.c,ox=rotate.a,oy=rotate.b,oz=rotate.c,rotate=transform.d,translate="translate3d("+$elm$core$String$fromFloat(_v2.a)+("px, "+$elm$core$String$fromFloat(ty)+("px, "+$elm$core$String$fromFloat(translate)))+"px)",scale="scale3d("+$elm$core$String$fromFloat(sx)+(", "+$elm$core$String$fromFloat(sy)+(", "+$elm$core$String$fromFloat(scale)))+")",rotate="rotate3d("+$elm$core$String$fromFloat(ox)+(", "+$elm$core$String$fromFloat(oy)+(", "+$elm$core$String$fromFloat(oz)+(", "+$elm$core$String$fromFloat(rotate))))+"rad)";return $elm$core$Maybe$Just(translate+" "+scale+" "+rotate)}}(transform),_v12={$:"#2",a:_class=$mdgriffith$elm_ui$Internal$Model$transformClass(transform),b:_v12};return"Just"!==_v12.a.$||"Just"!==_v12.b.$?_List_Nil:A4($mdgriffith$elm_ui$Internal$Model$renderStyle,options,maybePseudo,"."+(cls=_v12.a.a),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"transform",_v12.b.a)]))}}),$mdgriffith$elm_ui$Internal$Model$encodeStyles=F2(function(options,stylesheet){return $elm$json$Json$Encode$object(A2($elm$core$List$map,function(style){var styled=A3($mdgriffith$elm_ui$Internal$Model$renderStyleRule,options,style,$elm$core$Maybe$Nothing);return{$:"#2",a:$mdgriffith$elm_ui$Internal$Model$getStyleName(style),b:A2($elm$json$Json$Encode$list,$elm$json$Json$Encode$string,styled)}},stylesheet))}),$mdgriffith$elm_ui$Internal$Model$bracket=F2(function(selector,rules){return selector+" {"+A2($elm$core$String$join,"",A2($elm$core$List$map,function(_v0){return _v0.a+": "+_v0.b+";"},rules))+"}"}),$mdgriffith$elm_ui$Internal$Model$fontRule=F3(function(name,modifier,_v0){var textAdjustment=_v0.b;return _List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$bracket,"."+name+"."+modifier+", ."+name+" ."+modifier,_v0.a),A2($mdgriffith$elm_ui$Internal$Model$bracket,"."+name+"."+modifier+"> ."+$mdgriffith$elm_ui$Internal$Style$classes_text+", ."+name+" ."+modifier+" > ."+$mdgriffith$elm_ui$Internal$Style$classes_text,textAdjustment)])}),$mdgriffith$elm_ui$Internal$Model$renderFontAdjustmentRule=F3(function(name,capital,otherFontName){var full=capital.a,capital=capital.b,name=_Utils_eq(name,otherFontName)?name:otherFontName+" ."+name;return A2($elm$core$String$join," ",_Utils_ap(A3($mdgriffith$elm_ui$Internal$Model$fontRule,name,$mdgriffith$elm_ui$Internal$Style$classes_sizeByCapital,capital),A3($mdgriffith$elm_ui$Internal$Model$fontRule,name,$mdgriffith$elm_ui$Internal$Style$classes_fullSize,full)))}),$mdgriffith$elm_ui$Internal$Model$renderNullAdjustmentRule=F2(function(name,otherFontName){name=_Utils_eq(name,otherFontName)?name:otherFontName+" ."+name;return A2($elm$core$String$join," ",_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$bracket,"."+name+"."+$mdgriffith$elm_ui$Internal$Style$classes_sizeByCapital+", ."+name+" ."+$mdgriffith$elm_ui$Internal$Style$classes_sizeByCapital,_List_fromArray([{$:"#2",a:"line-height",b:"1"}])),A2($mdgriffith$elm_ui$Internal$Model$bracket,"."+name+"."+$mdgriffith$elm_ui$Internal$Style$classes_sizeByCapital+"> ."+$mdgriffith$elm_ui$Internal$Style$classes_text+", ."+name+" ."+$mdgriffith$elm_ui$Internal$Style$classes_sizeByCapital+" > ."+$mdgriffith$elm_ui$Internal$Style$classes_text,_List_fromArray([{$:"#2",a:"vertical-align",b:"0"},{$:"#2",a:"line-height",b:"1"}]))]))}),$mdgriffith$elm_ui$Internal$Model$adjust=F3(function(size,height,vertical){return{height:height/size,size:size,vertical:vertical}}),$mdgriffith$elm_ui$Internal$Model$toStyleSheetString=F2(function(options,rules){var _v0=A3($elm$core$List$foldl,F2(function(_v1,rendered){return{rules:_Utils_ap(rendered.rules,A3($mdgriffith$elm_ui$Internal$Model$renderStyleRule,options,_v1,$elm$core$Maybe$Nothing)),topLevel:"Nothing"===(_v1="FontFamily"!==(_v1=_v1).$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({$:"#2",a:_v1.a,b:_v1.b})).$?rendered.topLevel:A2($elm$core$List$cons,_v1.a,rendered.topLevel)}}),{rules:_List_Nil,topLevel:_List_Nil},rules),rules=_v0.rules;return _Utils_ap($mdgriffith$elm_ui$Internal$Model$renderTopLevelValues(_v0.topLevel),$elm$core$String$concat(rules))}),$mdgriffith$elm_ui$Internal$Model$toStyleSheet=F2(function(options,styleSheet){switch(options.mode.$){case"Layout":case"NoStaticStyleSheet":return A3($elm$virtual_dom$VirtualDom$node,"div",_List_Nil,_List_fromArray([A3($elm$virtual_dom$VirtualDom$node,"style",_List_Nil,_List_fromArray([$elm$virtual_dom$VirtualDom$text(A2($mdgriffith$elm_ui$Internal$Model$toStyleSheetString,options,styleSheet))]))]));default:return A3($elm$virtual_dom$VirtualDom$node,"elm-ui-rules",_List_fromArray([A2($elm$virtual_dom$VirtualDom$property,"rules",A2($mdgriffith$elm_ui$Internal$Model$encodeStyles,options,styleSheet))]),_List_Nil)}}),$mdgriffith$elm_ui$Internal$Model$embedKeyed=F4(function(_static,opts,dynamicStyleSheet,children){dynamicStyleSheet=A2($mdgriffith$elm_ui$Internal$Model$toStyleSheet,opts,A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$reduceStyles,{$:"#2",a:$elm$core$Set$empty,b:$mdgriffith$elm_ui$Internal$Model$renderFocusStyle(opts.focus)},dynamicStyleSheet).b);return _static?A2($elm$core$List$cons,{$:"#2",a:"static-stylesheet",b:$mdgriffith$elm_ui$Internal$Model$staticRoot(opts)},A2($elm$core$List$cons,{$:"#2",a:"dynamic-stylesheet",b:dynamicStyleSheet},children)):A2($elm$core$List$cons,{$:"#2",a:"dynamic-stylesheet",b:dynamicStyleSheet},children)}),$mdgriffith$elm_ui$Internal$Model$embedWith=F4(function(_static,opts,dynamicStyleSheet,children){dynamicStyleSheet=A2($mdgriffith$elm_ui$Internal$Model$toStyleSheet,opts,A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$reduceStyles,{$:"#2",a:$elm$core$Set$empty,b:$mdgriffith$elm_ui$Internal$Model$renderFocusStyle(opts.focus)},dynamicStyleSheet).b);return _static?A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$staticRoot(opts),A2($elm$core$List$cons,dynamicStyleSheet,children)):A2($elm$core$List$cons,dynamicStyleSheet,children)}),$mdgriffith$elm_ui$Internal$Flag$heightBetween=alpha(45),$mdgriffith$elm_ui$Internal$Flag$heightFill=alpha(37),$elm$html$Html$p=_VirtualDom_node("p"),$mdgriffith$elm_ui$Internal$Flag$present=F2(function(second,_v0){var fieldTwo=_v0.b;if("Flag"===second.$){var first=second.a;return _Utils_eq(first&_v0.a,first)}second=second.a;return _Utils_eq(second&fieldTwo,second)}),$elm$html$Html$s=_VirtualDom_node("s"),$elm$html$Html$u=_VirtualDom_node("u"),$mdgriffith$elm_ui$Internal$Flag$widthBetween=alpha(44),$mdgriffith$elm_ui$Internal$Flag$widthFill=alpha(39),$mdgriffith$elm_ui$Internal$Model$finalizeNode=F6(function(has,node,attributes,children,embedMode,parentContext){var createNode=F2(function(nodeName,attrs){if("Keyed"===children.$){var keyed=children.a;return A3($elm$virtual_dom$VirtualDom$keyedNode,nodeName,attrs,function(){switch(embedMode.$){case"NoStyleSheet":return keyed;case"OnlyDynamic":return A4($mdgriffith$elm_ui$Internal$Model$embedKeyed,!1,embedMode.a,embedMode.b,keyed);default:return A4($mdgriffith$elm_ui$Internal$Model$embedKeyed,!0,embedMode.a,embedMode.b,keyed)}}())}var unkeyed=children.a;return A2(function(){switch(nodeName){case"div":return $elm$html$Html$div;case"p":return $elm$html$Html$p;default:return $elm$virtual_dom$VirtualDom$node(nodeName)}}(),attrs,function(){switch(embedMode.$){case"NoStyleSheet":return unkeyed;case"OnlyDynamic":return A4($mdgriffith$elm_ui$Internal$Model$embedWith,!1,embedMode.a,embedMode.b,unkeyed);default:return A4($mdgriffith$elm_ui$Internal$Model$embedWith,!0,embedMode.a,embedMode.b,unkeyed)}}())}),html=function(){switch(node.$){case"Generic":return A2(createNode,"div",attributes);case"NodeName":return A2(createNode,node.a,attributes);default:return A3($elm$virtual_dom$VirtualDom$node,node.a,attributes,_List_fromArray([A2(createNode,node.b,_List_fromArray([$elm$html$Html$Attributes$class($mdgriffith$elm_ui$Internal$Style$classes_any+" "+$mdgriffith$elm_ui$Internal$Style$classes_single)]))]))}}();switch(parentContext.$){case"AsRow":return A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$widthFill,has)&&!A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$widthBetween,has)?html:A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$alignRight,has)?A2($elm$html$Html$u,_List_fromArray([$elm$html$Html$Attributes$class(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_any,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_container,$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY,$mdgriffith$elm_ui$Internal$Style$classes_alignContainerRight])))]),_List_fromArray([html])):A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$centerX,has)?A2($elm$html$Html$s,_List_fromArray([$elm$html$Html$Attributes$class(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_any,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_container,$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY,$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterX])))]),_List_fromArray([html])):html;case"AsColumn":return A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$heightFill,has)&&!A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$heightBetween,has)?html:A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$centerY,has)?A2($elm$html$Html$s,_List_fromArray([$elm$html$Html$Attributes$class(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_any,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_container,$mdgriffith$elm_ui$Internal$Style$classes_alignContainerCenterY])))]),_List_fromArray([html])):A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$alignBottom,has)?A2($elm$html$Html$u,_List_fromArray([$elm$html$Html$Attributes$class(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_any,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_container,$mdgriffith$elm_ui$Internal$Style$classes_alignContainerBottom])))]),_List_fromArray([html])):html;default:return html}}),$elm$html$Html$text=$elm$virtual_dom$VirtualDom$text,$mdgriffith$elm_ui$Internal$Model$textElementClasses=$mdgriffith$elm_ui$Internal$Style$classes_any+" "+$mdgriffith$elm_ui$Internal$Style$classes_text+" "+$mdgriffith$elm_ui$Internal$Style$classes_widthContent+" "+$mdgriffith$elm_ui$Internal$Style$classes_heightContent,$mdgriffith$elm_ui$Internal$Model$textElementFillClasses=$mdgriffith$elm_ui$Internal$Style$classes_any+" "+$mdgriffith$elm_ui$Internal$Style$classes_text+" "+$mdgriffith$elm_ui$Internal$Style$classes_widthFill+" "+$mdgriffith$elm_ui$Internal$Style$classes_heightFill,$mdgriffith$elm_ui$Internal$Model$createElement=F3(function(context,unkeyed,rendered){var keyed=F2(function(_v8,_v9){var key=_v8.a,child=_v8.b,htmls=_v9.a,existingStyles=_v9.b;switch(child.$){case"Unstyled":var html=child.a;return _Utils_eq(context,$mdgriffith$elm_ui$Internal$Model$asParagraph),{$:"#2",a:A2($elm$core$List$cons,{$:"#2",a:key,b:html(context)},htmls),b:existingStyles};case"Styled":var str=child.a;return _Utils_eq(context,$mdgriffith$elm_ui$Internal$Model$asParagraph),{$:"#2",a:A2($elm$core$List$cons,{$:"#2",a:key,b:A2(str.html,$mdgriffith$elm_ui$Internal$Model$NoStyleSheet,context)},htmls),b:existingStyles.b?_Utils_ap(str.styles,existingStyles):str.styles};case"Text":str=child.a;return{$:"#2",a:A2($elm$core$List$cons,{$:"#2",a:key,b:(_Utils_eq(context,$mdgriffith$elm_ui$Internal$Model$asEl)?$mdgriffith$elm_ui$Internal$Model$textElementFill:$mdgriffith$elm_ui$Internal$Model$textElement)(str)},htmls),b:existingStyles};default:return{$:"#2",a:htmls,b:existingStyles}}}),_v3=F2(function(child,_v6){var htmls=_v6.a,existingStyles=_v6.b;switch(child.$){case"Unstyled":var html=child.a;return _Utils_eq(context,$mdgriffith$elm_ui$Internal$Model$asParagraph),{$:"#2",a:A2($elm$core$List$cons,html(context),htmls),b:existingStyles};case"Styled":var str=child.a;return _Utils_eq(context,$mdgriffith$elm_ui$Internal$Model$asParagraph),{$:"#2",a:A2($elm$core$List$cons,A2(str.html,$mdgriffith$elm_ui$Internal$Model$NoStyleSheet,context),htmls),b:existingStyles.b?_Utils_ap(str.styles,existingStyles):str.styles};case"Text":str=child.a;return{$:"#2",a:A2($elm$core$List$cons,(_Utils_eq(context,$mdgriffith$elm_ui$Internal$Model$asEl)?$mdgriffith$elm_ui$Internal$Model$textElementFill:$mdgriffith$elm_ui$Internal$Model$textElement)(str),htmls),b:existingStyles};default:return{$:"#2",a:htmls,b:existingStyles}}});if("Keyed"===unkeyed.$){var newStyles=A3($elm$core$List$foldr,keyed,{$:"#2",a:_List_Nil,b:_List_Nil},unkeyed.a),keyed=newStyles.a;if((newStyles=(styles=newStyles.b).b?_Utils_ap(rendered.styles,styles):rendered.styles).b){var allStyles=newStyles;return{$:"Styled",a:{html:A4($mdgriffith$elm_ui$Internal$Model$finalizeNode,rendered.has,rendered.node,rendered.attributes,{$:"Keyed",a:A3($mdgriffith$elm_ui$Internal$Model$addKeyedChildren,"nearby-element-pls",keyed,rendered.children)}),styles:allStyles}}}return{$:"Unstyled",a:A5($mdgriffith$elm_ui$Internal$Model$finalizeNode,rendered.has,rendered.node,rendered.attributes,{$:"Keyed",a:A3($mdgriffith$elm_ui$Internal$Model$addKeyedChildren,"nearby-element-pls",keyed,rendered.children)},$mdgriffith$elm_ui$Internal$Model$NoStyleSheet)}}var styles,_v3=A3($elm$core$List$foldr,_v3,{$:"#2",a:_List_Nil,b:_List_Nil},unkeyed.a),unkeyed=_v3.a;if((newStyles=(styles=_v3.b).b?_Utils_ap(rendered.styles,styles):rendered.styles).b){allStyles=newStyles;return{$:"Styled",a:{html:A4($mdgriffith$elm_ui$Internal$Model$finalizeNode,rendered.has,rendered.node,rendered.attributes,{$:"Unkeyed",a:A2($mdgriffith$elm_ui$Internal$Model$addChildren,unkeyed,rendered.children)}),styles:allStyles}}}return{$:"Unstyled",a:A5($mdgriffith$elm_ui$Internal$Model$finalizeNode,rendered.has,rendered.node,rendered.attributes,{$:"Unkeyed",a:A2($mdgriffith$elm_ui$Internal$Model$addChildren,unkeyed,rendered.children)},$mdgriffith$elm_ui$Internal$Model$NoStyleSheet)}}),$mdgriffith$elm_ui$Internal$Model$Single=F3(function(a,b,c){return{$:"Single",a:a,b:b,c:c}}),$mdgriffith$elm_ui$Internal$Flag$Field=F2(function(a,b){return{$:"Field",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Flag$add=F2(function(myFlag,two){var one=two.a,two=two.b;return"Flag"!==myFlag.$?A2($mdgriffith$elm_ui$Internal$Flag$Field,one,myFlag.a|two):A2($mdgriffith$elm_ui$Internal$Flag$Field,myFlag.a|one,two)}),$mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront=F2(function(a,b){return{$:"ChildrenBehindAndInFront",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$nearbyElement=F2(function(location,elem){return A2($elm$html$Html$div,_List_fromArray([$elm$html$Html$Attributes$class(function(){switch(location.$){case"Above":return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_nearby,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_above]));case"Below":return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_nearby,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_below]));case"OnRight":return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_nearby,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_onRight]));case"OnLeft":return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_nearby,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_onLeft]));case"InFront":return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_nearby,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_inFront]));default:return A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_nearby,$mdgriffith$elm_ui$Internal$Style$classes_single,$mdgriffith$elm_ui$Internal$Style$classes_behind]))}}())]),_List_fromArray([function(){switch(elem.$){case"Empty":return $elm$virtual_dom$VirtualDom$text("");case"Text":return $mdgriffith$elm_ui$Internal$Model$textElement(elem.a);case"Unstyled":return(0,elem.a)($mdgriffith$elm_ui$Internal$Model$asEl);default:return A2(elem.a.html,$mdgriffith$elm_ui$Internal$Model$NoStyleSheet,$mdgriffith$elm_ui$Internal$Model$asEl)}}()]))}),$mdgriffith$elm_ui$Internal$Model$addNearbyElement=F3(function(location,elem,existing){var nearby=A2($mdgriffith$elm_ui$Internal$Model$nearbyElement,location,elem);switch(existing.$){case"NoNearbyChildren":return"Behind"===location.$?{$:"ChildrenBehind",a:_List_fromArray([nearby])}:{$:"ChildrenInFront",a:_List_fromArray([nearby])};case"ChildrenBehind":var existingBehind=existing.a;return"Behind"===location.$?{$:"ChildrenBehind",a:A2($elm$core$List$cons,nearby,existingBehind)}:A2($mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront,existingBehind,_List_fromArray([nearby]));case"ChildrenInFront":var existingInFront=existing.a;return"Behind"===location.$?A2($mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront,_List_fromArray([nearby]),existingInFront):{$:"ChildrenInFront",a:A2($elm$core$List$cons,nearby,existingInFront)};default:existingBehind=existing.a,existingInFront=existing.b;return"Behind"===location.$?A2($mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront,A2($elm$core$List$cons,nearby,existingBehind),existingInFront):A2($mdgriffith$elm_ui$Internal$Model$ChildrenBehindAndInFront,existingBehind,A2($elm$core$List$cons,nearby,existingInFront))}}),$mdgriffith$elm_ui$Internal$Model$Embedded=F2(function(a,b){return{$:"Embedded",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$addNodeName=F2(function(newNode,old){switch(old.$){case"Generic":return{$:"NodeName",a:newNode};case"NodeName":return A2($mdgriffith$elm_ui$Internal$Model$Embedded,old.a,newNode);default:return A2($mdgriffith$elm_ui$Internal$Model$Embedded,old.a,old.b)}}),$elm$virtual_dom$VirtualDom$attribute=F2(function(key,value){return A2(_VirtualDom_attribute,function(key){return/^(on|formAction$)/i.test(key)?"data-"+key:key}(key),_VirtualDom_noJavaScriptOrHtmlUri(value))}),$mdgriffith$elm_ui$Internal$Model$FullTransform=F4(function(a,b,c,d){return{$:"FullTransform",a:a,b:b,c:c,d:d}}),$mdgriffith$elm_ui$Internal$Model$composeTransformation=F2(function(transform,component){switch(transform.$){case"Untransformed":switch(component.$){case"MoveX":return{$:"Moved",a:{$:"#3",a:x=component.a,b:0,c:0}};case"MoveY":return{$:"Moved",a:{$:"#3",a:0,b:y=component.a,c:0}};case"MoveZ":return{$:"Moved",a:{$:"#3",a:0,b:0,c:z=component.a}};case"MoveXYZ":return{$:"Moved",a:component.a};case"Rotate":return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{$:"#3",a:0,b:0,c:0},{$:"#3",a:1,b:1,c:1},component.a,angle=component.b);default:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{$:"#3",a:0,b:0,c:0},component.a,{$:"#3",a:0,b:0,c:1},0)}case"Moved":var x=(moved=transform.a).a,y=moved.b,z=moved.c;switch(component.$){case"MoveX":return{$:"Moved",a:{$:"#3",a:component.a,b:y,c:z}};case"MoveY":return{$:"Moved",a:{$:"#3",a:x,b:component.a,c:z}};case"MoveZ":return{$:"Moved",a:{$:"#3",a:x,b:y,c:component.a}};case"MoveXYZ":return{$:"Moved",a:component.a};case"Rotate":return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,moved,{$:"#3",a:1,b:1,c:1},component.a,angle=component.b);default:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,moved,component.a,{$:"#3",a:0,b:0,c:1},0)}default:var moved,x=(moved=transform.a).a,y=moved.b,z=moved.c,scaled=transform.b,origin=transform.c,angle=transform.d;switch(component.$){case"MoveX":return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{$:"#3",a:component.a,b:y,c:z},scaled,origin,angle);case"MoveY":return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{$:"#3",a:x,b:component.a,c:z},scaled,origin,angle);case"MoveZ":return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,{$:"#3",a:x,b:y,c:component.a},scaled,origin,angle);case"MoveXYZ":return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,component.a,scaled,origin,angle);case"Rotate":return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,moved,scaled,component.a,component.b);default:return A4($mdgriffith$elm_ui$Internal$Model$FullTransform,moved,component.a,origin,angle)}}}),$mdgriffith$elm_ui$Internal$Flag$height=alpha(7),$mdgriffith$elm_ui$Internal$Flag$heightContent=alpha(36),$mdgriffith$elm_ui$Internal$Flag$merge=F2(function(_v0,_v1){return A2($mdgriffith$elm_ui$Internal$Flag$Field,_v0.a|_v1.a,_v0.b|_v1.b)}),$mdgriffith$elm_ui$Internal$Flag$none=A2($mdgriffith$elm_ui$Internal$Flag$Field,0,0),$mdgriffith$elm_ui$Internal$Model$renderHeight=function(h){switch(h.$){case"Px":var portion=$elm$core$String$fromInt(h.a),name="height-px-"+portion;return{$:"#3",a:$mdgriffith$elm_ui$Internal$Flag$none,b:$mdgriffith$elm_ui$Internal$Style$classes_heightExact+" "+name,c:_List_fromArray([A3($mdgriffith$elm_ui$Internal$Model$Single,name,"height",portion+"px")])};case"Content":return{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightContent,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_heightContent,c:_List_Nil};case"Fill":portion=h.a;return 1===portion?{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightFill,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_heightFill,c:_List_Nil}:{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightFill,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_heightFillPortion+(" height-fill-"+$elm$core$String$fromInt(portion)),c:_List_fromArray([A3($mdgriffith$elm_ui$Internal$Model$Single,$mdgriffith$elm_ui$Internal$Style$classes_any+("."+$mdgriffith$elm_ui$Internal$Style$classes_column+(" > .height-fill-"+$elm$core$String$fromInt(portion))),"flex-grow",$elm$core$String$fromInt(1e5*portion))])};case"Min":var newStyle=h.a,_v2=h.b,cls="min-height-"+$elm$core$String$fromInt(newStyle),style=A3($mdgriffith$elm_ui$Internal$Model$Single,cls,"min-height",$elm$core$String$fromInt(newStyle)+"px !important"),maxSize=$mdgriffith$elm_ui$Internal$Model$renderHeight(_v2),newAttrs=maxSize.b,newStyle=maxSize.c;return{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightBetween,maxSize.a),b:cls+" "+newAttrs,c:A2($elm$core$List$cons,style,newStyle)};default:maxSize=h.a,_v2=h.b,cls="max-height-"+$elm$core$String$fromInt(maxSize),style=A3($mdgriffith$elm_ui$Internal$Model$Single,cls,"max-height",$elm$core$String$fromInt(maxSize)+"px"),_v2=$mdgriffith$elm_ui$Internal$Model$renderHeight(_v2),newAttrs=_v2.b,newStyle=_v2.c;return{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightBetween,_v2.a),b:cls+" "+newAttrs,c:A2($elm$core$List$cons,style,newStyle)}}},$mdgriffith$elm_ui$Internal$Flag$widthContent=alpha(38),$mdgriffith$elm_ui$Internal$Model$renderWidth=function(w){switch(w.$){case"Px":var portion=w.a;return{$:"#3",a:$mdgriffith$elm_ui$Internal$Flag$none,b:$mdgriffith$elm_ui$Internal$Style$classes_widthExact+(" width-px-"+$elm$core$String$fromInt(portion)),c:_List_fromArray([A3($mdgriffith$elm_ui$Internal$Model$Single,"width-px-"+$elm$core$String$fromInt(portion),"width",$elm$core$String$fromInt(portion)+"px")])};case"Content":return{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthContent,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_widthContent,c:_List_Nil};case"Fill":portion=w.a;return 1===portion?{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthFill,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_widthFill,c:_List_Nil}:{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthFill,$mdgriffith$elm_ui$Internal$Flag$none),b:$mdgriffith$elm_ui$Internal$Style$classes_widthFillPortion+(" width-fill-"+$elm$core$String$fromInt(portion)),c:_List_fromArray([A3($mdgriffith$elm_ui$Internal$Model$Single,$mdgriffith$elm_ui$Internal$Style$classes_any+("."+$mdgriffith$elm_ui$Internal$Style$classes_row+(" > .width-fill-"+$elm$core$String$fromInt(portion))),"flex-grow",$elm$core$String$fromInt(1e5*portion))])};case"Min":var newStyle=w.a,_v2=w.b,cls="min-width-"+$elm$core$String$fromInt(newStyle),style=A3($mdgriffith$elm_ui$Internal$Model$Single,cls,"min-width",$elm$core$String$fromInt(newStyle)+"px"),maxSize=$mdgriffith$elm_ui$Internal$Model$renderWidth(_v2),newAttrs=maxSize.b,newStyle=maxSize.c;return{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthBetween,maxSize.a),b:cls+" "+newAttrs,c:A2($elm$core$List$cons,style,newStyle)};default:maxSize=w.a,_v2=w.b,cls="max-width-"+$elm$core$String$fromInt(maxSize),style=A3($mdgriffith$elm_ui$Internal$Model$Single,cls,"max-width",$elm$core$String$fromInt(maxSize)+"px"),_v2=$mdgriffith$elm_ui$Internal$Model$renderWidth(_v2),newAttrs=_v2.b,newStyle=_v2.c;return{$:"#3",a:A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthBetween,_v2.a),b:cls+" "+newAttrs,c:A2($elm$core$List$cons,style,newStyle)}}},$mdgriffith$elm_ui$Internal$Flag$borderWidth=alpha(27),$mdgriffith$elm_ui$Internal$Model$skippable=F2(function(flag,style){if(_Utils_eq(flag,$mdgriffith$elm_ui$Internal$Flag$borderWidth)){if("Single"!==style.$)return!1;switch(style.c){case"0px":case"1px":case"2px":case"3px":case"4px":case"5px":case"6px":return!0;default:return!1}}else switch(style.$){case"FontSize":var l=style.a;return 8<=l&&l<=32;case"PaddingStyle":var t=style.b,r=style.c,l=style.e;return _Utils_eq(t,style.d)&&_Utils_eq(t,r)&&_Utils_eq(t,l)&&0<=t&&t<=24;default:return!1}}),$mdgriffith$elm_ui$Internal$Flag$width=alpha(6),$mdgriffith$elm_ui$Internal$Flag$xAlign=alpha(30),$mdgriffith$elm_ui$Internal$Flag$yAlign=alpha(29),$mdgriffith$elm_ui$Internal$Model$gatherAttrRecursive=F8(function(classes,node,has,transform,styles,attrs,children,elementAttrs){gatherAttrRecursive:for(;;){if(!elementAttrs.b){var _v1=$mdgriffith$elm_ui$Internal$Model$transformClass(transform);return"Nothing"===_v1.$?{attributes:A2($elm$core$List$cons,$elm$html$Html$Attributes$class(classes),attrs),children:children,has:has,node:node,styles:styles}:{attributes:A2($elm$core$List$cons,$elm$html$Html$Attributes$class(classes+" "+_v1.a),attrs),children:children,has:has,node:node,styles:A2($elm$core$List$cons,{$:"Transform",a:transform},styles)}}var attribute=elementAttrs.a,remaining=elementAttrs.b;switch(attribute.$){case"NoAttribute":classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Class":var style=attribute.b;if(A2($mdgriffith$elm_ui$Internal$Flag$present,flag=attribute.a,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=style+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,flag,has),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Attr":classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,attribute.a,attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"StyleClass":style=attribute.b;if(A2($mdgriffith$elm_ui$Internal$Flag$present,flag=attribute.a,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}if(A2($mdgriffith$elm_ui$Internal$Model$skippable,flag,style)){classes=$temp$classes=$mdgriffith$elm_ui$Internal$Model$getStyleName(style)+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,flag,has),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=$mdgriffith$elm_ui$Internal$Model$getStyleName(style)+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,flag,has),transform=$temp$transform=transform,styles=$temp$styles=A2($elm$core$List$cons,style,styles),attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"TransformComponent":var flag,location=attribute.b;classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,flag=attribute.a,has),transform=$temp$transform=A2($mdgriffith$elm_ui$Internal$Model$composeTransformation,transform,location),styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Width":var width=attribute.a;if(A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$width,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}switch(width.$){case"Px":var $temp$classes=$mdgriffith$elm_ui$Internal$Style$classes_widthExact+(" width-px-"+$elm$core$String$fromInt(px=width.a))+" "+classes,$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has),$temp$transform=transform,$temp$styles=A2($elm$core$List$cons,A3($mdgriffith$elm_ui$Internal$Model$Single,"width-px-"+$elm$core$String$fromInt(px),"width",$elm$core$String$fromInt(px)+"px"),styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Content":classes=$temp$classes=classes+" "+$mdgriffith$elm_ui$Internal$Style$classes_widthContent,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthContent,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Fill":if(1===(portion=width.a)){classes=$temp$classes=classes+" "+$mdgriffith$elm_ui$Internal$Style$classes_widthFill,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthFill,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}$temp$classes=classes+(" "+$mdgriffith$elm_ui$Internal$Style$classes_widthFillPortion+(" width-fill-"+$elm$core$String$fromInt(portion))),$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$widthFill,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has)),$temp$transform=transform,$temp$styles=A2($elm$core$List$cons,A3($mdgriffith$elm_ui$Internal$Model$Single,$mdgriffith$elm_ui$Internal$Style$classes_any+("."+$mdgriffith$elm_ui$Internal$Style$classes_row+(" > .width-fill-"+$elm$core$String$fromInt(portion))),"flex-grow",$elm$core$String$fromInt(1e5*portion)),styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;default:var _v4=$mdgriffith$elm_ui$Internal$Model$renderWidth(width),newStyles=_v4.c,$temp$classes=classes+" "+_v4.b,$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$merge,_v4.a,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$width,has)),$temp$transform=transform,$temp$styles=_Utils_ap(newStyles,styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}case"Height":var portion,height=attribute.a;if(A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$height,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}switch(height.$){case"Px":var px,_v6=$elm$core$String$fromInt(px=height.a)+"px",name="height-px-"+_v6;classes=$temp$classes=$mdgriffith$elm_ui$Internal$Style$classes_heightExact+" "+name+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has),transform=$temp$transform=transform,styles=$temp$styles=A2($elm$core$List$cons,A3($mdgriffith$elm_ui$Internal$Model$Single,name,"height ",_v6),styles),attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Content":classes=$temp$classes=$mdgriffith$elm_ui$Internal$Style$classes_heightContent+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightContent,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Fill":if(1===(portion=height.a)){classes=$temp$classes=$mdgriffith$elm_ui$Internal$Style$classes_heightFill+" "+classes,node=$temp$node=node,has=$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightFill,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}$temp$classes=classes+(" "+$mdgriffith$elm_ui$Internal$Style$classes_heightFillPortion+(" height-fill-"+$elm$core$String$fromInt(portion))),$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$heightFill,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has)),$temp$transform=transform,$temp$styles=A2($elm$core$List$cons,A3($mdgriffith$elm_ui$Internal$Model$Single,$mdgriffith$elm_ui$Internal$Style$classes_any+("."+$mdgriffith$elm_ui$Internal$Style$classes_column+(" > .height-fill-"+$elm$core$String$fromInt(portion))),"flex-grow",$elm$core$String$fromInt(1e5*portion)),styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;default:_v6=$mdgriffith$elm_ui$Internal$Model$renderHeight(height),newStyles=_v6.c,$temp$classes=classes+" "+_v6.b,$temp$node=node,$temp$has=A2($mdgriffith$elm_ui$Internal$Flag$merge,_v6.a,A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$height,has)),$temp$transform=transform,$temp$styles=_Utils_ap(newStyles,styles);classes=$temp$classes,node=$temp$node,has=$temp$has,transform=$temp$transform,styles=$temp$styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}case"Describe":var description=attribute.a;switch(description.$){case"Main":classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"main",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Navigation":classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"nav",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"ContentInfo":classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"footer",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Complementary":classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"aside",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Heading":var i=description.a;if(1<i){if(i<7){classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"h"+$elm$core$String$fromInt(i),node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"h6",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=classes,node=$temp$node=A2($mdgriffith$elm_ui$Internal$Model$addNodeName,"h1",node),has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Paragraph":classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Button":classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,A2($elm$virtual_dom$VirtualDom$attribute,"role","button"),attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"Label":classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,A2($elm$virtual_dom$VirtualDom$attribute,"aria-label",description.a),attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive;case"LivePolite":classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,A2($elm$virtual_dom$VirtualDom$attribute,"aria-live","polite"),attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive;default:classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=A2($elm$core$List$cons,A2($elm$virtual_dom$VirtualDom$attribute,"aria-live","assertive"),attrs),children=children,elementAttrs=remaining;continue gatherAttrRecursive}case"Nearby":var location=attribute.a,elem=attribute.b,newStyles=function(){switch(elem.$){case"Empty":return styles;case"Text":return styles;case"Unstyled":return styles;default:return _Utils_ap(styles,elem.a.styles)}}();classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=newStyles,attrs=attrs,children=A3($mdgriffith$elm_ui$Internal$Model$addNearbyElement,location,elem,children),elementAttrs=remaining;continue gatherAttrRecursive;case"AlignX":var x=attribute.a;if(A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$xAlign,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=function(align){switch(align.$){case"Left":return $mdgriffith$elm_ui$Internal$Style$classes_alignedHorizontally+" "+$mdgriffith$elm_ui$Internal$Style$classes_alignLeft;case"Right":return $mdgriffith$elm_ui$Internal$Style$classes_alignedHorizontally+" "+$mdgriffith$elm_ui$Internal$Style$classes_alignRight;default:return $mdgriffith$elm_ui$Internal$Style$classes_alignedHorizontally+" "+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterX}}(x)+" "+classes,node=$temp$node=node,has=$temp$has=function(flags){switch(x.$){case"CenterX":return A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$centerX,flags);case"Right":return A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$alignRight,flags);default:return flags}}(A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$xAlign,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive;default:var y=attribute.a;if(A2($mdgriffith$elm_ui$Internal$Flag$present,$mdgriffith$elm_ui$Internal$Flag$yAlign,has)){classes=$temp$classes=classes,node=$temp$node=node,has=$temp$has=has,transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}classes=$temp$classes=function(align){switch(align.$){case"Top":return $mdgriffith$elm_ui$Internal$Style$classes_alignedVertically+" "+$mdgriffith$elm_ui$Internal$Style$classes_alignTop;case"Bottom":return $mdgriffith$elm_ui$Internal$Style$classes_alignedVertically+" "+$mdgriffith$elm_ui$Internal$Style$classes_alignBottom;default:return $mdgriffith$elm_ui$Internal$Style$classes_alignedVertically+" "+$mdgriffith$elm_ui$Internal$Style$classes_alignCenterY}}(y)+" "+classes,node=$temp$node=node,has=$temp$has=function(flags){switch(y.$){case"CenterY":return A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$centerY,flags);case"Bottom":return A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$alignBottom,flags);default:return flags}}(A2($mdgriffith$elm_ui$Internal$Flag$add,$mdgriffith$elm_ui$Internal$Flag$yAlign,has)),transform=$temp$transform=transform,styles=$temp$styles=styles,attrs=attrs,children=children,elementAttrs=remaining;continue gatherAttrRecursive}}}),$mdgriffith$elm_ui$Internal$Model$Untransformed={$:"Untransformed"},$mdgriffith$elm_ui$Internal$Model$untransformed=$mdgriffith$elm_ui$Internal$Model$Untransformed,$mdgriffith$elm_ui$Internal$Model$element=F4(function(context,node,attributes,children){return A3($mdgriffith$elm_ui$Internal$Model$createElement,context,children,A8($mdgriffith$elm_ui$Internal$Model$gatherAttrRecursive,function(context){switch(context.$){case"AsRow":return $mdgriffith$elm_ui$Internal$Model$rowClass;case"AsColumn":return $mdgriffith$elm_ui$Internal$Model$columnClass;case"AsEl":return $mdgriffith$elm_ui$Internal$Model$singleClass;case"AsGrid":return $mdgriffith$elm_ui$Internal$Model$gridClass;case"AsParagraph":return $mdgriffith$elm_ui$Internal$Model$paragraphClass;default:return $mdgriffith$elm_ui$Internal$Model$pageClass}}(context),node,$mdgriffith$elm_ui$Internal$Flag$none,$mdgriffith$elm_ui$Internal$Model$untransformed,_List_Nil,_List_Nil,$mdgriffith$elm_ui$Internal$Model$NoNearbyChildren,$elm$core$List$reverse(attributes)))}),$mdgriffith$elm_ui$Element$height=$elm$html$Html$Attributes$spellcheck=function(a){return{$:"Height",a:a}},$mdgriffith$elm_ui$Internal$Model$Attr=function(a){return{$:"Attr",a:a}},$mdgriffith$elm_ui$Element$shrink={$:"Content"},$mdgriffith$elm_ui$Element$width=$mdgriffith$elm_ui$Element$Input$darkGrey=function(a){return{$:"Width",a:a}},$mdgriffith$elm_ui$Element$column=F2(function(attrs,children){return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asColumn,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_contentTop+" "+$mdgriffith$elm_ui$Internal$Style$classes_contentLeft),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),attrs))),{$:"Unkeyed",a:children})}),$mdgriffith$elm_ui$Internal$Model$Empty={$:"Empty"},$mdgriffith$elm_ui$Element$none=$mdgriffith$elm_ui$Internal$Model$Empty,$mdgriffith$elm_ui$Internal$Model$PaddingStyle=F5(function(a,b,c,d,e){return{$:"PaddingStyle",a:a,b:b,c:c,d:d,e:e}}),$mdgriffith$elm_ui$Internal$Model$StyleClass=F2(function(a,b){return{$:"StyleClass",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Flag$padding=alpha(2),$mdgriffith$elm_ui$Internal$Model$asRow={$:"AsRow"},$mdgriffith$elm_ui$Element$row=F2(function(attrs,children){return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asRow,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_contentLeft+" "+$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),attrs))),{$:"Unkeyed",a:children})}),$cuducos$elm_format_number$FormatNumber$Parser$FormattedNumber=F5(function(original,integers,decimals,prefix,suffix){return{decimals:decimals,integers:integers,original:original,prefix:prefix,suffix:suffix}}),$cuducos$elm_format_number$FormatNumber$Parser$Negative={$:"Negative"},$cuducos$elm_format_number$FormatNumber$Parser$Positive={$:"Positive"},$cuducos$elm_format_number$FormatNumber$Parser$Zero={$:"Zero"},$elm$core$String$filter=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver,$elm$core$String$repeatHelp=F3(function(n,chunk,result){return 0<n?A3($elm$core$String$repeatHelp,n>>1,_Utils_ap(chunk,chunk),1&n?_Utils_ap(result,chunk):result):result}),$elm$core$String$repeat=F2(function(n,chunk){return A3($elm$core$String$repeatHelp,n,chunk,"")}),$cuducos$elm_format_number$FormatNumber$Parser$addZerosToFit=F2(function(desiredLength,value){var missing=$elm$core$String$length(value),missing=_Utils_cmp(missing,desiredLength)<0?$elm$core$Basics$abs(desiredLength-missing):0;return _Utils_ap(value,A2($elm$core$String$repeat,missing,"0"))}),$elm$core$String$dropRight=F2(function(n,string){return n<1?string:A3($elm$core$String$slice,0,-n,string)}),$elm$core$String$right=F2(function(n,string){return n<1?"":A3($elm$core$String$slice,-n,$elm$core$String$length(string),string)}),$cuducos$elm_format_number$FormatNumber$Parser$removeZeros=function(decimals){return"0"!==A2($elm$core$String$right,1,decimals)?decimals:$cuducos$elm_format_number$FormatNumber$Parser$removeZeros(A2($elm$core$String$dropRight,1,decimals))},$cuducos$elm_format_number$FormatNumber$Parser$getDecimals=F2(function(locale,digits){var _v0=locale.decimals;switch(_v0.$){case"Max":return $cuducos$elm_format_number$FormatNumber$Parser$removeZeros(digits);case"Exact":return digits;default:return A2($cuducos$elm_format_number$FormatNumber$Parser$addZerosToFit,_v0.a,digits)}}),$elm$core$String$foldr=$mdgriffith$elm_ui$Internal$Flag$fontFamily,$myrho$elm_round$Round$addSign=F2(function(signed,str){return _Utils_ap(signed&&A2($elm$core$List$any,function(c){return!_Utils_eq(c,new String("0"))&&!_Utils_eq(c,new String("."))},A3($elm$core$String$foldr,$elm$core$List$cons,_List_Nil,str))?"-":"",str)}),$elm$core$String$cons=$feathericons$elm_feather$FeatherIcons$makeBuilder,$elm$core$Char$fromCode=function(code){return _Utils_chr(code<0||1114111<code?"�":65535<code?String.fromCharCode(55296+Math.floor((code-=65536)/1024),code%1024+56320):String.fromCharCode(code))},$myrho$elm_round$Round$increaseNum=function(headtail){var c=headtail.a,tail=headtail.b;if(_Utils_eq(c,new String("9"))){headtail=$elm$core$String$uncons(tail);if("Nothing"===headtail.$)return"01";headtail=headtail.a;return A2($elm$core$String$cons,new String("0"),$myrho$elm_round$Round$increaseNum(headtail))}c=$elm$core$Char$toCode(c);return 48<=c&&c<57?A2($elm$core$String$cons,$elm$core$Char$fromCode(c+1),tail):"0"},$elm$core$Basics$isInfinite=function(n){return n===1/0||n===-1/0},$elm$core$String$padRight=F3(function(n,_char,string){return _Utils_ap(string,A2($elm$core$String$repeat,n-$elm$core$String$length(string),$elm$core$String$fromChar(_char)))}),$elm$core$String$reverse=function(str){for(var len=str.length,arr=Array(len),i=0;i<len;){var word=str.charCodeAt(i);word<55296||56319<word?arr[len-i]=str[i]:(arr[len-i]=str[i+1],arr[len-++i]=str[i-1]),i++}return arr.join("")},$myrho$elm_round$Round$round=F3(function(functor,numZeroed,numLen){if($elm$core$Basics$isInfinite(numLen)||$elm$core$Basics$isNaN(numLen))return $elm$core$String$fromFloat(numLen);var signed=numLen<0,num=$myrho$elm_round$Round$splitComma(function(fl){var _v0=A2($elm$core$String$split,"e",$elm$core$String$fromFloat($elm$core$Basics$abs(fl)));if(_v0.b){if(_v0.b.b){var num=_v0.a,zeroed=_v0.b.a,e=A2($elm$core$Maybe$withDefault,0,$elm$core$String$toInt(A2($elm$core$String$startsWith,"+",zeroed)?A2($elm$core$String$dropLeft,1,zeroed):zeroed)),zeroed=$myrho$elm_round$Round$splitComma(num),zeroed=_Utils_ap(zeroed.a,zeroed.b),zeroed=e<0?A2($elm$core$Maybe$withDefault,"0",A2($elm$core$Maybe$map,function(_v3){return _v3.a+"."+_v3.b},A2($elm$core$Maybe$map,$elm$core$Tuple$mapFirst($elm$core$String$fromChar),$elm$core$String$uncons(_Utils_ap(A2($elm$core$String$repeat,$elm$core$Basics$abs(e),"0"),zeroed))))):A3($elm$core$String$padRight,e+1,new String("0"),zeroed);return _Utils_ap(fl<0?"-":"",zeroed)}return _Utils_ap(fl<0?"-":"",num=_v0.a)}return""}($elm$core$Basics$abs(numLen))),before=num.a,after=num.b,roundDigitIndex=$elm$core$String$length(before)+numZeroed,numLen=_Utils_ap(A2($elm$core$String$repeat,1-roundDigitIndex,"0"),A3($elm$core$String$padRight,roundDigitIndex,new String("0"),_Utils_ap(before,after))),num=$elm$core$String$length(numLen),roundDigitIndex=A2($elm$core$Basics$max,1,roundDigitIndex),num=A2(functor,signed,A3($elm$core$String$slice,roundDigitIndex,num,numLen)),numLen=A3($elm$core$String$slice,0,roundDigitIndex,numLen),num=num?$elm$core$String$reverse(A2($elm$core$Maybe$withDefault,"1",A2($elm$core$Maybe$map,$myrho$elm_round$Round$increaseNum,$elm$core$String$uncons($elm$core$String$reverse(numLen))))):numLen,numLen=$elm$core$String$length(num),numZeroed="0"===num?num:0<numZeroed?_Utils_cmp(numZeroed,$elm$core$String$length(after))<0?A3($elm$core$String$slice,0,numLen-numZeroed,num)+"."+A3($elm$core$String$slice,numLen-numZeroed,numLen,num):_Utils_ap(before+".",A3($elm$core$String$padRight,numZeroed,new String("0"),after)):_Utils_ap(num,A2($elm$core$String$repeat,$elm$core$Basics$abs(numZeroed),"0"));return A2($myrho$elm_round$Round$addSign,signed,numZeroed)})(F2(function(signed,i){var _v0=$elm$core$String$uncons(i);if("Nothing"===_v0.$)return!1;if("5"!==_v0.a.a.valueOf())return 53<(i=$elm$core$Char$toCode(_v0.a.a))&&signed||53<=i&&!signed;if(""===_v0.a.b)return!signed;return!0})),$cuducos$elm_format_number$FormatNumber$Parser$splitInParts=F2(function(locale,decimals){var asList=function(){var _v1=locale.decimals;switch(_v1.$){case"Max":return $myrho$elm_round$Round$round(_v1.a);case"Min":return $elm$core$String$fromFloat;default:return $myrho$elm_round$Round$round(_v1.a)}}(),asList=A2($elm$core$String$split,".",asList(decimals)),decimals="Just"!==(decimals=function(list){if(list.b)return $elm$core$Maybe$Just(list.b);return $elm$core$Maybe$Nothing}(asList)).$?"":A2($elm$core$Maybe$withDefault,"",$elm$core$List$head(decimals.a));return{$:"#2",a:A2($elm$core$Maybe$withDefault,"",$elm$core$List$head(asList)),b:decimals}}),$cuducos$elm_format_number$FormatNumber$Parser$parse=F2(function(locale,original){var parts=A2($cuducos$elm_format_number$FormatNumber$Parser$splitInParts,locale,original),integers=function(integers){var reversedSplitThousands=function(value){return 3<$elm$core$String$length(value)?A2($elm$core$List$cons,A2($elm$core$String$right,3,value),reversedSplitThousands(A2($elm$core$String$dropRight,3,value))):_List_fromArray([value])};return $elm$core$List$reverse(reversedSplitThousands(integers))}(A2($elm$core$String$filter,$elm$core$Char$isDigit,parts.a)),partial=A5($cuducos$elm_format_number$FormatNumber$Parser$FormattedNumber,original,integers,A2($cuducos$elm_format_number$FormatNumber$Parser$getDecimals,locale,parts.b),"","");switch($cuducos$elm_format_number$FormatNumber$Parser$classify(partial).$){case"Negative":return _Utils_update(partial,{prefix:locale.negativePrefix,suffix:locale.negativeSuffix});case"Positive":return _Utils_update(partial,{prefix:locale.positivePrefix,suffix:locale.positiveSuffix});default:return _Utils_update(partial,{prefix:locale.zeroPrefix,suffix:locale.zeroSuffix})}}),$cuducos$elm_format_number$FormatNumber$Stringfy$formatDecimals=F2(function(locale,decimals){return""===decimals?"":_Utils_ap(locale.decimalSeparator,decimals)}),$cuducos$elm_format_number$FormatNumber$Stringfy$stringfy=F2(function(integers,formatted){var decimals=$cuducos$elm_format_number$FormatNumber$Stringfy$formatDecimals(integers),integers=A2($elm$core$String$join,integers.thousandSeparator,formatted.integers),decimals=decimals(formatted.decimals);return $elm$core$String$concat(_List_fromArray([formatted.prefix,integers,decimals,formatted.suffix]))}),$cuducos$elm_format_number$FormatNumber$format=F2(function(locale,number_){return A2($cuducos$elm_format_number$FormatNumber$Stringfy$stringfy,locale,A2($cuducos$elm_format_number$FormatNumber$Parser$parse,locale,number_))}),$cuducos$elm_format_number$FormatNumber$Locales$usLocale=_Utils_update({decimalSeparator:".",decimals:{$:"Min",a:0},negativePrefix:"−",negativeSuffix:"",positivePrefix:"",positiveSuffix:"",thousandSeparator:"",zeroPrefix:"",zeroSuffix:""},{decimals:{$:"Exact",a:2},thousandSeparator:","}),$mdgriffith$elm_ui$Internal$Model$SpacingStyle=F3(function(a,b,c){return{$:"SpacingStyle",a:a,b:b,c:c}}),$mdgriffith$elm_ui$Internal$Flag$spacing=alpha(3),$mdgriffith$elm_ui$Internal$Model$spacingName=F2(function(x,y){return"spacing-"+$elm$core$String$fromInt(x)+("-"+$elm$core$String$fromInt(y))}),$mdgriffith$elm_ui$Element$alignTop={$:"AlignY",a:{$:"Top"}},$mdgriffith$elm_ui$Element$alignLeft={$:"AlignX",a:{$:"Left"}},$mdgriffith$elm_ui$Internal$Model$Behind={$:"Behind"},$mdgriffith$elm_ui$Internal$Model$Nearby=F2(function(a,b){return{$:"Nearby",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$NoAttribute={$:"NoAttribute"},$mdgriffith$elm_ui$Element$createNearby=F2(function(loc,element){return"Empty"===element.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:A2($mdgriffith$elm_ui$Internal$Model$Nearby,loc,element)}),$mdgriffith$elm_ui$Element$centerY={$:"AlignY",a:{$:"CenterY"}},$mdgriffith$elm_ui$Internal$Model$Colored=F3(function(a,b,c){return{$:"Colored",a:a,b:b,c:c}}),$mdgriffith$elm_ui$Internal$Flag$bgColor=alpha(8),$mdgriffith$elm_ui$Element$el=F2(function(attrs,child){return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),attrs)),{$:"Unkeyed",a:_List_fromArray([child])})}),$mdgriffith$elm_ui$Element$px=function(a){return{$:"Px",a:a}},$mdgriffith$elm_ui$Internal$Flag$borderRound=alpha(17),$mdgriffith$elm_ui$Internal$Model$Rgba=F4(function(a,b,c,d){return{$:"Rgba",a:a,b:b,c:c,d:d}}),$mdgriffith$elm_ui$Element$rgb255=F3(function(red,green,blue){return A4($mdgriffith$elm_ui$Internal$Model$Rgba,red/255,green/255,blue/255,1)}),$author$project$ColourPalette$scrollbarBackground=A3($mdgriffith$elm_ui$Element$rgb255,127,140,141),$author$project$ViewElements$commonShortHorizontalSliderStyles=_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(150)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$behindContent(A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(150)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$scrollbarBackground),$mdgriffith$elm_ui$Element$Border$rounded(6)]),$mdgriffith$elm_ui$Element$none))]),$mdgriffith$elm_ui$Internal$Flag$borderColor=alpha(28),$mdgriffith$elm_ui$Element$rgb=F3(function(r,g,b){return A4($mdgriffith$elm_ui$Internal$Model$Rgba,r,g,b,1)}),$mdgriffith$elm_ui$Internal$Model$BorderWidth=F5(function(a,b,c,d,e){return{$:"BorderWidth",a:a,b:b,c:c,d:d,e:e}}),$mdgriffith$elm_ui$Element$Input$defaultThumb={$:"Thumb",a:_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(16)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(16)),$mdgriffith$elm_ui$Element$Border$rounded(8),$mdgriffith$elm_ui$Element$Border$width(1),$mdgriffith$elm_ui$Element$Border$color(A3($mdgriffith$elm_ui$Element$rgb,.5,.5,.5)),$mdgriffith$elm_ui$Element$Background$color(A3($mdgriffith$elm_ui$Element$rgb,1,1,1))])},$mdgriffith$elm_ui$Element$Input$labelBelow=(color=F3(function(a,b,c){return{$:"Label",a:a,b:b,c:c}}))({$:"Below"}),$mdgriffith$elm_ui$Internal$Flag$active=alpha(32),$mdgriffith$elm_ui$Element$Region$announce={$:"Describe",a:{$:"LivePolite"}},$mdgriffith$elm_ui$Element$Input$applyLabel=F3(function(attrs,label,input){if("HiddenLabel"===label.$)return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asColumn,{$:"NodeName",a:"label"},attrs,{$:"Unkeyed",a:_List_fromArray([input])});var position=label.a,labelElement=A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,label.b,{$:"Unkeyed",a:_List_fromArray([label.c])});switch(position.$){case"Above":return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asColumn,{$:"NodeName",a:"label"},A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_inputLabel),attrs),{$:"Unkeyed",a:_List_fromArray([labelElement,input])});case"Below":return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asColumn,{$:"NodeName",a:"label"},A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_inputLabel),attrs),{$:"Unkeyed",a:_List_fromArray([input,labelElement])});case"OnRight":return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asRow,{$:"NodeName",a:"label"},A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_inputLabel),attrs),{$:"Unkeyed",a:_List_fromArray([input,labelElement])});default:return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asRow,{$:"NodeName",a:"label"},A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_inputLabel),attrs),{$:"Unkeyed",a:_List_fromArray([labelElement,input])})}}),$elm$html$Html$Attributes$attribute=$elm$virtual_dom$VirtualDom$attribute,$elm$svg$Svg$Attributes$x1=function(a){return{$:"Fill",a:a}},$mdgriffith$elm_ui$Element$fill={$:"Fill",a:1},$mdgriffith$elm_ui$Internal$Flag$focus=alpha(31),$mdgriffith$elm_ui$Internal$Model$getSpacing=F2(function(attrs,_default){return A2($elm$core$Maybe$withDefault,_default,A3($elm$core$List$foldr,F2(function(_v2,acc){if("Just"===acc.$)return $elm$core$Maybe$Just(acc.a);if("StyleClass"!==_v2.$||"SpacingStyle"!==_v2.b.$)return $elm$core$Maybe$Nothing;_v2=_v2.b;return $elm$core$Maybe$Just({$:"#2",a:_v2.b,b:_v2.c})}),$elm$core$Maybe$Nothing,attrs))}),$mdgriffith$elm_ui$Internal$Flag$hover=alpha(33),$elm$html$Html$Attributes$max=$elm$html$Html$Attributes$stringProperty("max"),$elm$html$Html$Attributes$min=$elm$html$Html$Attributes$stringProperty("min"),$elm$virtual_dom$VirtualDom$on=_VirtualDom_on,$elm$html$Html$Events$stopPropagationOn=F2(function(event,decoder){return A2($elm$virtual_dom$VirtualDom$on,event,{$:"MayStopPropagation",a:decoder})}),$elm$json$Json$Decode$field=$elm$svg$Svg$Attributes$y2,$elm$json$Json$Decode$at=F2(function(fields,decoder){return A3($elm$core$List$foldr,$elm$json$Json$Decode$field,decoder,fields)}),$elm$html$Html$Events$targetValue=A2($elm$json$Json$Decode$at,_List_fromArray(["target","value"]),$elm$json$Json$Decode$string),$mdgriffith$elm_ui$Element$spacingXY=F2(function(x,y){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$spacing,A3($mdgriffith$elm_ui$Internal$Model$SpacingStyle,A2($mdgriffith$elm_ui$Internal$Model$spacingName,x,y),x,y))}),$elm$core$String$toFloat=function(n){return 0!==n.length&&!/[\sxbo]/.test(n)&&(n=+n)==n?$elm$core$Maybe$Just(n):$elm$core$Maybe$Nothing},$elm$html$Html$Attributes$type_=$elm$html$Html$Attributes$stringProperty("type"),$elm$html$Html$Attributes$value=$elm$html$Html$Attributes$stringProperty("value"),$mdgriffith$elm_ui$Element$fillPortion=$elm$svg$Svg$Attributes$x1,$mdgriffith$elm_ui$Internal$Model$Class=F2(function(a,b){return{$:"Class",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$TransformComponent=F2(function(a,b){return{$:"TransformComponent",a:a,b:b}}),$elm$virtual_dom$VirtualDom$map=$elm$svg$Svg$Attributes$x2,$mdgriffith$elm_ui$Internal$Model$map=F2(function(fn,el){switch(el.$){case"Styled":var styled=el.a;return{$:"Styled",a:{html:F2(function(add,context){return A2($elm$virtual_dom$VirtualDom$map,fn,A2(styled.html,add,context))}),styles:styled.styles}};case"Unstyled":var html=el.a;return{$:"Unstyled",a:A2($elm$core$Basics$composeL,$elm$virtual_dom$VirtualDom$map(fn),html)};case"Text":return{$:"Text",a:el.a};default:return $mdgriffith$elm_ui$Internal$Model$Empty}}),$elm$virtual_dom$VirtualDom$mapAttribute=$elm$svg$Svg$Attributes$y1,$mdgriffith$elm_ui$Internal$Model$mapAttr=F2(function(fn,attr){switch(attr.$){case"NoAttribute":return $mdgriffith$elm_ui$Internal$Model$NoAttribute;case"Describe":return{$:"Describe",a:attr.a};case"AlignX":return{$:"AlignX",a:attr.a};case"AlignY":return{$:"AlignY",a:attr.a};case"Width":return{$:"Width",a:attr.a};case"Height":return{$:"Height",a:attr.a};case"Class":return A2($mdgriffith$elm_ui$Internal$Model$Class,attr.a,attr.b);case"StyleClass":return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,attr.a,attr.b);case"Nearby":return A2($mdgriffith$elm_ui$Internal$Model$Nearby,attr.a,A2($mdgriffith$elm_ui$Internal$Model$map,fn,attr.b));case"Attr":return{$:"Attr",a:A2($elm$virtual_dom$VirtualDom$mapAttribute,fn,attr.a)};default:return A2($mdgriffith$elm_ui$Internal$Model$TransformComponent,attr.a,attr.b)}}),$mdgriffith$elm_ui$Element$Input$viewHorizontalThumb=F3(function(factor,thumbAttributes,trackHeight){return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$height(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackHeight)),$mdgriffith$elm_ui$Element$centerY]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fillPortion($elm$core$Basics$round(1e4*factor)))]),$mdgriffith$elm_ui$Element$none),A2($mdgriffith$elm_ui$Element$el,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$centerY,A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$mapAttr($elm$core$Basics$never),thumbAttributes)),$mdgriffith$elm_ui$Element$none),A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fillPortion($elm$core$Basics$round(1e4*$elm$core$Basics$abs(1-factor))))]),$mdgriffith$elm_ui$Element$none)]))}),$mdgriffith$elm_ui$Element$Input$viewVerticalThumb=F3(function(factor,thumbAttributes,trackWidth){return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$width(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth)),$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fillPortion($elm$core$Basics$round(1e4*$elm$core$Basics$abs(1-factor))))]),$mdgriffith$elm_ui$Element$none),A2($mdgriffith$elm_ui$Element$el,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$centerX,A2($elm$core$List$map,$mdgriffith$elm_ui$Internal$Model$mapAttr($elm$core$Basics$never),thumbAttributes)),$mdgriffith$elm_ui$Element$none),A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fillPortion($elm$core$Basics$round(1e4*factor)))]),$mdgriffith$elm_ui$Element$none)]))}),$mdgriffith$elm_ui$Element$Input$slider=F2(function(attributes,input){var trackWidth=$mdgriffith$elm_ui$Internal$Model$getWidth(attributes),trackHeight=$mdgriffith$elm_ui$Internal$Model$getHeight(attributes),vertical=function(){var _v8={$:"#2",a:trackWidth,b:trackHeight};_v8$3:for(;;){if("Nothing"===_v8.a.$){if("Nothing"!==_v8.b.$)break _v8$3;return!1}if("Px"!==_v8.a.a.$||"Just"!==_v8.b.$)break _v8$3;switch(_v8.b.a.$){case"Px":return 0<_Utils_cmp(_v8.b.a.a,_v8.a.a.a);case"Fill":return!0;default:break _v8$3}}return!1}(),factor=(input.value-input.min)/(input.max-input.min),thumbAttributes=input.thumb.a,thumbShadowStyle=$mdgriffith$elm_ui$Internal$Model$getHeight(thumbAttributes),_v1="Nothing"===thumbShadowStyle.$?"20px":"Px"!==thumbShadowStyle.a.$?"100%":$elm$core$String$fromInt(thumbShadowStyle.a.a)+"px",n=$mdgriffith$elm_ui$Internal$Model$getWidth(thumbAttributes),thumbShadowStyle="Nothing"===n.$?"20px":"Px"!==n.a.$?"100%":$elm$core$String$fromInt(n.a.a)+"px",n="thmb-"+thumbShadowStyle+"-"+_v1,thumbShadowStyle=_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$Property,"width",thumbShadowStyle),A2($mdgriffith$elm_ui$Internal$Model$Property,"height",_v1)]),_v1=A2($mdgriffith$elm_ui$Internal$Model$getSpacing,attributes,{$:"#2",a:5,b:5});return A3($mdgriffith$elm_ui$Element$Input$applyLabel,_List_fromArray(["HiddenLabel"===input.label.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:A2($mdgriffith$elm_ui$Element$spacingXY,_v1.a,_v1.b),$mdgriffith$elm_ui$Element$Region$announce,$mdgriffith$elm_ui$Element$width("Nothing"===trackWidth.$?$mdgriffith$elm_ui$Element$fill:"Px"===trackWidth.a.$?$mdgriffith$elm_ui$Element$shrink:trackWidth.a),$mdgriffith$elm_ui$Element$height("Nothing"===trackHeight.$||"Px"===trackHeight.a.$?$mdgriffith$elm_ui$Element$shrink:trackHeight.a)]),input.label,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$width(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth)),$mdgriffith$elm_ui$Element$height(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$px(20),trackHeight))]),_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,{$:"NodeName",a:"input"},_List_fromArray([$mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(input.label),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$active,A2($mdgriffith$elm_ui$Internal$Model$Style,'input[type="range"].'+n+"::-moz-range-thumb",thumbShadowStyle)),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$hover,A2($mdgriffith$elm_ui$Internal$Model$Style,'input[type="range"].'+n+"::-webkit-slider-thumb",thumbShadowStyle)),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$focus,A2($mdgriffith$elm_ui$Internal$Model$Style,'input[type="range"].'+n+"::-ms-thumb",thumbShadowStyle)),{$:"Attr",a:$elm$html$Html$Attributes$class(n+" ui-slide-bar focusable-parent")},{$:"Attr",a:$elm$html$Html$Events$onInput(function(_v4){_v4=$elm$core$String$toFloat(_v4);return input.onChange("Nothing"===_v4.$?0:_v4.a)})},{$:"Attr",a:$elm$html$Html$Attributes$type_("range")},{$:"Attr",a:(n="Nothing"===(n=input.step).$?"any":$elm$core$String$fromFloat(n.a),A2($elm$html$Html$Attributes$stringProperty,"step",n))},{$:"Attr",a:$elm$html$Html$Attributes$min($elm$core$String$fromFloat(input.min))},{$:"Attr",a:$elm$html$Html$Attributes$max($elm$core$String$fromFloat(input.max))},{$:"Attr",a:$elm$html$Html$Attributes$value($elm$core$String$fromFloat(input.value))},vertical?{$:"Attr",a:A2($elm$html$Html$Attributes$attribute,"orient","vertical")}:$mdgriffith$elm_ui$Internal$Model$NoAttribute,$mdgriffith$elm_ui$Element$width(vertical?A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$px(20),trackHeight):A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth)),$mdgriffith$elm_ui$Element$height(vertical?A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth):A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$px(20),trackHeight))]),{$:"Unkeyed",a:_List_Nil}),A2($mdgriffith$elm_ui$Element$el,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$fill,trackWidth)),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height(A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Element$px(20),trackHeight)),_Utils_ap(attributes,_List_fromArray([$mdgriffith$elm_ui$Element$behindContent(vertical?A3($mdgriffith$elm_ui$Element$Input$viewVerticalThumb,factor,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass("focusable-thumb"),thumbAttributes),trackWidth):A3($mdgriffith$elm_ui$Element$Input$viewHorizontalThumb,factor,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass("focusable-thumb"),thumbAttributes),trackHeight))])))),$mdgriffith$elm_ui$Element$none)])))}),$mdgriffith$elm_ui$Internal$Model$Button={$:"Button"},$elm$json$Json$Encode$bool=_Json_wrap,$elm$html$Html$Attributes$disabled=($elm$html$Html$Attributes$spellcheck=F2(function(key,bool){return A2(_VirtualDom_property,key,$elm$json$Json$Encode$bool(bool))}))("disabled"),$elm$html$Html$Events$on=F2(function(event,decoder){return A2($elm$virtual_dom$VirtualDom$on,event,{$:"Normal",a:decoder})}),$mdgriffith$elm_ui$Element$Events$onClick=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Events$onClick),$elm$json$Json$Decode$andThen=$elm$svg$Svg$Attributes$points,$elm$json$Json$Decode$fail=function(msg){return{$:1,a:msg}},$elm$html$Html$Events$preventDefaultOn=F2(function(event,decoder){return A2($elm$virtual_dom$VirtualDom$on,event,{$:"MayPreventDefault",a:decoder})}),$mdgriffith$elm_ui$Internal$Flag$cursor=alpha(21),$mdgriffith$elm_ui$Element$pointer=A2($mdgriffith$elm_ui$Internal$Model$Class,$mdgriffith$elm_ui$Internal$Flag$cursor,$elm$svg$Svg$polygon),$mdgriffith$elm_ui$Element$Input$button=F2(function(attrs,label){var onPress=label.onPress,label=label.label;return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_contentCenterX+" "+$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY+" "+$mdgriffith$elm_ui$Internal$Style$classes_seButton+" "+$mdgriffith$elm_ui$Internal$Style$classes_noTextSelection),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$pointer,A2($elm$core$List$cons,function(attrs){return A2($elm$core$List$any,$mdgriffith$elm_ui$Element$Input$hasFocusStyle,attrs)?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Internal$Model$htmlClass("focusable")}(attrs),A2($elm$core$List$cons,{$:"Describe",a:$mdgriffith$elm_ui$Internal$Model$Button},A2($elm$core$List$cons,{$:"Attr",a:$elm$html$Html$Attributes$tabindex(0)},function(){if("Nothing"===onPress.$)return A2($elm$core$List$cons,{$:"Attr",a:$elm$html$Html$Attributes$disabled(!0)},attrs);var msg=onPress.a;return A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Events$onClick(msg),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Input$onKeyLookup(function(code){return _Utils_eq(code,"Enter")||_Utils_eq(code," ")?$elm$core$Maybe$Just(msg):$elm$core$Maybe$Nothing}),attrs))}()))))))),{$:"Unkeyed",a:_List_fromArray([label])})}),$author$project$ColourPalette$buttonBackground=A3($mdgriffith$elm_ui$Element$rgb255,41,128,185),$author$project$ColourPalette$buttonShadow=A3($mdgriffith$elm_ui$Element$rgb255,52,152,219),$author$project$ColourPalette$buttonText=$mdgriffith$elm_ui$Element$Input$darkGrey=A3($mdgriffith$elm_ui$Element$rgb255,255,255,255),$mdgriffith$elm_ui$Internal$Flag$fontColor=alpha(14),$mdgriffith$elm_ui$Internal$Model$Focus={$:"Focus"},$mdgriffith$elm_ui$Internal$Model$PseudoSelector=F2(function(a,b){return{$:"PseudoSelector",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$mapAttrFromStyle=F2(function(fn,attr){switch(attr.$){case"NoAttribute":return $mdgriffith$elm_ui$Internal$Model$NoAttribute;case"Describe":return{$:"Describe",a:attr.a};case"AlignX":return{$:"AlignX",a:attr.a};case"AlignY":return{$:"AlignY",a:attr.a};case"Width":return{$:"Width",a:attr.a};case"Height":return{$:"Height",a:attr.a};case"Class":return A2($mdgriffith$elm_ui$Internal$Model$Class,attr.a,attr.b);case"StyleClass":return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,attr.a,attr.b);case"Nearby":return A2($mdgriffith$elm_ui$Internal$Model$Nearby,attr.a,A2($mdgriffith$elm_ui$Internal$Model$map,fn,attr.b));case"Attr":return{$:"Attr",a:A2($elm$virtual_dom$VirtualDom$mapAttribute,fn,attr.a)};default:return A2($mdgriffith$elm_ui$Internal$Model$TransformComponent,attr.a,attr.b)}}),$mdgriffith$elm_ui$Internal$Model$unwrapDecsHelper=F2(function(attr,_v0){var styles=_v0.a,trans=_v0.b,_v1=A2($mdgriffith$elm_ui$Internal$Model$mapAttrFromStyle,$elm$core$Basics$never,attr);switch(_v1.$){case"StyleClass":return{$:"#2",a:A2($elm$core$List$cons,_v1.b,styles),b:trans};case"TransformComponent":return{$:"#2",a:styles,b:A2($mdgriffith$elm_ui$Internal$Model$composeTransformation,trans,_v1.b)};default:return{$:"#2",a:styles,b:trans}}}),$mdgriffith$elm_ui$Internal$Model$Hover={$:"Hover"},$mdgriffith$elm_ui$Internal$Flag$shadows=alpha(19),$mdgriffith$elm_ui$Internal$Flag$fontSize=alpha(4),$author$project$ViewElements$prettyButtonStyles=_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$Border$width(2),$mdgriffith$elm_ui$Element$Border$rounded(16),$mdgriffith$elm_ui$Element$Border$color($author$project$ColourPalette$buttonBackground),$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$buttonBackground),$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$buttonText),$mdgriffith$elm_ui$Element$Font$size(16),$mdgriffith$elm_ui$Element$mouseOver(_List_fromArray([$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$buttonText),$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$buttonBackground)])),(decs=_List_fromArray([$mdgriffith$elm_ui$Element$Border$shadow({blur:5,color:$author$project$ColourPalette$buttonShadow,offset:{$:"#2",a:4,b:0},size:3})]),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$focus,A2($mdgriffith$elm_ui$Internal$Model$PseudoSelector,$mdgriffith$elm_ui$Internal$Model$Focus,$mdgriffith$elm_ui$Internal$Model$unwrapDecorations(decs)))),$mdgriffith$elm_ui$Element$centerX]),$mdgriffith$elm_ui$Internal$Model$Padding=F5(function(a,b,c,d,e){return{$:"Padding",a:a,b:b,c:c,d:d,e:e}}),$mdgriffith$elm_ui$Internal$Model$Spaced=F3(function(a,b,c){return{$:"Spaced",a:a,b:b,c:c}}),$mdgriffith$elm_ui$Internal$Model$paddingNameFloat=F4(function(top,right,bottom,left){return"pad-"+$mdgriffith$elm_ui$Internal$Model$floatClass(top)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(right)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(bottom)+("-"+$mdgriffith$elm_ui$Internal$Model$floatClass(left))))}),$elm$html$Html$Attributes$style=$elm$svg$Svg$circle,$mdgriffith$elm_ui$Element$wrappedRow=F2(function(attrs,children){var halfY=function(attrs){return A3($elm$core$List$foldr,F2(function(attr,_v0){var pad=_v0.a,spacing=_v0.b;return{$:"#2",a:function(){if("Just"===pad.$)return pad;if("StyleClass"!==attr.$||"PaddingStyle"!==attr.b.$)return $elm$core$Maybe$Nothing;var _v3=attr.b;return $elm$core$Maybe$Just(A5($mdgriffith$elm_ui$Internal$Model$Padding,_v3.a,_v3.b,_v3.c,_v3.d,_v3.e))}(),b:function(){if("Just"===spacing.$)return spacing;if("StyleClass"!==attr.$||"SpacingStyle"!==attr.b.$)return $elm$core$Maybe$Nothing;var _v6=attr.b;return $elm$core$Maybe$Just(A3($mdgriffith$elm_ui$Internal$Model$Spaced,_v6.a,_v6.b,_v6.c))}()}}),{$:"#2",a:$elm$core$Maybe$Nothing,b:$elm$core$Maybe$Nothing},attrs)}(attrs),padded=halfY.a,spaceName=halfY.b;if("Nothing"===spaceName.$)return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asRow,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_contentLeft+" "+$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY+" "+$mdgriffith$elm_ui$Internal$Style$classes_wrapped),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),attrs))),{$:"Unkeyed",a:children});var halfY=spaceName.a,spaceName=halfY.a,x=halfY.b,y=halfY.c,halfY=function(){if("Just"!==padded.$)return $elm$core$Maybe$Nothing;var newLeft=padded.a,newTop=newLeft.b,newRight=newLeft.c,newBottom=newLeft.d,newLeft=newLeft.e;if(-1<_Utils_cmp(newRight,x/2)&&-1<_Utils_cmp(newBottom,y/2)){newTop=newTop-y/2,newRight=newRight-x/2,newLeft=newLeft-x/2,newBottom=newBottom-y/2;return $elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,A4($mdgriffith$elm_ui$Internal$Model$paddingNameFloat,newTop,newRight,newBottom,newLeft),newTop,newRight,newBottom,newLeft)))}return $elm$core$Maybe$Nothing}();if("Just"===halfY.$){var halfX=halfY.a;return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asRow,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_contentLeft+" "+$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY+" "+$mdgriffith$elm_ui$Internal$Style$classes_wrapped),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),_Utils_ap(attrs,_List_fromArray([halfX]))))),{$:"Unkeyed",a:children})}halfY=-y/2,halfX=-x/2;return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,attrs,{$:"Unkeyed",a:_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asRow,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_contentLeft+" "+$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY+" "+$mdgriffith$elm_ui$Internal$Style$classes_wrapped),A2($elm$core$List$cons,{$:"Attr",a:A2($elm$html$Html$Attributes$style,"margin",$elm$core$String$fromFloat(halfY)+("px "+$elm$core$String$fromFloat(halfX))+"px")},A2($elm$core$List$cons,{$:"Attr",a:A2($elm$html$Html$Attributes$style,"width","calc(100% + "+$elm$core$String$fromInt(x)+"px)")},A2($elm$core$List$cons,{$:"Attr",a:A2($elm$html$Html$Attributes$style,"height","calc(100% + "+$elm$core$String$fromInt(y)+"px)")},A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$spacing,A3($mdgriffith$elm_ui$Internal$Model$SpacingStyle,spaceName,x,y)),_List_Nil))))),{$:"Unkeyed",a:children})])})}),$mdgriffith$elm_ui$Element$Input$tabindex=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Attributes$tabindex),$mdgriffith$elm_ui$Element$Input$checkbox=F2(function(attributes,_v0){var label=_v0.label,icon=_v0.icon,checked=_v0.checked,onChange=_v0.onChange,attributes=_Utils_ap(_List_fromArray(["HiddenLabel"===label.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Element$spacing(6),{$:"Attr",a:$elm$html$Html$Events$onClick(onChange(!checked))},$mdgriffith$elm_ui$Element$Region$announce,$mdgriffith$elm_ui$Element$Input$onKeyLookup(function(code){return _Utils_eq(code,"Enter")||_Utils_eq(code," ")?$elm$core$Maybe$Just(onChange(!checked)):$elm$core$Maybe$Nothing}),$mdgriffith$elm_ui$Element$Input$tabindex(0),$mdgriffith$elm_ui$Element$pointer,$mdgriffith$elm_ui$Element$alignLeft,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),attributes);return A3($mdgriffith$elm_ui$Element$Input$applyLabel,A2($elm$core$List$cons,{$:"Attr",a:A2($elm$html$Html$Attributes$attribute,"role","checkbox")},A2($elm$core$List$cons,{$:"Attr",a:A2($elm$html$Html$Attributes$attribute,"aria-checked",checked?"true":"false")},A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(label),attributes))),label,A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,_List_fromArray([$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink)]),{$:"Unkeyed",a:_List_fromArray([icon(checked)])}))}),$author$project$ColourPalette$collapsedTabBorder=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver=A3($mdgriffith$elm_ui$Element$rgb255,189,195,199),$mdgriffith$elm_ui$Element$Input$labelRight=color({$:"OnRight"}),$author$project$Msg$ClearTerrain={$:"ClearTerrain"},$author$project$ViewElements$First={$:"First"},$author$project$ViewElements$Last={$:"Last"},$author$project$Msg$MakeTerrain={$:"MakeTerrain"},$author$project$ViewElements$Mid={$:"Mid"},$author$project$DisplayOptions$PlainCurtain={$:"PlainCurtain"},$author$project$DisplayOptions$RainbowCurtain={$:"RainbowCurtain"},$mdgriffith$elm_ui$Element$Input$Option=F2(function(a,b){return{$:"Option",a:a,b:b}}),$mdgriffith$elm_ui$Element$Input$optionWith=F2(function(val,view){return A2($mdgriffith$elm_ui$Element$Input$Option,val,view)}),$mdgriffith$elm_ui$Internal$Model$paddingName=F4(function(top,right,bottom,left){return"pad-"+$elm$core$String$fromInt(top)+("-"+$elm$core$String$fromInt(right)+("-"+$elm$core$String$fromInt(bottom)+("-"+$elm$core$String$fromInt(left))))}),$mdgriffith$elm_ui$Internal$Model$Paragraph={$:"Paragraph"},$mdgriffith$elm_ui$Element$paragraph=F2(function(attrs,children){return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asParagraph,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,{$:"Describe",a:$mdgriffith$elm_ui$Internal$Model$Paragraph},A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$spacing(5),attrs))),{$:"Unkeyed",a:children})}),$mdgriffith$elm_ui$Element$Input$Selected={$:"Selected"},$author$project$ColourPalette$radioButtonDefault=families=A3($mdgriffith$elm_ui$Element$rgb255,149,165,166),$author$project$ColourPalette$radioButtonSelected=$mdgriffith$elm_ui$Internal$Flag$fontFamily=A3($mdgriffith$elm_ui$Element$rgb255,39,174,96),$author$project$ColourPalette$radioButtonShadow=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver,$author$project$ColourPalette$radioButtonText=$mdgriffith$elm_ui$Element$Input$darkGrey,$mdgriffith$elm_ui$Element$Border$widthXY=F2(function(x,y){return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$borderWidth,A5($mdgriffith$elm_ui$Internal$Model$BorderWidth,"b-"+$elm$core$String$fromInt(x)+("-"+$elm$core$String$fromInt(y)),y,x,y,x))}),$author$project$ViewElements$radioButton=F3(function(position,label,state){return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(2),$mdgriffith$elm_ui$Element$Border$widthEach({bottom:0,left:2,right:2,top:2}),$mdgriffith$elm_ui$Element$Border$roundEach({bottomLeft:0,bottomRight:0,topLeft:10,topRight:10}),$mdgriffith$elm_ui$Element$Border$color(_Utils_eq(state,$mdgriffith$elm_ui$Element$Input$Selected)?A3($mdgriffith$elm_ui$Element$rgb255,150,200,50):A3($mdgriffith$elm_ui$Element$rgb255,255,255,255)),$mdgriffith$elm_ui$Element$Border$shadow({blur:5,color:$author$project$ColourPalette$radioButtonShadow,offset:{$:"#2",a:4,b:4},size:3}),$mdgriffith$elm_ui$Element$Background$color(_Utils_eq(state,$mdgriffith$elm_ui$Element$Input$Selected)?$author$project$ColourPalette$radioButtonSelected:$author$project$ColourPalette$radioButtonDefault),$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$radioButtonText),$mdgriffith$elm_ui$Element$Font$size(16)]),A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$centerY]),{$:"Text",a:label}))}),$mdgriffith$elm_ui$Element$Input$AfterFound={$:"AfterFound"},$mdgriffith$elm_ui$Element$Input$BeforeFound={$:"BeforeFound"},$mdgriffith$elm_ui$Element$Input$Idle={$:"Idle"},$mdgriffith$elm_ui$Element$Input$NotFound={$:"NotFound"},$mdgriffith$elm_ui$Element$Input$column=F2(function(attributes,children){return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asColumn,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),attributes)),{$:"Unkeyed",a:children})}),$mdgriffith$elm_ui$Internal$Model$get=F2(function(attrs,isAttr){return A3($elm$core$List$foldr,F2(function(x,found){return isAttr(x)?A2($elm$core$List$cons,x,found):found}),_List_Nil,function(attrs){return A3($elm$core$List$foldr,F2(function(x,_v0){var found=_v0.a,has=_v0.b;switch(x.$){case"NoAttribute":return{$:"#2",a:found,b:has};case"Class":return{$:"#2",a:A2($elm$core$List$cons,x,found),b:has};case"Attr":return{$:"#2",a:A2($elm$core$List$cons,x,found),b:has};case"StyleClass":return{$:"#2",a:A2($elm$core$List$cons,x,found),b:has};case"Width":return A2($elm$core$Set$member,"width",has)?{$:"#2",a:found,b:has}:{$:"#2",a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"width",has)};case"Height":return A2($elm$core$Set$member,"height",has)?{$:"#2",a:found,b:has}:{$:"#2",a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"height",has)};case"Describe":return A2($elm$core$Set$member,"described",has)?{$:"#2",a:found,b:has}:{$:"#2",a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"described",has)};case"Nearby":return{$:"#2",a:A2($elm$core$List$cons,x,found),b:has};case"AlignX":return A2($elm$core$Set$member,"align-x",has)?{$:"#2",a:found,b:has}:{$:"#2",a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"align-x",has)};case"AlignY":return A2($elm$core$Set$member,"align-y",has)?{$:"#2",a:found,b:has}:{$:"#2",a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"align-y",has)};default:return A2($elm$core$Set$member,"transform",has)?{$:"#2",a:found,b:has}:{$:"#2",a:A2($elm$core$List$cons,x,found),b:A2($elm$core$Set$insert,"transform",has)}}}),{$:"#2",a:_List_Nil,b:$elm$core$Set$empty},attrs).a}(attrs))}),$mdgriffith$elm_ui$Element$Input$row=F2(function(attributes,children){return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asRow,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),attributes),{$:"Unkeyed",a:children})}),$mdgriffith$elm_ui$Element$Input$radioRow=F3(function(orientation,events,input){var track=F2(function(opt,_v14){var found=_v14.a,prev=_v14.b,nxt=_v14.c,val=opt.a;switch(found.$){case"NotFound":return _Utils_eq($elm$core$Maybe$Just(val),input.selected)?{$:"#3",a:$mdgriffith$elm_ui$Element$Input$BeforeFound,b:prev,c:nxt}:{$:"#3",a:found,b:val,c:nxt};case"BeforeFound":return{$:"#3",a:$mdgriffith$elm_ui$Element$Input$AfterFound,b:prev,c:val};default:return{$:"#3",a:found,b:prev,c:nxt}}}),optionArea=function(status){var val=status.a,view=status.b,status=_Utils_eq($elm$core$Maybe$Just(val),input.selected)?$mdgriffith$elm_ui$Element$Input$Selected:$mdgriffith$elm_ui$Element$Input$Idle;return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$pointer,$mdgriffith$elm_ui$Element$width("Row"===orientation.$?$mdgriffith$elm_ui$Element$shrink:$mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$Events$onClick(input.onChange(val)),"Selected"===status.$?{$:"Attr",a:A2($elm$html$Html$Attributes$attribute,"aria-checked","true")}:{$:"Attr",a:A2($elm$html$Html$Attributes$attribute,"aria-checked","false")},{$:"Attr",a:A2($elm$html$Html$Attributes$attribute,"role","radio")}]),view(status))},prevNext=function(){var _v5=input.options;if(_v5.b){var val=_v5.a.a;return function(_v7){var b=_v7.b,a=_v7.c;switch(_v7.a.$){case"NotFound":case"BeforeFound":return $elm$core$Maybe$Just({$:"#2",a:b,b:val});default:return $elm$core$Maybe$Just({$:"#2",a:b,b:a})}}(A3($elm$core$List$foldl,track,{$:"#3",a:$mdgriffith$elm_ui$Element$Input$NotFound,b:val,c:val},input.options))}return $elm$core$Maybe$Nothing}(),optionArea=A2("Row"===orientation.$?$mdgriffith$elm_ui$Element$Input$row:$mdgriffith$elm_ui$Element$Input$column,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(input.label),events),A2($elm$core$List$map,optionArea,input.options)),events=A2($mdgriffith$elm_ui$Internal$Model$get,events,function(attr){_v3$3:for(;;)switch(attr.$){case"Width":case"Height":if("Fill"===attr.a.$)return!0;break _v3$3;case"Attr":return!0;default:break _v3$3}return!1});return A3($mdgriffith$elm_ui$Element$Input$applyLabel,_Utils_ap(A2($elm$core$List$filterMap,$elm$core$Basics$identity,_List_fromArray([$elm$core$Maybe$Just($mdgriffith$elm_ui$Element$alignLeft),$elm$core$Maybe$Just($mdgriffith$elm_ui$Element$Input$tabindex(0)),$elm$core$Maybe$Just($mdgriffith$elm_ui$Internal$Model$htmlClass("focus")),$elm$core$Maybe$Just($mdgriffith$elm_ui$Element$Region$announce),$elm$core$Maybe$Just({$:"Attr",a:A2($elm$html$Html$Attributes$attribute,"role","radiogroup")}),function(){if("Nothing"===prevNext.$)return $elm$core$Maybe$Nothing;var _v1=prevNext.a,prev=_v1.a,next=_v1.b;return $elm$core$Maybe$Just($mdgriffith$elm_ui$Element$Input$onKeyLookup(function(code){return _Utils_eq(code,"ArrowLeft")||_Utils_eq(code,"ArrowUp")?$elm$core$Maybe$Just(input.onChange(prev)):_Utils_eq(code,"ArrowRight")||_Utils_eq(code,"ArrowDown")?$elm$core$Maybe$Just(input.onChange(next)):_Utils_eq(code," ")&&"Nothing"===input.selected.$?$elm$core$Maybe$Just(input.onChange(prev)):$elm$core$Maybe$Nothing}))}()])),events),input.label,optionArea)})({$:"Row"}),$author$project$Msg$ResetFlythrough={$:"ResetFlythrough"},$mdgriffith$elm_ui$Internal$Model$unstyled=A2($elm$core$Basics$composeL,$elm$svg$Svg$line,$elm$core$Basics$always),$mdgriffith$elm_ui$Element$html=$mdgriffith$elm_ui$Internal$Model$unstyled,$elm$svg$Svg$Attributes$height=_VirtualDom_attribute("height"),$feathericons$elm_feather$FeatherIcons$makeBuilder=F2(function(name,src){return{$:"Icon",a:{attrs:function(name){return{_class:$elm$core$Maybe$Just("feather feather-"+name),size:24,sizeUnit:"",strokeWidth:2,viewBox:"0 0 24 24"}}(name),src:src}}}),$elm$svg$Svg$Attributes$x1=($elm$svg$Svg$Attributes$y2=$mdgriffith$elm_ui$Element$Input$defaultTextPadding("http://www.w3.org/2000/svg"))("rect"),$elm$svg$Svg$Attributes$width=_VirtualDom_attribute("width"),$elm$svg$Svg$Attributes$x2=_VirtualDom_attribute("x"),$elm$svg$Svg$Attributes$y1=_VirtualDom_attribute("y"),$feathericons$elm_feather$FeatherIcons$pause=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"pause",_List_fromArray([A2($elm$svg$Svg$Attributes$x1,_List_fromArray([$elm$svg$Svg$Attributes$x2("6"),$elm$svg$Svg$Attributes$y1("4"),$elm$svg$Svg$Attributes$width("4"),$elm$svg$Svg$Attributes$height("16")]),_List_Nil),A2($elm$svg$Svg$Attributes$x1,_List_fromArray([$elm$svg$Svg$Attributes$x2("14"),$elm$svg$Svg$Attributes$y1("4"),$elm$svg$Svg$Attributes$width("4"),$elm$svg$Svg$Attributes$height("16")]),_List_Nil)])),$elm$svg$Svg$Attributes$points=_VirtualDom_attribute("points"),$elm$svg$Svg$polygon=$elm$svg$Svg$Attributes$y2("polygon"),$feathericons$elm_feather$FeatherIcons$play=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"play",_List_fromArray([A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("5 3 19 12 5 21 5 3")]),_List_Nil)])),$feathericons$elm_feather$FeatherIcons$rewind=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"rewind",_List_fromArray([A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("11 19 2 12 11 5 11 19")]),_List_Nil),A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("22 19 13 12 22 5 22 19")]),_List_Nil)])),$elm$svg$Svg$Attributes$class=_VirtualDom_attribute("class"),$elm$svg$Svg$Attributes$fill=_VirtualDom_attribute("fill"),$elm$svg$Svg$map=$elm$virtual_dom$VirtualDom$map,$elm$svg$Svg$Attributes$stroke=_VirtualDom_attribute("stroke"),$elm$svg$Svg$Attributes$strokeLinecap=_VirtualDom_attribute("stroke-linecap"),$elm$svg$Svg$Attributes$strokeLinejoin=_VirtualDom_attribute("stroke-linejoin"),$elm$svg$Svg$Attributes$strokeWidth=_VirtualDom_attribute("stroke-width"),$elm$svg$Svg$svg=$elm$svg$Svg$Attributes$y2("svg"),$elm$svg$Svg$Attributes$viewBox=_VirtualDom_attribute("viewBox"),$feathericons$elm_feather$FeatherIcons$toHtml=F2(function(combinedAttributes,baseAttributes){var src=baseAttributes.a.src,_v1=baseAttributes.a.attrs,baseAttributes=$elm$core$String$fromFloat(_v1.size),baseAttributes=_List_fromArray([$elm$svg$Svg$Attributes$fill("none"),$elm$svg$Svg$Attributes$height(_Utils_ap(baseAttributes,_v1.sizeUnit)),$elm$svg$Svg$Attributes$width(_Utils_ap(baseAttributes,_v1.sizeUnit)),$elm$svg$Svg$Attributes$stroke("currentColor"),$elm$svg$Svg$Attributes$strokeLinecap("round"),$elm$svg$Svg$Attributes$strokeLinejoin("round"),$elm$svg$Svg$Attributes$strokeWidth($elm$core$String$fromFloat(_v1.strokeWidth)),$elm$svg$Svg$Attributes$viewBox(_v1.viewBox)]),combinedAttributes=_Utils_ap("Just"!==(_v1=_v1._class).$?baseAttributes:A2($elm$core$List$cons,$elm$svg$Svg$Attributes$class(_v1.a),baseAttributes),combinedAttributes);return A2($elm$svg$Svg$svg,combinedAttributes,A2($elm$core$List$map,$elm$svg$Svg$map($elm$core$Basics$never),src))}),$author$project$Msg$SmoothBend={$:"SmoothBend"},$author$project$Msg$FilterWeightedAverage={$:"FilterWeightedAverage"},$elm$svg$Svg$circle=$elm$svg$Svg$Attributes$y2("circle"),color=_VirtualDom_attribute("cx"),$mdgriffith$elm_ui$Element$Input$darkGrey=_VirtualDom_attribute("cy"),$elm$svg$Svg$line=$elm$svg$Svg$Attributes$y2("line"),$mdgriffith$elm_ui$Element$Input$defaultTextPadding=_VirtualDom_attribute("r"),$elm$svg$Svg$Attributes$x1=_VirtualDom_attribute("x1"),$elm$svg$Svg$Attributes$x2=_VirtualDom_attribute("x2"),$elm$svg$Svg$Attributes$y1=_VirtualDom_attribute("y1"),$elm$svg$Svg$Attributes$y2=_VirtualDom_attribute("y2"),$feathericons$elm_feather$FeatherIcons$info=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"info",_List_fromArray([A2($elm$svg$Svg$circle,_List_fromArray([color("12"),$mdgriffith$elm_ui$Element$Input$darkGrey("12"),$mdgriffith$elm_ui$Element$Input$defaultTextPadding("10")]),_List_Nil),A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("12"),$elm$svg$Svg$Attributes$y1("16"),$elm$svg$Svg$Attributes$x2("12"),$elm$svg$Svg$Attributes$y2("12")]),_List_Nil),A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("12"),$elm$svg$Svg$Attributes$y1("8"),$elm$svg$Svg$Attributes$x2("12.01"),$elm$svg$Svg$Attributes$y2("8")]),_List_Nil)])),$author$project$ColourPalette$warningColor=A3($mdgriffith$elm_ui$Element$rgb255,241,196,15),$author$project$Main$averageGradient=F3(function(endNode,s,startElevation){var overallLength=A2($elm$core$List$drop,s,A2($elm$core$List$take,startElevation,endNode.roads));if(_Utils_cmp(s,startElevation)<0){startElevation={$:"#2",a:A2($elm$core$Array$get,s,endNode.nodeArray),b:A2($elm$core$Array$get,startElevation,endNode.nodeArray)};if("Just"!==startElevation.a.$||"Just"!==startElevation.b.$)return $elm$core$Maybe$Nothing;endNode=startElevation.b.a,startElevation=startElevation.a.a.trackPoint.ele,overallLength=$elm$core$List$sum(A2($elm$core$List$map,function($){return $.length},overallLength));return $elm$core$Maybe$Just((endNode.trackPoint.ele-startElevation)/overallLength*100)}return $elm$core$Maybe$Nothing}),$author$project$Msg$CloseTheLoop={$:"CloseTheLoop"},$author$project$Msg$ReverseTrack={$:"ReverseTrack"},$author$project$Msg$SimplifyTrack={$:"SimplifyTrack"},$author$project$Msg$NudgeNode=F2(function(a,b){return{$:"NudgeNode",a:a,b:b}}),$author$project$ViewElements$nudgeButton=F2(function(horizontalValue,verticalValue){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Apply nudge"},onPress:$elm$core$Maybe$Just(A2($author$project$Msg$NudgeNode,horizontalValue,verticalValue))})}),$author$project$ViewElements$commonShortVerticalSliderStyles=_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(150)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$behindContent(A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(150)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$scrollbarBackground),$mdgriffith$elm_ui$Element$Border$rounded(6)]),$mdgriffith$elm_ui$Element$none))]),$author$project$ViewElements$straightenButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Straighten between markers"},onPress:$elm$core$Maybe$Just({$:"StraightenStraight"})}),$author$project$Msg$LoadExternalSegment={$:"LoadExternalSegment"},$author$project$Msg$LoadSegmentStreams={$:"LoadSegmentStreams"},$elm$url$Url$Builder$crossOrigin=F3(function(prePath,pathSegments,parameters){return prePath+("/"+(A2($elm$core$String$join,"/",pathSegments)+$elm$url$Url$Builder$toQuery(parameters)))}),$mdgriffith$elm_ui$Element$Input$labelHidden=function(a){return{$:"HiddenLabel",a:a}},$elm$html$Html$Attributes$rel=_VirtualDom_attribute("rel"),$elm$html$Html$Attributes$target=$elm$html$Html$Attributes$stringProperty("target"),$mdgriffith$elm_ui$Element$newTabLink=F2(function(attrs,value){var label=value.label;return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,{$:"NodeName",a:"a"},A2($elm$core$List$cons,{$:"Attr",a:A2($elm$html$Html$Attributes$stringProperty,"href",/^javascript:/i.test((value=value=value.url).replace(/\s/g,""))?'javascript:alert("This is an XSS vector. Please use ports or web components instead.")':value)},A2($elm$core$List$cons,{$:"Attr",a:$elm$html$Html$Attributes$rel("noopener noreferrer")},A2($elm$core$List$cons,{$:"Attr",a:$elm$html$Html$Attributes$target("_blank")},A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink),A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_contentCenterX+" "+$mdgriffith$elm_ui$Internal$Style$classes_contentCenterY+" "+$mdgriffith$elm_ui$Internal$Style$classes_link),attrs)))))),{$:"Unkeyed",a:_List_fromArray([label])})}),$mdgriffith$elm_ui$Element$Input$placeholder=F2(function(a,b){return{$:"Placeholder",a:a,b:b}}),$author$project$ColourPalette$stravaOrange=A3($mdgriffith$elm_ui$Element$rgb255,252,76,2),$mdgriffith$elm_ui$Element$Input$TextArea={$:"TextArea"},$mdgriffith$elm_ui$Element$Input$autofill=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Attributes$attribute("autocomplete")),$mdgriffith$elm_ui$Internal$Flag$moveY=alpha(26),color=alpha(20),$mdgriffith$elm_ui$Element$clip=A2($mdgriffith$elm_ui$Internal$Model$Class,color,$mdgriffith$elm_ui$Element$Input$white),$mdgriffith$elm_ui$Element$Input$darkGrey=A3($mdgriffith$elm_ui$Element$rgb,186/255,189/255,182/255),$mdgriffith$elm_ui$Element$Input$defaultTextPadding=A2(F2(function(x,y){if(_Utils_eq(x,y)){var xFloat=x;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,"p-"+$elm$core$String$fromInt(x),xFloat,xFloat,xFloat,xFloat))}var yFloat=y,xFloat=x;return A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,"p-"+$elm$core$String$fromInt(x)+("-"+$elm$core$String$fromInt(y)),yFloat,xFloat,yFloat,xFloat))}),12,12),$mdgriffith$elm_ui$Element$Input$white=A3($mdgriffith$elm_ui$Element$rgb,1,1,1),$mdgriffith$elm_ui$Element$Input$defaultTextBoxStyle=_List_fromArray([$mdgriffith$elm_ui$Element$Input$defaultTextPadding,$mdgriffith$elm_ui$Element$Border$rounded(3),$mdgriffith$elm_ui$Element$Border$color($mdgriffith$elm_ui$Element$Input$darkGrey),$mdgriffith$elm_ui$Element$Background$color($mdgriffith$elm_ui$Element$Input$white),$mdgriffith$elm_ui$Element$Border$width(1),$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$shrink)]),$mdgriffith$elm_ui$Internal$Model$InFront={$:"InFront"},$mdgriffith$elm_ui$Element$htmlAttribute=$mdgriffith$elm_ui$Internal$Model$Attr,$mdgriffith$elm_ui$Element$Input$redistributeOver=F4(function(isMultiline,stacked,attr,els){switch(attr.$){case"Nearby":return _Utils_update(els,{parent:A2($elm$core$List$cons,attr,els.parent)});case"Width":return $mdgriffith$elm_ui$Element$Input$isFill(attr.a)?_Utils_update(els,{fullParent:A2($elm$core$List$cons,attr,els.fullParent),input:A2($elm$core$List$cons,attr,els.input),parent:A2($elm$core$List$cons,attr,els.parent)}):_Utils_update(els,stacked?{fullParent:A2($elm$core$List$cons,attr,els.fullParent)}:{parent:A2($elm$core$List$cons,attr,els.parent)});case"Height":var height=attr.a;return!stacked||$mdgriffith$elm_ui$Element$Input$isFill(height)?_Utils_update(els,{fullParent:A2($elm$core$List$cons,attr,els.fullParent),parent:A2($elm$core$List$cons,attr,els.parent)}):(function(len){isPixel:for(;;)switch(len.$){case"Content":return;case"Px":return;case"Fill":return;case"Min":default:len=len.b;continue isPixel}}(height),_Utils_update(els,{parent:A2($elm$core$List$cons,attr,els.parent)}));case"AlignX":case"AlignY":return _Utils_update(els,{fullParent:A2($elm$core$List$cons,attr,els.fullParent)});case"StyleClass":switch(attr.b.$){case"SpacingStyle":return _Utils_update(els,{fullParent:A2($elm$core$List$cons,attr,els.fullParent),input:A2($elm$core$List$cons,attr,els.input),parent:A2($elm$core$List$cons,attr,els.parent),wrapper:A2($elm$core$List$cons,attr,els.wrapper)});case"PaddingStyle":var newHeight=attr.b,t=newHeight.b,r=newHeight.c,newBottom=newHeight.d,reducedVerticalPadding=newHeight.e;if(isMultiline)return _Utils_update(els,{cover:A2($elm$core$List$cons,attr,els.cover),parent:A2($elm$core$List$cons,attr,els.parent)});var newTop=t-A2($elm$core$Basics$min,t,newBottom),newLineHeight=$mdgriffith$elm_ui$Element$htmlAttribute(A2($elm$html$Html$Attributes$style,"line-height","calc(1.0em + "+$elm$core$String$fromFloat(2*A2($elm$core$Basics$min,t,newBottom))+"px)")),newHeight=$mdgriffith$elm_ui$Element$htmlAttribute(A2($elm$html$Html$Attributes$style,"height","calc(1.0em + "+$elm$core$String$fromFloat(2*A2($elm$core$Basics$min,t,newBottom))+"px)")),newBottom=newBottom-A2($elm$core$Basics$min,t,newBottom),reducedVerticalPadding=A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$padding,A5($mdgriffith$elm_ui$Internal$Model$PaddingStyle,A4($mdgriffith$elm_ui$Internal$Model$paddingNameFloat,newTop,r,newBottom,reducedVerticalPadding),newTop,r,newBottom,reducedVerticalPadding));return _Utils_update(els,{cover:A2($elm$core$List$cons,attr,els.cover),input:A2($elm$core$List$cons,newHeight,A2($elm$core$List$cons,newLineHeight,els.input)),parent:A2($elm$core$List$cons,reducedVerticalPadding,els.parent)});case"BorderWidth":return _Utils_update(els,{cover:A2($elm$core$List$cons,attr,els.cover),parent:A2($elm$core$List$cons,attr,els.parent)});case"Transform":return _Utils_update(els,{cover:A2($elm$core$List$cons,attr,els.cover),parent:A2($elm$core$List$cons,attr,els.parent)});case"FontSize":return _Utils_update(els,{fullParent:A2($elm$core$List$cons,attr,els.fullParent)});case"FontFamily":return _Utils_update(els,{fullParent:A2($elm$core$List$cons,attr,els.fullParent)});default:return _Utils_update(els,{parent:A2($elm$core$List$cons,attr,els.parent)})}case"NoAttribute":return els;case"Attr":return _Utils_update(els,{input:A2($elm$core$List$cons,attr,els.input)});case"Describe":return _Utils_update(els,{input:A2($elm$core$List$cons,attr,els.input)});case"Class":return _Utils_update(els,{parent:A2($elm$core$List$cons,attr,els.parent)});default:return _Utils_update(els,{input:A2($elm$core$List$cons,attr,els.input)})}}),$mdgriffith$elm_ui$Element$Input$redistribute=F3(function(isMultiline,stacked,redist){return{cover:$elm$core$List$reverse((redist=A3($elm$core$List$foldl,A2($mdgriffith$elm_ui$Element$Input$redistributeOver,isMultiline,stacked),{cover:_List_Nil,fullParent:_List_Nil,input:_List_Nil,parent:_List_Nil,wrapper:_List_Nil},redist)).cover),fullParent:$elm$core$List$reverse(redist.fullParent),input:$elm$core$List$reverse(redist.input),parent:$elm$core$List$reverse(redist.parent),wrapper:$elm$core$List$reverse(redist.wrapper)}}),$mdgriffith$elm_ui$Internal$Model$Transparency=F2(function(a,b){return{$:"Transparency",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Flag$transparency=alpha(0),$mdgriffith$elm_ui$Element$Input$charcoal=A3($mdgriffith$elm_ui$Element$rgb,136/255,138/255,133/255),$mdgriffith$elm_ui$Element$rgba=$mdgriffith$elm_ui$Internal$Model$Rgba,$mdgriffith$elm_ui$Element$Input$renderPlaceholder=F3(function(placeholderEl,forPlaceholder,on){var placeholderAttrs=placeholderEl.a,placeholderEl=placeholderEl.b;return A2($mdgriffith$elm_ui$Element$el,_Utils_ap(forPlaceholder,_Utils_ap(_List_fromArray([$mdgriffith$elm_ui$Element$Font$color($mdgriffith$elm_ui$Element$Input$charcoal),$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_noTextSelection+" "+$mdgriffith$elm_ui$Internal$Style$classes_passPointerEvents),$mdgriffith$elm_ui$Element$clip,$mdgriffith$elm_ui$Element$Border$color(A4($mdgriffith$elm_ui$Element$rgba,0,0,0,0)),$mdgriffith$elm_ui$Element$Background$color(A4($mdgriffith$elm_ui$Element$rgba,0,0,0,0)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$alpha(on?1:0)]),placeholderAttrs)),placeholderEl)}),$mdgriffith$elm_ui$Element$scrollbarY=A2($mdgriffith$elm_ui$Internal$Model$Class,color,$mdgriffith$elm_ui$Internal$Style$classes_scrollbarsY),$elm$html$Html$span=_VirtualDom_node("span"),$elm$html$Html$Attributes$spellcheck=$elm$html$Html$Attributes$spellcheck("spellcheck"),$mdgriffith$elm_ui$Element$Input$spellcheck=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Attributes$spellcheck),$mdgriffith$elm_ui$Element$Input$value=A2($elm$core$Basics$composeL,$mdgriffith$elm_ui$Internal$Model$Attr,$elm$html$Html$Attributes$value),$mdgriffith$elm_ui$Element$Input$text=F3(function(textInput,right,textOptions){var _v0,left,withDefaults=_Utils_ap($mdgriffith$elm_ui$Element$Input$defaultTextBoxStyle,right),redistributed=A3($mdgriffith$elm_ui$Element$Input$redistribute,_Utils_eq(textInput.type_,$mdgriffith$elm_ui$Element$Input$TextArea),function(label){if("Label"!==label.$)return!0;switch(label.a.$){case"OnRight":case"OnLeft":return!1;case"Above":default:return!0}}(textOptions.label),withDefaults),heightConstrained=function(){var _v7=textInput.type_;if("TextInputNode"!==_v7.$)return A2($elm$core$Maybe$withDefault,!1,A2($elm$core$Maybe$map,$mdgriffith$elm_ui$Element$Input$isConstrained,$elm$core$List$head($elm$core$List$reverse(A2($elm$core$List$filterMap,$mdgriffith$elm_ui$Element$Input$getHeight,withDefaults)))));return!1}(),bottom=A2($elm$core$Maybe$withDefault,{bottom:0,left:0,right:0,top:0},$elm$core$List$head($elm$core$List$reverse(A2($elm$core$List$filterMap,function(l){if("StyleClass"!==l.$||"PaddingStyle"!==l.b.$)return $elm$core$Maybe$Nothing;var _v6=l.b,t=_v6.b,r=_v6.c,l=_v6.e;return $elm$core$Maybe$Just({bottom:A2($elm$core$Basics$max,0,$elm$core$Basics$floor(_v6.d-3)),left:A2($elm$core$Basics$max,0,$elm$core$Basics$floor(l-3)),right:A2($elm$core$Basics$max,0,$elm$core$Basics$floor(r-3)),top:A2($elm$core$Basics$max,0,$elm$core$Basics$floor(t-3))})},withDefaults)))),inputElement=A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,function(){var _v3=textInput.type_;if("TextInputNode"!==_v3.$)return{$:"NodeName",a:"textarea"};return{$:"NodeName",a:"input"}}(),_Utils_ap(_List_fromArray("TextInputNode"!==(wrappedInput=textInput.type_).$?[$mdgriffith$elm_ui$Element$clip,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_inputMultiline),$mdgriffith$elm_ui$Element$Input$calcMoveToCompensateForPadding(withDefaults),$mdgriffith$elm_ui$Element$paddingEach(bottom),{$:"Attr",a:A2($elm$html$Html$Attributes$style,"margin",(right=(_v0={bottom:-(left=bottom).bottom,left:-left.left,right:-left.right,top:-left.top}).right,bottom=_v0.bottom,left=_v0.left,$elm$core$String$fromInt(_v0.top)+("px "+$elm$core$String$fromInt(right)+("px "+$elm$core$String$fromInt(bottom)+("px "+$elm$core$String$fromInt(left))))+"px"))},{$:"Attr",a:A2($elm$html$Html$Attributes$style,"box-sizing","content-box")}]:[{$:"Attr",a:$elm$html$Html$Attributes$type_(wrappedInput.a)},$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_inputText)]),_Utils_ap(_List_fromArray([$mdgriffith$elm_ui$Element$Input$value(textOptions.text),{$:"Attr",a:$elm$html$Html$Events$onInput(textOptions.onChange)},$mdgriffith$elm_ui$Element$Input$hiddenLabelAttribute(textOptions.label),$mdgriffith$elm_ui$Element$Input$spellcheck(textInput.spellchecked),A2($elm$core$Maybe$withDefault,$mdgriffith$elm_ui$Internal$Model$NoAttribute,A2($elm$core$Maybe$map,$mdgriffith$elm_ui$Element$Input$autofill,textInput.autofill))]),redistributed.input)),{$:"Unkeyed",a:_List_Nil}),wrappedInput=function(){var _v2=textInput.type_;if("TextArea"===_v2.$)return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,_Utils_ap((heightConstrained?$elm$core$List$cons($mdgriffith$elm_ui$Element$scrollbarY):$elm$core$Basics$identity)(_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$any,$mdgriffith$elm_ui$Element$Input$hasFocusStyle,withDefaults)?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_focusedWithin),$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_inputMultilineWrapper)])),redistributed.parent),{$:"Unkeyed",a:_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asParagraph,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Element$createNearby,$mdgriffith$elm_ui$Internal$Model$InFront,inputElement),A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_inputMultilineParent),redistributed.wrapper)))),{$:"Unkeyed",a:function(){if(""!==textOptions.text)return _List_fromArray([$mdgriffith$elm_ui$Internal$Model$unstyled(A2($elm$html$Html$span,_List_fromArray([$elm$html$Html$Attributes$class($mdgriffith$elm_ui$Internal$Style$classes_inputMultilineFiller)]),_List_fromArray([$elm$html$Html$text(textOptions.text+" ")])))]);var _v1=textOptions.placeholder;return _List_fromArray("Nothing"===_v1.$?[{$:"Text",a:" "}]:[A3($mdgriffith$elm_ui$Element$Input$renderPlaceholder,_v1.a,_List_Nil,""===textOptions.text)])}()})])});return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),A2($elm$core$List$cons,A2($elm$core$List$any,$mdgriffith$elm_ui$Element$Input$hasFocusStyle,withDefaults)?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_focusedWithin),$elm$core$List$concat(_List_fromArray([redistributed.parent,"Nothing"===(_v2=textOptions.placeholder).$?_List_Nil:_List_fromArray([$mdgriffith$elm_ui$Element$behindContent(A3($mdgriffith$elm_ui$Element$Input$renderPlaceholder,_v2.a,redistributed.cover,""===textOptions.text))])])))),{$:"Unkeyed",a:_List_fromArray([inputElement])})}();return A3($mdgriffith$elm_ui$Element$Input$applyLabel,A2($elm$core$List$cons,A2($mdgriffith$elm_ui$Internal$Model$Class,$mdgriffith$elm_ui$Internal$Flag$cursor,$mdgriffith$elm_ui$Internal$Style$classes_cursorText),A2($elm$core$List$cons,"HiddenLabel"===textOptions.label.$?$mdgriffith$elm_ui$Internal$Model$NoAttribute:$mdgriffith$elm_ui$Element$spacing(5),A2($elm$core$List$cons,$mdgriffith$elm_ui$Element$Region$announce,redistributed.fullParent))),textOptions.label,wrappedInput)})({autofill:$elm$core$Maybe$Nothing,spellchecked:!1,type_:{$:"TextInputNode",a:"text"}}),$elm$core$List$sortBy=_List_sortBy,$author$project$TrackPoint$trackPointFromLatLon=F3(function(lat,lon,tps){var dummyTP={lat:lat,lon:lon};return $elm$core$List$head(A2($elm$core$List$map,$elm$core$Tuple$first,A2($elm$core$List$sortBy,$elm$core$Tuple$second,A2($elm$core$List$map,function(tp){return{$:"#2",a:tp,b:A2($author$project$TrackPoint$trackPointSeparation,tp,dummyTP)}},tps))))}),$author$project$Msg$InsertBeforeOrAfter=F2(function(a,b){return{$:"InsertBeforeOrAfter",a:a,b:b}}),$author$project$Msg$InsertNodeAfter={$:"InsertNodeAfter"},$author$project$Msg$SplitRoad={$:"SplitRoad"},$author$project$TrackPoint$filterCloseTrackPoints=function(tps){return $author$project$TrackPoint$reindexTrackpoints(function(){if(tps.b&&tps.b.b){var t0=tps.a,tpRest=tps.b,t1=tpRest.a,tpRest=tpRest.b;return A2($author$project$TrackPoint$trackPointSeparation,t0,t1)<.5?A2($elm$core$List$cons,A2($author$project$TrackPoint$meanTrackPoint,t0,t1),$author$project$TrackPoint$filterCloseTrackPoints(tpRest)):A2($elm$core$List$cons,t0,$author$project$TrackPoint$filterCloseTrackPoints(A2($elm$core$List$cons,t1,tpRest)))}return tps}())},$elm$regex$Regex$Match=F4(function(match,index,number,submatches){return{index:index,match:match,number:number,submatches:submatches}}),$elm$regex$Regex$fromStringWith=_Regex_fromStringWith,$elm$regex$Regex$never=/.^/,$elm$regex$Regex$find=triangleShadowVertices(1/0),$elm$core$List$map4=triangleShadowFaces,$author$project$Main$parseGPXintoModel=F2(function(content,model){return _Utils_update(model,{changeCounter:0,gpx:$elm$core$Maybe$Just(content),trackName:function(_v1){_v1=A2($elm$regex$Regex$find,$author$project$Utils$asRegex("<name>(.*)<\\/name>"),_v1);if(_v1.b){_v1=_v1.a.submatches;return _v1.b?_v1.a:$elm$core$Maybe$Nothing}return $elm$core$Maybe$Nothing}(content),trackPoints:$author$project$TrackPoint$filterCloseTrackPoints($author$project$TrackPoint$parseTrackPoints(content))})}),$author$project$MapController$MapStopping={$:"MapStopping"},$author$project$ViewTypes$MapView={$:"MapView"},$author$project$MapController$WaitingForNode={$:"WaitingForNode"},$elm$json$Json$Encode$float=_Json_wrap,$author$project$MapController$mapPort=_Platform_outgoingPort("mapPort",$elm$core$Basics$identity),$author$project$MapController$removeMap=$author$project$MapController$mapPort($elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"Cmd",b:$elm$json$Json$Encode$string("Stop")}]))),$author$project$Main$switchViewMode=F2(function(model,mode){function updatedMapInfo(info){return _Utils_update(info,{current:function(){if("Just"!==current.$)return{$:"#2",a:0,b:0};var m=current.a;return{$:"#2",a:m.trackPoint.lon,b:m.trackPoint.lat}}(),marker:function(){if("Just"!==marked.$)return $elm$core$Maybe$Nothing;var m=marked.a;return $elm$core$Maybe$Just({$:"#2",a:m.trackPoint.lon,b:m.trackPoint.lat})}()})}function newMapInfo(box){return updatedMapInfo({box:box,centreLat:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(box)),centreLon:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midX(box)),current:{$:"#2",a:0,b:0},mapState:$author$project$MapController$WaitingForNode,mapZoom:$author$project$MapboxStuff$zoomLevelFromBoundingBox(model.trackPointBox),marker:$elm$core$Maybe$Nothing,nextView:$author$project$ViewTypes$MapView,points:model.trackPoints})}var marked="Just"!==(newInfo=model.markedNode).$?$elm$core$Maybe$Nothing:A2($elm$core$Array$get,newInfo.a,model.nodeArray),current=A2($elm$core$Array$get,model.currentNode,model.nodeArray),newInfo={$:"#2",a:model.viewingMode,b:mode};if("MapView"===newInfo.a.$){if("MapView"===newInfo.b.$){var changedMapInfo=model.mapInfo;return"Just"!==changedMapInfo.$?{$:"#2",a:model,b:$elm$core$Platform$Cmd$none}:{$:"#2",a:model,b:$author$project$MapController$addTrackToMap(changedMapInfo.a)}}changedMapInfo=function(info){return _Utils_update(info,{mapState:$author$project$MapController$MapStopping,nextView:mode})};return{$:"#2",a:$author$project$Main$checkSceneCamera($author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{mapInfo:A2($elm$core$Maybe$map,changedMapInfo,model.mapInfo)}))),b:$author$project$MapController$removeMap}}if("MapView"!==newInfo.b.$)return{$:"#2",a:$author$project$Main$checkSceneCamera($author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{viewingMode:mode}))),b:$elm$core$Platform$Cmd$none};newInfo=model.mapInfo;if("Just"!==newInfo.$)return{$:"#2",a:newModel=$author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{mapInfo:$elm$core$Maybe$Just(newMapInfo(model.trackPointBox)),viewingMode:mode})),b:$author$project$MapController$createMap(newMapInfo(newModel.trackPointBox))};var newModel,newInfo=updatedMapInfo(newInfo.a);return{$:"#2",a:newModel=_Utils_update(model,{flythrough:$elm$core$Maybe$Nothing,mapInfo:$elm$core$Maybe$Just(newInfo),viewingMode:mode}),b:$author$project$MapController$createMap(newInfo)}}),$author$project$Main$commonModelLoader=F3(function(model,content,newModel){newModel=$author$project$Main$lookForSimplifications($author$project$Main$deriveVaryingVisualEntities($author$project$Main$deriveStaticVisualEntities(function(model){var zoomLevel=$author$project$MapboxStuff$zoomLevelFromBoundingBox(model.trackPointBox),newMapInfo=F2(function(box,info){return _Utils_update(info,{box:box,centreLat:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midY(box)),centreLon:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$BoundingBox3d$midX(box)),mapZoom:zoomLevel,points:model.trackPoints})}),focus=$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(model.nodeBox);return $author$project$Main$checkSceneCamera(_Utils_update(model,{azimuth:{$:"Quantity",a:-1.5707963267948966},cameraFocusProfileNode:0,cameraFocusThirdPerson:focus,currentNode:0,displayOptions:_Utils_update(model.displayOptions,{roadCones:$elm$core$Array$length(model.nodeArray)<2e3,roadPillars:$elm$core$Array$length(model.nodeArray)<2e3,terrain:!1,withLighting:$elm$core$Array$length(model.nodeArray)<2e3}),elevation:{$:"Quantity",a:.5235987755982988},flythrough:$elm$core$Maybe$Nothing,mapInfo:A2($elm$core$Maybe$map,newMapInfo(model.trackPointBox),model.mapInfo),markedNode:$elm$core$Maybe$Nothing,redoStack:_List_Nil,undoStack:_List_Nil,zoomLevelFirstPerson:2,zoomLevelOverview:zoomLevel,zoomLevelPlan:zoomLevel,zoomLevelProfile:zoomLevel,zoomLevelThirdPerson:zoomLevel}))}($author$project$Main$deriveProblems($author$project$Main$deriveNodesAndRoads(A2($author$project$Main$parseGPXintoModel,content,function(model){return _Utils_update(model,{infoAccordion:$author$project$Main$infoAccordion(model),toolsAccordion:$author$project$Main$toolsAccordion(model)})}(function(model){return _Utils_update(model,{abruptBearingChanges:_List_Nil,abruptGradientChanges:_List_Nil,changeCounter:0,currentNode:0,flythrough:$elm$core$Maybe$Nothing,gpx:$elm$core$Maybe$Nothing,loopiness:{$:"NotALoop",a:0},markedNode:$elm$core$Maybe$Nothing,nodeArray:$elm$core$Array$empty,nodeBox:$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin),nodes:_List_Nil,nudgedNodeRoads:_List_Nil,orbiting:$elm$core$Maybe$Nothing,redoStack:_List_Nil,roadArray:$elm$core$Array$empty,roads:_List_Nil,smoothedBend:$elm$core$Maybe$Nothing,smoothingEndIndex:$elm$core$Maybe$Nothing,staticProfileEntities:_List_Nil,staticVisualEntities:_List_Nil,summary:$elm$core$Maybe$Nothing,terrainEntities:_List_Nil,timeOfLastSave:$elm$time$Time$millisToPosix(0),trackName:$elm$core$Maybe$Nothing,trackPointBox:$ianmackenzie$elm_geometry$BoundingBox3d$singleton($ianmackenzie$elm_geometry$Point3d$origin),trackPoints:_List_Nil,undoStack:_List_Nil,varyingProfileEntities:_List_Nil,varyingVisualEntities:_List_Nil,zeroLengths:_List_Nil})}(_Utils_update(model,{gpxSource:newModel}))))))))));return A2($author$project$Main$switchViewMode,newModel,newModel.viewingMode)}),$author$project$Main$deleteTrackPoints=F2(function(remainingTPs,model){var start=remainingTPs.a,remainingTPs=remainingTPs.b,undoMessage="Delete track points "+$elm$core$String$fromInt(start)+("-"+$elm$core$String$fromInt(remainingTPs)),remainingTPs=A2($elm$core$List$drop,remainingTPs+1,model.trackPoints),newTPs=_Utils_ap(A2($elm$core$List$take,start,model.trackPoints),remainingTPs);return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{currentNode:A2($elm$core$Basics$min,start,$elm$core$List$length(newTPs)-1),markedNode:$elm$core$Maybe$Nothing,trackPoints:$author$project$TrackPoint$reindexTrackpoints(newTPs)})}),$elm$core$List$member=F2(function(x,xs){return A2($elm$core$List$any,function(a){return _Utils_eq(a,x)},xs)}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectHelp=F3(function(_function,facesToProcess,accumulated){for(;;){if(!facesToProcess.b)return accumulated;var newValue=facesToProcess.a,remainingFaces=facesToProcess.b;accumulated="ThreeVertexFace"===newValue.$?(newValue=A4(_function,newValue.a,newValue.b,newValue.c,newValue.d),_function=_function,facesToProcess=remainingFaces,A2($elm$core$List$cons,newValue,accumulated)):(_function=_function,facesToProcess=remainingFaces,accumulated)}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectFaces=F2(function(_function,delaunayTriangulation){return"EmptyDelaunayTriangulation2d"===delaunayTriangulation.$?_List_Nil:A3($ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectHelp,_function,delaunayTriangulation.a.faces,_List_Nil)}),$ianmackenzie$elm_geometry$Triangle2d$from=F3(function(p1,p2,p3){return{$:"Triangle2d",a:{$:"#3",a:p1,b:p2,c:p3}}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$getFace=F4(function(firstVertex,secondVertex,thirdVertex,circumcircle){return{circumcircle:circumcircle,triangle:A3($ianmackenzie$elm_geometry$Triangle2d$from,firstVertex.position,secondVertex.position,thirdVertex.position),vertices:{$:"#3",a:firstVertex.vertex,b:secondVertex.vertex,c:thirdVertex.vertex}}}),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainTriangleVertex={src:"\n        precision highp float;\n        \n        attribute lowp float triangleVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 triangleVertexPositions;\n        \n        void getTriangleVertex(int triangleVertexIndex, mat4 triangleVertexPositions, out vec3 position, out vec3 normal) {\n            vec3 p1 = triangleVertexPositions[0].xyz;\n            vec3 p2 = triangleVertexPositions[1].xyz;\n            vec3 p3 = triangleVertexPositions[2].xyz;\n            normal = normalize(cross(p2 - p1, p3 - p2));\n            float t1 = float(triangleVertexIndex == 0);\n            float t2 = float(triangleVertexIndex == 1);\n            float t3 = float(triangleVertexIndex == 2);\n            position = t1 * p1 + t2 * p2 + t3 * p3;\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            getTriangleVertex(int(triangleVertex), triangleVertexPositions, position, normal);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n        }\n    ",attributes:{triangleVertex:"triangleVertex"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",triangleVertexPositions:"triangleVertexPositions",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothTriangleVertex={src:"\n        precision highp float;\n        \n        attribute lowp float triangleVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 triangleVertexPositions;\n        \n        varying highp vec3 interpolatedPosition;\n        varying highp vec3 interpolatedNormal;\n        \n        void getTriangleVertex(int triangleVertexIndex, mat4 triangleVertexPositions, out vec3 position, out vec3 normal) {\n            vec3 p1 = triangleVertexPositions[0].xyz;\n            vec3 p2 = triangleVertexPositions[1].xyz;\n            vec3 p3 = triangleVertexPositions[2].xyz;\n            normal = normalize(cross(p2 - p1, p3 - p2));\n            float t1 = float(triangleVertexIndex == 0);\n            float t2 = float(triangleVertexIndex == 1);\n            float t3 = float(triangleVertexIndex == 2);\n            position = t1 * p1 + t2 * p2 + t3 * p3;\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        void main() {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            getTriangleVertex(int(triangleVertex), triangleVertexPositions, position, normal);\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            gl_Position = projectionMatrix * (viewMatrix * worldPosition);\n            interpolatedPosition = worldPosition.xyz;\n            interpolatedNormal = getWorldNormal(normal, modelScale, modelMatrix);\n        }\n    ",attributes:{triangleVertex:"triangleVertex"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",triangleVertexPositions:"triangleVertexPositions",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices=F2(function(a,b){return{$:"Mesh3",a:a,b:b}})({elemSize:3,indexSize:0,mode:4})(_List_fromArray([{$:"#3",a:{triangleVertex:0},b:{triangleVertex:1},c:{triangleVertex:2}}])),$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleMesh=F2(function(givenMaterial,givenTriangle){var y2,z2,x3,y3,boundingBox,x1,y1,z1,x2,boundingBox=(z2=$ianmackenzie$elm_geometry$Triangle3d$vertices(y2=givenTriangle),boundingBox=z2.c,x1=$ianmackenzie$elm_geometry$Point3d$xCoordinate(x3=z2.a),y1=$ianmackenzie$elm_geometry$Point3d$yCoordinate(x3),z1=$ianmackenzie$elm_geometry$Point3d$zCoordinate(x3),x2=$ianmackenzie$elm_geometry$Point3d$xCoordinate(y3=z2.b),y2=$ianmackenzie$elm_geometry$Point3d$yCoordinate(y3),z2=$ianmackenzie$elm_geometry$Point3d$zCoordinate(y3),x3=$ianmackenzie$elm_geometry$Point3d$xCoordinate(boundingBox),y3=$ianmackenzie$elm_geometry$Point3d$yCoordinate(boundingBox),boundingBox=$ianmackenzie$elm_geometry$Point3d$zCoordinate(boundingBox),$ianmackenzie$elm_geometry$BoundingBox3d$fromExtrema({maxX:A2($ianmackenzie$elm_units$Quantity$max,x1,A2($ianmackenzie$elm_units$Quantity$max,x2,x3)),maxY:A2($ianmackenzie$elm_units$Quantity$max,y1,A2($ianmackenzie$elm_units$Quantity$max,y2,y3)),maxZ:A2($ianmackenzie$elm_units$Quantity$max,z1,A2($ianmackenzie$elm_units$Quantity$max,z2,boundingBox)),minX:A2($ianmackenzie$elm_units$Quantity$min,x1,A2($ianmackenzie$elm_units$Quantity$min,x2,x3)),minY:A2($ianmackenzie$elm_units$Quantity$min,y1,A2($ianmackenzie$elm_units$Quantity$min,y2,y3)),minZ:A2($ianmackenzie$elm_units$Quantity$min,z1,A2($ianmackenzie$elm_units$Quantity$min,z2,boundingBox))})),bounds=$ianmackenzie$elm_3d_scene$Scene3d$Entity$toBounds(boundingBox);switch(givenMaterial.$){case"UnlitMaterial":if("Constant"===givenMaterial.b.$){var color=givenMaterial.b.a;return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainTriangleVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$constantFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices,{constantColor:color,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,triangleVertexPositions:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),viewMatrix:viewMatrix})}))}}return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"EmissiveMaterial":if("Constant"===givenMaterial.b.$){var emissiveColor=givenMaterial.b.a.a,backlight=givenMaterial.c;return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,lights,settings){return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$plainTriangleVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$emissiveFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices,{emissiveColor:A2($elm_explorations$linear_algebra$Math$Vector3$scale,$ianmackenzie$elm_units$Luminance$inNits(backlight),emissiveColor),modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,triangleVertexPositions:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),viewMatrix:viewMatrix})}))}}return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;case"LambertianMaterial":var _v7=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolveLambertian,givenMaterial.b,givenMaterial.c);if("ConstantLambertianMaterial"!==_v7.$)return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;var materialColor=_v7.a.a;return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothTriangleVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$lambertianFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices,{enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,materialColor:materialColor,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,sceneProperties:sceneProperties,triangleVertexPositions:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),viewMatrix:viewMatrix})}))};default:_v7=A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$resolvePbr,givenMaterial.b,givenMaterial.c,givenMaterial.d,givenMaterial.e);if("ConstantPbrMaterial"!==_v7.$)return $ianmackenzie$elm_3d_scene$Scene3d$Entity$empty;var baseColor=_v7.a.a,roughness=_v7.b,metallic=_v7.c;return{$:"Entity",a:A2($ianmackenzie$elm_3d_scene$Scene3d$Types$MeshNode,bounds,F8(function(sceneProperties,modelScale,modelMatrix,isRightHanded,viewMatrix,projectionMatrix,enabledLights,settings){var lights=enabledLights.a,enabledLights=enabledLights.b;return A5($elm_explorations$webgl$WebGL$entityWith,A3($ianmackenzie$elm_3d_scene$Scene3d$Entity$meshSettings,isRightHanded,$ianmackenzie$elm_3d_scene$Scene3d$Types$KeepBackFaces,settings),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$smoothTriangleVertex,$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$physicalFragment,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertices,{baseColor:baseColor,enabledLights:enabledLights,lights12:lights.lights12,lights34:lights.lights34,lights56:lights.lights56,lights78:lights.lights78,metallic:metallic,modelMatrix:modelMatrix,modelScale:modelScale,projectionMatrix:projectionMatrix,roughness:roughness,sceneProperties:sceneProperties,triangleVertexPositions:$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleVertexPositions(givenTriangle),viewMatrix:viewMatrix})}))}}}),$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadowMesh=(triangleShadowVertices=_List_fromArray([{triangleShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,1)},{triangleShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,1)},{triangleShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,2,1)},{triangleShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,0,-1)},{triangleShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,-1)},{triangleShadowVertex:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,2,-1)}]),triangleShadowFaces=_List_fromArray([{$:"#3",a:0,b:1,c:2},{$:"#3",a:3,b:5,c:4},{$:"#3",a:3,b:4,c:1},{$:"#3",a:3,b:1,c:0},{$:"#3",a:4,b:5,c:2},{$:"#3",a:4,b:2,c:1},{$:"#3",a:5,b:3,c:0},{$:"#3",a:5,b:0,c:2}]),A2($elm_explorations$webgl$WebGL$indexedTriangles,triangleShadowVertices,triangleShadowFaces)),$ianmackenzie$elm_3d_scene$Scene3d$UnoptimizedShaders$triangleShadowVertex={src:"\n        precision highp float;\n        \n        attribute highp vec2 triangleShadowVertex;\n        \n        uniform highp vec4 modelScale;\n        uniform highp mat4 modelMatrix;\n        uniform highp mat4 viewMatrix;\n        uniform highp mat4 projectionMatrix;\n        uniform highp mat4 sceneProperties;\n        uniform highp mat4 shadowLight;\n        uniform highp mat4 triangleVertexPositions;\n        \n        const lowp float kDirectionalLight = 1.0;\n        const lowp float kPointLight = 2.0;\n        \n        void getTriangleVertex(int triangleVertexIndex, mat4 triangleVertexPositions, out vec3 position, out vec3 normal) {\n            vec3 p1 = triangleVertexPositions[0].xyz;\n            vec3 p2 = triangleVertexPositions[1].xyz;\n            vec3 p3 = triangleVertexPositions[2].xyz;\n            normal = normalize(cross(p2 - p1, p3 - p2));\n            float t1 = float(triangleVertexIndex == 0);\n            float t2 = float(triangleVertexIndex == 1);\n            float t3 = float(triangleVertexIndex == 2);\n            position = t1 * p1 + t2 * p2 + t3 * p3;\n        }\n        \n        vec4 getWorldPosition(vec3 modelPosition, vec4 modelScale, mat4 modelMatrix) {\n            vec4 scaledPosition = vec4(modelScale.xyz * modelPosition, 1.0);\n            return modelMatrix * scaledPosition;\n        }\n        \n        vec3 safeNormalize(vec3 vector) {\n            if (vector == vec3(0.0, 0.0, 0.0)) {\n                return vector;\n            } else {\n                return normalize(vector);\n            }\n        }\n        \n        vec3 getWorldNormal(vec3 modelNormal, vec4 modelScale, mat4 modelMatrix) {\n            vec3 normalScale = vec3(modelScale.w / modelScale.x, modelScale.w / modelScale.y, modelScale.w / modelScale.z);\n            return (modelMatrix * vec4(safeNormalize(normalScale * modelNormal), 0.0)).xyz;\n        }\n        \n        vec3 getDirectionToLight(vec3 surfacePosition, vec4 xyz_type, vec4 rgb_parameter) {\n            float lightType = xyz_type.w;\n            if (lightType == kDirectionalLight) {\n                return xyz_type.xyz;\n            } else if (lightType == kPointLight) {\n                vec3 lightPosition = xyz_type.xyz;\n                return normalize(lightPosition - surfacePosition);\n            } else {\n                return vec3(0.0, 0.0, 0.0);\n            }\n        }\n        \n        vec4 shadowVertexPosition(vec3 position, vec3 normal, mat4 shadowLight, vec4 modelScale, mat4 modelMatrix, mat4 viewMatrix, mat4 projectionMatrix, mat4 sceneProperties) {\n            vec4 worldPosition = getWorldPosition(position, modelScale, modelMatrix);\n            vec3 worldNormal = getWorldNormal(normal, vec4(modelScale.xyz, 1.0), modelMatrix);\n            vec4 xyz_type = shadowLight[0];\n            vec4 rgb_parameter = shadowLight[1];\n            vec3 directionToLight = getDirectionToLight(worldPosition.xyz, xyz_type, rgb_parameter);\n            vec3 offset = vec3(0.0, 0.0, 0.0);\n            float sceneDiameter = sceneProperties[3][1];\n            if (dot(directionToLight, worldNormal) <= 0.0) {\n                offset = -sceneDiameter * directionToLight;\n            } else {\n                offset = -0.001 * sceneDiameter * directionToLight;\n            }\n            vec4 offsetPosition = worldPosition + vec4(offset, 0.0);\n            return projectionMatrix * (viewMatrix * offsetPosition);\n        }\n        \n        void main () {\n            vec3 position = vec3(0.0, 0.0, 0.0);\n            vec3 normal = vec3(0.0, 0.0, 0.0);\n            getTriangleVertex(int(triangleShadowVertex.x), triangleVertexPositions, position, normal);\n            normal *= triangleShadowVertex.y;\n            gl_Position = shadowVertexPosition(\n                position,\n                normal,\n                shadowLight,\n                modelScale,\n                modelMatrix,\n                viewMatrix,\n                projectionMatrix,\n                sceneProperties\n            );\n        }\n    ",attributes:{triangleShadowVertex:"triangleShadowVertex"},uniforms:{modelMatrix:"modelMatrix",modelScale:"modelScale",projectionMatrix:"projectionMatrix",sceneProperties:"sceneProperties",shadowLight:"shadowLight",triangleVertexPositions:"triangleVertexPositions",viewMatrix:"viewMatrix"}},$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangle=F4(function(renderObject,_v0,meshEntity,givenTriangle){meshEntity=A2($ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleMesh,meshEntity,givenTriangle),_v0={$:"#2",a:renderObject,b:_v0};return _v0.a?_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_List_fromArray([meshEntity,$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadow(givenTriangle)])):meshEntity:_v0.b?$ianmackenzie$elm_3d_scene$Scene3d$Entity$triangleShadow(givenTriangle):$ianmackenzie$elm_3d_scene$Scene3d$Entity$empty}),$ianmackenzie$elm_3d_scene$Scene3d$facet=F2(function(givenMaterial,givenTriangle){return A4($ianmackenzie$elm_3d_scene$Scene3d$Entity$triangle,!0,!1,givenMaterial,givenTriangle)}),$ianmackenzie$elm_geometry$Triangle3d$from=F3(function(p1,p2,p3){return{$:"Triangle3d",a:{$:"#3",a:p1,b:p2,c:p3}}}),$ianmackenzie$elm_geometry$Geometry$Types$EmptyDelaunayTriangulation2d={$:"EmptyDelaunayTriangulation2d"},$ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace=F4(function(a,b,c,d){return{$:"OneVertexFace",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_geometry$Geometry$Types$ThreeVertexFace=F4(function(a,b,c,d){return{$:"ThreeVertexFace",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_geometry$Geometry$Types$TwoVertexFace=F4(function(a,b,c,d){return{$:"TwoVertexFace",a:a,b:b,c:c,d:d}}),$ianmackenzie$elm_geometry$Vector2d$from=F2(function(p1,p2){p1=p1.a,p2=p2.a;return{$:"Vector2d",a:{x:p2.x-p1.x,y:p2.y-p1.y}}}),$ianmackenzie$elm_geometry$Direction2d$from=F2(function(firstPoint,secondPoint){return $ianmackenzie$elm_geometry$Vector2d$direction(A2($ianmackenzie$elm_geometry$Vector2d$from,firstPoint,secondPoint))}),$ianmackenzie$elm_geometry$Point2d$circumenterHelp=F6(function(scale,cy,cx,a,by,bx){var p1=scale.a,ax=cy.a,ay=cx.a,scale=by*bx;if(scale){cy=p1.y-ay.y,cx=p1.x-ay.x,by=ay.y-ax.y,bx=ay.x-ax.x,ay=(bx*cy-by*cx)/scale;if(ay){scale=(bx*cx+by*cy)/scale/(2*ay),ay=ax.y-p1.y,ax=ax.x-p1.x;return $elm$core$Maybe$Just({$:"Point2d",a:{x:p1.x+.5*ax+scale*ay,y:p1.y+.5*ay-scale*ax}})}return $elm$core$Maybe$Nothing}return $elm$core$Maybe$Nothing}),$ianmackenzie$elm_geometry$Point2d$distanceFrom=F2(function(scaledX,scaledY){var largestComponent=scaledX.a,scaledX=scaledY.a,scaledY=scaledX.y-largestComponent.y,scaledX=scaledX.x-largestComponent.x,largestComponent=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX),$elm$core$Basics$abs(scaledY));if(largestComponent){scaledY=scaledY/largestComponent,scaledX=scaledX/largestComponent;return{$:"Quantity",a:$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY)*largestComponent}}return $ianmackenzie$elm_units$Quantity$zero}),$ianmackenzie$elm_geometry$Point2d$circumcenter=F3(function(p1,p2,p3){var c=A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p3,p1).a,b=A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p2,p3).a,a=A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p1,p2).a;return-1<_Utils_cmp(a,b)?-1<_Utils_cmp(a,c)?A6($ianmackenzie$elm_geometry$Point2d$circumenterHelp,p1,p2,p3,a,b,c):A6($ianmackenzie$elm_geometry$Point2d$circumenterHelp,p3,p1,p2,c,a,b):-1<_Utils_cmp(b,c)?A6($ianmackenzie$elm_geometry$Point2d$circumenterHelp,p2,p3,p1,b,c,a):A6($ianmackenzie$elm_geometry$Point2d$circumenterHelp,p3,p1,p2,c,a,b)}),$ianmackenzie$elm_geometry$Circle2d$withRadius=F2(function(givenRadius,givenCenterPoint){return{$:"Circle2d",a:{centerPoint:givenCenterPoint,radius:$ianmackenzie$elm_units$Quantity$abs(givenRadius)}}}),$ianmackenzie$elm_geometry$Circle2d$throughPoints=F3(function(p1,p2,p3){return A2($elm$core$Maybe$map,function(p0){return A2($ianmackenzie$elm_geometry$Circle2d$withRadius,A2($ianmackenzie$elm_units$Quantity$multiplyBy,1/3,A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p0,p3),A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p0,p2),A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,p0,p1)))),p0)},A3($ianmackenzie$elm_geometry$Point2d$circumcenter,p1,p2,p3))}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addNewFace=F4(function(newVertex,ignoredEdgeKey,edge,currentFaces){switch(edge.$){case"InnerEdge":var firstDelaunayVertex=edge.a,secondDelaunayVertex=edge.b,maybeCircumcircle=A3($ianmackenzie$elm_geometry$Circle2d$throughPoints,newVertex.position,firstDelaunayVertex.position,secondDelaunayVertex.position);return"Just"!==maybeCircumcircle.$?currentFaces:A2($elm$core$List$cons,A4($ianmackenzie$elm_geometry$Geometry$Types$ThreeVertexFace,newVertex,firstDelaunayVertex,secondDelaunayVertex,maybeCircumcircle.a),currentFaces);case"InnerToOuterEdge":var outerIndex=edge.b,_v3=A2($ianmackenzie$elm_geometry$Direction2d$from,newVertex.position,(vertex=edge.a).position);return"Just"!==_v3.$?currentFaces:A2($elm$core$List$cons,A4($ianmackenzie$elm_geometry$Geometry$Types$TwoVertexFace,newVertex,vertex,outerIndex,_v3.a),currentFaces);case"OuterToInnerEdge":var vertex,outerIndex=edge.a,_v3=A2($ianmackenzie$elm_geometry$Direction2d$from,(vertex=edge.b).position,newVertex.position);return"Just"!==_v3.$?currentFaces:A2($elm$core$List$cons,A4($ianmackenzie$elm_geometry$Geometry$Types$TwoVertexFace,vertex,newVertex,outerIndex,_v3.a),currentFaces);default:return A2($elm$core$List$cons,A4($ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace,newVertex,edge.b,edge.c,edge.a),currentFaces)}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge=F2(function(a,b){return{$:"InnerEdge",a:a,b:b}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerToOuterEdge=F2(function(a,b){return{$:"InnerToOuterEdge",a:a,b:b}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterEdge=F3(function(a,b,c){return{$:"OuterEdge",a:a,b:b,c:c}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterToInnerEdge=F2(function(a,b){return{$:"OuterToInnerEdge",a:a,b:b}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge=F2(function(newEdge,maybeEdge){if("Just"!==maybeEdge.$)return $elm$core$Maybe$Just(newEdge);return $elm$core$Maybe$Nothing}),$ianmackenzie$elm_geometry$Circle2d$contains=F2(function(point,circle){return A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,circle.a.radius,A2($ianmackenzie$elm_geometry$Point2d$distanceFrom,function(_v0){return _v0.a.centerPoint}(circle),point))}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey=F2(function(x,y){y+=3,x+=3;return-1<_Utils_cmp(x,y)?x*x+y:y*y+x}),$ianmackenzie$elm_geometry$Quantity$Extra$aXbY=F4(function(a,_v0,b,_v1){return{$:"Quantity",a:a*_v0.a+b*_v1.a}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$signedDistance=F3(function(dy,x,dx){var y0=$ianmackenzie$elm_geometry$Point2d$yCoordinate(x),y=$ianmackenzie$elm_geometry$Point2d$yCoordinate(dy),x0=$ianmackenzie$elm_geometry$Point2d$xCoordinate(x),x=$ianmackenzie$elm_geometry$Point2d$xCoordinate(dy),dy=$ianmackenzie$elm_geometry$Direction2d$yComponent(dx),dx=$ianmackenzie$elm_geometry$Direction2d$xComponent(dx);return A4($ianmackenzie$elm_geometry$Quantity$Extra$aXbY,dx,A2($ianmackenzie$elm_units$Quantity$minus,y0,y),-dy,A2($ianmackenzie$elm_units$Quantity$minus,x0,x))}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$processFaces=F4(function(facesToProcess,newVertex,retainedFaces,edgesByKey){processFaces:for(;;){if(!facesToProcess.b)return{$:"#2",a:retainedFaces,b:edgesByKey};var firstFace=facesToProcess.a,remainingFaces=facesToProcess.b;switch(firstFace.$){case"ThreeVertexFace":var firstVertex=firstFace.a,secondVertex=firstFace.b,secondOuterIndex=firstFace.c;if(A2($ianmackenzie$elm_geometry$Circle2d$contains,newVertex.position,firstFace.d)){var firstOuterIndex=secondOuterIndex.index,key2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,secondIndex=secondVertex.index,firstOuterIndex),key1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,firstIndex=firstVertex.index,secondIndex),key3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,firstOuterIndex,firstIndex),edge3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge,secondOuterIndex,firstVertex),edge2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge,secondVertex,secondOuterIndex),edge1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge,firstVertex,secondVertex);facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=retainedFaces,edgesByKey=A3($elm$core$Dict$update,key3,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge3),A3($elm$core$Dict$update,key2,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge2),A3($elm$core$Dict$update,key1,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge1),edgesByKey)));continue processFaces}facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=A2($elm$core$List$cons,firstFace,retainedFaces),edgesByKey=edgesByKey;continue processFaces;case"TwoVertexFace":var secondVertex=firstFace.b,vertexIndex=firstFace.c;if(A2($ianmackenzie$elm_units$Quantity$greaterThan,$ianmackenzie$elm_units$Quantity$zero,A3($ianmackenzie$elm_geometry$DelaunayTriangulation2d$signedDistance,newVertex.position,(firstVertex=firstFace.a).position,edgeDirection=firstFace.d))){var secondIndex,firstIndex,key2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,secondIndex=secondVertex.index,vertexIndex),key1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,firstIndex=firstVertex.index,secondIndex),key3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,vertexIndex,firstIndex),edge3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterToInnerEdge,vertexIndex,firstVertex),edge2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerToOuterEdge,secondVertex,vertexIndex),edge1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerEdge,firstVertex,secondVertex);facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=retainedFaces,edgesByKey=A3($elm$core$Dict$update,key3,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge3),A3($elm$core$Dict$update,key2,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge2),A3($elm$core$Dict$update,key1,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge1),edgesByKey)));continue processFaces}facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=A2($elm$core$List$cons,firstFace,retainedFaces),edgesByKey=edgesByKey;continue processFaces;default:var edgeDirection,delaunayVertex=firstFace.a,firstOuterIndex=firstFace.b,secondOuterIndex=firstFace.c;if(A2($ianmackenzie$elm_units$Quantity$lessThan,$ianmackenzie$elm_units$Quantity$zero,A3($ianmackenzie$elm_geometry$DelaunayTriangulation2d$signedDistance,newVertex.position,delaunayVertex.position,edgeDirection=firstFace.d))){vertexIndex=delaunayVertex.index,key3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,secondOuterIndex,vertexIndex),key2=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,firstOuterIndex,secondOuterIndex),key1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$edgeKey,vertexIndex,firstOuterIndex),edge3=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterToInnerEdge,secondOuterIndex,delaunayVertex),edge2=A3($ianmackenzie$elm_geometry$DelaunayTriangulation2d$OuterEdge,edgeDirection,firstOuterIndex,secondOuterIndex),edge1=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$InnerToOuterEdge,delaunayVertex,firstOuterIndex);facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=retainedFaces,edgesByKey=A3($elm$core$Dict$update,key3,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge3),A3($elm$core$Dict$update,key2,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge2),A3($elm$core$Dict$update,key1,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addEdge(edge1),edgesByKey)));continue processFaces}facesToProcess=remainingFaces,newVertex=newVertex,retainedFaces=A2($elm$core$List$cons,firstFace,retainedFaces),edgesByKey=edgesByKey;continue processFaces}}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addVertex=F2(function(vertex,retainedFaces){var starEdges=A4($ianmackenzie$elm_geometry$DelaunayTriangulation2d$processFaces,retainedFaces,vertex,_List_Nil,$elm$core$Dict$empty),retainedFaces=starEdges.a,starEdges=starEdges.b;return A3($elm$core$Dict$foldl,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addNewFace(vertex),retainedFaces,starEdges)}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$CoincidentVertices=F2(function(a,b){return{$:"CoincidentVertices",a:a,b:b}}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$checkDistinctHelp=F2(function(previous,sortedDelaunayVertices){for(;;){if(!sortedDelaunayVertices.b)return $elm$core$Result$Ok(_Utils_Tuple0);var first=sortedDelaunayVertices.a,rest=sortedDelaunayVertices.b;if(_Utils_eq(previous.position,first.position))return $elm$core$Result$Err(A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$CoincidentVertices,previous.vertex,first.vertex));previous=first,sortedDelaunayVertices=rest}}),$elm$core$Elm$JsArray$foldl=_JsArray_foldl,$elm$core$Array$foldl=F3(function(func,baseCase,tail){var tree=tail.c,tail=tail.d,helper=F2(function(node,acc){return A3($elm$core$Elm$JsArray$foldl,"SubTree"!==node.$?func:helper,acc,node.a)});return A3($elm$core$Elm$JsArray$foldl,func,A3($elm$core$Elm$JsArray$foldl,helper,baseCase,tree),tail)}),$ianmackenzie$elm_geometry$Point2d$lexicographicComparison=F2(function(p1,p2){p1=p1.a,p2=p2.a;return _Utils_eq(p1.x,p2.x)?A2($elm$core$Basics$compare,p1.y,p2.y):A2($elm$core$Basics$compare,p1.x,p2.x)}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$lexicographicComparison=F2(function(firstDelaunayVertex,secondDelaunayVertex){return A2($ianmackenzie$elm_geometry$Point2d$lexicographicComparison,firstDelaunayVertex.position,secondDelaunayVertex.position)}),$ianmackenzie$elm_geometry$DelaunayTriangulation2d$prependDelaunayVertex=F3(function(getPosition,newDelaunayVertex,accumulated){newDelaunayVertex={index:accumulated.b?accumulated.a.index+1:0,position:getPosition(newDelaunayVertex),vertex:newDelaunayVertex};return A2($elm$core$List$cons,newDelaunayVertex,accumulated)}),$elm$core$List$sortWith=_List_sortWith,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectDelaunayVertices=F2(function(_v0,sortedDelaunayVertices){_v0=A3($elm$core$Array$foldl,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$prependDelaunayVertex(_v0),_List_Nil,sortedDelaunayVertices),sortedDelaunayVertices=A2($elm$core$List$sortWith,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$lexicographicComparison,_v0),_v0=function(sortedDelaunayVertices){return sortedDelaunayVertices.b?A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$checkDistinctHelp,sortedDelaunayVertices.a,sortedDelaunayVertices.b):$elm$core$Result$Ok(_Utils_Tuple0)}(sortedDelaunayVertices);return"Ok"===_v0.$?$elm$core$Result$Ok(sortedDelaunayVertices):$elm$core$Result$Err(_v0.a)}),$ianmackenzie$elm_geometry$Direction2d$negativeX={$:"Direction2d",a:{x:-1,y:0}},$ianmackenzie$elm_geometry$Direction2d$negativeY={$:"Direction2d",a:{x:0,y:-1}},$ianmackenzie$elm_geometry$Direction2d$positiveY={$:"Direction2d",a:{x:0,y:1}},$ianmackenzie$elm_geometry$DelaunayTriangulation2d$fromVerticesBy=F2(function(remainingDelaunayVertices,givenVertices){var initialFaces=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectDelaunayVertices,remainingDelaunayVertices,givenVertices);if("Ok"!==initialFaces.$)return $elm$core$Result$Err(initialFaces.a);var delaunayVertices=initialFaces.a;if(delaunayVertices.b){remainingDelaunayVertices=delaunayVertices.b,initialFaces=_List_fromArray([A4($ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace,initialFaces=delaunayVertices.a,-1,-2,$ianmackenzie$elm_geometry$Direction2d$positiveY),A4($ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace,initialFaces,-2,-3,$ianmackenzie$elm_geometry$Direction2d$negativeX),A4($ianmackenzie$elm_geometry$Geometry$Types$OneVertexFace,initialFaces,-3,-1,$ianmackenzie$elm_geometry$Direction2d$negativeY)]);return $elm$core$Result$Ok({$:"DelaunayTriangulation2d",a:{delaunayVertices:delaunayVertices,faces:A3($elm$core$List$foldl,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$addVertex,initialFaces,remainingDelaunayVertices),vertices:givenVertices}})}return $elm$core$Result$Ok($ianmackenzie$elm_geometry$Geometry$Types$EmptyDelaunayTriangulation2d)}),$ianmackenzie$elm_geometry$Vector3d$scaleBy=F2(function(k,v){v=v.a;return{$:"Vector3d",a:{x:k*v.x,y:k*v.y,z:k*v.z}}}),$ianmackenzie$elm_geometry$LineSegment3d$interpolate=F2(function(_v0,t){_v0=$ianmackenzie$elm_geometry$LineSegment3d$endpoints(_v0);return A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,_v0.a,_v0.b,t)}),$ianmackenzie$elm_geometry$Point3d$projectInto=F2(function(deltaX,deltaY){var i=deltaX.a,deltaZ=deltaY.a,j=i.originPoint.a,deltaX=deltaZ.x-j.x,deltaY=deltaZ.y-j.y,deltaZ=deltaZ.z-j.z,j=i.yDirection.a,i=i.xDirection.a;return{$:"Point2d",a:{x:deltaX*i.x+deltaY*i.y+deltaZ*i.z,y:deltaX*j.x+deltaY*j.y+deltaZ*j.z}}}),$author$project$Terrain$makeTerrain=F2(function(minY,ne){var maxY=function(rightHalfway){var roadAsSegment=A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,-.3),{$:"LineSegment3d",a:{$:"#2",a:rightHalfway.startsAt.location,b:rightHalfway.endsAt.location}}),leftHalfway={$:"#2",a:3*$elm$core$Basics$cos(rightHalfway.bearing),b:3*$elm$core$Basics$sin(rightHalfway.bearing)},rightKerb=A3($ianmackenzie$elm_geometry$Vector3d$meters,-1*leftHalfway.a,leftHalfway.b,0),leftKerb=$ianmackenzie$elm_geometry$Vector3d$reverse(rightKerb),rightHalfway={$:"#2",a:$ianmackenzie$elm_geometry$Vector3d$half(rightKerb),b:$ianmackenzie$elm_geometry$Vector3d$half(leftKerb)},leftHalfway=rightHalfway.b,rightHalfway={$:"#2",a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightHalfway.a,roadAsSegment),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftHalfway,roadAsSegment)},leftHalfway=rightHalfway.a,rightHalfway=rightHalfway.b,rightKerb={$:"#2",a:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,rightKerb,roadAsSegment),b:A2($ianmackenzie$elm_geometry$LineSegment3d$translateBy,leftKerb,roadAsSegment)},leftKerb=rightKerb.a,rightKerb=rightKerb.b;return _List_fromArray([A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,roadAsSegment,.1),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,roadAsSegment,.9),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,leftKerb,0),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,leftKerb,1),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,leftHalfway,.1),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,leftHalfway,.9),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,rightHalfway,.1),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,rightHalfway,.9),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,rightKerb,0),A2($ianmackenzie$elm_geometry$LineSegment3d$interpolate,rightKerb,1)])},roadVertices=_Utils_ap(A2($elm$core$List$concatMap,maxY,A2($elm$core$List$take,1,ne)),A2($elm$core$List$concatMap,maxY,ne)),maybeTriangulation=A2($ianmackenzie$elm_geometry$BoundingBox3d$expandBy,{$:"Quantity",a:1e3},minY.nodeBox),se={midX:$ianmackenzie$elm_geometry$BoundingBox3d$midX(maybeTriangulation),midY:$ianmackenzie$elm_geometry$BoundingBox3d$midY(maybeTriangulation),midZ:$ianmackenzie$elm_geometry$BoundingBox3d$midZ(maybeTriangulation)},midX=se.midX,midY=se.midY,_v3=se.midZ,nw=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(maybeTriangulation),minX=nw.minX,ne=nw.maxX,minY=nw.minY,maxY=nw.maxY,se={ne:A3($ianmackenzie$elm_geometry$Point3d$xyz,ne,maxY,_v3),nw:A3($ianmackenzie$elm_geometry$Point3d$xyz,minX,maxY,_v3),se:A3($ianmackenzie$elm_geometry$Point3d$xyz,ne,minY,_v3),sw:A3($ianmackenzie$elm_geometry$Point3d$xyz,minX,minY,_v3)},maybeTriangulation=se.sw,nw=se.nw,ne=se.ne,se=se.se,_v3={e:A3($ianmackenzie$elm_geometry$Point3d$xyz,maxY,midY,_v3),n:A3($ianmackenzie$elm_geometry$Point3d$xyz,midX,maxY,_v3),s:A3($ianmackenzie$elm_geometry$Point3d$xyz,midX,minY,_v3),w:A3($ianmackenzie$elm_geometry$Point3d$xyz,minX,midY,_v3)},maybeTriangulation=_List_fromArray([_v3.n,_v3.e,_v3.s,_v3.w,ne,nw,se,maybeTriangulation]),maybeTriangulation=(maybeTriangulation=$elm$core$Dict$fromList(A2($elm$core$List$map,$author$project$Terrain$pointToComparable,_Utils_ap(roadVertices,maybeTriangulation))),A3($elm$core$Dict$foldr,F3(function(key,value,valueList){return A2($elm$core$List$cons,value,valueList)}),_List_Nil,maybeTriangulation)),maybeTriangulation=A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$fromVerticesBy,$ianmackenzie$elm_geometry$Point3d$projectInto($ianmackenzie$elm_geometry$SketchPlane3d$xy),$elm$core$Array$fromList(maybeTriangulation));return"Err"===maybeTriangulation.$?_List_Nil:A2($elm$core$List$map,function(v2){var v3=v2.vertices,v1=v3.a,v2=v3.b,v3=v3.c;return A2($ianmackenzie$elm_3d_scene$Scene3d$facet,$ianmackenzie$elm_3d_scene$Scene3d$Material$matte($avh4$elm_color$Color$darkGreen),A3($ianmackenzie$elm_geometry$Triangle3d$from,v1,v2,v3))},A2($ianmackenzie$elm_geometry$DelaunayTriangulation2d$collectFaces,$ianmackenzie$elm_geometry$DelaunayTriangulation2d$getFace,maybeTriangulation.a))}),$ianmackenzie$elm_geometry$Point3d$distanceFromAxis=F2(function(scaledX,scaledY){var scaledZ=scaledX.a,deltaZ=scaledY.a,largestComponent=scaledZ.originPoint.a,scaledX=deltaZ.x-largestComponent.x,scaledY=deltaZ.y-largestComponent.y,deltaZ=deltaZ.z-largestComponent.z,largestComponent=scaledZ.direction.a,scaledZ=scaledX*largestComponent.x+scaledY*largestComponent.y+deltaZ*largestComponent.z,scaledX=scaledX-scaledZ*largestComponent.x,scaledY=scaledY-scaledZ*largestComponent.y,scaledZ=deltaZ-scaledZ*largestComponent.z,largestComponent=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX),A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledY),$elm$core$Basics$abs(scaledZ)));if(largestComponent){scaledZ=scaledZ/largestComponent,scaledY=scaledY/largestComponent,scaledX=scaledX/largestComponent;return{$:"Quantity",a:$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY+scaledZ*scaledZ)*largestComponent}}return $ianmackenzie$elm_units$Quantity$zero}),$ianmackenzie$elm_geometry$Point2d$pixels=F2(function(x,y){return{$:"Point2d",a:{x:x,y:y}}}),$ianmackenzie$elm_units$Quantity$at=F2(function(_v0,_v1){return{$:"Quantity",a:_v0.a*_v1.a}}),$ianmackenzie$elm_units$Quantity$per=F2(function(_v0,_v1){return{$:"Quantity",a:_v1.a/_v0.a}}),$ianmackenzie$elm_geometry$Direction3d$placeIn=F2(function(k,j){var i=k.a,d=j.a,k=i.zDirection.a,j=i.yDirection.a,i=i.xDirection.a;return{$:"Direction3d",a:{x:i.x*d.x+j.x*d.y+k.x*d.z,y:i.y*d.x+j.y*d.y+k.y*d.z,z:i.z*d.x+j.z*d.y+k.z*d.z}}}),$ianmackenzie$elm_geometry$Point2d$xCoordinateIn=F2(function(p,p0){var d=p.a,p=p0.a,p0=d.originPoint.a,d=d.xDirection.a;return{$:"Quantity",a:(p.x-p0.x)*d.x+(p.y-p0.y)*d.y}}),$ianmackenzie$elm_geometry$Vector3d$xyz=F3(function(_v0,_v1,_v2){return{$:"Vector3d",a:{x:_v0.a,y:_v1.a,z:_v2.a}}}),$ianmackenzie$elm_geometry$Point3d$xyzIn=F4(function(z,p0,k,j){var i=z.a,x=p0.a,y=k.a,z=j.a,p0=i.originPoint.a,k=i.zDirection.a,j=i.yDirection.a,i=i.xDirection.a;return{$:"Point3d",a:{x:p0.x+x*i.x+y*j.x+z*k.x,y:p0.y+x*i.y+y*j.y+z*k.y,z:p0.z+x*i.z+y*j.z+z*k.z}}}),$ianmackenzie$elm_geometry$Point2d$yCoordinateIn=F2(function(p,p0){var d=p.a,p=p0.a,p0=d.originPoint.a,d=d.yDirection.a;return{$:"Quantity",a:(p.x-p0.x)*d.x+(p.y-p0.y)*d.y}}),$ianmackenzie$elm_3d_camera$Camera3d$ray=F3(function(direction,resolution,screenHeight){var camera=direction.a,screenY=A2($ianmackenzie$elm_geometry$Point2d$yCoordinateIn,$ianmackenzie$elm_geometry$Rectangle2d$axes(resolution),screenHeight),screenX=A2($ianmackenzie$elm_geometry$Point2d$xCoordinateIn,$ianmackenzie$elm_geometry$Rectangle2d$axes(resolution),screenHeight),viewpointFrame=camera.viewpoint.a,direction=function(_v0){return _v0.a.dimensions}(resolution),screenHeight=direction.b,resolution=camera.projection;if("Perspective"===resolution.$){direction=$ianmackenzie$elm_units$Quantity$negate(A2($ianmackenzie$elm_units$Quantity$divideBy,resolution.a,A2($ianmackenzie$elm_units$Quantity$multiplyBy,.5,screenHeight))),direction=A2($ianmackenzie$elm_geometry$Direction3d$placeIn,viewpointFrame,A2($elm$core$Maybe$withDefault,$ianmackenzie$elm_geometry$Direction3d$negativeZ,$ianmackenzie$elm_geometry$Vector3d$direction(A3($ianmackenzie$elm_geometry$Vector3d$xyz,screenX,screenY,direction))));return A2($ianmackenzie$elm_geometry$Axis3d$through,$ianmackenzie$elm_3d_camera$Viewpoint3d$eyePoint(camera.viewpoint),direction)}resolution=A2($ianmackenzie$elm_units$Quantity$per,screenHeight,resolution.a);return A2($ianmackenzie$elm_geometry$Axis3d$through,A4($ianmackenzie$elm_geometry$Point3d$xyzIn,viewpointFrame,A2($ianmackenzie$elm_units$Quantity$at,resolution,screenX),A2($ianmackenzie$elm_units$Quantity$at,resolution,screenY),$ianmackenzie$elm_units$Quantity$zero),$ianmackenzie$elm_3d_camera$Viewpoint3d$viewDirection(camera.viewpoint))}),$ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo=F2(function(_v0,_v1){return-1<_Utils_cmp(_v1.a,_v0.a)}),$ianmackenzie$elm_units$Quantity$midpoint=F2(function(x,_v1){x=x.a;return{$:"Quantity",a:x+.5*(_v1.a-x)}}),$ianmackenzie$elm_geometry$Direction2d$positiveX={$:"Direction2d",a:{x:1,y:0}},$ianmackenzie$elm_geometry$Point2d$xy=F2(function(_v0,_v1){return{$:"Point2d",a:{x:_v0.a,y:_v1.a}}}),$ianmackenzie$elm_geometry$Rectangle2d$axisAligned=F4(function(x1,y1,x2,y2){var computedYDirection=A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,y1,y2)?$ianmackenzie$elm_geometry$Direction2d$positiveY:$ianmackenzie$elm_geometry$Direction2d$negativeY,computedXDirection=A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,x1,x2)?$ianmackenzie$elm_geometry$Direction2d$positiveX:$ianmackenzie$elm_geometry$Direction2d$negativeX,computedDimensions={$:"#2",a:$ianmackenzie$elm_units$Quantity$abs(A2($ianmackenzie$elm_units$Quantity$minus,x1,x2)),b:$ianmackenzie$elm_units$Quantity$abs(A2($ianmackenzie$elm_units$Quantity$minus,y1,y2))};return{$:"Rectangle2d",a:{axes:{$:"Frame2d",a:{originPoint:A2($ianmackenzie$elm_geometry$Point2d$xy,A2($ianmackenzie$elm_units$Quantity$midpoint,x1,x2),A2($ianmackenzie$elm_units$Quantity$midpoint,y1,y2)),xDirection:computedXDirection,yDirection:computedYDirection}},dimensions:computedDimensions}}}),$author$project$Main$detectHit=F2(function(model,_v1){var screenRectangle=function(_v0){return A4($ianmackenzie$elm_geometry$Rectangle2d$axisAligned,_v0.x1,_v0.y1,_v0.x2,_v0.y2)}({x1:{$:"Quantity",a:0},x2:{$:"Quantity",a:860},y1:{$:"Quantity",a:580},y2:{$:"Quantity",a:0}}),_v0=_Utils_ap(A2($elm$core$List$map,function($){return $.profileStartsAt},A2($elm$core$List$take,1,model.roads)),A2($elm$core$List$map,function($){return $.profileEndsAt},model.roads)),_v2="ProfileView"===model.viewingMode.$?_v0:model.nodes,_v0=_v1.offsetPos,_v1=model.currentSceneCamera;if("Just"!==_v1.$)return model;var ray=A3($ianmackenzie$elm_3d_camera$Camera3d$ray,_v1.a,screenRectangle,A2($ianmackenzie$elm_geometry$Point2d$pixels,_v0.a,_v0.b)),_v2=$elm$core$List$head(A2($elm$core$List$sortBy,$elm$core$Tuple$second,A2($elm$core$List$map,function(node){return{$:"#2",a:node.trackPoint.idx,b:$ianmackenzie$elm_units$Length$inMeters(A2($ianmackenzie$elm_geometry$Point3d$distanceFromAxis,ray,node.location))}},_v2)));return"Just"!==_v2.$?model:_Utils_update(model,{currentNode:_v2.a.a})}),$elm$file$File$Select$file=F2(function(mimes,toMsg){return A2($elm$core$Task$perform,toMsg,function(mimes){return{$:2,b:function(callback){(_File_node=document.createElement("input")).type="file",_File_node.accept=A2($elm$core$String$join,",",mimes),_File_node.addEventListener("change",function(event){callback({$:0,a:event.target.files[0]})}),_File_click(_File_node)},c:null}}(mimes))}),$author$project$Main$insertTrackPoint=F2(function(commonAmountToSteal,model){var undoMessage="Insert at "+$elm$core$String$fromInt(commonAmountToSteal),precedingTPs={$:"#2",a:A2($elm$core$Array$get,commonAmountToSteal-1,model.roadArray),b:A2($elm$core$Array$get,commonAmountToSteal,model.roadArray)};if("Just"!==precedingTPs.a.$||"Just"!==precedingTPs.b.$)return model;var before=precedingTPs.a.a,after=precedingTPs.b.a,remainingTPs=A2($elm$core$List$drop,commonAmountToSteal+1,model.trackPoints),precedingTPs=A2($elm$core$List$take,commonAmountToSteal,model.trackPoints),commonAmountToSteal=A2($elm$core$Basics$min,4,after.length/2),commonAmountToSteal=A2($elm$core$Basics$min,A2($elm$core$Basics$min,4,before.length/2),commonAmountToSteal),newTPs=_Utils_ap(precedingTPs,_Utils_ap(_List_fromArray([A3($author$project$TrackPoint$interpolateSegment,commonAmountToSteal/before.length,before.endsAt.trackPoint,before.startsAt.trackPoint),A3($author$project$TrackPoint$interpolateSegment,commonAmountToSteal/after.length,after.startsAt.trackPoint,after.endsAt.trackPoint)]),remainingTPs));return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{currentNode:model.currentNode+1,trackPoints:$author$project$TrackPoint$reindexTrackpoints(newTPs)})}),$elm$json$Json$Decode$decodeValue=_Json_run,$author$project$TrackPoint$findTrackPoint=F3(function(lon,lat,tps){return $elm$core$List$head(A2($elm$core$List$filter,function(tp){return _Utils_cmp($elm$core$Basics$abs(tp.lon-lon),2/78846.81)<0&&_Utils_cmp($elm$core$Basics$abs(tp.lat-lat),2/78846.81)<0},tps))}),$elm$json$Json$Decode$float=$elm$json$Json$Decode$map3,$author$project$Main$draggedOnMap=F2(function(endLon,model){var newModel=F3(function(tp,endLon,endLat){return _Utils_update(A2($author$project$Main$addToUndoStack,"Drag track point",model),{currentNode:tp.idx,trackPoints:_Utils_ap(A2($elm$core$List$take,tp.idx,model.trackPoints),_Utils_ap(_List_fromArray([_Utils_update(tp,{lat:endLat,lon:endLon})]),A2($elm$core$List$drop,tp.idx+1,model.trackPoints)))})}),maybetp=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$at,_List_fromArray(["end","lng"]),$elm$json$Json$Decode$float),endLon),lon1=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$at,_List_fromArray(["start","lng"]),$elm$json$Json$Decode$float),endLon),endLat=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$at,_List_fromArray(["end","lat"]),$elm$json$Json$Decode$float),endLon),endLon={$:"#2",a:{$:"#2",a:lon1,b:A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$at,_List_fromArray(["start","lat"]),$elm$json$Json$Decode$float),endLon)},b:{$:"#2",a:maybetp,b:endLat}};if("Ok"!==endLon.a.a.$||"Ok"!==endLon.a.b.$||"Ok"!==endLon.b.a.$||"Ok"!==endLon.b.b.$)return model;maybetp=endLon.a,endLat=endLon.b,endLon=endLat.a.a,endLat=endLat.b.a,maybetp=A3($author$project$TrackPoint$findTrackPoint,maybetp.a.a,maybetp.b.a,model.trackPoints);return"Just"!==maybetp.$?model:A3(newModel,maybetp.a,endLon,endLat)}),$author$project$Geometry101$distance=F2(function(p1,p2){return $elm$core$Basics$sqrt(A2($elm$core$Basics$pow,p1.x-p2.x,2)+A2($elm$core$Basics$pow,p1.y-p2.y,2))}),$author$project$Main$makeNearestNodeCurrent=F3(function(lon,lat,model){var n=A2($elm$core$List$sortBy,function(point){return A2($author$project$Geometry101$distance,{x:point.startsAt.trackPoint.lon,y:point.startsAt.trackPoint.lat},{x:lon,y:lat})},model.roads);if(n.b){n=n.a;return _Utils_update(model,{cameraFocusProfileNode:n.index,currentNode:n.index})}return model}),$author$project$MapController$msgDecoder=A2($elm$json$Json$Decode$field,"msg",$elm$json$Json$Decode$string),$author$project$Geometry101$interpolateScalar=F3(function(fraction,a,b){return b*fraction+a*(1-fraction)}),$author$project$Geometry101$interpolateLine=F3(function(fraction,p1,p2){return{x:A3($author$project$Geometry101$interpolateScalar,fraction,p1.x,p2.x),y:A3($author$project$Geometry101$interpolateScalar,fraction,p1.y,p2.y)}}),$author$project$Geometry101$lineEquationFromTwoPoints=F2(function(p1,p2){return{a:p1.y-p2.y,b:p2.x-p1.x,c:p1.x*p2.y-p2.x*p1.y}}),$author$project$Geometry101$matrixMultiplyColumn=F2(function(m,c){return{b:m.bl*c.t+m.br*c.b,t:m.tl*c.t+m.tr*c.b}}),$author$project$Geometry101$lineIntersection=F2(function(col,l2){var m,inv,inv=_Utils_cmp($elm$core$Basics$abs(inv=(m={bl:l2.a,br:l2.b,tl:col.a,tr:col.b}).tl*m.br-m.tr*m.bl),A2($elm$core$Basics$pow,10,-20))<0?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({bl:-1*m.bl/inv,br:m.tl/inv,tl:m.br/inv,tr:-1*m.tr/inv});if("Just"!==inv.$)return $elm$core$Maybe$Nothing;col=A2($author$project$Geometry101$matrixMultiplyColumn,inv.a,{b:-1*l2.c,t:-1*col.c});return $elm$core$Maybe$Just({x:col.t,y:col.b})}),$author$project$Geometry101$linePerpendicularTo=F2(function(line,p){return{a:line.b,b:-1*line.a,c:line.a*p.y-line.b*p.x}}),$author$project$Geometry101$pointAlongRoad=F2(function(road,distanceFromStart){return A3($author$project$Geometry101$interpolateLine,distanceFromStart/A2($author$project$Geometry101$distance,road.startAt,road.endsAt),road.startAt,road.endsAt)}),$author$project$BendSmoother$pointsToGeometry=F2(function(p1,p2){return{endsAt:p2,startAt:p1}}),$ianmackenzie$elm_geometry$Direction2d$angleFrom=F2(function(d1,d2){d1=d1.a,d2=d2.a;return{$:"Quantity",a:A2($elm$core$Basics$atan2,d1.x*d2.y-d1.y*d2.x,d1.x*d2.x+d1.y*d2.y)}}),$ianmackenzie$elm_geometry$Quantity$Extra$rTheta=F2(function(_v0,_v1){return{$:"Quantity",a:_v0.a*_v1.a}}),$ianmackenzie$elm_geometry$Direction2d$x=$ianmackenzie$elm_geometry$Direction2d$positiveX,$ianmackenzie$elm_geometry$Arc2d$sweptAround=F3(function(yDirection,givenSweptAngle,givenStartPoint){var computedRadius=A2($ianmackenzie$elm_geometry$Vector2d$from,givenStartPoint,yDirection),yDirection=$ianmackenzie$elm_geometry$Vector2d$direction(computedRadius);if("Just"!==yDirection.$)return{$:"Arc2d",a:{signedLength:$ianmackenzie$elm_units$Quantity$zero,startPoint:givenStartPoint,sweptAngle:givenSweptAngle,xDirection:$ianmackenzie$elm_geometry$Direction2d$x}};yDirection=yDirection.a,computedRadius=function(scaledY){var scaledX=scaledY.a,largestComponent=A2($elm$core$Basics$max,$elm$core$Basics$abs(scaledX.x),$elm$core$Basics$abs(scaledX.y));if(largestComponent){scaledY=scaledX.y/largestComponent,scaledX=scaledX.x/largestComponent;return{$:"Quantity",a:$elm$core$Basics$sqrt(scaledX*scaledX+scaledY*scaledY)*largestComponent}}return $ianmackenzie$elm_units$Quantity$zero}(computedRadius);return{$:"Arc2d",a:{signedLength:A2($ianmackenzie$elm_geometry$Quantity$Extra$rTheta,computedRadius,givenSweptAngle),startPoint:givenStartPoint,sweptAngle:givenSweptAngle,xDirection:function(d){d=d.a;return{$:"Direction2d",a:{x:d.y,y:-d.x}}}(yDirection)}}}),$ianmackenzie$elm_geometry$Arc2d$twoPi={$:"Quantity",a:6.283185307179586},$ianmackenzie$elm_geometry$Arc2d$throughPoints=F3(function(firstPoint,secondPoint,thirdPoint){return A2($elm$core$Maybe$andThen,function(computedCenterPoint){var thirdVector=A2($ianmackenzie$elm_geometry$Vector2d$from,computedCenterPoint,thirdPoint),secondVector=A2($ianmackenzie$elm_geometry$Vector2d$from,computedCenterPoint,secondPoint),firstVector=A2($ianmackenzie$elm_geometry$Vector2d$from,computedCenterPoint,firstPoint);return A4($elm$core$Maybe$map3,F3(function(firstDirection,partial,full){partial=A2($ianmackenzie$elm_geometry$Direction2d$angleFrom,firstDirection,partial),full=A2($ianmackenzie$elm_geometry$Direction2d$angleFrom,firstDirection,full);return A3($ianmackenzie$elm_geometry$Arc2d$sweptAround,computedCenterPoint,A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,$ianmackenzie$elm_units$Quantity$zero,partial)&&A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,partial,full)||A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,$ianmackenzie$elm_units$Quantity$zero,partial)&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,partial,full)?full:A2(A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,$ianmackenzie$elm_units$Quantity$zero,full)?$ianmackenzie$elm_units$Quantity$minus:$ianmackenzie$elm_units$Quantity$plus,$ianmackenzie$elm_geometry$Arc2d$twoPi,full),firstPoint)}),$ianmackenzie$elm_geometry$Vector2d$direction(firstVector),$ianmackenzie$elm_geometry$Vector2d$direction(secondVector),$ianmackenzie$elm_geometry$Vector2d$direction(thirdVector))},A3($ianmackenzie$elm_geometry$Point2d$circumcenter,firstPoint,secondPoint,thirdPoint))}),$author$project$BendSmoother$convergentRoadsArc=F3(function(p,r1Equation,midAB){var _v6={$:"#2",a:{$:"#2",a:r1Equation.startAt,b:r1Equation.endsAt},b:{$:"#2",a:midAB.startAt,b:midAB.endsAt}},pd=_v6.a,pa=pd.a,_v5=pd.b,r1Equation=_v6.b,midAB=r1Equation.a,pd=r1Equation.b,_v6={$:"#2",a:A2($author$project$Geometry101$lineEquationFromTwoPoints,pa,_v5),b:A2($author$project$Geometry101$lineEquationFromTwoPoints,midAB,pd)},r1Equation=_v6.a,_v6=_v6.b,_v5={$:"#2",a:A3($author$project$Geometry101$interpolateLine,.5,pa,_v5),b:A3($author$project$Geometry101$interpolateLine,.5,midAB,pd)},midAB=_v5.a,_v5=_v5.b,_v5=_Utils_cmp(A2($author$project$Geometry101$distance,p,midAB),A2($author$project$Geometry101$distance,p,_v5))<1?{$:"#2",a:midAB,b:A2($author$project$Geometry101$pointAlongRoad,A2($author$project$BendSmoother$pointsToGeometry,p,pd),A2($author$project$Geometry101$distance,p,midAB))}:{$:"#2",a:A2($author$project$Geometry101$pointAlongRoad,A2($author$project$BendSmoother$pointsToGeometry,p,pa),A2($author$project$Geometry101$distance,p,_v5)),b:_v5},firstTangentPoint=_v5.a,secondTangentPoint=_v5.b,_v6={$:"#2",a:A2($author$project$Geometry101$linePerpendicularTo,r1Equation,firstTangentPoint),b:A2($author$project$Geometry101$linePerpendicularTo,_v6,secondTangentPoint)};return A2($elm$core$Maybe$withDefault,$elm$core$Maybe$Nothing,A2($elm$core$Maybe$map,function(midArcPoint){midArcPoint=A2($author$project$Geometry101$pointAlongRoad,{endsAt:p,startAt:midArcPoint},A2($author$project$Geometry101$distance,midArcPoint,firstTangentPoint));return A3($ianmackenzie$elm_geometry$Arc2d$throughPoints,A2($ianmackenzie$elm_geometry$Point2d$meters,firstTangentPoint.x,firstTangentPoint.y),A2($ianmackenzie$elm_geometry$Point2d$meters,midArcPoint.x,midArcPoint.y),A2($ianmackenzie$elm_geometry$Point2d$meters,secondTangentPoint.x,secondTangentPoint.y))},A2($author$project$Geometry101$lineIntersection,_v6.a,_v6.b)))}),$author$project$BendSmoother$divergentRoadsArc=F3(function(p,r1Equation,pc){var _v6={$:"#2",a:{$:"#2",a:r1Equation.startAt,b:r1Equation.endsAt},b:{$:"#2",a:pc.startAt,b:pc.endsAt}},midAB=_v6.a,_v5=midAB.a,pb=midAB.b,r1Equation=_v6.b,pc=r1Equation.a,midAB=r1Equation.b,_v6={$:"#2",a:A2($author$project$Geometry101$lineEquationFromTwoPoints,_v5,pb),b:A2($author$project$Geometry101$lineEquationFromTwoPoints,pc,midAB)},r1Equation=_v6.a,_v6=_v6.b,_v5={$:"#2",a:A3($author$project$Geometry101$interpolateLine,.5,_v5,pb),b:A3($author$project$Geometry101$interpolateLine,.5,pc,midAB)},midAB=_v5.a,_v5=_v5.b,_v5=_Utils_cmp(A2($author$project$Geometry101$distance,p,midAB),A2($author$project$Geometry101$distance,p,_v5))<1?{$:"#2",a:midAB,b:A2($author$project$Geometry101$pointAlongRoad,A2($author$project$BendSmoother$pointsToGeometry,p,pc),A2($author$project$Geometry101$distance,p,midAB))}:{$:"#2",a:A2($author$project$Geometry101$pointAlongRoad,A2($author$project$BendSmoother$pointsToGeometry,p,pb),A2($author$project$Geometry101$distance,p,_v5)),b:_v5},firstTangentPoint=_v5.a,secondTangentPoint=_v5.b,_v6={$:"#2",a:A2($author$project$Geometry101$linePerpendicularTo,r1Equation,firstTangentPoint),b:A2($author$project$Geometry101$linePerpendicularTo,_v6,secondTangentPoint)};return A2($elm$core$Maybe$withDefault,$elm$core$Maybe$Nothing,A2($elm$core$Maybe$map,function(midArcPoint){midArcPoint=A2($author$project$Geometry101$pointAlongRoad,{endsAt:midArcPoint,startAt:p},A2($author$project$Geometry101$distance,midArcPoint,firstTangentPoint)+A2($author$project$Geometry101$distance,p,midArcPoint));return A3($ianmackenzie$elm_geometry$Arc2d$throughPoints,A2($ianmackenzie$elm_geometry$Point2d$meters,firstTangentPoint.x,firstTangentPoint.y),A2($ianmackenzie$elm_geometry$Point2d$meters,midArcPoint.x,midArcPoint.y),A2($ianmackenzie$elm_geometry$Point2d$meters,secondTangentPoint.x,secondTangentPoint.y))},A2($author$project$Geometry101$lineIntersection,_v6.a,_v6.b)))}),$author$project$Geometry101$findIntercept=F2(function(r1,r2Line){r2Line=A2($author$project$Geometry101$lineEquationFromTwoPoints,r2Line.startAt,r2Line.endsAt);return A2($author$project$Geometry101$lineIntersection,A2($author$project$Geometry101$lineEquationFromTwoPoints,r1.startAt,r1.endsAt),r2Line)}),$author$project$Geometry101$antiInterpolate=F3(function(p,aDist,ab){var bDist=A2($author$project$Geometry101$distance,p,ab),ab=A2($author$project$Geometry101$distance,aDist,ab),aDist=A2($author$project$Geometry101$distance,p,aDist);return _Utils_cmp(aDist+bDist,ab)<1||0<_Utils_cmp(aDist,bDist)?aDist/ab:0<_Utils_cmp(bDist,aDist)?aDist/ab*-1:0}),$author$project$BendSmoother$isAfter=F2(function(r,p){return 1<A3($author$project$Geometry101$antiInterpolate,p,r.startAt,r.endsAt)}),$author$project$BendSmoother$isBefore=F2(function(r,p){return A3($author$project$Geometry101$antiInterpolate,p,r.startAt,r.endsAt)<0}),$ianmackenzie$elm_geometry$Quantity$Extra$lOverTheta=F2(function(_v0,_v1){return{$:"Quantity",a:_v0.a/_v1.a}}),$ianmackenzie$elm_geometry$Quantity$Extra$rSinTheta=F2(function(r,theta){return A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$sin(theta),r)}),$ianmackenzie$elm_geometry$Arc2d$pointOn=F2(function(y,theta){var distance=y.a,y0=$ianmackenzie$elm_geometry$Point2d$yCoordinate(distance.startPoint),x0=$ianmackenzie$elm_geometry$Point2d$xCoordinate(distance.startPoint),dy=$ianmackenzie$elm_geometry$Direction2d$yComponent(distance.xDirection),dx=$ianmackenzie$elm_geometry$Direction2d$xComponent(distance.xDirection),x=distance.sweptAngle,y=distance.signedLength;if(_Utils_eq(x,$ianmackenzie$elm_units$Quantity$zero)){distance=A2($ianmackenzie$elm_units$Quantity$multiplyBy,theta,y);return A2($ianmackenzie$elm_geometry$Point2d$xy,A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_units$Quantity$multiplyBy,dx,distance),x0),A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_units$Quantity$multiplyBy,dy,distance),y0))}theta=A2($ianmackenzie$elm_units$Quantity$multiplyBy,theta,x),y=A2($ianmackenzie$elm_geometry$Quantity$Extra$lOverTheta,y,x),x=A2($ianmackenzie$elm_geometry$Quantity$Extra$rSinTheta,y,theta),y=A2($ianmackenzie$elm_units$Quantity$lessThan,{$:"Quantity",a:1.5707963267948966},$ianmackenzie$elm_units$Quantity$abs(theta))?A2($ianmackenzie$elm_units$Quantity$multiplyBy,$ianmackenzie$elm_units$Angle$tan(A2($ianmackenzie$elm_units$Quantity$multiplyBy,.5,theta)),x):A2($ianmackenzie$elm_units$Quantity$multiplyBy,1-$ianmackenzie$elm_units$Angle$cos(theta),y);return A2($ianmackenzie$elm_geometry$Point2d$xy,A2($ianmackenzie$elm_units$Quantity$plus,A4($ianmackenzie$elm_geometry$Quantity$Extra$aXbY,dx,x,-dy,y),x0),A2($ianmackenzie$elm_units$Quantity$plus,A4($ianmackenzie$elm_geometry$Quantity$Extra$aXbY,dy,x,dx,y),y0))}),$ianmackenzie$elm_geometry$Arc2d$segments=F2(function(numSegments,arc){return{$:"Polyline2d",a:A2($ianmackenzie$elm_1d_parameter$Parameter1d$steps,numSegments,$ianmackenzie$elm_geometry$Arc2d$pointOn(arc))}}),$ianmackenzie$elm_geometry$LineSegment2d$fromEndpoints=function(a){return{$:"LineSegment2d",a:a}},$ianmackenzie$elm_geometry$LineSegment2d$from=F2(function(startPoint_,endPoint_){return $ianmackenzie$elm_geometry$LineSegment2d$fromEndpoints({$:"#2",a:startPoint_,b:endPoint_})}),$ianmackenzie$elm_geometry$Point2d$toRecord=F2(function(fromQuantity,point){return{x:fromQuantity($ianmackenzie$elm_geometry$Point2d$xCoordinate(point)),y:fromQuantity($ianmackenzie$elm_geometry$Point2d$yCoordinate(point))}}),$author$project$BendSmoother$withElevation=F2(function(elevation,_v0){_v0=function(_v0){return _v0.a}(_v0);return{$:"Point3d",a:{x:_v0.x,y:_v0.y,z:elevation}}}),$author$project$BendSmoother$makeSmoothBend=F4(function(dy,roadAB,roadCD,arc){var r=$elm$core$Basics$abs($ianmackenzie$elm_units$Angle$inRadians(function(_v0){return _v0.a.sweptAngle}(arc)))*$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Arc2d$radius(arc))/dy|0,x0=function(_v0){_v0=function(_v0){return _v0.a}(_v0);if(_v0.b)return A3($elm$core$List$map2,$ianmackenzie$elm_geometry$LineSegment2d$from,_v0,_v0.b);return _List_Nil}(A2($ianmackenzie$elm_geometry$Arc2d$segments,r-1,arc)),dx={$:"#2",a:A2($ianmackenzie$elm_geometry$Point2d$toRecord,$ianmackenzie$elm_units$Length$inMeters,function(_v0){return _v0.a.startPoint}(arc)),b:A2($ianmackenzie$elm_geometry$Point2d$toRecord,$ianmackenzie$elm_units$Length$inMeters,A2($ianmackenzie$elm_geometry$Arc2d$pointOn,arc,1))},cy=dx.b,newArcPoints={$:"#2",a:A2($author$project$Geometry101$distance,$author$project$BendSmoother$toPoint(roadAB.startsAt.location),dx.a),b:A2($author$project$Geometry101$distance,cy,$author$project$BendSmoother$toPoint(roadCD.startsAt.location))},dy={$:"#2",a:newArcPoints.a/roadAB.length,b:newArcPoints.b/roadCD.length},dx=dy.b,cy={$:"#2",a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$zCoordinate(A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,roadAB.startsAt.location,roadAB.endsAt.location,dy.a))),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$zCoordinate(A3($ianmackenzie$elm_geometry$Point3d$interpolateFrom,roadCD.startsAt.location,roadCD.endsAt.location,dx)))},elevationArcStart=cy.a,eleIncrement=(cy.b-elevationArcStart)/r,newArcPoints=A2($elm$core$List$drop,1,A3($elm$core$List$map2,F2(function(seg,i){return A2($author$project$BendSmoother$withElevation,elevationArcStart+i*eleIncrement,seg.a.a)}),x0,A2($elm$core$List$range,0,r-1)));return{centre:(cy=$ianmackenzie$elm_geometry$Point2d$yCoordinate((dx=(dy=arc).a).startPoint),x0=$ianmackenzie$elm_geometry$Point2d$xCoordinate(dx.startPoint),r=A2($ianmackenzie$elm_geometry$Quantity$Extra$lOverTheta,dx.signedLength,dx.sweptAngle),dy=$ianmackenzie$elm_geometry$Direction2d$yComponent(dx.xDirection),dx=$ianmackenzie$elm_geometry$Direction2d$xComponent(dx.xDirection),cy=A2($ianmackenzie$elm_units$Quantity$plus,A2($ianmackenzie$elm_units$Quantity$multiplyBy,dx,r),cy),A2($ianmackenzie$elm_geometry$Point2d$xy,A2($ianmackenzie$elm_units$Quantity$minus,A2($ianmackenzie$elm_units$Quantity$multiplyBy,dy,r),x0),cy)),endIndex:roadCD.index+1,nodes:_Utils_ap(_List_Nil,newArcPoints),radius:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Arc2d$radius(arc)),startIndex:roadAB.index}}),$author$project$BendSmoother$parallelFindSemicircle=F2(function(r1Equation,midArcPoint){var t1={$:"#2",a:{$:"#2",a:r1Equation.startAt,b:r1Equation.endsAt},b:{$:"#2",a:midArcPoint.startAt,b:midArcPoint.endsAt}},t2=t1.a,_v6=t2.a,midBC=t2.b,r1Equation=t1.b,midArcPoint=r1Equation.a,t2=r1Equation.b,t1={$:"#2",a:A2($author$project$Geometry101$lineEquationFromTwoPoints,_v6,midBC),b:A2($author$project$Geometry101$lineEquationFromTwoPoints,midArcPoint,t2)},r1Equation=t1.a,t1=t1.b,t2={$:"#2",a:A3($author$project$Geometry101$interpolateLine,.5,midArcPoint,t2),b:A3($author$project$Geometry101$interpolateLine,.5,t2,_v6)},t2=t2.b,_v6={$:"#2",a:A3($author$project$Geometry101$interpolateLine,.5,_v6,midBC),b:A3($author$project$Geometry101$interpolateLine,.5,midBC,midArcPoint)},midBC=_v6.b,midArcPoint=A3($author$project$Geometry101$interpolateLine,.5,midBC,t2),_v6={$:"#2",a:A2($author$project$Geometry101$linePerpendicularTo,r1Equation,midArcPoint),b:A2($author$project$Geometry101$linePerpendicularTo,t1,midArcPoint)},t2=_v6.b,t1={$:"#2",a:A2($author$project$Geometry101$lineIntersection,r1Equation,_v6.a),b:A2($author$project$Geometry101$lineIntersection,t1,t2)},t2={$:"#2",a:t1.a,b:t1.b};if("Just"!==t2.a.$||"Just"!==t2.b.$)return $elm$core$Maybe$Nothing;t1=t2.a.a,t2=t2.b.a,midArcPoint=A2($author$project$Geometry101$pointAlongRoad,{endsAt:midBC,startAt:midArcPoint},A2($author$project$Geometry101$distance,midArcPoint,t1));return A3($ianmackenzie$elm_geometry$Arc2d$throughPoints,A2($ianmackenzie$elm_geometry$Point2d$meters,t1.x,t1.y),A2($ianmackenzie$elm_geometry$Point2d$meters,midArcPoint.x,midArcPoint.y),A2($ianmackenzie$elm_geometry$Point2d$meters,t2.x,t2.y))}),$author$project$BendSmoother$lookForSmoothBendOption=F3(function(trackPointSpacing,roadAB,roadCD){var arc={$:"#2",a:$author$project$BendSmoother$roadToGeometry(roadAB),b:$author$project$BendSmoother$roadToGeometry(roadCD)},roadIn=arc.a,roadOut=arc.b,arc="Nothing"===(arc=A2($author$project$Geometry101$findIntercept,roadIn,roadOut)).$?A2($author$project$BendSmoother$parallelFindSemicircle,roadIn,roadOut):function(p){return A3(A2($author$project$BendSmoother$isBefore,roadIn,p)&&A2($author$project$BendSmoother$isAfter,roadOut,p)?$author$project$BendSmoother$divergentRoadsArc:$author$project$BendSmoother$convergentRoadsArc,p,roadIn,roadOut)}(arc.a);return A2($elm$core$Maybe$map,A3($author$project$BendSmoother$makeSmoothBend,trackPointSpacing,roadAB,roadCD),arc)}),$author$project$MapController$addMarkersToMap=F4(function(current,marker,smoothBend,nudged){function encodePos(_v1){var lat=_v1.b;return $elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"lon",b:$elm$json$Json$Encode$float(_v1.a)},{$:"#2",a:"lat",b:$elm$json$Json$Encode$float(lat)}]))}return $author$project$MapController$mapPort(function(){if("Just"!==marker.$)return $elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"Cmd",b:$elm$json$Json$Encode$string("Mark")},{$:"#2",a:"orange",b:encodePos(current)},{$:"#2",a:"bend",b:$author$project$TrackPoint$trackToJSON(smoothBend)},{$:"#2",a:"nudge",b:$author$project$TrackPoint$trackToJSON(nudged)}]));var mark=marker.a;return $elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"Cmd",b:$elm$json$Json$Encode$string("Mark")},{$:"#2",a:"orange",b:encodePos(current)},{$:"#2",a:"purple",b:encodePos(mark)},{$:"#2",a:"bend",b:$author$project$TrackPoint$trackToJSON(smoothBend)},{$:"#2",a:"nudge",b:$author$project$TrackPoint$trackToJSON(nudged)}]))}())}),$author$project$Main$nodeToTrackPoint=F2(function(degreesLat,node){var degreesLon={$:"#2",a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(node)),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(node))},_v1={$:"#2",a:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$xCoordinate(degreesLat)),b:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$yCoordinate(degreesLat))},degreesLat=_v1.b+degreesLon.b/78846.81,degreesLon=_v1.a+degreesLon.a/78846.81/$elm$core$Basics$cos(3.141592653589793*degreesLat/180);return{ele:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point3d$zCoordinate(node)),idx:0,lat:degreesLat,lon:degreesLon}}),$author$project$Main$nodesToTrackPoints=F2(function(trackCenter,nodes){return A2($elm$core$List$map,$author$project$Main$nodeToTrackPoint(trackCenter),nodes)}),$author$project$Main$locallyHandleMapMessage=F2(function(model,json){var msg=A2($elm$json$Json$Decode$decodeValue,$author$project$MapController$msgDecoder,json),lon=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"lon",$elm$json$Json$Decode$float),json),lat=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"lat",$elm$json$Json$Decode$float),json);_v0$2:for(;"Ok"===msg.$;)switch(msg.a){case"click":var _v1={$:"#2",a:lat,b:lon};return"Ok"!==_v1.a.$||"Ok"!==_v1.b.$?{$:"#2",a:model,b:$elm$core$Platform$Cmd$none}:{$:"#2",a:$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(A3($author$project$Main$makeNearestNodeCurrent,_v1.b.a,_v1.a.a,model))),b:$author$project$Main$updateMapVaryingElements(model)};case"drag":return $author$project$Main$trackHasChanged(A2($author$project$Main$draggedOnMap,json,model));default:break _v0$2}return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none}}),$elm$core$Platform$Cmd$map=$elm$json$Json$Decode$map4,$elm$file$File$name=function(file){return file.name},$ianmackenzie$elm_geometry$Vector2d$rTheta=F2(function(r,theta){r=r.a,theta=theta.a;return{$:"Vector2d",a:{x:r*$elm$core$Basics$cos(theta),y:r*$elm$core$Basics$sin(theta)}}}),$ianmackenzie$elm_geometry$Vector2d$scaleBy=F2(function(k,v){v=v.a;return{$:"Vector2d",a:{x:k*v.x,y:k*v.y}}}),$ianmackenzie$elm_geometry$Point2d$translateBy=F2(function(v,p){v=v.a,p=p.a;return{$:"Point2d",a:{x:p.x+v.x,y:p.y+v.y}}}),$author$project$Nudge$nudgeTrackPoint=F4(function(baseTP,nudgeVector,horizontal,vertical){var nudgedTrackPoint2d=A2($ianmackenzie$elm_geometry$Point2d$meters,baseTP.lon,baseTP.lat),nudgeVector=function(v){v=v.a;return{$:"Vector2d",a:{x:v.y,y:-v.x}}}(A2($ianmackenzie$elm_geometry$Vector2d$rTheta,{$:"Quantity",a:1},{$:"Quantity",a:-1*nudgeVector})),nudgeVector=A2($ianmackenzie$elm_geometry$Vector2d$scaleBy,horizontal/78846.81,function(v){v=v.a;return{$:"Vector2d",a:{x:-v.y,y:v.x}}}(nudgeVector)),nudgedTrackPoint2d=A2($ianmackenzie$elm_geometry$Point2d$translateBy,nudgeVector,nudgedTrackPoint2d);return _Utils_update(baseTP,{ele:baseTP.ele+vertical,lat:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$yCoordinate(nudgedTrackPoint2d)),lon:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$xCoordinate(nudgedTrackPoint2d))})}),$author$project$Main$nudgeNodeRange=F5(function(model,node1,nodeN,horizontal,vertical){var unmovedEndPoint="Just"!==(prevNode=A2($elm$core$Array$get,nodeN+1,model.nodeArray)).$?_List_Nil:_List_fromArray([prevNode.a.trackPoint]),undoMessage=0<_Utils_cmp(nodeN,node1)?"Nudge "+$elm$core$String$fromInt(node1)+(" to "+$elm$core$String$fromInt(nodeN)):"Nudge node "+$elm$core$String$fromInt(node1),nudgedStartPoints=A2($elm$core$List$drop,node1,A2($elm$core$List$take,nodeN+1,model.nodes)),prevNode=A2($elm$core$Array$get,node1-1,model.nodeArray),nudgedStartPoints=A2($elm$core$List$map,function(node){return A4($author$project$Nudge$nudgeTrackPoint,node.trackPoint,function(node){return _Utils_cmp(node.trackPoint.idx,$elm$core$Array$length(model.roadArray))<0?A2($elm$core$Maybe$withDefault,0,A2($elm$core$Maybe$map,function($){return $.bearing},A2($elm$core$Array$get,node.trackPoint.idx,model.roadArray))):A2($elm$core$Maybe$withDefault,0,A2($elm$core$Maybe$map,function($){return $.bearing},A2($elm$core$Array$get,$elm$core$Array$length(model.roadArray)-1,model.roadArray)))}(node),horizontal,vertical)},nudgedStartPoints);_Utils_ap("Nothing"===prevNode.$?_List_Nil:_List_fromArray([prevNode.a.trackPoint]),_Utils_ap(nudgedStartPoints,unmovedEndPoint));return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{nudgeValue:0,nudgedNodeRoads:_List_Nil,nudgedRegionStart:0,trackPoints:_Utils_ap(A2($elm$core$List$take,node1,model.trackPoints),_Utils_ap(nudgedStartPoints,A2($elm$core$List$drop,nodeN+1,model.trackPoints))),verticalNudgeValue:0})}),$author$project$Main$nudgeNode=F3(function(model,horizontal,vertical){var _v0=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode),_v0={$:"#2",a:A2($elm$core$Basics$min,model.currentNode,_v0),b:A2($elm$core$Basics$max,model.currentNode,_v0)};return A5($author$project$Main$nudgeNodeRange,model,_v0.a,_v0.b,horizontal,vertical)}),$elm$core$String$endsWith=$mdgriffith$elm_ui$Internal$Flag$fontAlignment,$elm$file$File$Download$string=F3(function(name,mime,content){return A2($elm$core$Task$perform,$elm$core$Basics$never,A3(_File_download,name,mime,content))}),$elm$core$String$toUpper=function(str){return str.toUpperCase()},$author$project$WriteGPX$writeTrack=F2(function(name,trackPoints){return"\n  <trk>\n    <name>"+name+("</name>\n    <trkseg>\n"+$elm$core$String$concat(A2($elm$core$List$map,$author$project$WriteGPX$writeTrackPoint,trackPoints)))+"    </trkseg>\n  </trk>\n "}),$author$project$WriteGPX$writeGPX=F2(function(name,track){return _Utils_ap('<?xml version=\'1.0\' encoding=\'UTF-8\'?>\n<gpx version="1.1"\n  creator="https://www.komoot.de"\n  xmlns="http://www.topografix.com/GPX/1/1"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://www.topografix.com/GPX/1/1\n  http://www.topografix.com/GPX/1/1/gpx.xsd">\n  <metadata>\n    <name>Cycling</name>\n    <author>\n      <link href="https://www.stepwiserefinement.co.uk">\n        <text>Fixed by Pete and his GPX viewer</text>\n        <type>text/html</type>\n      </link>\n    </author>\n  </metadata>\n',_Utils_ap(A2($author$project$WriteGPX$writeTrack,"Just"!==name.$?"A track":name.a,track),"</gpx>"))}),$author$project$TrackPoint$TrackPoint=F4(function(lat,lon,ele,idx){return{ele:ele,idx:idx,lat:lat,lon:lon}}),$author$project$StravaPasteStreams$pasteStreams=F3(function(trackPoints,newRoute,streams){var trackPointsFromStreams=A3($elm$core$List$map2,F2(function(latLon,ele){return A4($author$project$TrackPoint$TrackPoint,latLon.lat,latLon.lng,ele,0)}),streams.latLngs.data,streams.altitude.data),pStartingTrackPoint=A3($author$project$TrackPoint$trackPointFromLatLon,newRoute.start_latitude,newRoute.start_longitude,trackPoints),pEndingTrackPoint=A3($author$project$TrackPoint$trackPointFromLatLon,newRoute.end_latitude,newRoute.end_longitude,trackPoints),newRoute=function(){var orientedSegment={$:"#2",a:pStartingTrackPoint,b:pEndingTrackPoint};if("Just"!==orientedSegment.a.$||"Just"!==orientedSegment.b.$)return trackPoints;var start=orientedSegment.a.a.idx,finish=orientedSegment.b.a.idx,orientedSegment=_Utils_eq(start,finish)?_List_Nil:_Utils_cmp(start,finish)<0?trackPointsFromStreams:$elm$core$List$reverse(trackPointsFromStreams);return _Utils_ap(A2($elm$core$List$take,A2($elm$core$Basics$min,start,finish),trackPoints),_Utils_ap(orientedSegment,A2($elm$core$List$drop,A2($elm$core$Basics$max,start,finish)+1,trackPoints)))}();return $author$project$TrackPoint$reindexTrackpoints(newRoute)}),$ianmackenzie$elm_geometry$Vector3d$plus=F2(function(v2,v1){v2=v2.a,v1=v1.a;return{$:"Vector3d",a:{x:v1.x+v2.x,y:v1.y+v2.y,z:v1.z+v2.z}}}),$author$project$MapController$MapLoaded={$:"MapLoaded"},$author$project$MapController$processMapMessage=F2(function(info,json){var msg=A2($elm$json$Json$Decode$decodeValue,$author$project$MapController$msgDecoder,json);_v0$4:for(;"Ok"===msg.$;)switch(msg.a){case"no node":return $elm$core$Maybe$Just({$:"#2",a:_Utils_update(info,{mapState:$author$project$MapController$WaitingForNode}),b:$author$project$MapController$createMap(info)});case"map ready":return $elm$core$Maybe$Just({$:"#2",a:_Utils_update(info,{mapState:$author$project$MapController$MapLoaded}),b:$author$project$MapController$addTrackToMap(info)});case"track ready":return $elm$core$Maybe$Just({$:"#2",a:_Utils_update(info,{mapState:$author$project$MapController$MapLoaded}),b:A4($author$project$MapController$addMarkersToMap,info.current,info.marker,_List_Nil,_List_Nil)});case"move":var _v1=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"zoom",$elm$json$Json$Decode$float),json),lon=A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"lon",$elm$json$Json$Decode$float),json),_v1={$:"#3",a:A2($elm$json$Json$Decode$decodeValue,A2($elm$json$Json$Decode$field,"lat",$elm$json$Json$Decode$float),json),b:lon,c:_v1};return $elm$core$Maybe$Just("Ok"!==_v1.a.$||"Ok"!==_v1.b.$||"Ok"!==_v1.c.$?{$:"#2",a:info,b:$elm$core$Platform$Cmd$none}:{$:"#2",a:_Utils_update(info,{centreLat:_v1.a.a,centreLon:_v1.b.a,mapZoom:_v1.c.a}),b:$elm$core$Platform$Cmd$none});default:break _v0$4}return $elm$core$Maybe$Nothing}),$author$project$TrackPoint$removeByNodeNumbers=F2(function(idxsToRemove,trackPoints){var helper=F3(function(idxs,tps,kept){for(;;){var t={$:"#2",a:idxs,b:tps};if(!t.a.b)return{$:"#3",a:_List_Nil,b:_List_Nil,c:_Utils_ap($elm$core$List$reverse(tps),kept)};if(!t.b.b)return{$:"#3",a:_List_Nil,b:_List_Nil,c:kept};var ts=t.a,i=ts.a,is=ts.b,ts=t.b,t=ts.a,ts=ts.b;kept=_Utils_eq(t.idx,i)?(idxs=is,tps=ts,kept):_Utils_cmp(t.idx,i)<0?(idxs=idxs,tps=ts,A2($elm$core$List$cons,t,kept)):(idxs=is,tps=tps,kept)}});return $elm$core$List$reverse(A3(helper,idxsToRemove,trackPoints,_List_Nil).c)}),$elm$http$Http$BadStatus_=F2(function(a,b){return{$:"BadStatus_",a:a,b:b}}),$elm$http$Http$BadUrl_=function(a){return{$:"BadUrl_",a:a}},$elm$http$Http$GoodStatus_=F2(function(a,b){return{$:"GoodStatus_",a:a,b:b}}),$elm$http$Http$NetworkError_={$:"NetworkError_"},$elm$http$Http$Receiving=function(a){return{$:"Receiving",a:a}},$elm$http$Http$Sending=function(a){return{$:"Sending",a:a}},$elm$http$Http$Timeout_={$:"Timeout_"},$elm$core$Maybe$isJust=function(maybe){return"Just"===maybe.$},$elm$http$Http$emptyBody={$:0},$elm$json$Json$Decode$decodeString=$author$project$Internal$AuthenticationError,$elm$http$Http$expectStringResponse=F2(function(toMsg,toResult){return A3(_Http_expect,"",$elm$core$Basics$identity,A2($elm$core$Basics$composeR,toResult,toMsg))}),$elm$core$Result$mapError=F2(function(f,result){return"Ok"!==result.$?$elm$core$Result$Err(f(result.a)):$elm$core$Result$Ok(result.a)}),$elm$http$Http$NetworkError={$:"NetworkError"},$elm$http$Http$Timeout={$:"Timeout"},$elm$http$Http$resolve=F2(function(toResult,response){switch(response.$){case"BadUrl_":return $elm$core$Result$Err({$:"BadUrl",a:response.a});case"Timeout_":return $elm$core$Result$Err($elm$http$Http$Timeout);case"NetworkError_":return $elm$core$Result$Err($elm$http$Http$NetworkError);case"BadStatus_":return $elm$core$Result$Err({$:"BadStatus",a:response.a.statusCode});default:return A2($elm$core$Result$mapError,$elm$http$Http$BadBody,toResult(response.b))}}),$elm$http$Http$expectJson=F2(function(toMsg,decoder){return A2($elm$http$Http$expectStringResponse,toMsg,$elm$http$Http$resolve(function(string){return A2($elm$core$Result$mapError,$elm$json$Json$Decode$errorToString,A2($elm$json$Json$Decode$decodeString,decoder,string))}))}),$author$project$GeoCodeDecoders$ipInfoDecoder=A8($author$project$Internal$errorUriDecoder,F7(function(ip,country,region,city,zip,latitude,longitude){return{city:city,country:country,ip:ip,latitude:latitude,longitude:longitude,region:region,zip:zip}}),A2($elm$json$Json$Decode$at,_List_fromArray(["query"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["country"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["region"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["city"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["zip"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["lat"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["lon"]),$elm$json$Json$Decode$float)),$elm$http$Http$State=F2(function(reqs,subs){return{reqs:reqs,subs:subs}}),$elm$json$Json$Decode$map4=$elm$core$Task$succeed(A2($elm$http$Http$State,$elm$core$Dict$empty,_List_Nil)),$elm$http$Http$updateReqs=F3(function(router,cmds,reqs){for(;;){if(!cmds.b)return $elm$core$Task$succeed(reqs);var _v2=cmds.a,otherCmds=cmds.b;if("Cancel"!==_v2.$){var req=_v2.a;return A2($elm$core$Task$andThen,function(pid){var _v4=req.tracker;return A3($elm$http$Http$updateReqs,router,otherCmds,"Nothing"===_v4.$?reqs:A3($elm$core$Dict$insert,_v4.a,pid,reqs))},$elm$core$Process$spawn(A3(_Http_toTask,router,$elm$core$Platform$sendToApp(router),req)))}var tracker=_v2.a,_v2=A2($elm$core$Dict$get,tracker,reqs);if("Nothing"!==_v2.$)return A2($elm$core$Task$andThen,function(){return A3($elm$http$Http$updateReqs,router,otherCmds,A2($elm$core$Dict$remove,tracker,reqs))},$elm$core$Process$kill(_v2.a));router=router,cmds=otherCmds,reqs=reqs}}),$mdgriffith$elm_ui$Internal$Flag$fontAlignment=F4(function(router,cmds,subs,state){return A2($elm$core$Task$andThen,function(reqs){return $elm$core$Task$succeed(A2($elm$http$Http$State,reqs,subs))},A3($elm$http$Http$updateReqs,router,cmds,state.reqs))}),$elm$http$Http$maybeSend=F4(function(router,desiredTracker,progress,_v0){var toMsg=_v0.b;return _Utils_eq(desiredTracker,_v0.a)?$elm$core$Maybe$Just(A2($elm$core$Platform$sendToApp,router,toMsg(progress))):$elm$core$Maybe$Nothing}),$author$project$Internal$AuthenticationError=F3(function(router,_v0,state){return A2($elm$core$Task$andThen,function(){return $elm$core$Task$succeed(state)},$elm$core$Task$sequence(A2($elm$core$List$filterMap,A3($elm$http$Http$maybeSend,router,_v0.a,_v0.b),state.subs)))}),$author$project$Internal$errorUriDecoder=F2(function(func,r){if("Cancel"===r.$)return{$:"Cancel",a:r.a};r=r.a;return{$:"Request",a:{allowCookiesFromOtherDomains:r.allowCookiesFromOtherDomains,body:r.body,expect:A2(_Http_mapExpect,func,r.expect),headers:r.headers,method:r.method,timeout:r.timeout,tracker:r.tracker,url:r.url}}}),$elm$http$Http$MySub=F2(function(a,b){return{$:"MySub",a:a,b:b}});function $elm$http$Http$request(r){return $elm$http$Http$command({$:"Request",a:{allowCookiesFromOtherDomains:!1,body:r.body,expect:r.expect,headers:r.headers,method:r.method,timeout:r.timeout,tracker:r.tracker,url:r.url}})}function $author$project$OAuth$useToken(token){return $elm$core$List$cons(A2($elm$http$Http$header,"Authorization","Bearer "+token.a))}function $author$project$Main$resetFlythrough(model){var seg=A2($author$project$Main$lookupRoad,model,model.currentNode);return"Just"!==seg.$?model:(seg=seg.a,_Utils_update(model,{flythrough:$elm$core$Maybe$Just({cameraPosition:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),seg.startsAt.location),focusPoint:A2($ianmackenzie$elm_geometry$Point3d$translateBy,A3($ianmackenzie$elm_geometry$Vector3d$meters,0,0,2),seg.endsAt.location),lastUpdated:model.time,metresFromRouteStart:seg.startDistance,running:!1,segment:seg})}))}function $elm$time$Time$toCivil(dayOfYear){var mp=A2($elm$time$Time$flooredDiv,dayOfYear,1440)+719468,era=(mp<0?mp-146096:mp)/146097|0,month=mp-146097*era,yearOfEra=(month-(month/1460|0)+(month/36524|0)-(month/146096|0))/365|0;return{day:(dayOfYear=month-(365*yearOfEra+(yearOfEra/4|0)-(yearOfEra/100|0)))-((153*(mp=(5*dayOfYear+2)/153|0)+2)/5|0)+1,month:month=mp+(mp<10?3:-9),year:yearOfEra+400*era+(2<month?0:1)}}function $author$project$Main$smoothBend(m){var newMark=A2($elm$core$Maybe$withDefault,m.currentNode,m.markedNode);if("Just"!==(numCurrentPoints=m.smoothedBend).$)return m;var bend=numCurrentPoints.a,newCurrent=$elm$core$List$length(bend.nodes),numCurrentPoints=$elm$core$Basics$abs(m.currentNode-newMark)-1,newTrackPoints=A2($author$project$Main$nodesToTrackPoints,$ianmackenzie$elm_geometry$BoundingBox3d$centerPoint(m.trackPointBox),bend.nodes),newMark=0<_Utils_cmp(newMark,bend.startIndex)?newMark-numCurrentPoints+newCurrent:newMark,newCurrent=0<_Utils_cmp(m.currentNode,bend.startIndex)?m.currentNode-numCurrentPoints+newCurrent:m.currentNode;return _Utils_update(m=A2($author$project$Main$addToUndoStack,function(bend){return"bend smoothing\nfrom "+$elm$core$String$fromInt(bend.startIndex)+(" to "+$elm$core$String$fromInt(bend.endIndex)+(", \nradius "+$author$project$Utils$showDecimal2(bend.radius)))+" metres."}(bend),m),{currentNode:newCurrent,markedNode:$elm$core$Maybe$Just(newMark),smoothedBend:$elm$core$Maybe$Nothing,trackPoints:$author$project$TrackPoint$reindexTrackpoints(_Utils_ap(A2($elm$core$List$take,bend.startIndex+1,m.trackPoints),_Utils_ap(newTrackPoints,A2($elm$core$List$drop,bend.endIndex,m.trackPoints))))})}function $author$project$Main$splitRoad(model){function newPointsIn(segment){var trackPointsNeeded=$elm$core$Basics$ceiling(segment.length/model.maxSegmentSplitSize);return A2($elm$core$List$map,function(i){return A3($author$project$TrackPoint$interpolateSegment,i/trackPointsNeeded,segment.startsAt.trackPoint,segment.endsAt.trackPoint)},A2($elm$core$List$range,1,trackPointsNeeded))}var totalTrackPointsBefore=$elm$core$List$length(model.trackPoints),mdl=(subsequentTrackPoints=_Utils_eq(model.currentNode,mdl=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode))?{$:"#2",a:0,b:$elm$core$Array$length(model.nodeArray)-1}:{$:"#2",a:A2($elm$core$Basics$min,model.currentNode,mdl),b:A2($elm$core$Basics$max,model.currentNode,mdl)}).a,endNode=subsequentTrackPoints.b,subsequentTrackPoints=A2($elm$core$List$drop,endNode+1,model.trackPoints),newTrackPointList=_Utils_ap(A2($elm$core$List$take,mdl+1,model.trackPoints),_Utils_ap(A2($elm$core$List$concatMap,newPointsIn,A2($elm$core$List$drop,mdl,A2($elm$core$List$take,endNode,model.roads))),subsequentTrackPoints)),mdl="Split between "+$elm$core$String$fromInt(mdl)+(" and "+$elm$core$String$fromInt(endNode));return _Utils_update(mdl=A2($author$project$Main$addToUndoStack,mdl,model),{currentNode:_Utils_eq(mdl.currentNode,endNode)?mdl.currentNode+$elm$core$List$length(newTrackPointList)-totalTrackPointsBefore:mdl.currentNode,markedNode:A2($elm$core$Maybe$map,function(v){return v+$elm$core$List$length(newTrackPointList)-totalTrackPointsBefore},model.markedNode),trackPoints:$author$project$TrackPoint$reindexTrackpoints(newTrackPointList)})}function $author$project$Utils$httpErrorString(error){switch(error.$){case"BadBody":return"Unable to handle response: "+error.a;case"BadStatus":return"Server error: "+$elm$core$String$fromInt(error.a);case"BadUrl":return"Invalid URL: "+error.a;case"NetworkError":return"Network error";default:return"Request timeout"}}function $author$project$OAuthTypes$GotAccessToken(a){return{$:"GotAccessToken",a:a}}function $author$project$Internal$makeRedirectUri(url){return $elm$core$String$concat(_List_fromArray(["Http"===url.protocol.$?"http":"https","://",url.host,A2($elm$core$Maybe$withDefault,"",A2($elm$core$Maybe$map,function(i){return":"+$elm$core$String$fromInt(i)},url.port_)),url.path,A2($elm$core$Maybe$withDefault,"",A2($elm$core$Maybe$map,function(q){return"?"+q},url.query))]))}function $author$project$OAuthTypes$GotUserInfo(a){return{$:"GotUserInfo",a:a}}function $ianmackenzie$elm_3d_camera$Camera3d$viewpoint(_v0){return _v0.a.viewpoint}function $ianmackenzie$elm_3d_camera$Viewpoint3d$xDirection(_v0){return $ianmackenzie$elm_geometry$Frame3d$xDirection(_v0.a)}function $ianmackenzie$elm_3d_camera$Viewpoint3d$yDirection(_v0){return $ianmackenzie$elm_geometry$Frame3d$yDirection(_v0.a)}function $author$project$Msg$AccordionMessage(a){return{$:"AccordionMessage",a:a}}function $author$project$Main$markerButton(model){function makeButton(label){return A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:label},onPress:$elm$core$Maybe$Just($author$project$Msg$ToggleMarker)})}var forward=A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$skipForward),back=A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$skipBack);return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$Border$width(0),$mdgriffith$elm_ui$Element$Border$rounded(5),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Font$size(16),$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$buttonGroupBackground)]),_List_fromArray("Just"===model.markedNode.$?[A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:$mdgriffith$elm_ui$Element$html(back),onPress:$elm$core$Maybe$Just($author$project$Msg$MarkerBackOne)}),makeButton("Clear marker"),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:$mdgriffith$elm_ui$Element$html(forward),onPress:$elm$core$Maybe$Just($author$project$Msg$MarkerForwardOne)})]:[makeButton("Drop marker to select a range")]))}function $author$project$Msg$UserChangedRouteId(a){return{$:"UserChangedRouteId",a:a}}function $author$project$Main$positionControls(model){var forwards=A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$skipForward),backwards=A2($feathericons$elm_feather$FeatherIcons$toHtml,_List_Nil,$feathericons$elm_feather$FeatherIcons$skipBack);return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(5),$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$centerY]),_List_fromArray([function(model){return A2($mdgriffith$elm_ui$Element$Input$slider,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(300)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$behindContent(A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(300)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$centerY,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$scrollbarBackground),$mdgriffith$elm_ui$Element$Border$rounded(6)]),$mdgriffith$elm_ui$Element$none))]),{label:$mdgriffith$elm_ui$Element$Input$labelHidden("Drag slider or use arrow buttons"),max:$elm$core$Array$length(model.roadArray)-1,min:1,onChange:A2($elm$core$Basics$composeL,$author$project$Msg$UserMovedNodeSlider,$elm$core$Basics$round),step:$elm$core$Maybe$Just(1),thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:model.currentNode})}(model),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:$mdgriffith$elm_ui$Element$html(backwards),onPress:$elm$core$Maybe$Just($author$project$Msg$PositionBackOne)}),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:$mdgriffith$elm_ui$Element$html(forwards),onPress:$elm$core$Maybe$Just($author$project$Msg$PositionForwardOne)})]))}function $author$project$Msg$ZoomLevelFirstPerson(a){return{$:"ZoomLevelFirstPerson",a:a}}function $ianmackenzie$elm_units$Pixels$toInt(_v0){return _v0.a}function $elm_explorations$webgl$WebGL$Settings$StencilTest$test(stencilTest){return A3($elm_explorations$webgl$WebGL$Settings$StencilTest$testSeparate,{mask:stencilTest.mask,ref:stencilTest.ref,writeMask:stencilTest.writeMask},{fail:stencilTest.fail,test:stencilTest.test,zfail:stencilTest.zfail,zpass:stencilTest.zpass},{fail:stencilTest.fail,test:stencilTest.test,zfail:stencilTest.zfail,zpass:stencilTest.zpass})}function $ianmackenzie$elm_3d_scene$Scene3d$updateStencil(test){return A5($elm_explorations$webgl$WebGL$entityWith,_List_fromArray([$elm_explorations$webgl$WebGL$Settings$StencilTest$test(test),A4($elm_explorations$webgl$WebGL$Settings$colorMask,!1,!1,!1,!1)]),$ianmackenzie$elm_3d_scene$Scene3d$fullScreenQuadVertexShader,$ianmackenzie$elm_3d_scene$Scene3d$dummyFragmentShader,$ianmackenzie$elm_3d_scene$Scene3d$fullScreenQuadMesh,{})}function $ianmackenzie$elm_3d_scene$Scene3d$storeStencilValue(lightIndex){return $ianmackenzie$elm_3d_scene$Scene3d$updateStencil({fail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,mask:15,ref:8,test:$elm_explorations$webgl$WebGL$Settings$StencilTest$greater,writeMask:A2($elm$core$Basics$pow,2,lightIndex+4),zfail:$elm_explorations$webgl$WebGL$Settings$StencilTest$invert,zpass:$elm_explorations$webgl$WebGL$Settings$StencilTest$invert})}function $elm_explorations$webgl$WebGL$Settings$DepthTest$lessOrEqual(_v0){return A4($elm_explorations$webgl$WebGL$Internal$DepthTest,515,_v0.write,_v0.near,_v0.far)}function $ianmackenzie$elm_3d_scene$Scene3d$toWebGLEntities(_arguments){var sceneProperties=$ianmackenzie$elm_3d_camera$Camera3d$viewpoint(_arguments.camera),referenceWhite={$:"Frame3d",a:{originPoint:$ianmackenzie$elm_3d_camera$Viewpoint3d$eyePoint(sceneProperties),xDirection:$ianmackenzie$elm_3d_camera$Viewpoint3d$xDirection(sceneProperties),yDirection:$ianmackenzie$elm_3d_camera$Viewpoint3d$yDirection(sceneProperties),zDirection:$ianmackenzie$elm_geometry$Direction3d$reverse($ianmackenzie$elm_3d_camera$Viewpoint3d$viewDirection(sceneProperties))}},rootNode=$ianmackenzie$elm_3d_scene$Scene3d$Entity$group(_arguments.entities).a,projectionMatrix=A4($ianmackenzie$elm_3d_scene$Scene3d$getViewBounds,referenceWhite,1,$elm$core$Maybe$Nothing,_List_fromArray([rootNode]));if("Nothing"===projectionMatrix.$)return _List_Nil;var eyePointOrDirectionToCamera=projectionMatrix.a,viewMatrix=A2($ianmackenzie$elm_3d_camera$WebGL$Matrices$modelViewMatrix,$ianmackenzie$elm_geometry$Frame3d$atOrigin,sceneProperties),toneMapType=A2($ianmackenzie$elm_units$Quantity$multiplyBy,.99,A2($ianmackenzie$elm_units$Quantity$max,$ianmackenzie$elm_units$Quantity$abs(_arguments.clipDepth),$ianmackenzie$elm_units$Quantity$negate($ianmackenzie$elm_geometry$BoundingBox3d$maxZ(eyePointOrDirectionToCamera)))),projectionType=$ianmackenzie$elm_geometry$BoundingBox3d$dimensions(eyePointOrDirectionToCamera),sceneDiameter=$ianmackenzie$elm_geometry$Vector3d$length(A3($ianmackenzie$elm_geometry$Vector3d$xyz,projectionType.a,projectionType.b,projectionType.c)),referenceWhite=A2($ianmackenzie$elm_units$Quantity$multiplyBy,1.01,A2($ianmackenzie$elm_units$Quantity$plus,sceneDiameter,$ianmackenzie$elm_units$Quantity$negate($ianmackenzie$elm_geometry$BoundingBox3d$minZ(eyePointOrDirectionToCamera)))),eyePointOrDirectionToCamera=(projectionType=$elm_explorations$linear_algebra$Math$Matrix4$toRecord(projectionMatrix=A2($ianmackenzie$elm_3d_camera$WebGL$Matrices$projectionMatrix,_arguments.camera,{aspectRatio:_arguments.aspectRatio,farClipDepth:referenceWhite,nearClipDepth:toneMapType})).m44)?$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Direction3d$reverse($ianmackenzie$elm_3d_camera$Viewpoint3d$viewDirection(sceneProperties))):$ianmackenzie$elm_geometry$Point3d$toMeters($ianmackenzie$elm_3d_camera$Viewpoint3d$eyePoint(sceneProperties)),toneMapType=(referenceWhite=function(){var _v4=_arguments.toneMapping;switch(_v4.$){case"NoToneMapping":return{$:"#2",a:0,b:0};case"ReinhardLuminanceToneMapping":return{$:"#2",a:1,b:0};case"ReinhardPerChannelToneMapping":return{$:"#2",a:2,b:0};case"ExtendedReinhardLuminanceToneMapping":return{$:"#2",a:3,b:_v4.a};case"ExtendedReinhardPerChannelToneMapping":return{$:"#2",a:4,b:_v4.a};default:return{$:"#2",a:5,b:0}}}()).a,sceneProperties=referenceWhite.b,sceneProperties=$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:0,m12:eyePointOrDirectionToCamera.x,m13:$elm_explorations$linear_algebra$Math$Vector3$getX(referenceWhite=A2($ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToLinearRgb,_arguments.exposure.a,_arguments.whiteBalance).a),m14:_arguments.supersampling,m21:0,m22:eyePointOrDirectionToCamera.y,m23:$elm_explorations$linear_algebra$Math$Vector3$getY(referenceWhite),m24:$ianmackenzie$elm_units$Length$inMeters(sceneDiameter),m31:0,m32:eyePointOrDirectionToCamera.z,m33:$elm_explorations$linear_algebra$Math$Vector3$getZ(referenceWhite),m34:toneMapType,m41:0,m42:projectionType,m43:0,m44:sceneProperties}),renderPasses=A6($ianmackenzie$elm_3d_scene$Scene3d$collectRenderPasses,sceneProperties,viewMatrix,projectionMatrix,$ianmackenzie$elm_3d_scene$Scene3d$Transformation$identity,rootNode,{meshes:_List_Nil,points:_List_Nil,shadows:_List_Nil}),_v7=_arguments.lights;switch(_v7.$){case"SingleUnshadowedPass":return $elm$core$List$concat(_List_fromArray([A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.meshes,{$:"#2",a:allLightMatrices=_v7.a,b:$ianmackenzie$elm_3d_scene$Scene3d$allLightsEnabled},$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.points,$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled,$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault)]));case"SingleShadowedPass":var allLightMatrices=_v7.a;return $elm$core$List$concat(_List_fromArray([A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.meshes,$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled,$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault),_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$initStencil]),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.shadows,allLightMatrices.lights12,$ianmackenzie$elm_3d_scene$Scene3d$createShadowStencil),_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$storeStencilValue(0)]),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.meshes,{$:"#2",a:allLightMatrices,b:$ianmackenzie$elm_3d_scene$Scene3d$allLightsEnabled},$ianmackenzie$elm_3d_scene$Scene3d$outsideStencil),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.points,$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled,$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault)]));default:var shadowCasters=_v7.a,allLightMatrices=_v7.b;return $elm$core$List$concat(_List_fromArray([A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.meshes,{$:"#2",a:allLightMatrices,b:$ianmackenzie$elm_3d_scene$Scene3d$allLightsEnabled},$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault),_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$initStencil]),A2($ianmackenzie$elm_3d_scene$Scene3d$createShadows,renderPasses.shadows,shadowCasters),A3($ianmackenzie$elm_3d_scene$Scene3d$renderWithinShadows,renderPasses.meshes,allLightMatrices,$elm$core$List$length(shadowCasters)),A3($ianmackenzie$elm_3d_scene$Scene3d$call,renderPasses.points,$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled,$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault)]))}}function $ianmackenzie$elm_3d_scene$Scene3d$custom(_arguments){return A2($ianmackenzie$elm_3d_scene$Scene3d$composite,{antialiasing:_arguments.antialiasing,background:_arguments.background,camera:_arguments.camera,clipDepth:_arguments.clipDepth,dimensions:_arguments.dimensions},_List_fromArray([{entities:_arguments.entities,exposure:_arguments.exposure,lights:_arguments.lights,toneMapping:_arguments.toneMapping,whiteBalance:_arguments.whiteBalance}]))}function $ianmackenzie$elm_units$Illuminance$inLux(_v0){return _v0.a}function $ianmackenzie$elm_3d_scene$Scene3d$Light$overhead(_arguments){return function(light){for(;;){if(_Utils_eq(light.intensityAbove,$ianmackenzie$elm_units$Quantity$zero)&&_Utils_eq(light.intensityBelow,$ianmackenzie$elm_units$Quantity$zero))return $ianmackenzie$elm_3d_scene$Scene3d$Light$disabled;if(!A2($ianmackenzie$elm_units$Quantity$greaterThan,$ianmackenzie$elm_units$Quantity$abs(light.intensityAbove),$ianmackenzie$elm_units$Quantity$abs(light.intensityBelow))){var nitsBelow=$elm$core$Basics$abs($ianmackenzie$elm_units$Illuminance$inLux(light.intensityBelow)/3.141592653589793),nitsAbove=$elm$core$Basics$abs($ianmackenzie$elm_units$Illuminance$inLux(light.intensityAbove)/3.141592653589793),rgb=$ianmackenzie$elm_geometry$Direction3d$unwrap(light.upDirection),x=rgb.x,y=rgb.y,z=rgb.z,rgb=A2($ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToLinearRgb,{$:"Quantity",a:1},light.chromaticity).a;return{$:"Light",a:{b:nitsAbove*$elm_explorations$linear_algebra$Math$Vector3$getZ(rgb),castsShadows:!1,g:nitsAbove*$elm_explorations$linear_algebra$Math$Vector3$getY(rgb),parameter:nitsBelow/nitsAbove,r:nitsAbove*$elm_explorations$linear_algebra$Math$Vector3$getX(rgb),type_:3,x:x,y:y,z:z}}}light={chromaticity:light.chromaticity,intensityAbove:light.intensityBelow,intensityBelow:light.intensityAbove,upDirection:$ianmackenzie$elm_geometry$Direction3d$reverse(light.upDirection)}}}({chromaticity:_arguments.chromaticity,intensityAbove:_arguments.intensity,intensityBelow:$ianmackenzie$elm_units$Quantity$zero,upDirection:_arguments.upDirection})}function $ianmackenzie$elm_3d_scene$Scene3d$eraseLight(_v0){return{$:"Light",a:_v0.a}}function $ianmackenzie$elm_3d_scene$Scene3d$lightCastsShadows(_v0){return _v0.a.castsShadows}function $ianmackenzie$elm_3d_scene$Scene3d$singleLight(light){return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:(light=light.a).x,m12:light.r,m13:0,m14:0,m21:light.y,m22:light.g,m23:0,m24:0,m31:light.z,m32:light.b,m33:0,m34:0,m41:light.type_,m42:light.parameter,m43:0,m44:0})}function $ianmackenzie$elm_3d_scene$Scene3d$sunny(_arguments){var sun=A2($ianmackenzie$elm_3d_scene$Scene3d$Light$directional,{$:"CastsShadows",a:_arguments.shadows},{chromaticity:$ianmackenzie$elm_3d_scene$Scene3d$Light$sunlight,direction:_arguments.sunlightDirection,intensity:{$:"Quantity",a:8e4}}),sky=$ianmackenzie$elm_3d_scene$Scene3d$Light$overhead({chromaticity:$ianmackenzie$elm_3d_scene$Scene3d$Light$skylight,intensity:{$:"Quantity",a:2e4},upDirection:_arguments.upDirection}),lights=$ianmackenzie$elm_3d_scene$Scene3d$Light$overhead({chromaticity:$ianmackenzie$elm_3d_scene$Scene3d$Light$daylight,intensity:{$:"Quantity",a:15e3},upDirection:$ianmackenzie$elm_geometry$Direction3d$reverse(_arguments.upDirection)}),lights=A3($ianmackenzie$elm_3d_scene$Scene3d$threeLights,sun,sky,lights);return $ianmackenzie$elm_3d_scene$Scene3d$custom({antialiasing:$ianmackenzie$elm_3d_scene$Scene3d$multisampling,background:_arguments.background,camera:_arguments.camera,clipDepth:_arguments.clipDepth,dimensions:_arguments.dimensions,entities:_arguments.entities,exposure:{$:"Exposure",a:{$:"Quantity",a:1.2*A2($elm$core$Basics$pow,2,15)}},lights:lights,toneMapping:$ianmackenzie$elm_3d_scene$Scene3d$noToneMapping,whiteBalance:$ianmackenzie$elm_3d_scene$Scene3d$Light$daylight})}function $ianmackenzie$elm_3d_scene$Scene3d$unlit(_arguments){return $ianmackenzie$elm_3d_scene$Scene3d$custom({antialiasing:$ianmackenzie$elm_3d_scene$Scene3d$multisampling,background:_arguments.background,camera:_arguments.camera,clipDepth:_arguments.clipDepth,dimensions:_arguments.dimensions,entities:_arguments.entities,exposure:{$:"Exposure",a:$ianmackenzie$elm_units$Quantity$abs({$:"Quantity",a:80})},lights:$ianmackenzie$elm_3d_scene$Scene3d$noLights,toneMapping:$ianmackenzie$elm_3d_scene$Scene3d$noToneMapping,whiteBalance:$ianmackenzie$elm_3d_scene$Scene3d$Light$daylight})}function $author$project$Main$viewFirstPerson(model){return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([function(model){var camera=model.currentSceneCamera;if("Just"!==camera.$)return $mdgriffith$elm_ui$Element$none;camera=camera.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,$author$project$ViewElements$withMouseCapture,$mdgriffith$elm_ui$Element$html(A2($author$project$ScenePainter$render3dScene,model.displayOptions.withLighting,{background:{$:"BackgroundColor",a:$avh4$elm_color$Color$lightBlue},camera:camera,clipDepth:{$:"Quantity",a:1},dimensions:$author$project$Utils$view3dDimensions,entities:_Utils_ap(model.varyingVisualEntities,_Utils_ap(model.staticVisualEntities,model.terrainEntities))}))),A2($author$project$ViewElements$zoomSlider,model.zoomLevelFirstPerson,$author$project$Msg$ZoomLevelFirstPerson)]))}(model),$author$project$Main$positionControls(model)]))]))}function $author$project$Main$viewInputError(model){return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color(A3($mdgriffith$elm_ui$Element$rgb255,220,220,200)),$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$Border$width(2),$mdgriffith$elm_ui$Element$Border$color(A3($mdgriffith$elm_ui$Element$rgb255,50,50,50)),$mdgriffith$elm_ui$Element$clipY,$mdgriffith$elm_ui$Element$scrollbarY]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(860)),$mdgriffith$elm_ui$Element$height(A2($mdgriffith$elm_ui$Element$maximum,580,$mdgriffith$elm_ui$Element$fill))]),function(){if($elm$core$List$length(model.trackPoints))return{$:"Text",a:"Nothing to see here."};var content=model.gpx;if("Just"!==content.$)return{$:"Text",a:"I seem to have no filename."};content=content.a;return A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([{$:"Text",a:"I wanted to see lat, lon and ele data."},{$:"Text",a:"This is what I found instead."},{$:"Text",a:content}]))}())]))}function $author$project$Msg$ZoomLevelPlan(a){return{$:"ZoomLevelPlan",a:a}}function $author$project$Msg$ZoomLevelProfile(a){return{$:"ZoomLevelProfile",a:a}}function $author$project$Msg$ZoomLevelThirdPerson(a){return{$:"ZoomLevelThirdPerson",a:a}}function $author$project$Main$viewThirdPerson(model){var _v0=A2($elm$core$Array$get,model.currentNode,model.nodeArray);return"Nothing"===_v0.$?$mdgriffith$elm_ui$Element$none:A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([function(model){var camera=model.currentSceneCamera;if("Just"!==camera.$)return $mdgriffith$elm_ui$Element$none;camera=camera.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,$author$project$ViewElements$withMouseCapture,$mdgriffith$elm_ui$Element$html(A2($author$project$ScenePainter$render3dScene,model.displayOptions.withLighting,{background:{$:"BackgroundColor",a:$avh4$elm_color$Color$lightBlue},camera:camera,clipDepth:{$:"Quantity",a:1},dimensions:$author$project$Utils$view3dDimensions,entities:_Utils_ap(model.varyingVisualEntities,_Utils_ap(model.staticVisualEntities,model.terrainEntities))}))),A2($author$project$ViewElements$zoomSlider,model.zoomLevelThirdPerson,$author$project$Msg$ZoomLevelThirdPerson)]))}(model),$author$project$Main$positionControls(model)]))]))}function $author$project$Msg$UserChangedFilename(a){return{$:"UserChangedFilename",a:a}}function $author$project$Msg$ChooseViewMode(a){return{$:"ChooseViewMode",a:a}}_Platform_effectManagers.Http={b:$elm$json$Json$Decode$map4,c:$mdgriffith$elm_ui$Internal$Flag$fontAlignment,d:$author$project$Internal$AuthenticationError,e:$author$project$Internal$errorUriDecoder,f:F2(function(func,_v0){return A2($elm$http$Http$MySub,_v0.a,A2($elm$core$Basics$composeR,_v0.b,func))})};var r,g,b,a,$elm$http$Http$command=_Platform_leaf("Http"),$elm$http$Http$header=(_Platform_leaf("Http"),F2(function(a,b){return{$:"Header",a:a,b:b}})),$author$project$StravaDataLoad$requestStravaRoute=F3(function(msg,routeId,token){return $elm$http$Http$request({body:$elm$http$Http$emptyBody,expect:A2($elm$http$Http$expectStringResponse,msg,$elm$http$Http$resolve($elm$core$Result$Ok)),headers:A2($author$project$OAuth$useToken,token,_List_Nil),method:"GET",timeout:$elm$core$Maybe$Nothing,tracker:$elm$core$Maybe$Nothing,url:A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["api","v3","routes",routeId,"export_gpx"]),_List_Nil)})}),$author$project$StravaDataLoad$stravaRouteDecoder=A5($elm$json$Json$Decode$map4=$mdgriffith$elm_ui$Internal$Model$renderFontClassName,F4(function(name,description,distance,elevation_gain){return{description:description,distance:distance,elevation_gain:elevation_gain,name:name}}),A2($elm$json$Json$Decode$at,_List_fromArray(["name"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["description"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["distance"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["elevation_gain"]),$elm$json$Json$Decode$float)),$author$project$StravaDataLoad$requestStravaRouteHeader=F3(function(msg,routeId,token){return $elm$http$Http$request({body:$elm$http$Http$emptyBody,expect:A2($elm$http$Http$expectJson,msg,$author$project$StravaDataLoad$stravaRouteDecoder),headers:A2($author$project$OAuth$useToken,token,_List_Nil),method:"GET",timeout:$elm$core$Maybe$Nothing,tracker:$elm$core$Maybe$Nothing,url:A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["api","v3","routes",routeId]),_List_Nil)})}),$author$project$StravaDataLoad$stravaSegmentDecoder=A9($author$project$Main$update,F8(function(name,distance,elevation_high,elevation_low,start_latitude,start_longitude,end_latitude,end_longitude){return{distance:distance,elevation_high:elevation_high,elevation_low:elevation_low,end_latitude:end_latitude,end_longitude:end_longitude,name:name,start_latitude:start_latitude,start_longitude:start_longitude}}),A2($elm$json$Json$Decode$at,_List_fromArray(["name"]),$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$at,_List_fromArray(["distance"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["elevation_high"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["elevation_low"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["start_latitude"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["start_longitude"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["end_latitude"]),$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$at,_List_fromArray(["end_longitude"]),$elm$json$Json$Decode$float)),$author$project$StravaDataLoad$requestStravaSegment=F3(function(msg,segmentId,token){return $elm$http$Http$request({body:$elm$http$Http$emptyBody,expect:A2($elm$http$Http$expectJson,msg,$author$project$StravaDataLoad$stravaSegmentDecoder),headers:A2($author$project$OAuth$useToken,token,_List_Nil),method:"GET",timeout:$elm$core$Maybe$Nothing,tracker:$elm$core$Maybe$Nothing,url:A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["api","v3","segments",segmentId]),_List_Nil)})}),$mdgriffith$elm_ui$Internal$Flag$fontAlignment=F3(function(latLngs,distances,altitude){return{altitude:altitude,distances:distances,latLngs:latLngs}}),$author$project$Internal$AuthenticationError=F5(function(is_type,data,series_type,original_size,resolution){return{data:data,is_type:is_type,original_size:original_size,resolution:resolution,series_type:series_type}}),$author$project$Internal$errorUriDecoder=A3($elm$json$Json$Decode$map2,F2(function(lat,lng){return{lat:lat,lng:lng}}),A2($elm$json$Json$Decode$field,"0",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"1",$elm$json$Json$Decode$float)),$author$project$Main$update=A6($mdgriffith$elm_ui$Internal$Model$renderFontClassName=$author$project$Internal$errorDescriptionDecoder,$author$project$Internal$AuthenticationError,A2($elm$json$Json$Decode$field,"type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"data",$elm$json$Json$Decode$list($author$project$Internal$errorUriDecoder)),A2($elm$json$Json$Decode$field,"series_type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"original_size",$elm$json$Json$Decode$int),A2($elm$json$Json$Decode$field,"resolution",$elm$json$Json$Decode$string)),$author$project$Internal$errorDescriptionDecoder=A6($mdgriffith$elm_ui$Internal$Model$renderFontClassName,F5(function(is_type,data,series_type,original_size,resolution){return{data:data,is_type:is_type,original_size:original_size,resolution:resolution,series_type:series_type}}),A2($elm$json$Json$Decode$field,"type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"data",$elm$json$Json$Decode$list($elm$json$Json$Decode$float)),A2($elm$json$Json$Decode$field,"series_type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"original_size",$elm$json$Json$Decode$int),A2($elm$json$Json$Decode$field,"resolution",$elm$json$Json$Decode$string)),$author$project$Internal$AuthenticationError=A6($mdgriffith$elm_ui$Internal$Model$renderFontClassName,F5(function(is_type,data,series_type,original_size,resolution){return{data:data,is_type:is_type,original_size:original_size,resolution:resolution,series_type:series_type}}),A2($elm$json$Json$Decode$field,"type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"data",$elm$json$Json$Decode$list($elm$json$Json$Decode$float)),A2($elm$json$Json$Decode$field,"series_type",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"original_size",$elm$json$Json$Decode$int),A2($elm$json$Json$Decode$field,"resolution",$elm$json$Json$Decode$string)),$elm$json$Json$Decode$map3=$author$project$Internal$AuthenticationSuccess,$author$project$StravaDataLoad$decodeStravaSegmentStreams=A4($elm$json$Json$Decode$map3,$mdgriffith$elm_ui$Internal$Flag$fontAlignment,A2($elm$json$Json$Decode$field,"0",$author$project$Main$update),A2($elm$json$Json$Decode$field,"1",$author$project$Internal$AuthenticationError),A2($elm$json$Json$Decode$field,"2",$author$project$Internal$errorDescriptionDecoder)),$author$project$StravaDataLoad$requestStravaSegmentStreams=F3(function(msg,segmentId,token){return $elm$http$Http$request({body:$elm$http$Http$emptyBody,expect:A2($elm$http$Http$expectJson,msg,$author$project$StravaDataLoad$decodeStravaSegmentStreams),headers:A2($author$project$OAuth$useToken,token,_List_Nil),method:"GET",timeout:$elm$core$Maybe$Nothing,tracker:$elm$core$Maybe$Nothing,url:A3($elm$url$Url$Builder$crossOrigin,"https://www.strava.com",_List_fromArray(["api","v3","segments",segmentId,"streams"]),_List_Nil)})}),$elm$http$Http$expectBytesResponse=F2(function(toMsg,toResult){return A3(_Http_expect,"arraybuffer",_Http_toDataView,A2($elm$core$Basics$composeR,toResult,toMsg))}),$elm$time$Time$flooredDiv=F2(function(numerator,denominator){return $elm$core$Basics$floor(numerator/denominator)}),$elm$time$Time$toAdjustedMinutesHelp=F3(function(defaultOffset,posixMinutes,eras){for(;;){if(!eras.b)return posixMinutes+defaultOffset;var era=eras.a,olderEras=eras.b;if(_Utils_cmp(era.start,posixMinutes)<0)return posixMinutes+era.offset;defaultOffset=defaultOffset,posixMinutes=posixMinutes,eras=olderEras}}),$elm$time$Time$toAdjustedMinutes=F2(function(_v0,time){var eras=_v0.b;return A3($elm$time$Time$toAdjustedMinutesHelp,_v0.a,A2($elm$time$Time$flooredDiv,$elm$time$Time$posixToMillis(time),6e4),eras)}),$elm$time$Time$toDay=F2(function(zone,time){return $elm$time$Time$toCivil(A2($elm$time$Time$toAdjustedMinutes,zone,time)).day}),$elm$time$Time$toHour=F2(function(zone,time){return A2($elm$core$Basics$modBy,24,A2($elm$time$Time$flooredDiv,A2($elm$time$Time$toAdjustedMinutes,zone,time),60))}),$elm$time$Time$toMillis=F2(function(_v0,time){return A2($elm$core$Basics$modBy,1e3,$elm$time$Time$posixToMillis(time))}),$elm$time$Time$toMinute=F2(function(zone,time){return A2($elm$core$Basics$modBy,60,A2($elm$time$Time$toAdjustedMinutes,zone,time))}),$elm$time$Time$Apr={$:"Apr"},$elm$time$Time$Aug={$:"Aug"},$elm$time$Time$Dec={$:"Dec"},$elm$time$Time$Feb={$:"Feb"},$elm$time$Time$Jan={$:"Jan"},$elm$time$Time$Jul={$:"Jul"},$elm$time$Time$Jun={$:"Jun"},$elm$time$Time$Mar={$:"Mar"},$elm$time$Time$May={$:"May"},$elm$time$Time$Nov={$:"Nov"},$elm$time$Time$Oct={$:"Oct"},$elm$time$Time$Sep={$:"Sep"},$elm$time$Time$toMonth=F2(function(zone,time){switch($elm$time$Time$toCivil(A2($elm$time$Time$toAdjustedMinutes,zone,time)).month){case 1:return $elm$time$Time$Jan;case 2:return $elm$time$Time$Feb;case 3:return $elm$time$Time$Mar;case 4:return $elm$time$Time$Apr;case 5:return $elm$time$Time$May;case 6:return $elm$time$Time$Jun;case 7:return $elm$time$Time$Jul;case 8:return $elm$time$Time$Aug;case 9:return $elm$time$Time$Sep;case 10:return $elm$time$Time$Oct;case 11:return $elm$time$Time$Nov;default:return $elm$time$Time$Dec}}),$elm$core$String$padLeft=F3(function(n,_char,string){return _Utils_ap(A2($elm$core$String$repeat,n-$elm$core$String$length(string),$elm$core$String$fromChar(_char)),string)}),$rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString=F2(function(digits,time){return A3($elm$core$String$padLeft,digits,new String("0"),$elm$core$String$fromInt(time))}),$elm$time$Time$toSecond=F2(function(_v0,time){return A2($elm$core$Basics$modBy,60,A2($elm$time$Time$flooredDiv,$elm$time$Time$posixToMillis(time),1e3))}),$elm$time$Time$toYear=F2(function(zone,time){return $elm$time$Time$toCivil(A2($elm$time$Time$toAdjustedMinutes,zone,time)).year}),$author$project$MyIP$sendIpInfo=F3(function(time,msg,value){if("Just"!==value.$)return $elm$core$Platform$Cmd$none;value=value.a,value={city:value.city,country:value.country,ip:value.ip,latitude:value.latitude,longitude:value.longitude,region:value.region,timestamp:A2($elm$core$String$left,10,function(time){return A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,4,A2($elm$time$Time$toYear,$elm$time$Time$utc,time))+("-"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,function(month){switch(month.$){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}}(A2($elm$time$Time$toMonth,$elm$time$Time$utc,time))))+"-"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,A2($elm$time$Time$toDay,$elm$time$Time$utc,time))+"T"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,A2($elm$time$Time$toHour,$elm$time$Time$utc,time))+":"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,A2($elm$time$Time$toMinute,$elm$time$Time$utc,time))+":"+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,2,A2($elm$time$Time$toSecond,$elm$time$Time$utc,time))+"."+A2($rtfeldman$elm_iso8601_date_strings$Iso8601$toPaddedString,3,A2($elm$time$Time$toMillis,$elm$time$Time$utc,time))+"Z"}(time)),zip:value.zip};return $elm$http$Http$request({body:(value=$elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"timestamp",b:$elm$json$Json$Encode$string((value=value).timestamp)},{$:"#2",a:"ip",b:$elm$json$Json$Encode$string(value.ip)},{$:"#2",a:"country",b:$elm$json$Json$Encode$string(value.country)},{$:"#2",a:"region",b:$elm$json$Json$Encode$string(value.region)},{$:"#2",a:"city",b:$elm$json$Json$Encode$string(value.city)},{$:"#2",a:"zip",b:$elm$json$Json$Encode$string(value.zip)},{$:"#2",a:"lat",b:$elm$json$Json$Encode$float(value.latitude)},{$:"#2",a:"lon",b:$elm$json$Json$Encode$float(value.longitude)}])),A2(_Http_pair,"application/json",A2($elm$json$Json$Encode$encode,0,value))),expect:A2($elm$http$Http$expectBytesResponse,msg,$elm$http$Http$resolve(function(){return $elm$core$Result$Ok(_Utils_Tuple0)})),headers:_List_Nil,method:"POST",timeout:$elm$core$Maybe$Nothing,tracker:$elm$core$Maybe$Nothing,url:A3($elm$url$Url$Builder$crossOrigin,"https://apfcgnwhhh.execute-api.eu-west-1.amazonaws.com",_List_fromArray(["live"]),_List_Nil)})}),$author$project$Main$simulateNodeRangeNudge=F5(function(model,node1,prevNode,horizontal,vertical){var nudgedListForVisuals="Just"!==(nudgedStartPoints=A2($elm$core$Array$get,prevNode+1,model.nodeArray)).$?_List_Nil:_List_fromArray([nudgedStartPoints.a.trackPoint]),nudgedStartPoints=A2($elm$core$List$drop,node1,A2($elm$core$List$take,prevNode+1,model.nodes)),prevNode=A2($elm$core$Array$get,node1-1,model.nodeArray),nudgedStartPoints=A2($elm$core$List$map,function(neighbouringRoads){return A4($author$project$Nudge$nudgeTrackPoint,neighbouringRoads.trackPoint,(neighbouringRoads=_List_fromArray([A2($elm$core$Array$get,(numBearings=neighbouringRoads).trackPoint.idx-1,model.roadArray),A2($elm$core$Array$get,numBearings.trackPoint.idx,model.roadArray)]),numBearings=$elm$core$List$length(A2($elm$core$List$filterMap,$elm$core$Maybe$map(function($){return $.bearing}),neighbouringRoads)),$elm$core$List$sum(A2($elm$core$List$filterMap,$elm$core$Maybe$map(function($){return $.bearing}),neighbouringRoads))/numBearings),horizontal,vertical);var numBearings},nudgedStartPoints),nudgedListForVisuals=_Utils_ap("Nothing"===prevNode.$?_List_Nil:_List_fromArray([prevNode.a.trackPoint]),_Utils_ap(nudgedStartPoints,nudgedListForVisuals));return _Utils_update(model,{nudgeValue:horizontal,nudgedNodeRoads:$author$project$NodesAndRoads$deriveRoads(A2($author$project$NodesAndRoads$deriveNodes,model.trackPointBox,nudgedListForVisuals)),nudgedRegionStart:node1,verticalNudgeValue:vertical})}),$author$project$Main$simulateNudgeNode=F3(function(model,horizontal,vertical){var _v0=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode),_v0={$:"#2",a:A2($elm$core$Basics$min,model.currentNode,_v0),b:A2($elm$core$Basics$max,model.currentNode,_v0)};return A5($author$project$Main$simulateNodeRangeNudge,model,_v0.a,_v0.b,horizontal,vertical)}),$author$project$Main$smoothGradient=F2(function(model,gradient){var n=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode),m={$:"#2",a:A2($elm$core$Basics$min,model.currentNode,n),b:A2($elm$core$Basics$max,model.currentNode,n)},start=m.a,finish=m.b,bumpyTrackPoints=A2($elm$core$List$drop,start,A2($elm$core$List$take,finish-1,model.roads)),n=A2($elm$core$Array$get,start,model.nodeArray),m="gradient smoothing\nfrom "+$elm$core$String$fromInt(start)+(" to "+$elm$core$String$fromInt(finish)+(", \nbumpiness "+$author$project$Utils$showDecimal2(model.bumpinessFactor)))+".";if("Just"!==n.$)return model;n=n.a,bumpyTrackPoints=A3($elm$core$List$map2,F2(function(newTP,oldTP){oldTP=oldTP.endsAt.trackPoint;return _Utils_update(oldTP,{ele:model.bumpinessFactor*oldTP.ele+(1-model.bumpinessFactor)*newTP.ele})}),$elm$core$List$reverse(A3($elm$core$List$foldl,F2(function(road,increase){var startEle=increase.a,newTPs=increase.b,increase=road.length*gradient/100;return{$:"#2",a:startEle+increase,b:A2($elm$core$List$cons,_Utils_update(road.endsAt.trackPoint,{ele:startEle+increase}),newTPs)}}),{$:"#2",a:n.trackPoint.ele,b:_List_Nil},bumpyTrackPoints).b),bumpyTrackPoints);return _Utils_update(m=A2($author$project$Main$addToUndoStack,m,model),{trackPoints:$author$project$TrackPoint$reindexTrackpoints(_Utils_ap(A2($elm$core$List$take,start+1,m.trackPoints),_Utils_ap(bumpyTrackPoints,A2($elm$core$List$drop,finish,m.trackPoints))))})}),$author$project$Main$startFlythrough=function(model){var _v0=model.flythrough;return"Just"!==_v0.$?$author$project$Main$startFlythrough($author$project$Main$resetFlythrough(model)):_Utils_update(model,{flythrough:$elm$core$Maybe$Just(_Utils_update(_v0.a,{lastUpdated:model.time,running:!0}))})},$ianmackenzie$elm_geometry$BoundingBox2d$contains=F2(function(point,boundingBox){return A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,boundingBox.a.minX,$ianmackenzie$elm_geometry$Point2d$xCoordinate(point))&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,function(_v0){return _v0.a.maxX}(boundingBox),$ianmackenzie$elm_geometry$Point2d$xCoordinate(point))&&A2($ianmackenzie$elm_units$Quantity$greaterThanOrEqualTo,function(_v0){return _v0.a.minY}(boundingBox),$ianmackenzie$elm_geometry$Point2d$yCoordinate(point))&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,function(_v0){return _v0.a.maxY}(boundingBox),$ianmackenzie$elm_geometry$Point2d$yCoordinate(point))}),$author$project$StravaDataLoad$stravaProcessSegment=F2(function(response,_v0){var _v0=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(_v0),minX=_v0.minX,maxX=_v0.maxX,minY=_v0.minY,maxY=_v0.maxY;if("Ok"!==response.$)return{$:"SegmentError",a:$author$project$Utils$httpErrorString(response.a)};var finish,flatBox,start,segment=response.a;return start=A2($ianmackenzie$elm_geometry$Point2d$meters,(finish=segment).start_longitude,finish.start_latitude),flatBox=A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,(flatBox={maxX:maxX,maxY:maxY,minX:minX,minY:minY}).maxX,flatBox.minX)&&A2($ianmackenzie$elm_units$Quantity$lessThanOrEqualTo,flatBox.maxY,flatBox.minY)?{$:"BoundingBox2d",a:flatBox}:{$:"BoundingBox2d",a:{maxX:A2($ianmackenzie$elm_units$Quantity$max,flatBox.minX,flatBox.maxX),maxY:A2($ianmackenzie$elm_units$Quantity$max,flatBox.minY,flatBox.maxY),minX:A2($ianmackenzie$elm_units$Quantity$min,flatBox.minX,flatBox.maxX),minY:A2($ianmackenzie$elm_units$Quantity$min,flatBox.minY,flatBox.maxY)}},finish=A2($ianmackenzie$elm_geometry$Point2d$meters,finish.end_longitude,finish.end_latitude),A2($ianmackenzie$elm_geometry$BoundingBox2d$contains,start,flatBox)&&A2($ianmackenzie$elm_geometry$BoundingBox2d$contains,finish,flatBox)?{$:"SegmentOk",a:segment}:{$:"SegmentNotInRoute",a:segment}}),$elm$file$File$toString=function(blob){return{$:2,b:function(callback){var reader=new FileReader;return reader.addEventListener("loadend",function(){callback({$:0,a:reader.result})}),reader.readAsText(blob),function(){reader.abort()}},c:null}},$author$project$MapController$toggleDragging=F2(function(state,info){return $author$project$MapController$mapPort($elm$json$Json$Encode$object(_List_fromArray([{$:"#2",a:"Cmd",b:$elm$json$Json$Encode$string("Drag")},{$:"#2",a:"Enable",b:$elm$json$Json$Encode$bool(state)},{$:"#2",a:"points",b:$author$project$TrackPoint$trackPointsToJSON(info.points)}])))}),$author$project$Internal$errorUriDecoder=F3(function(id,firstname,lastname){return{firstname:firstname,id:id,lastname:lastname}}),$author$project$StravaAuth$configuration={authorizationEndpoint:_Utils_update($mdgriffith$elm_ui$Internal$Model$renderFontClassName={fragment:$elm$core$Maybe$Nothing,host:"",path:"",port_:$elm$core$Maybe$Nothing,protocol:$elm$url$Url$Https,query:$elm$core$Maybe$Nothing},{host:"www.strava.com",path:"/oauth/authorize"}),clientId:"59195",clientSecret:"",scope:_List_fromArray(["read_all"]),tokenEndpoint:_Utils_update($mdgriffith$elm_ui$Internal$Model$renderFontClassName,{host:"www.strava.com",path:"/oauth/token"}),userInfoDecoder:A4($elm$json$Json$Decode$map3,$author$project$Internal$errorUriDecoder,A2($elm$json$Json$Decode$field,"id",$elm$json$Json$Decode$int),A2($elm$json$Json$Decode$field,"firstname",$elm$json$Json$Decode$string),A2($elm$json$Json$Decode$field,"lastname",$elm$json$Json$Decode$string)),userInfoEndpoint:_Utils_update($mdgriffith$elm_ui$Internal$Model$renderFontClassName,{host:"www.strava.com",path:"/api/v3/athlete"})},$author$project$Internal$AuthenticationSuccess=F4(function(token,refreshToken,expiresIn,scope){return{expiresIn:expiresIn,refreshToken:refreshToken,scope:scope,token:token}}),$author$project$Main$update=($mdgriffith$elm_ui$Internal$Flag$fontAlignment=function(decoder){return $elm$json$Json$Decode$oneOf(_List_fromArray([A2($elm$json$Json$Decode$map,$elm$core$Maybe$Just,decoder),$elm$json$Json$Decode$succeed($elm$core$Maybe$Nothing)]))})(A2($elm$json$Json$Decode$field,"expires_in",$elm$json$Json$Decode$int)),$author$project$Internal$AuthenticationError=function(msg){return A2($elm$core$Basics$composeR,$elm$core$Maybe$map($elm$json$Json$Decode$succeed),$elm$core$Maybe$withDefault($elm$json$Json$Decode$fail(msg)))},$elm$core$Maybe$map2=F3(function(func,ma,mb){return"Nothing"===ma.$||"Nothing"===mb.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(A2(func,ma.a,mb.a))}),$author$project$Extra$Maybe$andThen2=F3(function(fn,ma,mb){return A2($elm$core$Maybe$andThen,$elm$core$Basics$identity,A3($elm$core$Maybe$map2,fn,ma,mb))}),$elm$core$String$toLower=function(str){return str.toLowerCase()},$author$project$OAuth$tryMakeToken=F2(function(tokenType,token){return"bearer"===$elm$core$String$toLower(tokenType)?$elm$core$Maybe$Just({$:"Bearer",a:token}):$elm$core$Maybe$Nothing}),$author$project$Internal$errorDescriptionDecoder=F2(function(tokenType,_v0){_v0={$:"#2",a:_v0,b:A3($author$project$Extra$Maybe$andThen2,$author$project$OAuth$tryMakeToken,$elm$core$Maybe$Just(tokenType),_v0)};if("Nothing"!==_v0.a.$)return"Just"!==_v0.b.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just($elm$core$Maybe$Just(_v0.b.a));return $elm$core$Maybe$Just($elm$core$Maybe$Nothing)}),$author$project$Internal$errorUriDecoder=A2($elm$json$Json$Decode$andThen,$author$project$Internal$AuthenticationError("missing or invalid 'refresh_token' / 'token_type'"),A3($elm$json$Json$Decode$map2,$author$project$Internal$errorDescriptionDecoder,A2($elm$json$Json$Decode$field,"token_type",$elm$json$Json$Decode$string),$mdgriffith$elm_ui$Internal$Flag$fontAlignment(A2($elm$json$Json$Decode$field,"refresh_token",$elm$json$Json$Decode$string)))),$mdgriffith$elm_ui$Internal$Model$renderFontClassName=A2($elm$json$Json$Decode$map,$elm$core$Maybe$withDefault(_List_Nil),$mdgriffith$elm_ui$Internal$Flag$fontAlignment(A2($elm$json$Json$Decode$field,"scope",$elm$json$Json$Decode$list($elm$json$Json$Decode$string)))),$author$project$Internal$errorDescriptionDecoder=$author$project$Extra$Maybe$andThen2($author$project$OAuth$tryMakeToken),$author$project$Internal$authenticationSuccessDecoder=A5($elm$json$Json$Decode$map4,$author$project$Internal$AuthenticationSuccess,A2($elm$json$Json$Decode$andThen,$author$project$Internal$AuthenticationError("missing or invalid 'access_token' / 'token_type'"),A3($elm$json$Json$Decode$map2,$author$project$Internal$errorDescriptionDecoder,A2($elm$json$Json$Decode$map,$elm$core$Maybe$Just,A2($elm$json$Json$Decode$field,"token_type",$elm$json$Json$Decode$string)),A2($elm$json$Json$Decode$map,$elm$core$Maybe$Just,A2($elm$json$Json$Decode$field,"access_token",$elm$json$Json$Decode$string)))),$author$project$Internal$errorUriDecoder,$author$project$Main$update,$mdgriffith$elm_ui$Internal$Model$renderFontClassName),$elm$http$Http$stringBody=_Http_pair,$author$project$Internal$makeRequest=F4(function(toMsg,url,headers,body){return{body:A2($elm$http$Http$stringBody,"application/x-www-form-urlencoded",body),expect:A2($elm$http$Http$expectJson,toMsg,$author$project$Internal$authenticationSuccessDecoder),headers:headers,method:"POST",timeout:$elm$core$Maybe$Nothing,tracker:$elm$core$Maybe$Nothing,url:$elm$url$Url$toString(url)}}),$elm$url$Url$Builder$QueryParameter=F2(function(a,b){return{$:"QueryParameter",a:a,b:b}}),$elm$url$Url$percentEncode=function(string){return encodeURIComponent(string)},$elm$url$Url$Builder$string=F2(function(key,value){return A2($elm$url$Url$Builder$QueryParameter,$elm$url$Url$percentEncode(key),$elm$url$Url$percentEncode(value))}),$author$project$OAuth$AuthorizationCode$makeTokenRequest=F2(function(toMsg,headers){var _v1,credentials=headers.credentials,body=headers.code,url=headers.url,redirectUri=headers.redirectUri,headers=function(credentials){return A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,function(s){return _List_fromArray([A2($elm$http$Http$header,"Authorization","Basic "+s)])},A2($elm$core$Maybe$map,function(_v0){return $chelovek0v$bbase64$Base64$Encode$encode({$:"StringEncoder",a:_v0.clientId+":"+_v0.secret})},credentials)))}("Nothing"===(_v1=credentials.secret).$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just({clientId:credentials.clientId,secret:_v1.a})),body=A2($elm$core$String$dropLeft,1,$elm$url$Url$Builder$toQuery(_Utils_ap("Just"!==(_v1=credentials.secret).$?_List_Nil:_List_fromArray([A2($elm$url$Url$Builder$string,"client_secret",_v1.a)]),_List_fromArray([A2($elm$url$Url$Builder$string,"grant_type","authorization_code"),A2($elm$url$Url$Builder$string,"client_id",credentials.clientId),A2($elm$url$Url$Builder$string,"redirect_uri",$author$project$Internal$makeRedirectUri(redirectUri)),A2($elm$url$Url$Builder$string,"code",body)]))));return A4($author$project$Internal$makeRequest,toMsg,url,headers,body)}),$author$project$StravaAuth$getAccessToken=F3(function(_v0,redirectUri,code){var tokenEndpoint=_v0.tokenEndpoint;return $elm$http$Http$request(A2($author$project$OAuth$AuthorizationCode$makeTokenRequest,$author$project$OAuthTypes$GotAccessToken,{code:code,credentials:{clientId:_v0.clientId,secret:$elm$core$Maybe$Just("")},redirectUri:redirectUri,url:tokenEndpoint}))}),$author$project$StravaAuth$accessTokenRequested=F2(function(model,code){return{$:"#2",a:_Utils_update(model,{flow:{$:"Authorized",a:code}}),b:A3($author$project$StravaAuth$getAccessToken,$author$project$StravaAuth$configuration,model.redirectUri,code)}}),$author$project$OAuthTypes$ErrHTTPGetAccessToken={$:"ErrHTTPGetAccessToken"},$author$project$OAuthTypes$UserInfoRequested={$:"UserInfoRequested"},$author$project$Internal$AuthenticationError=F3(function(error,errorDescription,errorUri){return{error:error,errorDescription:errorDescription,errorUri:errorUri}}),$author$project$Internal$errorDescriptionDecoder=$mdgriffith$elm_ui$Internal$Flag$fontAlignment(A2($elm$json$Json$Decode$field,"error_description",$elm$json$Json$Decode$string)),$author$project$Internal$errorUriDecoder=$mdgriffith$elm_ui$Internal$Flag$fontAlignment(A2($elm$json$Json$Decode$field,"error_uri",$elm$json$Json$Decode$string)),$author$project$OAuth$AuthorizationCode$defaultAuthenticationErrorDecoder=A4($elm$json$Json$Decode$map3,$author$project$Internal$AuthenticationError,A2($elm$json$Json$Decode$map,$author$project$OAuth$errorCodeFromString,A2($elm$json$Json$Decode$field,"error",$elm$json$Json$Decode$string)),$author$project$Internal$errorDescriptionDecoder,$author$project$Internal$errorUriDecoder),$author$project$StravaAuth$gotAccessToken=F2(function(model,_v1){if("Err"!==_v1.$)return{$:"#2",a:_Utils_update(model,{flow:{$:"Authenticated",a:_v1.a.token}}),b:A3($andrewMacmurray$elm_delay$Delay$after,100,$andrewMacmurray$elm_delay$Delay$Millisecond,$author$project$OAuthTypes$UserInfoRequested)};if("BadBody"!==_v1.a.$)return{$:"#2",a:_Utils_update(model,{flow:{$:"Errored",a:$author$project$OAuthTypes$ErrHTTPGetAccessToken}}),b:$elm$core$Platform$Cmd$none};_v1=A2($elm$json$Json$Decode$decodeString,$author$project$OAuth$AuthorizationCode$defaultAuthenticationErrorDecoder,_v1.a.a);return"Ok"!==_v1.$?{$:"#2",a:_Utils_update(model,{flow:{$:"Errored",a:$author$project$OAuthTypes$ErrHTTPGetAccessToken}}),b:$elm$core$Platform$Cmd$none}:{$:"#2",a:_Utils_update(model,{flow:{$:"Errored",a:{$:"ErrAuthentication",a:_v1.a}}}),b:$elm$core$Platform$Cmd$none}}),$elm$browser$Browser$Navigation$load=function(url){return A2($elm$core$Task$perform,$elm$core$Basics$never,{$:2,b:function(){try{_Browser_window.location=url}catch(err){_VirtualDom_doc.location.reload(!1)}},c:null})},$author$project$Internal$Code={$:"Code"},$author$project$Internal$urlAddList=F3(function(param,xs,qs){return _Utils_ap(qs,xs.b?_List_fromArray([A2($elm$url$Url$Builder$string,param,A2($elm$core$String$join," ",xs))]):_List_Nil)}),$author$project$Internal$urlAddMaybe=F3(function(param,ms,qs){return _Utils_ap(qs,"Nothing"===ms.$?_List_Nil:_List_fromArray([A2($elm$url$Url$Builder$string,param,ms.a)]))}),$author$project$Internal$makeAuthorizationUrl=F2(function(_v1,codeChallenge){var clientId=codeChallenge.clientId,url=codeChallenge.url,query=codeChallenge.redirectUri,scope=codeChallenge.scope,state=codeChallenge.state,codeChallenge=codeChallenge.codeChallenge,query=A2($elm$core$String$dropLeft,1,$elm$url$Url$Builder$toQuery(A3($author$project$Internal$urlAddMaybe,"code_challenge_method",A2($elm$core$Maybe$map,$elm$core$Basics$always("S256"),codeChallenge),A3($author$project$Internal$urlAddMaybe,"code_challenge",codeChallenge,A3($author$project$Internal$urlAddMaybe,"state",state,A3($author$project$Internal$urlAddList,"scope",scope,_List_fromArray([A2($elm$url$Url$Builder$string,"client_id",clientId),A2($elm$url$Url$Builder$string,"redirect_uri",$author$project$Internal$makeRedirectUri(query)),A2($elm$url$Url$Builder$string,"response_type","Code"===_v1.$?"code":"token")]))))))),_v1=url.query;return _Utils_update(url,"Nothing"===_v1.$?{query:$elm$core$Maybe$Just(query)}:{query:$elm$core$Maybe$Just(_v1.a+"&"+query)})}),$author$project$StravaAuth$gotRandomBytes=F2(function(model,authorization){authorization=$author$project$StravaAuth$convertBytes(authorization),authorization={clientId:$author$project$StravaAuth$configuration.clientId,redirectUri:model.redirectUri,scope:$author$project$StravaAuth$configuration.scope,state:$elm$core$Maybe$Just(authorization.state),url:$author$project$StravaAuth$configuration.authorizationEndpoint};return{$:"#2",a:_Utils_update(model,{flow:$author$project$OAuthTypes$Idle}),b:$elm$browser$Browser$Navigation$load($elm$url$Url$toString(function(_v0){return A2($author$project$Internal$makeAuthorizationUrl,$author$project$Internal$Code,{clientId:_v0.clientId,codeChallenge:$elm$core$Maybe$Nothing,redirectUri:_v0.redirectUri,scope:_v0.scope,state:_v0.state,url:_v0.url})}(authorization)))}}),$author$project$OAuthTypes$Done=F2(function(a,b){return{$:"Done",a:a,b:b}}),$author$project$OAuthTypes$ErrHTTPGetUserInfo={$:"ErrHTTPGetUserInfo"},$author$project$StravaAuth$gotUserInfo=F2(function(model,_v0){_v0={$:"#2",a:model.flow,b:_v0};return"Err"===_v0.b.$?{$:"#2",a:_Utils_update(model,{flow:{$:"Errored",a:$author$project$OAuthTypes$ErrHTTPGetUserInfo}}),b:$elm$core$Platform$Cmd$none}:"Authenticated"!==_v0.a.$?{$:"#2",a:_Utils_update(model,{flow:{$:"Errored",a:$author$project$OAuthTypes$ErrStateMismatch}}),b:$elm$core$Platform$Cmd$none}:{$:"#2",a:_Utils_update(model,{flow:A2($author$project$OAuthTypes$Done,_v0.b.a,_v0.a.a)}),b:$elm$core$Platform$Cmd$none}}),$author$project$OAuthPorts$genRandomBytes=_Platform_outgoingPort("genRandomBytes",_Json_wrap),$author$project$StravaAuth$getUserInfo=F2(function(_v0,token){var userInfoEndpoint=_v0.userInfoEndpoint;return $elm$http$Http$request({body:$elm$http$Http$emptyBody,expect:A2($elm$http$Http$expectJson,$author$project$OAuthTypes$GotUserInfo,_v0.userInfoDecoder),headers:A2($author$project$OAuth$useToken,token,_List_Nil),method:"GET",timeout:$elm$core$Maybe$Nothing,tracker:$elm$core$Maybe$Nothing,url:$elm$url$Url$toString(userInfoEndpoint)})}),$author$project$StravaAuth$userInfoRequested=F2(function(model,token){return{$:"#2",a:_Utils_update(model,{flow:{$:"Authenticated",a:token}}),b:A2($author$project$StravaAuth$getUserInfo,$author$project$StravaAuth$configuration,token)}}),$author$project$StravaAuth$update=F2(function(msg,model){var _v0={$:"#2",a:model.flow,b:msg};_v0$7:for(;;)switch(_v0.a.$){case"Idle":switch(_v0.b.$){case"SignInRequested":return function(model){return{$:"#2",a:_Utils_update(model,{flow:$author$project$OAuthTypes$Idle}),b:$author$project$OAuthPorts$genRandomBytes(16)}}(model);case"GotRandomBytes":return A2($author$project$StravaAuth$gotRandomBytes,model,_v0.b.a);default:break _v0$7}case"Authorized":switch(_v0.b.$){case"AccessTokenRequested":return A2($author$project$StravaAuth$accessTokenRequested,model,_v0.a.a);case"GotAccessToken":return A2($author$project$StravaAuth$gotAccessToken,model,_v0.b.a);default:break _v0$7}case"Authenticated":switch(_v0.b.$){case"UserInfoRequested":return A2($author$project$StravaAuth$userInfoRequested,model,_v0.a.a);case"GotUserInfo":return A2($author$project$StravaAuth$gotUserInfo,model,_v0.b.a);default:break _v0$7}case"Done":if("SignOutRequested"!==_v0.b.$)break _v0$7;return function(model){return{$:"#2",a:_Utils_update(model,{flow:$author$project$OAuthTypes$Idle}),b:$elm$browser$Browser$Navigation$load($elm$url$Url$toString(model.redirectUri))}}(model);default:break _v0$7}return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none}}),$author$project$Main$update=F2(function(msg,model){var options=model.displayOptions;switch(msg.$){case"OAuthMessage":var authCmd=A2($author$project$StravaAuth$update,msg.a,model.stravaAuthentication),newAuthData=authCmd.a,authCmd=authCmd.b;$author$project$StravaAuth$getStravaToken(newAuthData);return{$:"#2",a:_Utils_update(model,{stravaAuthentication:newAuthData}),b:A2($elm$core$Platform$Cmd$map,$author$project$Msg$OAuthMessage,authCmd)};case"NoOpMsg":return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};case"UserChangedFilename":return{$:"#2",a:_Utils_update(model,{filename:$elm$core$Maybe$Just(msg.a)}),b:$elm$core$Platform$Cmd$none};case"UserChangedSegmentId":var routeId=A2($elm$core$Maybe$withDefault,"",$elm$core$List$head($elm$core$List$reverse(A2($elm$core$String$split,"/",msg.a))));return{$:"#2",a:_Utils_update(model,{externalSegment:$author$project$StravaTypes$SegmentNone,externalSegmentId:routeId}),b:$elm$core$Platform$Cmd$none};case"UserChangedRouteId":routeId=A2($elm$core$Maybe$withDefault,"",$elm$core$List$head($elm$core$List$reverse(A2($elm$core$String$split,"/",msg.a))));return{$:"#2",a:_Utils_update(model,{externalRouteId:routeId}),b:$elm$core$Platform$Cmd$none};case"MapMessage":var newInfo=msg.a,newTime=model.mapInfo;if("Just"!==newTime.$)return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};newTime=A2($author$project$MapController$processMapMessage,newTime.a,newInfo);if("Just"!==newTime.$)return A2($author$project$Main$locallyHandleMapMessage,model,newInfo);newInfo=newTime.a,newTime=newInfo.b;return{$:"#2",a:_Utils_update(model,{mapInfo:$elm$core$Maybe$Just(newInfo=newInfo.a)}),b:newTime};case"Tick":newTime=msg.a;return{$:"#2",a:A2($author$project$Main$advanceFlythrough,newTime,_Utils_update(model,{time:newTime})),b:$elm$core$Platform$Cmd$none};case"AccordionMessage":var file=msg.a;return{$:"#2",a:_Utils_update(model,{infoAccordion:A2($author$project$Accordion$accordionToggle,model.infoAccordion,file),toolsAccordion:A2($author$project$Accordion$accordionToggle,model.toolsAccordion,file)}),b:$elm$core$Platform$Cmd$none};case"AdjustTimeZone":return{$:"#2",a:_Utils_update(model,{zone:msg.a}),b:function(msg){return $elm$http$Http$request({body:$elm$http$Http$emptyBody,expect:A2($elm$http$Http$expectJson,msg,$author$project$GeoCodeDecoders$ipInfoDecoder),headers:_List_Nil,method:"GET",timeout:$elm$core$Maybe$Nothing,tracker:$elm$core$Maybe$Nothing,url:A3($elm$url$Url$Builder$crossOrigin,"http://ip-api.com",_List_fromArray(["json"]),_List_Nil)})}($author$project$Msg$ReceivedIpDetails)};case"GpxRequested":return{$:"#2",a:model,b:A2($elm$file$File$Select$file,_List_fromArray(["text/gpx"]),$author$project$Msg$GpxSelected)};case"GpxSelected":file=msg.a;return{$:"#2",a:_Utils_update(model,{filename:$elm$core$Maybe$Just($elm$file$File$name(file))}),b:A2($elm$core$Task$perform,$author$project$Msg$GpxLoaded,$elm$file$File$toString(file))};case"GpxDownloaded":return"Ok"!==(state=msg.a).$?{$:"#2",a:model,b:$elm$core$Platform$Cmd$none}:A3($author$project$Main$commonModelLoader,model,state.a,$author$project$Main$GpxStrava);case"GpxLoaded":return A3($author$project$Main$commonModelLoader,model,msg.a,$author$project$Main$GpxLocalFile);case"UserMovedNodeSlider":return{$:"#2",a:m=$author$project$Main$checkSceneCamera($author$project$Main$centreViewOnCurrentNode($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother($author$project$Main$cancelFlythrough(_Utils_update(model,{currentNode:msg.a})))))),b:$author$project$Main$updateMapVaryingElements(m)};case"SetSmoothingEnd":return{$:"#2",a:m=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{smoothingEndIndex:$elm$core$Maybe$Just(msg.a)}))),b:$author$project$Main$updateMapVaryingElements(m)};case"PositionForwardOne":return{$:"#2",a:m=$author$project$Main$checkSceneCamera($author$project$Main$centreViewOnCurrentNode($author$project$Main$cancelFlythrough($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{currentNode:A2($elm$core$Basics$modBy,$elm$core$Array$length(model.nodeArray),model.currentNode+1)})))))),b:$author$project$Main$updateMapVaryingElements(m)};case"PositionBackOne":return{$:"#2",a:m=$author$project$Main$checkSceneCamera($author$project$Main$centreViewOnCurrentNode($author$project$Main$cancelFlythrough($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{currentNode:A2($elm$core$Basics$modBy,$elm$core$Array$length(model.nodeArray),model.currentNode-1)})))))),b:$author$project$Main$updateMapVaryingElements(m)};case"MarkerForwardOne":return{$:"#2",a:m=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{markedNode:A2($elm$core$Maybe$map,function(m){return A2($elm$core$Basics$modBy,$elm$core$Array$length(model.nodeArray),m+1)},model.markedNode)}))),b:$author$project$Main$updateMapVaryingElements(m)};case"MarkerBackOne":return{$:"#2",a:m=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{markedNode:A2($elm$core$Maybe$map,function(m){return A2($elm$core$Basics$modBy,$elm$core$Array$length(model.nodeArray),m-1)},model.markedNode)}))),b:$author$project$Main$updateMapVaryingElements(m)};case"SetBendTrackPointSpacing":return{$:"#2",a:m=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{bendTrackPointSpacing:msg.a}))),b:$author$project$Main$updateMapVaryingElements(m)};case"ChooseViewMode":return A2($author$project$Main$switchViewMode,model,msg.a);case"MapRemoved":var _v12=model.mapInfo;if("Just"!==_v12.$)return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};_v12=_v12.a,newInfo=_Utils_update(_v12,{mapState:$author$project$MapController$MapStopped});return{$:"#2",a:$author$project$Main$checkSceneCamera($author$project$Main$deriveVaryingVisualEntities(_Utils_update(model,{mapInfo:$elm$core$Maybe$Just(newInfo),viewingMode:_v12.nextView}))),b:$elm$core$Platform$Cmd$none};case"ZoomLevelOverview":return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{zoomLevelOverview:msg.a})),b:$elm$core$Platform$Cmd$none};case"ZoomLevelFirstPerson":return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{zoomLevelFirstPerson:msg.a})),b:$elm$core$Platform$Cmd$none};case"ZoomLevelThirdPerson":return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{zoomLevelThirdPerson:msg.a})),b:$elm$core$Platform$Cmd$none};case"ZoomLevelProfile":return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{zoomLevelProfile:msg.a})),b:$elm$core$Platform$Cmd$none};case"ZoomLevelPlan":return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{zoomLevelPlan:msg.a})),b:$elm$core$Platform$Cmd$none};case"ImageGrab":var alternate=(event=msg.a).keys.ctrl||_Utils_eq(event.button,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$SecondButton);return{$:"#2",a:_Utils_update(model,{dragAction:function(){var _v7={$:"#2",a:model.viewingMode,b:alternate};switch(_v7.a.$){case"ThirdPersonView":if(_v7.b)return $author$project$Main$DragRotate;return $author$project$Main$DragPan;case"ProfileView":return $author$project$Main$DragProfile;case"PlanView":return $author$project$Main$DragPlan;default:return $author$project$Main$DragNone}}(),mouseDownTime:model.time,orbiting:$elm$core$Maybe$Just(event.offsetPos)}),b:$elm$core$Platform$Cmd$none};case"ImageDrag":var _v12=(event=msg.a).offsetPos,dx=_v12.a,dy=_v12.b,_v13={$:"#3",a:model.dragAction,b:model.orbiting,c:model.currentSceneCamera};_v13$4:for(;"Just"===_v13.b.$&&"Just"===_v13.c.$;)switch(_v13.a.$){case"DragRotate":var newAzimuth=_v13.b.a,newElevation=$ianmackenzie$elm_units$Angle$degrees($ianmackenzie$elm_units$Angle$inDegrees(model.elevation)+(dy-(startY=newAzimuth.b))),newAzimuth=$ianmackenzie$elm_units$Angle$degrees($ianmackenzie$elm_units$Angle$inDegrees(model.azimuth)-(dx-newAzimuth.a));return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{azimuth:newAzimuth,elevation:newElevation,orbiting:$elm$core$Maybe$Just({$:"#2",a:dx,b:dy})})),b:$elm$core$Platform$Cmd$none};case"DragPan":var newFocus=_v13.b.a,startY=newFocus.b,currentViewpoint=$ianmackenzie$elm_3d_camera$Camera3d$viewpoint(_v13.c.a),xDirection=$ianmackenzie$elm_3d_camera$Viewpoint3d$xDirection(currentViewpoint),yDirection=$ianmackenzie$elm_3d_camera$Viewpoint3d$yDirection(currentViewpoint);return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{cameraFocusThirdPerson:newFocus=A2($ianmackenzie$elm_geometry$Point3d$translateBy,A2($ianmackenzie$elm_geometry$Vector3d$plus,xMovement=A2($ianmackenzie$elm_geometry$Vector3d$withLength,{$:"Quantity",a:.5*(newFocus.a-dx)},xDirection),A2($ianmackenzie$elm_geometry$Vector3d$withLength,{$:"Quantity",a:.5*(dy-startY)},yDirection)),model.cameraFocusThirdPerson),orbiting:$elm$core$Maybe$Just({$:"#2",a:dx,b:dy})})),b:$elm$core$Platform$Cmd$none};case"DragPlan":var _v21=_v13.b.a,startY=_v21.b,currentViewpoint=$ianmackenzie$elm_3d_camera$Camera3d$viewpoint(_v13.c.a),xDirection=$ianmackenzie$elm_3d_camera$Viewpoint3d$xDirection(currentViewpoint),yDirection=$ianmackenzie$elm_3d_camera$Viewpoint3d$yDirection(currentViewpoint);return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{cameraFocusPlan:newFocus=A2($ianmackenzie$elm_geometry$Point3d$translateBy,A2($ianmackenzie$elm_geometry$Vector3d$plus,xMovement=A2($ianmackenzie$elm_geometry$Vector3d$withLength,{$:"Quantity",a:.5*(_v21.a-dx)},xDirection),A2($ianmackenzie$elm_geometry$Vector3d$withLength,{$:"Quantity",a:.5*(dy-startY)},yDirection)),model.cameraFocusPlan),orbiting:$elm$core$Maybe$Just({$:"#2",a:dx,b:dy})})),b:$elm$core$Platform$Cmd$none};case"DragProfile":var _v21=_v13.b.a,startY=_v21.b,xMovement=$elm$core$Basics$round(.2*(_v21.a-dx)),newFocus=A3($elm$core$Basics$clamp,0,$elm$core$Array$length(model.roadArray)-1,model.cameraFocusProfileNode+xMovement);return{$:"#2",a:$author$project$Main$checkSceneCamera(_Utils_update(model,{cameraFocusProfileNode:newFocus,orbiting:$elm$core$Maybe$Just({$:"#2",a:dx,b:dy})})),b:$elm$core$Platform$Cmd$none};default:break _v13$4}return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};case"ImageRelease":return{$:"#2",a:_Utils_update(model,{dragAction:$author$project$Main$DragNone,orbiting:$elm$core$Maybe$Nothing}),b:$elm$core$Platform$Cmd$none};case"ToggleCones":return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{displayOptions:_Utils_update(options,{roadCones:!options.roadCones})})));case"ToggleLighting":return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{displayOptions:_Utils_update(options,{withLighting:!options.withLighting})})));case"TogglePillars":return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{displayOptions:_Utils_update(options,{roadPillars:!options.roadPillars})})));case"ToggleRoad":return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{displayOptions:_Utils_update(options,{roadTrack:!options.roadTrack})})));case"ToggleCentreLine":return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{displayOptions:_Utils_update(options,{centreLine:!options.centreLine})})));case"SetCurtainStyle":return $author$project$Main$synchroniseMap($author$project$Main$deriveStaticVisualEntities(_Utils_update(model,{displayOptions:_Utils_update(options,{curtainStyle:msg.a})})));case"SetGradientChangeThreshold":return{$:"#2",a:$author$project$Main$deriveProblems(_Utils_update(model,{gradientChangeThreshold:msg.a})),b:$elm$core$Platform$Cmd$none};case"SetBearingChangeThreshold":return{$:"#2",a:$author$project$Main$deriveProblems(_Utils_update(model,{bearingChangeThreshold:$elm$core$Basics$round(msg.a)})),b:$elm$core$Platform$Cmd$none};case"SetFlythroughSpeed":return{$:"#2",a:_Utils_update(model,{flythroughSpeed:msg.a}),b:$elm$core$Platform$Cmd$none};case"DeleteZeroLengthSegments":return $author$project$Main$trackHasChanged(function(model){var indexes=A2($elm$core$List$map,function(road){return road.index},model.zeroLengths);return _Utils_update(model,{trackPoints:$author$project$TrackPoint$reindexTrackpoints(A2($elm$core$List$filter,function(tp){return!A2($elm$core$List$member,tp.idx,indexes)},model.trackPoints))})}(model));case"OutputGPX":return{$:"#2",a:_Utils_update(model,{changeCounter:0}),b:function(model){var outputFilename=function(){var filename=model.filename;if("Just"!==filename.$)return"NOFILENAME";filename=filename.a;return _Utils_ap(filename,A2($elm$core$String$endsWith,".GPX",$elm$core$String$toUpper(filename))?"":".gpx")}();return A3($elm$file$File$Download$string,outputFilename,"text/gpx",A2($author$project$WriteGPX$writeGPX,model.trackName,model.trackPoints))}(model)};case"SmoothGradient":return $author$project$Main$trackHasChanged(A2($author$project$Main$smoothGradient,model,msg.a));case"SmoothBend":return $author$project$Main$trackHasChanged($author$project$Main$smoothBend(model));case"AutoFix":var _v22=msg.a,undoMessage="AutoFix "+$elm$core$String$fromInt($elm$core$List$length(_v22))+" issues";return $author$project$Main$trackHasChanged(_Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{trackPoints:A2($author$project$AutoFix$autoFix,model.trackPoints,_v22)}));case"Undo":_v22=model.undoStack;if(_v22.b){var _v23=_v22.b;return $author$project$Main$trackHasChanged(_Utils_update(model,{changeCounter:model.changeCounter-1,currentNode:(action=_v22.a).currentNode,markedNode:action.markedNode,redoStack:A2($elm$core$List$cons,_Utils_update(action,{trackPoints:model.trackPoints}),model.redoStack),trackPoints:action.trackPoints,undoStack:_v23}))}return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};case"Redo":var action,_v23=model.redoStack;return _v23.b?$author$project$Main$trackHasChanged(_Utils_update(model,{changeCounter:model.changeCounter+1,currentNode:(action=_v23.a).currentNode,markedNode:action.markedNode,redoStack:_v23.b,trackPoints:action.trackPoints,undoStack:A2($elm$core$List$cons,_Utils_update(action,{trackPoints:model.trackPoints}),model.undoStack)})):{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};case"ToggleMarker":return{$:"#2",a:m=$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(_Utils_update(model,{markedNode:"Just"===model.markedNode.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(model.currentNode)}))),b:$author$project$Main$updateMapVaryingElements(m)};case"SetBumpinessFactor":return{$:"#2",a:_Utils_update(model,{bumpinessFactor:factor=msg.a}),b:$elm$core$Platform$Cmd$none};case"RunFlythrough":return{$:"#2",a:(msg.a?$author$project$Main$startFlythrough:function(model){var _v0=model.flythrough;return"Just"!==_v0.$?model:_Utils_update(model,{flythrough:$elm$core$Maybe$Just(_Utils_update(_v0.a,{running:!1}))})})(model),b:$elm$core$Platform$Cmd$none};case"ResetFlythrough":return{$:"#2",a:$author$project$Main$resetFlythrough(model),b:$elm$core$Platform$Cmd$none};case"InsertBeforeOrAfter":return $author$project$Main$trackHasChanged(A2($author$project$Main$insertTrackPoint,msg.a,model));case"DeleteTrackPoints":return $author$project$Main$trackHasChanged(A2($author$project$Main$deleteTrackPoints,msg.a,model));case"ChangeLoopStart":return $author$project$Main$trackHasChanged(A2($author$project$Main$changeLoopStart,msg.a,model));case"MakeTerrain":return{$:"#2",a:function(model){var context,context={currentNode:A2($elm$core$Array$get,model.currentNode,model.nodeArray),displayOptions:model.displayOptions,horizontalNudge:model.nudgeValue,markedNode:"Just"!==(context=model.markedNode).$?$elm$core$Maybe$Nothing:A2($elm$core$Array$get,context.a,model.nodeArray),nodeBox:model.nodeBox,nudgedRegionStart:$elm$core$Maybe$Just(model.nudgedRegionStart),nudgedRoads:model.nudgedNodeRoads,smoothedBend:A2($elm$core$Maybe$withDefault,_List_Nil,A2($elm$core$Maybe$map,function($){return $.nodes},model.smoothedBend)),verticalNudge:model.verticalNudgeValue,viewingMode:model.viewingMode};return _Utils_update(model,{terrainEntities:A2($author$project$Terrain$makeTerrain,context,model.roads)})}(model),b:$elm$core$Platform$Cmd$none};case"ClearTerrain":return{$:"#2",a:$author$project$Main$clearTerrain(model),b:$elm$core$Platform$Cmd$none};case"CloseTheLoop":return $author$project$Main$trackHasChanged($author$project$Main$closeTheLoop(model));case"ReverseTrack":return $author$project$Main$trackHasChanged(function(model){return _Utils_update(A2($author$project$Main$addToUndoStack,"reverse track",model),{currentNode:0,trackPoints:$author$project$TrackPoint$reindexTrackpoints($elm$core$List$reverse(model.trackPoints))})}(model));case"StraightenStraight":return $author$project$Main$trackHasChanged(function(model){var trackPointsToMove=A2($elm$core$Maybe$withDefault,model.currentNode,model.markedNode),firstRoad={$:"#2",a:A2($elm$core$Basics$min,model.currentNode,trackPointsToMove),b:A2($elm$core$Basics$max,model.currentNode,trackPointsToMove)},n1=firstRoad.a,splicedTPs=firstRoad.b,undoMessage="straighten from "+$elm$core$String$fromInt(n1)+(" to "+$elm$core$String$fromInt(splicedTPs))+".",newTPs={$:"#2",a:A2($elm$core$Array$get,n1,model.roadArray),b:A2($elm$core$Array$get,splicedTPs,model.roadArray)},trackPointsToMove={$:"#2",a:newTPs.a,b:newTPs.b};if("Just"!==trackPointsToMove.a.$||"Just"!==trackPointsToMove.b.$)return model;var firstRoad=trackPointsToMove.a.a,newTPs=trackPointsToMove.b.a,trackPointsToMove=A2($elm$core$List$drop,n1,A2($elm$core$List$take,splicedTPs,model.trackPoints)),startPoint=A2($ianmackenzie$elm_geometry$Point2d$meters,firstRoad.startsAt.trackPoint.lon,firstRoad.startsAt.trackPoint.lat),endPoint=A2($ianmackenzie$elm_geometry$Point2d$meters,newTPs.startsAt.trackPoint.lon,newTPs.startsAt.trackPoint.lat),newTPs=A2($elm$core$List$drop,n1,A2($elm$core$List$take,splicedTPs,model.roads)),affectedLength=$elm$core$List$sum(A2($elm$core$List$map,function($){return $.length},newTPs)),newTPs=A3($elm$core$List$map2,F2(function(original,interpolatedPoint){interpolatedPoint=A3($ianmackenzie$elm_geometry$Point2d$interpolateFrom,startPoint,endPoint,interpolatedPoint/affectedLength);return{ele:original.ele,idx:0,lat:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$yCoordinate(interpolatedPoint)),lon:$ianmackenzie$elm_units$Length$inMeters($ianmackenzie$elm_geometry$Point2d$xCoordinate(interpolatedPoint))}}),trackPointsToMove,$elm$core$List$reverse(A3($elm$core$List$foldl,F2(function(r,_v4){var running=_v4.a;return{$:"#2",a:r.length+running,b:A2($elm$core$List$cons,running,_v4.b)}}),{$:"#2",a:0,b:_List_Nil},newTPs).b)),splicedTPs=_Utils_ap(A2($elm$core$List$take,n1,model.trackPoints),_Utils_ap(newTPs,A2($elm$core$List$drop,splicedTPs,model.trackPoints)));return _Utils_update(A2($author$project$Main$addToUndoStack,undoMessage,model),{trackPoints:$author$project$TrackPoint$reindexTrackpoints(splicedTPs)})}(model));case"SetHorizontalNudgeFactor":return{$:"#2",a:m=$author$project$Main$deriveVaryingVisualEntities(A3($author$project$Main$simulateNudgeNode,model,msg.a,model.verticalNudgeValue)),b:$author$project$Main$updateMapVaryingElements(m)};case"SetVerticalNudgeFactor":return{$:"#2",a:m=$author$project$Main$deriveVaryingVisualEntities(A3($author$project$Main$simulateNudgeNode,model,model.nudgeValue,msg.a)),b:$author$project$Main$updateMapVaryingElements(m)};case"NudgeNode":return $author$project$Main$trackHasChanged(A3($author$project$Main$nudgeNode,model,msg.a,msg.b));case"SplitRoad":return $author$project$Main$trackHasChanged($author$project$Main$splitRoad(model));case"SetMaxTrackpointSpacing":return{$:"#2",a:_Utils_update(model,{maxSegmentSplitSize:msg.a}),b:$elm$core$Platform$Cmd$none};case"MouseWheel":var deltaY=msg.a,factor=-.001,m=function(){switch(model.viewingMode.$){case"FirstPersonView":return _Utils_update(model,{zoomLevelFirstPerson:A3($elm$core$Basics$clamp,0,22,model.zoomLevelFirstPerson+deltaY*factor)});case"ThirdPersonView":return _Utils_update(model,{zoomLevelThirdPerson:A3($elm$core$Basics$clamp,0,22,model.zoomLevelThirdPerson+deltaY*factor)});case"ProfileView":return _Utils_update(model,{zoomLevelProfile:A3($elm$core$Basics$clamp,0,22,model.zoomLevelProfile+deltaY*factor)});case"PlanView":return _Utils_update(model,{zoomLevelPlan:A3($elm$core$Basics$clamp,0,22,model.zoomLevelPlan+deltaY*factor)});default:return model}}();return{$:"#2",a:$author$project$Main$checkSceneCamera(m),b:$elm$core$Platform$Cmd$none};case"MouseClick":var event=msg.a;return{$:"#2",a:_Utils_cmp($elm$time$Time$posixToMillis(model.time),$elm$time$Time$posixToMillis(model.mouseDownTime)+250)<0?$author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(A2($author$project$Main$detectHit,model,event))):model,b:$elm$core$Platform$Cmd$none};case"MouseDoubleClick":return{$:"#2",a:$author$project$Main$checkSceneCamera($author$project$Main$centreViewOnCurrentNode($author$project$Main$deriveVaryingVisualEntities($author$project$Main$tryBendSmoother(A2($author$project$Main$detectHit,model,event=msg.a))))),b:$elm$core$Platform$Cmd$none};case"SimplifyTrack":var _v28=$author$project$Main$findBracketedRange(model),rangeStart=_v28.a,rangeEnd=_v28.b,nodesToRemove=A2($elm$core$List$filter,function(n){return-1<_Utils_cmp(n,rangeStart)&&_Utils_cmp(n,rangeEnd)<1},model.metricFilteredNodes),replaceTrackPoints=function(old){return _Utils_update(old,{trackPoints:$author$project$TrackPoint$reindexTrackpoints(A2($author$project$TrackPoint$removeByNodeNumbers,nodesToRemove,model.trackPoints))})},undoMessage="Remove "+$elm$core$String$fromInt($elm$core$List$length(nodesToRemove))+" track points",m=function(){var node=A2($elm$core$Array$get,model.currentNode,model.nodeArray);if("Just"!==node.$)return $elm$core$Basics$identity;node=node.a;return A2($author$project$Main$makeNearestNodeCurrent,node.trackPoint.lon,node.trackPoint.lat)}()($author$project$Main$deriveNodesAndRoads(replaceTrackPoints(A2($author$project$Main$addToUndoStack,undoMessage,model))));return $author$project$Main$trackHasChanged(m);case"ToggleFilterXY":_v28=model.filterModes;return{$:"#2",a:_Utils_update(model,{filterModes:{$:"#2",a:!_v28.a,b:_v28.b}}),b:$elm$core$Platform$Cmd$none};case"ToggleFilterZ":var _v30=model.filterModes;return{$:"#2",a:_Utils_update(model,{filterModes:{$:"#2",a:_v30.a,b:!_v30.b}}),b:$elm$core$Platform$Cmd$none};case"FilterWeightedAverage":undoMessage="Weighted average filter",_v30=$author$project$Main$findBracketedRange(model),rangeStart=_v30.a,rangeEnd=_v30.b,m=(replaceTrackPoints=function(old){return _Utils_update(old,{trackPoints:A4($author$project$Filters$applyWeightedAverageFilter,{$:"#2",a:rangeStart,b:rangeEnd},model.filterModes,model.loopiness,model.trackPoints)})})(A2($author$project$Main$addToUndoStack,undoMessage,model));return $author$project$Main$trackHasChanged(m);case"LoadExternalSegment":var streams=$author$project$StravaAuth$getStravaToken(model.stravaAuthentication);if("Just"!==streams.$)return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};var token=streams.a;return{$:"#2",a:_Utils_update(model,{externalSegment:$author$project$StravaTypes$SegmentRequested}),b:A3($author$project$StravaDataLoad$requestStravaSegment,$author$project$Msg$HandleSegmentData,model.externalSegmentId,token)};case"LoadSegmentStreams":var segment=$author$project$StravaAuth$getStravaToken(model.stravaAuthentication);return"Just"!==segment.$?{$:"#2",a:model,b:$elm$core$Platform$Cmd$none}:{$:"#2",a:model,b:A3($author$project$StravaDataLoad$requestStravaSegmentStreams,$author$project$Msg$HandleSegmentStreams,model.externalSegmentId,token=segment.a)};case"HandleSegmentData":return{$:"#2",a:_Utils_update(model,{externalSegment:A2($author$project$StravaDataLoad$stravaProcessSegment,state=msg.a,model.trackPointBox)}),b:$elm$core$Platform$Cmd$none};case"HandleSegmentStreams":m={$:"#2",a:state=msg.a,b:model.externalSegment};if("Ok"!==m.a.$)return{$:"#2",a:_Utils_update(model,{lastHttpError:$elm$core$Maybe$Just(m.a.a)}),b:$elm$core$Platform$Cmd$none};if("SegmentOk"!==m.b.$)return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};streams=m.a.a,segment=m.b.a;return $author$project$Main$trackHasChanged(_Utils_update(m=A2($author$project$Main$addToUndoStack,"Paste Strava segment",model),{trackPoints:A3($author$project$StravaPasteStreams$pasteStreams,m.trackPoints,segment,streams)}));case"LoadExternalRoute":var stravaRoute=$author$project$StravaAuth$getStravaToken(model.stravaAuthentication);if("Just"!==stravaRoute.$)return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};token=stravaRoute.a;return{$:"#2",a:_Utils_update(model,{stravaRoute:$author$project$StravaTypes$StravaRouteRequested}),b:A3($author$project$StravaDataLoad$requestStravaRouteHeader,$author$project$Msg$HandleRouteData,model.externalRouteId,token)};case"HandleRouteData":var state=msg.a,stravaRoute=$author$project$StravaAuth$getStravaToken(model.stravaAuthentication);if("Just"!==stravaRoute.$)return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};token=stravaRoute.a,stravaRoute=function(response){return"Ok"!==response.$?{$:"StravaRouteError",a:$author$project$Utils$httpErrorString(response.a)}:{$:"StravaRouteOk",a:response.a}}(state);return{$:"#2",a:_Utils_update(model,{filename:function(stravaRoute){return"StravaRouteOk"!==stravaRoute.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(stravaRoute.a.name)}(stravaRoute),stravaRoute:stravaRoute}),b:A3($author$project$StravaDataLoad$requestStravaRoute,$author$project$Msg$GpxDownloaded,model.externalRouteId,token)};case"ReceivedIpDetails":var _v36=function(response){return"Ok"!==response.$?$elm$core$Maybe$Nothing:$elm$core$Maybe$Just(response.a)}(state=msg.a);return{$:"#2",a:_Utils_update(model,{ipInfo:_v36}),b:A3($andrewMacmurray$elm_delay$Delay$after,1,$andrewMacmurray$elm_delay$Delay$Second,$author$project$Msg$SendIpInfo)};case"SendIpInfo":return{$:"#2",a:model,b:A3($author$project$MyIP$sendIpInfo,model.time,$author$project$Msg$IpInfoAcknowledged,model.ipInfo)};case"IpInfoAcknowledged":return{$:"#2",a:model,b:$elm$core$Platform$Cmd$none};default:state=msg.a;return{$:"#2",a:_Utils_update(model,{mapNodesDraggable:state}),b:"Just"!==(_v36=model.mapInfo).$?$elm$core$Platform$Cmd$none:A2($author$project$MapController$toggleDragging,state,_v36.a)}}}),$author$project$ColourPalette$accordionContentBackground=$mdgriffith$elm_ui$Internal$Model$renderFontClassName=A3($mdgriffith$elm_ui$Element$rgb255,236,240,241),$author$project$Accordion$accordionMenuStyles=_List_fromArray([$mdgriffith$elm_ui$Element$padding(0),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill)]),$mdgriffith$elm_ui$Internal$Flag$fontAlignment=alpha(12),$mdgriffith$elm_ui$Element$Font$center=A2($mdgriffith$elm_ui$Internal$Model$Class,$mdgriffith$elm_ui$Internal$Flag$fontAlignment,$mdgriffith$elm_ui$Internal$Model$FontFamily),$author$project$ColourPalette$collapsedTabBackground=families,$author$project$ColourPalette$expandedTabBackground=$mdgriffith$elm_ui$Internal$Flag$fontFamily,$author$project$ColourPalette$expandedTabBorder=$mdgriffith$elm_ui$Internal$Model$renderFontClassName,$author$project$ColourPalette$expandedTabShadow=$mdgriffith$elm_ui$Internal$Model$renderFontClassName,$author$project$Accordion$accordionView=F2(function(entries,message){function entryButton(entry){return A2($mdgriffith$elm_ui$Element$Input$button,(state=entry.state,_List_fromArray([$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(2),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$Border$widthEach({bottom:0,left:2,right:2,top:2}),$mdgriffith$elm_ui$Element$Border$roundEach({bottomLeft:0,bottomRight:0,topLeft:10,topRight:10}),$mdgriffith$elm_ui$Element$Border$color(_Utils_eq(state,$author$project$Accordion$Expanded)?$author$project$ColourPalette$expandedTabBorder:$author$project$ColourPalette$collapsedTabBorder),$mdgriffith$elm_ui$Element$Border$shadow({blur:5,color:$author$project$ColourPalette$expandedTabShadow,offset:{$:"#2",a:4,b:4},size:3}),$mdgriffith$elm_ui$Element$Background$color(_Utils_eq(state,$author$project$Accordion$Expanded)?$author$project$ColourPalette$expandedTabBackground:$author$project$ColourPalette$collapsedTabBackground),$mdgriffith$elm_ui$Element$Font$color($author$project$ColourPalette$buttonText),$mdgriffith$elm_ui$Element$Font$center,$mdgriffith$elm_ui$Element$Font$size(16)])),{label:{$:"Text",a:entry.label},onPress:$elm$core$Maybe$Just(message(entry))});var state}return A2($mdgriffith$elm_ui$Element$column,$author$project$Accordion$accordionMenuStyles,_List_fromArray([A2($mdgriffith$elm_ui$Element$wrappedRow,$author$project$Accordion$accordionMenuStyles,A2($elm$core$List$map,entryButton,entries)),function(){var entry=function(entries){return $elm$core$List$head(A2($elm$core$List$filter,function(e){return _Utils_eq(e.state,$author$project$Accordion$Expanded)},entries))}(entries);if("Just"!==entry.$)return $mdgriffith$elm_ui$Element$none;entry=entry.a;return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$accordionContentBackground),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$centerX]),entry.content)}()]))}),$elm$html$Html$Attributes$alt=$elm$html$Html$Attributes$stringProperty("alt"),$mdgriffith$elm_ui$Element$image=F2(function(attrs,imageAttributes){var src=imageAttributes.src,description=imageAttributes.description,imageAttributes=A2($elm$core$List$filter,function(a){switch(a.$){case"Width":case"Height":return!0;default:return!1}},attrs);return A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass($mdgriffith$elm_ui$Internal$Style$classes_imageContainer),attrs),{$:"Unkeyed",a:_List_fromArray([A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,{$:"NodeName",a:"img"},_Utils_ap(_List_fromArray([{$:"Attr",a:A2($elm$html$Html$Attributes$stringProperty,"src",_VirtualDom_noJavaScriptOrHtmlUri(src))},{$:"Attr",a:$elm$html$Html$Attributes$alt(description)}]),imageAttributes),{$:"Unkeyed",a:_List_Nil})])})}),$author$project$ViewElements$compatibleWithStrava=A2($mdgriffith$elm_ui$Element$image,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(50)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(100)),$mdgriffith$elm_ui$Element$alignLeft]),{description:"Compatible with Strava",src:"images/api_logo_cptblWith_strava_stack_gray.svg"}),$mdgriffith$elm_ui$Internal$Model$OnlyDynamic=F2(function(a,b){return{$:"OnlyDynamic",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$StaticRootAndDynamic=F2(function(a,b){return{$:"StaticRootAndDynamic",a:a,b:b}}),$mdgriffith$elm_ui$Internal$Model$AllowHover={$:"AllowHover"},$mdgriffith$elm_ui$Internal$Model$Layout={$:"Layout"},$mdgriffith$elm_ui$Internal$Model$focusDefaultStyle={backgroundColor:$elm$core$Maybe$Nothing,borderColor:$elm$core$Maybe$Nothing,shadow:$elm$core$Maybe$Just({blur:0,color:A4($mdgriffith$elm_ui$Internal$Model$Rgba,155/255,203/255,1,1),offset:{$:"#2",a:0,b:0},size:3})},$mdgriffith$elm_ui$Internal$Model$toHtml=F2(function(mode,el){switch(el.$){case"Unstyled":return(0,el.a)($mdgriffith$elm_ui$Internal$Model$asEl);case"Styled":return A2(el.a.html,mode(el.a.styles),$mdgriffith$elm_ui$Internal$Model$asEl);case"Text":return $mdgriffith$elm_ui$Internal$Model$textElement(el.a);default:return $mdgriffith$elm_ui$Internal$Model$textElement("")}}),$mdgriffith$elm_ui$Internal$Model$renderRoot=F3(function(embedStyle,attributes,child){embedStyle=function(options){var _v2,_v1;return{focus:"Nothing"===(_v1=(_v2=A3($elm$core$List$foldr,F2(function(opt,record){switch(opt.$){case"HoverOption":return"Nothing"===record.hover.$?_Utils_update(record,{hover:$elm$core$Maybe$Just(opt.a)}):record;case"FocusStyleOption":return"Nothing"===record.focus.$?_Utils_update(record,{focus:$elm$core$Maybe$Just(opt.a)}):record;default:return"Nothing"===record.mode.$?_Utils_update(record,{mode:$elm$core$Maybe$Just(opt.a)}):record}}),{focus:$elm$core$Maybe$Nothing,hover:$elm$core$Maybe$Nothing,mode:$elm$core$Maybe$Nothing},options)).focus).$?$mdgriffith$elm_ui$Internal$Model$focusDefaultStyle:_v1.a,hover:"Nothing"===(_v1=_v2.hover).$?$mdgriffith$elm_ui$Internal$Model$AllowHover:_v1.a,mode:"Nothing"===(_v2=_v2.mode).$?$mdgriffith$elm_ui$Internal$Model$Layout:_v2.a}}(embedStyle),embedStyle=("NoStaticStyleSheet"===embedStyle.mode.$?$mdgriffith$elm_ui$Internal$Model$OnlyDynamic:$mdgriffith$elm_ui$Internal$Model$StaticRootAndDynamic)(embedStyle);return A2($mdgriffith$elm_ui$Internal$Model$toHtml,embedStyle,A4($mdgriffith$elm_ui$Internal$Model$element,$mdgriffith$elm_ui$Internal$Model$asEl,$mdgriffith$elm_ui$Internal$Model$div,attributes,{$:"Unkeyed",a:_List_fromArray([child])}))}),$mdgriffith$elm_ui$Internal$Model$FontFamily=F2(function(a,b){return{$:"FontFamily",a:a,b:b}}),families={$:"SansSerif"},$mdgriffith$elm_ui$Internal$Flag$fontFamily=alpha(5),$elm$core$String$words=function(str){return _List_fromArray(str.trim().split(/\s+/g))},$mdgriffith$elm_ui$Internal$Model$renderFontClassName=F2(function(font,current){return _Utils_ap(current,function(){switch(font.$){case"Serif":return"serif";case"SansSerif":return"sans-serif";case"Monospace":return"monospace";case"Typeface":return A2($elm$core$String$join,"-",$elm$core$String$words($elm$core$String$toLower(font.a)));case"ImportFont":return A2($elm$core$String$join,"-",$elm$core$String$words($elm$core$String$toLower(font.a)));default:return A2($elm$core$String$join,"-",$elm$core$String$words($elm$core$String$toLower(font.a.name)))}}())}),$mdgriffith$elm_ui$Internal$Model$rootStyle=(families=_List_fromArray([{$:"Typeface",a:"Open Sans"},{$:"Typeface",a:"Helvetica"},{$:"Typeface",a:"Verdana"},families]),_List_fromArray([A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$bgColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"bg-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(A4($mdgriffith$elm_ui$Internal$Model$Rgba,1,1,1,0)),"background-color",A4($mdgriffith$elm_ui$Internal$Model$Rgba,1,1,1,0))),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontColor,A3($mdgriffith$elm_ui$Internal$Model$Colored,"fc-"+$mdgriffith$elm_ui$Internal$Model$formatColorClass(A4($mdgriffith$elm_ui$Internal$Model$Rgba,0,0,0,1)),"color",A4($mdgriffith$elm_ui$Internal$Model$Rgba,0,0,0,1))),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontSize,{$:"FontSize",a:20}),A2($mdgriffith$elm_ui$Internal$Model$StyleClass,$mdgriffith$elm_ui$Internal$Flag$fontFamily,A2($mdgriffith$elm_ui$Internal$Model$FontFamily,A3($elm$core$List$foldl,$mdgriffith$elm_ui$Internal$Model$renderFontClassName,"font-",families),families))])),$mdgriffith$elm_ui$Element$layout=F3(function(_v0,attrs,child){return A3($mdgriffith$elm_ui$Internal$Model$renderRoot,_v0.options,A2($elm$core$List$cons,$mdgriffith$elm_ui$Internal$Model$htmlClass(A2($elm$core$String$join," ",_List_fromArray([$mdgriffith$elm_ui$Internal$Style$classes_root,$mdgriffith$elm_ui$Internal$Style$classes_any,$mdgriffith$elm_ui$Internal$Style$classes_single]))),_Utils_ap($mdgriffith$elm_ui$Internal$Model$rootStyle,attrs)),child)})({options:_List_Nil}),$author$project$ViewElements$loadButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Load GPX from your computer"},onPress:$elm$core$Maybe$Just({$:"GpxRequested"})}),$author$project$Msg$MarkerBackOne={$:"MarkerBackOne"},$author$project$Msg$MarkerForwardOne={$:"MarkerForwardOne"},$author$project$Msg$ToggleMarker={$:"ToggleMarker"},$author$project$ColourPalette$buttonGroupBackground=$smucode$elm_flat_colors$FlatColors$FlatUIPalette$silver,$feathericons$elm_feather$FeatherIcons$skipBack=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"skip-back",_List_fromArray([A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("19 20 9 12 19 4 19 20")]),_List_Nil),A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("5"),$elm$svg$Svg$Attributes$y1("19"),$elm$svg$Svg$Attributes$x2("5"),$elm$svg$Svg$Attributes$y2("5")]),_List_Nil)])),$feathericons$elm_feather$FeatherIcons$skipForward=A2($feathericons$elm_feather$FeatherIcons$makeBuilder,"skip-forward",_List_fromArray([A2($elm$svg$Svg$polygon,_List_fromArray([$elm$svg$Svg$Attributes$points("5 4 15 12 5 20 5 4")]),_List_Nil),A2($elm$svg$Svg$line,_List_fromArray([$elm$svg$Svg$Attributes$x1("19"),$elm$svg$Svg$Attributes$y1("5"),$elm$svg$Svg$Attributes$x2("19"),$elm$svg$Svg$Attributes$y2("19")]),_List_Nil)])),$mdgriffith$elm_ui$Internal$Flag$moveX=alpha(25),$author$project$Msg$OutputGPX={$:"OutputGPX"},$mdgriffith$elm_ui$Element$spaceEvenly=A2($mdgriffith$elm_ui$Internal$Model$Class,$mdgriffith$elm_ui$Internal$Flag$spacing,$elm_explorations$webgl$WebGL$Settings$Blend$customAdd),$author$project$OAuthTypes$SignInRequested={$:"SignInRequested"},$elm$url$Url$Builder$relative=F2(function(pathSegments,parameters){return _Utils_ap(A2($elm$core$String$join,"/",pathSegments),$elm$url$Url$Builder$toQuery(parameters))}),$author$project$StravaAuth$stravaButton=F2(function(userInfo,msgWrapper){var styles=_List_Nil,imgUrl=A2($elm$url$Url$Builder$relative,_List_fromArray(["images","btn_strava_connectwith_orange.svg"]),_List_Nil),userInfo=userInfo.flow;if("Done"!==userInfo.$)return A2($mdgriffith$elm_ui$Element$Input$button,styles,{label:A2($mdgriffith$elm_ui$Element$image,_List_fromArray([$mdgriffith$elm_ui$Element$mouseOver(_List_fromArray([$mdgriffith$elm_ui$Element$alpha(.7)]))]),{description:"Connect to Strava",src:imgUrl}),onPress:$elm$core$Maybe$Just(msgWrapper($author$project$OAuthTypes$SignInRequested))});userInfo=userInfo.a;return A2($mdgriffith$elm_ui$Element$column,_List_Nil,_List_fromArray([{$:"Text",a:"Connected to Strava as"},{$:"Text",a:userInfo.firstname+" "+userInfo.lastname}]))}),$author$project$Msg$LoadExternalRoute={$:"LoadExternalRoute"},$author$project$Msg$Redo={$:"Redo"},$author$project$Msg$Undo={$:"Undo"},$author$project$Main$updatedAccordion=F3(function(model,currentAccordion,referenceAccordion){return A3($elm$core$List$map2,F2(function(currentAccordionState,refreshedContent){return _Utils_update(currentAccordionState,{content:refreshedContent.content})}),currentAccordion,referenceAccordion(model))}),$elm$html$Html$Attributes$id=$elm$html$Html$Attributes$stringProperty("id"),$mdgriffith$elm_ui$Element$clipY=A2($mdgriffith$elm_ui$Internal$Model$Class,color,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel({defaultHighlighting:$elm$core$Maybe$Nothing,githubFlavored:$elm$core$Maybe$Just({breaks:!1,tables:!1}),sanitize:!0,smartypants:!1}),$author$project$About$viewAboutText=A2($mdgriffith$elm_ui$Element$el,_List_Nil,A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color(A3($mdgriffith$elm_ui$Element$rgb255,220,220,200)),$mdgriffith$elm_ui$Element$clipY,$mdgriffith$elm_ui$Element$scrollbarY,$mdgriffith$elm_ui$Element$padding(20),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(900))]),_List_fromArray([A2($mdgriffith$elm_ui$Element$paragraph,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(600))]),_List_fromArray([$mdgriffith$elm_ui$Element$html(A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,_List_Nil,'## Thank you for trying GPXmagic. It is freely provided without warranty.\n\n> _This text updated 2021-01-14_\n\n## Changes\n\n- Temporary fix for bend smoothing error.\n\n## Guidance on use\n\nLoad a local GPX file by clicking on the aptly-labelled button. Or connect to Strava by clicking on the equally-apt brand-compliant button and authorize GPXmagic to access your routes. You can then enter a numeric route ID (you\'ll find this at the end of the URL for a route) and get the GPX by clicking "Fetch route". The Strava connection is valid for six hours.\n\nLoading and using a Strava **segment** is a two-step process. Assuming you\'ve connected to Strava and loaded a route (locally or from Strava), first paste the Strava segment URL or ID into the Strava tab (new option in the tools tabs), and click "Fetch header". You should then see the segment desciption under the entry box. Now click "Apply segment". This will paste the segment into your route, making best guess at the start and end based on latitude and longitude. This **will** introduce elevation erros at the start and end you will have to fix manually. A typical segment is many track points, so you may want to place the Orange and Purple markers at the extremes of the segment and use the "Simplify" button (this is in the Loop maker tab currently).\n\nOnce a file is loaded, **Third person**, **First person**, **Elevation**, **Plan**, and **Map** provide views on the course. On the right hand side are numerous options that I will elaborate below. You can mix and match the views and the option panels.\n\n**Map view** You can now click on the track to select a track point. When you first do this, you will probably see an Orange marker and a smaller purple marker superimposed. These remain together until you "Drop" the marker, after which clicking will move the Orange marker only until you "Clear" the purple marker. This makes for rapid selection of a section of route -- just click once to place both pointers, drop the purple one, click somewhere else. You can then use Nudge, Straighten, Bend smoothing (anything, in fact) on that range.\n\n**Summary** summarises the GPX information. This provides error messages if the file is not what we\'re expecting.\n\n**Road data** gives information about the current road segment -- the one immediately "in front of" the orange marker.\n\n**Visual styles** lets you choose what you want shown. The effects are immediate in all views.\n\n**Loop maker** is handy if your start and end points are close. You can make the track into a loop. This will either just move the last track point (if they are really close), or will insert a new one. Once your track is a loop, you can move the orange pointer and choose any point as the start/finish. (You can use this as a way to apply tools to the "real" start/finish area, moving the start back when you\'re done.)\n\n**Fly-through** will move the current point around the track at variable speed. This works in all views but 1st and 3rd person are most appropriate.\n\n**Smooth gradient** groups tools that are useful for smoothing gradients. You can replace the current track point with two; often this is enough to smooth a coarse gradient change. Beyond that, you can select a longer section of road by dropping and moving the marker (appears as a purple cone). Then use the button to apply smoothing to the selected track segments, and you can choose to retain some of the original flavour by increasing the "Bumpiness factor".\n\n**Nudge node** provides direct manipulation of the current point (orange marker). You can move it vertically and side-to-side by five metres. You can apply repeatedly if that\'s not enough.\n\n**Smooth bend** works only with a selected range. It tries (not always successfully) to fit a circular arc that is tangent to the segments that are marked. Moving the current point and the marker will provide different options. Increase the number of road segments for a smoother bend. If you can\'t get a nice looking bend, it may be worth adding some more track points (see below) and trying again.\n\n**Straighten** is like an opposite of bend smoothing. When you have a "nearly straight" that you want to be "really straight", this is your friend. It retains track point elevation, and just marshals them into a straight line, so you may need other tools to finish the job.\n\n**Trackpoints** allows you to add track points before and after the current point (same as in the Gradient panel). Another option, useful on long straights near bends, is to add a new point in the middle of a road segment. Repeat as required. Delete will delete the current track point.\n\n**Filter** applies a simple (but fairly effective) smoothing algorithm that takes a weighted average (1,2,4,2,1) of the five points centred on each point. You can do this just for position or elevation or (oreferably) both. Better results are achieved if you insert some track points first (see above). You can do this selectively on parts of the route.\n\n**Gradient problems** and **Bend problems** highlight track points that may be of interest. Click on any entry to make that current. The AutoFix option is available, but should not be taken for granted.\n\nClick the blue button at the page top to choose a GPX route file, or load one from Strava.\n\n**Remember to save** your changes often. The Save button writes to your download folder only (this is a security limitation of browsers).\n\n## Legally required notices\n\nCompatible with Strava, for the purpose of loading route and segment data.\n\nYour IP address is logged for the purpose of aggregate usage recording; no personal details are stored.\n\nNo cookies are used, though they may not be true for the site as a whole.\n\n> _Peter Ward, 2021_\n'))]))]))),$author$project$Msg$PositionBackOne={$:"PositionBackOne"},$author$project$Msg$PositionForwardOne={$:"PositionForwardOne"},$avh4$elm_color$Color$lightBlue=A4($avh4$elm_color$Color$RgbaSpace,114/255,159/255,207/255,1),$elm_explorations$webgl$WebGL$alpha=function(a){return{$:"Alpha",a:a}},$elm_explorations$webgl$WebGL$antialias={$:"Antialias"},$elm_explorations$webgl$WebGL$clearColor=F4(function(a,b,c,d){return{$:"ClearColor",a:a,b:b,c:c,d:d}}),$elm_explorations$webgl$WebGL$depth=function(a){return{$:"Depth",a:a}},$elm$html$Html$Keyed$node=$elm$virtual_dom$VirtualDom$keyedNode,$elm_explorations$webgl$WebGL$stencil=function(a){return{$:"Stencil",a:a}},$elm_explorations$webgl$WebGL$toHtmlWith=F3(function(options,attributes,entities){return A3(_WebGL_toHtml,options,attributes,entities)}),$ianmackenzie$elm_3d_scene$Scene3d$allLightsEnabled=A4($elm_explorations$linear_algebra$Math$Vector4$vec4,1,1,1,1),$ianmackenzie$elm_3d_scene$Scene3d$call=F3(function(renderPasses,lights,settings){return A2($elm$core$List$map,function(renderPass){return A2(renderPass,lights,settings)},renderPasses)}),$ianmackenzie$elm_3d_scene$Scene3d$Types$CieXyz=F3(function(a,b,c){return{$:"CieXyz",a:a,b:b,c:c}}),$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToCieXyz=F2(function(x,y){var intensity=x.a,x=y.a.x,y=y.a.y;return A3($ianmackenzie$elm_3d_scene$Scene3d$Types$CieXyz,intensity*x/y,intensity,intensity*(1-x-y)/y)}),$ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToLinearRgb=F2(function(bigX,bigY){return{$:"LinearRgb",a:A3($elm_explorations$linear_algebra$Math$Vector3$vec3,3.2406*(bigX=(bigZ=A2($ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToCieXyz,bigX,bigY)).a)-1.5372*(bigY=bigZ.b)-.4986*(bigZ=bigZ.c),-.9689*bigX+1.8758*bigY+.0415*bigZ,.0557*bigX-.204*bigY+1.057*bigZ)};var bigZ}),$ianmackenzie$elm_3d_scene$Scene3d$createRenderPass=F5(function(sceneProperties,viewMatrix,projectionMatrix,transformation,drawFunction){return A6(drawFunction,sceneProperties,A4($elm_explorations$linear_algebra$Math$Vector4$vec4,transformation.scale,transformation.scale,transformation.scale,transformation.isRightHanded?1:-1),function(transformation){return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:transformation.ix,m12:transformation.jx,m13:transformation.kx,m14:transformation.px,m21:transformation.iy,m22:transformation.jy,m23:transformation.ky,m24:transformation.py,m31:transformation.iz,m32:transformation.jz,m33:transformation.kz,m34:transformation.pz,m41:0,m42:0,m43:0,m44:1})}(transformation),transformation.isRightHanded,viewMatrix,projectionMatrix)}),$ianmackenzie$elm_3d_scene$Scene3d$collectRenderPasses=F6(function(sceneProperties,viewMatrix,projectionMatrix,currentTransformation,node,accumulated){collectRenderPasses:for(;;)switch(node.$){case"EmptyNode":return accumulated;case"Transformed":var childNodes=node.b;sceneProperties=sceneProperties,viewMatrix=viewMatrix,projectionMatrix=projectionMatrix,currentTransformation=A2($ianmackenzie$elm_3d_scene$Scene3d$Transformation$compose,node.a,currentTransformation),node=childNodes,accumulated=accumulated;continue collectRenderPasses;case"MeshNode":return{meshes:A2($elm$core$List$cons,A5($ianmackenzie$elm_3d_scene$Scene3d$createRenderPass,sceneProperties,viewMatrix,projectionMatrix,currentTransformation,node.b),accumulated.meshes),points:accumulated.points,shadows:accumulated.shadows};case"PointNode":return{meshes:accumulated.meshes,points:A2($elm$core$List$cons,A5($ianmackenzie$elm_3d_scene$Scene3d$createRenderPass,sceneProperties,viewMatrix,projectionMatrix,currentTransformation,node.b),accumulated.points),shadows:accumulated.shadows};case"ShadowNode":return{meshes:accumulated.meshes,points:accumulated.points,shadows:A2($elm$core$List$cons,A5($ianmackenzie$elm_3d_scene$Scene3d$createRenderPass,sceneProperties,viewMatrix,projectionMatrix,currentTransformation,node.a),accumulated.shadows)};default:childNodes=node.a;return A3($elm$core$List$foldl,A4($ianmackenzie$elm_3d_scene$Scene3d$collectRenderPasses,sceneProperties,viewMatrix,projectionMatrix,currentTransformation),accumulated,childNodes)}}),$elm_explorations$webgl$WebGL$Settings$colorMask=F4(function(a,b,c,d){return{$:"ColorMask",a:a,b:b,c:c,d:d}}),$elm_explorations$webgl$WebGL$Internal$DepthTest=F4(function(a,b,c,d){return{$:"DepthTest",a:a,b:b,c:c,d:d}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=F2(function(a,b){return{$:"PolygonOffset",a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$createShadowStencil=_List_fromArray([A4($elm_explorations$webgl$WebGL$Internal$DepthTest,518,(alpha={far:1,near:0,write:!1}).write,alpha.near,alpha.far),A4($elm_explorations$webgl$WebGL$Settings$colorMask,!1,!1,!1,!1),A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel,0,1)]),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove={$:"Operation",a:7681},$ianmackenzie$elm_3d_scene$Scene3d$dummyFragmentShader={src:"\n        precision lowp float;\n\n        void main() {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n    ",attributes:{},uniforms:{}},$ianmackenzie$elm_3d_scene$Scene3d$fullScreenQuadMesh=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown({elemSize:1,indexSize:0,mode:5})(_List_fromArray([{position:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,-1,-1)},{position:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,-1)},{position:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,-1,1)},{position:A2($elm_explorations$linear_algebra$Math$Vector2$vec2,1,1)}])),$ianmackenzie$elm_3d_scene$Scene3d$fullScreenQuadVertexShader={src:"\n        precision lowp float;\n\n        attribute vec2 position;\n\n        void main() {\n            gl_Position = vec4(position, 0.0, 1.0);\n        }\n    ",attributes:{position:"position"},uniforms:{}},$ianmackenzie$elm_3d_scene$Scene3d$resetStencil=$ianmackenzie$elm_3d_scene$Scene3d$updateStencil({fail:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,mask:0,ref:8,test:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,writeMask:15,zfail:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,zpass:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove}),$elm_explorations$webgl$WebGL$Settings$StencilTest$greater={$:"Test",a:516},$elm_explorations$webgl$WebGL$Settings$StencilTest$invert={$:"Operation",a:5386},$ianmackenzie$elm_3d_scene$Scene3d$createShadow=F3(function(shadowRenderPasses,lightIndex,lightMatrix){return $elm$core$List$concat(_List_fromArray([A3($ianmackenzie$elm_3d_scene$Scene3d$call,shadowRenderPasses,lightMatrix,$ianmackenzie$elm_3d_scene$Scene3d$createShadowStencil),_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$storeStencilValue(lightIndex),$ianmackenzie$elm_3d_scene$Scene3d$resetStencil])]))}),$ianmackenzie$elm_3d_scene$Scene3d$createShadows=F2(function(shadowRenderPasses,shadowCasters){return $elm$core$List$concat(A2($elm$core$List$indexedMap,$ianmackenzie$elm_3d_scene$Scene3d$createShadow(shadowRenderPasses),shadowCasters))}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=function(_v0){return A4($elm_explorations$webgl$WebGL$Internal$DepthTest,513,_v0.write,_v0.near,_v0.far)}({far:1,near:0,write:!0}),$elm_explorations$webgl$WebGL$Settings$Blend$Blender=F3(function(a,b,c){return{$:"Blender",a:a,b:b,c:c}}),$elm_explorations$webgl$WebGL$Settings$Blend$customAdd=F2(function(_v0,_v1){return A3($elm_explorations$webgl$WebGL$Settings$Blend$Blender,32774,_v0.a,_v1.a)}),color={$:"Factor",a:771},alpha={$:"Factor",a:770},$ianmackenzie$elm_3d_scene$Scene3d$defaultBlend=(r=(alpha={a:0,alpha:A2($elm_explorations$webgl$WebGL$Settings$Blend$customAdd,{$:"Factor",a:1},color),b:0,color:A2($elm_explorations$webgl$WebGL$Settings$Blend$customAdd,alpha,color),g:0,r:0}).r,g=alpha.g,b=alpha.b,a=alpha.a,color=alpha.color,alpha=alpha.alpha,A2(F2(function(_v1,f22){var f12=_v1.c,eq2=f22.a,f21=f22.b,f22=f22.c;return function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return function(g){return function(h){return function(i){return function(j){return{$:"Blend",a:a,b:b,c:c,d:d,e:e,f:f,g:g,h:h,i:i,j:j}}}}}}}}}}}(_v1.a)(_v1.b)(f12)(eq2)(f21)(f22)(r)(g)(b)(a)}),color,alpha)),$ianmackenzie$elm_3d_scene$Scene3d$depthTestDefault=_List_fromArray([$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel,$ianmackenzie$elm_3d_scene$Scene3d$defaultBlend]),$ianmackenzie$elm_geometry$Direction3d$relativeTo=F2(function(k,j){var i=k.a,d=j.a,k=i.zDirection.a,j=i.yDirection.a,i=i.xDirection.a;return{$:"Direction3d",a:{x:d.x*i.x+d.y*i.y+d.z*i.z,y:d.x*j.x+d.y*j.y+d.z*j.z,z:d.x*k.x+d.y*k.y+d.z*k.z}}}),$ianmackenzie$elm_geometry$Point3d$relativeTo=F2(function(deltaY,deltaZ){var i=deltaY.a,k=deltaZ.a,j=i.originPoint.a,deltaX=k.x-j.x,deltaY=k.y-j.y,deltaZ=k.z-j.z,k=i.zDirection.a,j=i.yDirection.a,i=i.xDirection.a;return{$:"Point3d",a:{x:deltaX*i.x+deltaY*i.y+deltaZ*i.z,y:deltaX*j.x+deltaY*j.y+deltaZ*j.z,z:deltaX*k.x+deltaY*k.y+deltaZ*k.z}}}),$ianmackenzie$elm_geometry$Frame3d$relativeTo=F2(function(otherFrame,frame){return{$:"Frame3d",a:{originPoint:A2($ianmackenzie$elm_geometry$Point3d$relativeTo,otherFrame,$ianmackenzie$elm_geometry$Frame3d$originPoint(frame)),xDirection:A2($ianmackenzie$elm_geometry$Direction3d$relativeTo,otherFrame,$ianmackenzie$elm_geometry$Frame3d$xDirection(frame)),yDirection:A2($ianmackenzie$elm_geometry$Direction3d$relativeTo,otherFrame,$ianmackenzie$elm_geometry$Frame3d$yDirection(frame)),zDirection:A2($ianmackenzie$elm_geometry$Direction3d$relativeTo,otherFrame,$ianmackenzie$elm_geometry$Frame3d$zDirection(frame))}}}),$ianmackenzie$elm_geometry$BoundingBox3d$union=F2(function(b1,b2){b2=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(b2),b1=$ianmackenzie$elm_geometry$BoundingBox3d$extrema(b1);return{$:"BoundingBox3d",a:{maxX:A2($ianmackenzie$elm_units$Quantity$max,b1.maxX,b2.maxX),maxY:A2($ianmackenzie$elm_units$Quantity$max,b1.maxY,b2.maxY),maxZ:A2($ianmackenzie$elm_units$Quantity$max,b1.maxZ,b2.maxZ),minX:A2($ianmackenzie$elm_units$Quantity$min,b1.minX,b2.minX),minY:A2($ianmackenzie$elm_units$Quantity$min,b1.minY,b2.minY),minZ:A2($ianmackenzie$elm_units$Quantity$min,b1.minZ,b2.minZ)}}}),$ianmackenzie$elm_geometry$BoundingBox3d$withDimensions=F2(function(x0,y0){var halfWidth=$ianmackenzie$elm_units$Quantity$half($ianmackenzie$elm_units$Quantity$abs(x0.b)),halfLength=$ianmackenzie$elm_units$Quantity$half($ianmackenzie$elm_units$Quantity$abs(x0.a)),halfHeight=$ianmackenzie$elm_units$Quantity$half($ianmackenzie$elm_units$Quantity$abs(x0.c)),z0=function(p){p=p.a;return{$:"#3",a:{$:"Quantity",a:p.x},b:{$:"Quantity",a:p.y},c:{$:"Quantity",a:p.z}}}(y0),x0=z0.a,y0=z0.b,z0=z0.c;return{$:"BoundingBox3d",a:{maxX:A2($ianmackenzie$elm_units$Quantity$plus,halfLength,x0),maxY:A2($ianmackenzie$elm_units$Quantity$plus,halfWidth,y0),maxZ:A2($ianmackenzie$elm_units$Quantity$plus,halfHeight,z0),minX:A2($ianmackenzie$elm_units$Quantity$minus,halfLength,x0),minY:A2($ianmackenzie$elm_units$Quantity$minus,halfWidth,y0),minZ:A2($ianmackenzie$elm_units$Quantity$minus,halfHeight,z0)}}}),$ianmackenzie$elm_3d_scene$Scene3d$updateViewBounds=F4(function(viewFrame,nodeBounds,xDimension,current){var originalCenter=xDimension.centerPoint,modelZDimension=2*xDimension.halfZ*nodeBounds,modelYDimension=2*xDimension.halfY*nodeBounds,modelXDimension=2*xDimension.halfX*nodeBounds,yDimension=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$zDirection(viewFrame)),zDimension=$elm$core$Basics$abs(modelXDimension*yDimension.x)+$elm$core$Basics$abs(modelYDimension*yDimension.y)+$elm$core$Basics$abs(modelZDimension*yDimension.z),xDimension=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$yDirection(viewFrame)),yDimension=$elm$core$Basics$abs(modelXDimension*xDimension.x)+$elm$core$Basics$abs(modelYDimension*xDimension.y)+$elm$core$Basics$abs(modelZDimension*xDimension.z),xDimension=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$xDirection(viewFrame)),xDimension=$elm$core$Basics$abs(modelXDimension*xDimension.x)+$elm$core$Basics$abs(modelYDimension*xDimension.y)+$elm$core$Basics$abs(modelZDimension*xDimension.z),nodeBounds=A2($ianmackenzie$elm_geometry$BoundingBox3d$withDimensions,{$:"#3",a:{$:"Quantity",a:xDimension},b:{$:"Quantity",a:yDimension},c:{$:"Quantity",a:zDimension}},A2($ianmackenzie$elm_geometry$Point3d$relativeTo,viewFrame,A3($ianmackenzie$elm_geometry$Point3d$meters,originalCenter.x*nodeBounds,originalCenter.y*nodeBounds,originalCenter.z*nodeBounds)));return $elm$core$Maybe$Just("Just"!==current.$?nodeBounds:A2($ianmackenzie$elm_geometry$BoundingBox3d$union,current.a,nodeBounds))}),$ianmackenzie$elm_3d_scene$Scene3d$getViewBounds=F4(function(viewFrame,scale,current,nodes){getViewBounds:for(;;){if(!nodes.b)return current;var first=nodes.a,rest=nodes.b;switch(first.$){case"EmptyNode":viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=current,nodes=rest;continue getViewBounds;case"MeshNode":var updated=A4($ianmackenzie$elm_3d_scene$Scene3d$updateViewBounds,viewFrame,scale,first.a,current);viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=updated,nodes=rest;continue getViewBounds;case"ShadowNode":viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=current,nodes=rest;continue getViewBounds;case"PointNode":updated=A4($ianmackenzie$elm_3d_scene$Scene3d$updateViewBounds,viewFrame,scale,first.a,current);viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=updated,nodes=rest;continue getViewBounds;case"Group":var $temp$viewFrame=viewFrame,$temp$scale=scale,$temp$current=A4($ianmackenzie$elm_3d_scene$Scene3d$getViewBounds,viewFrame,scale,current,first.a);viewFrame=$temp$viewFrame,scale=$temp$scale,current=$temp$current,nodes=rest;continue getViewBounds;default:var localScale=first.a,childNode=first.b,localViewFrame=A2($ianmackenzie$elm_geometry$Frame3d$relativeTo,function(transformation){return{$:"Frame3d",a:{originPoint:{$:"Point3d",a:{x:transformation.px,y:transformation.py,z:transformation.pz}},xDirection:{$:"Direction3d",a:{x:transformation.ix,y:transformation.iy,z:transformation.iz}},yDirection:{$:"Direction3d",a:{x:transformation.jx,y:transformation.jy,z:transformation.jz}},zDirection:{$:"Direction3d",a:{x:transformation.kx,y:transformation.ky,z:transformation.kz}}}}}(localScale),viewFrame),localScale=scale*localScale.scale;viewFrame=$temp$viewFrame=viewFrame,scale=$temp$scale=scale,current=$temp$current=A4($ianmackenzie$elm_3d_scene$Scene3d$getViewBounds,localViewFrame,localScale,current,_List_fromArray([childNode])),nodes=rest;continue getViewBounds}}}),$ianmackenzie$elm_3d_scene$Scene3d$Transformation$identity={isRightHanded:!0,ix:1,iy:0,iz:0,jx:0,jy:1,jz:0,kx:0,ky:0,kz:1,px:0,py:0,pz:0,scale:1},$ianmackenzie$elm_3d_scene$Scene3d$initStencil=$ianmackenzie$elm_3d_scene$Scene3d$updateStencil({fail:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,mask:0,ref:8,test:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,writeMask:255,zfail:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,zpass:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove}),$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled={$:"Light",a:{b:0,castsShadows:!1,g:0,parameter:0,r:0,type_:0,x:0,y:0,z:0}},$ianmackenzie$elm_3d_scene$Scene3d$lightPair=F2(function(first,second){first=first.a,second=second.a;return $elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:first.x,m12:first.r,m13:second.x,m14:second.r,m21:first.y,m22:first.g,m23:second.y,m24:second.g,m31:first.z,m32:first.b,m33:second.z,m34:second.b,m41:first.type_,m42:first.parameter,m43:second.type_,m44:second.parameter})}),$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled={$:"#2",a:{lights12:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled),lights34:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled),lights56:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled),lights78:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled)},b:A4($elm_explorations$linear_algebra$Math$Vector4$vec4,0,0,0,0)},$elm_explorations$webgl$WebGL$Settings$StencilTest$equal={$:"Test",a:514},$ianmackenzie$elm_3d_scene$Scene3d$outsideStencil=_List_fromArray([$elm_explorations$webgl$WebGL$Settings$DepthTest$lessOrEqual({far:1,near:0,write:!0}),$elm_explorations$webgl$WebGL$Settings$StencilTest$test({fail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,mask:240,ref:0,test:$elm_explorations$webgl$WebGL$Settings$StencilTest$equal,writeMask:0,zfail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,zpass:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep}),$ianmackenzie$elm_3d_scene$Scene3d$defaultBlend]),$ianmackenzie$elm_3d_camera$WebGL$Matrices$projectionMatrix=F2(function(frustumSlope,viewportHeight){var aspectRatio=viewportHeight.aspectRatio,n=$ianmackenzie$elm_units$Quantity$abs(viewportHeight.nearClipDepth).a,f=$ianmackenzie$elm_units$Quantity$abs(viewportHeight.farClipDepth).a,viewportHeight=frustumSlope.a.projection;if("Perspective"===viewportHeight.$){frustumSlope=viewportHeight.a;return $elm$core$Basics$isInfinite(f)?$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:1/(aspectRatio*frustumSlope),m12:0,m13:0,m14:0,m21:0,m22:1/frustumSlope,m23:0,m24:0,m31:0,m32:0,m33:-1,m34:-2*n,m41:0,m42:0,m43:-1,m44:0}):$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:1/(aspectRatio*frustumSlope),m12:0,m13:0,m14:0,m21:0,m22:1/frustumSlope,m23:0,m24:0,m31:0,m32:0,m33:-(f+n)/(f-n),m34:-2*f*n/(f-n),m41:0,m42:0,m43:-1,m44:0})}viewportHeight=viewportHeight.a.a;return $elm$core$Basics$isInfinite(f)?$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:2/(aspectRatio*viewportHeight),m12:0,m13:0,m14:0,m21:0,m22:2/viewportHeight,m23:0,m24:0,m31:0,m32:0,m33:0,m34:-1,m41:0,m42:0,m43:0,m44:1}):$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:2/(aspectRatio*viewportHeight),m12:0,m13:0,m14:0,m21:0,m22:2/viewportHeight,m23:0,m24:0,m31:0,m32:0,m33:-2/(f-n),m34:-(f+n)/(f-n),m41:0,m42:0,m43:0,m44:1})}),$ianmackenzie$elm_3d_scene$Scene3d$enabledFlag=F2(function(lightMask,lightIndex){return 1==(1&lightMask>>lightIndex)?0:1}),$ianmackenzie$elm_3d_scene$Scene3d$renderWithinShadows=F3(function(meshRenderPasses,lightMatrices,numShadowingLights){return $elm$core$List$concat(A2($elm$core$List$map,function(lightMask){var stencilMask=lightMask<<4;return A3($ianmackenzie$elm_3d_scene$Scene3d$call,meshRenderPasses,{$:"#2",a:lightMatrices,b:A4($elm_explorations$linear_algebra$Math$Vector4$vec4,A2($ianmackenzie$elm_3d_scene$Scene3d$enabledFlag,lightMask,0),A2($ianmackenzie$elm_3d_scene$Scene3d$enabledFlag,lightMask,1),A2($ianmackenzie$elm_3d_scene$Scene3d$enabledFlag,lightMask,2),A2($ianmackenzie$elm_3d_scene$Scene3d$enabledFlag,lightMask,3))},function(lightMask){return _List_fromArray([$elm_explorations$webgl$WebGL$Settings$DepthTest$lessOrEqual({far:1,near:0,write:!0}),$elm_explorations$webgl$WebGL$Settings$StencilTest$test({fail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,mask:240,ref:lightMask,test:$elm_explorations$webgl$WebGL$Settings$StencilTest$equal,writeMask:0,zfail:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep,zpass:$elm_explorations$webgl$WebGL$Settings$StencilTest$keep}),$ianmackenzie$elm_3d_scene$Scene3d$defaultBlend])}(stencilMask))},A2($elm$core$List$range,1,A2($elm$core$Basics$pow,2,numShadowingLights)-1)))}),$elm_explorations$linear_algebra$Math$Matrix4$toRecord=function(m){return{m11:m[0],m21:m[1],m31:m[2],m41:m[3],m12:m[4],m22:m[5],m32:m[6],m42:m[7],m13:m[8],m23:m[9],m33:m[10],m43:m[11],m14:m[12],m24:m[13],m34:m[14],m44:m[15]}},$ianmackenzie$elm_geometry$Frame3d$atOrigin={$:"Frame3d",a:{originPoint:$ianmackenzie$elm_geometry$Point3d$origin,xDirection:$ianmackenzie$elm_geometry$Direction3d$x,yDirection:$ianmackenzie$elm_geometry$Direction3d$y,zDirection:$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp}},$ianmackenzie$elm_3d_camera$WebGL$Matrices$modelViewMatrix=F2(function(j,k){var i,p;return p=$ianmackenzie$elm_geometry$Point3d$unwrap($ianmackenzie$elm_geometry$Frame3d$originPoint(i=A2($ianmackenzie$elm_geometry$Frame3d$relativeTo,k.a,j))),k=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$zDirection(i)),j=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$yDirection(i)),i=$ianmackenzie$elm_geometry$Direction3d$unwrap($ianmackenzie$elm_geometry$Frame3d$xDirection(i)),$elm_explorations$linear_algebra$Math$Matrix4$fromRecord({m11:i.x,m12:j.x,m13:k.x,m14:p.x,m21:i.y,m22:j.y,m23:k.y,m24:p.y,m31:i.z,m32:j.z,m33:k.z,m34:p.z,m41:0,m42:0,m43:0,m44:1})}),$ianmackenzie$elm_3d_scene$Scene3d$composite=F2(function(_arguments,backgroundColorString){var commonWebGLOptions=_List_fromArray([$elm_explorations$webgl$WebGL$depth(1),$elm_explorations$webgl$WebGL$stencil(0),$elm_explorations$webgl$WebGL$alpha(!0),A4($elm_explorations$webgl$WebGL$clearColor,0,0,0,0)]),n=function(){var _v1=_arguments.antialiasing;switch(_v1.$){case"NoAntialiasing":return{$:"#3",a:commonWebGLOptions,b:"0",c:1};case"Multisampling":return{$:"#3",a:A2($elm$core$List$cons,$elm_explorations$webgl$WebGL$antialias,commonWebGLOptions),b:"1",c:1};default:return{$:"#3",a:commonWebGLOptions,b:"0",c:_v1.a}}}(),webGLOptions=n.a,key=n.b,scalingFactor=n.c,webGLEntities=_arguments.dimensions,widthCss=webGLEntities.a,heightInPixels=$ianmackenzie$elm_units$Pixels$toInt(webGLEntities.b),heightCss=A2($elm$html$Html$Attributes$style,"height",$elm$core$String$fromInt(heightInPixels)+"px"),n=$ianmackenzie$elm_units$Pixels$toInt(widthCss),aspectRatio=n/heightInPixels,webGLEntities=A2($elm$core$List$concatMap,function(scene){return $ianmackenzie$elm_3d_scene$Scene3d$toWebGLEntities({aspectRatio:aspectRatio,camera:_arguments.camera,clipDepth:_arguments.clipDepth,entities:scene.entities,exposure:scene.exposure,lights:scene.lights,supersampling:scalingFactor,toneMapping:scene.toneMapping,whiteBalance:scene.whiteBalance})},backgroundColorString),widthCss=A2($elm$html$Html$Attributes$style,"width",$elm$core$String$fromInt(n)+"px"),backgroundColorString=function(_v0){function pct(x){return $elm$core$Basics$round(1e4*x)/100}var g=_v0.b,b=_v0.c,a=_v0.d;return $elm$core$String$concat(_List_fromArray(["rgba(",$elm$core$String$fromFloat(pct(_v0.a)),"%,",$elm$core$String$fromFloat(pct(g)),"%,",$elm$core$String$fromFloat(pct(b)),"%,",$elm$core$String$fromFloat($elm$core$Basics$round(1e3*a)/1e3),")"]))}(_arguments.background.a);return A3($elm$html$Html$Keyed$node,"div",_List_fromArray([A2($elm$html$Html$Attributes$style,"padding","0px"),widthCss,heightCss]),_List_fromArray([{$:"#2",a:key,b:A3($elm_explorations$webgl$WebGL$toHtmlWith,webGLOptions,_List_fromArray([(n=$elm$core$Basics$round(n*scalingFactor),A2(_VirtualDom_attribute,"width",$elm$core$String$fromInt(n))),function(n){return A2(_VirtualDom_attribute,"height",$elm$core$String$fromInt(n))}($elm$core$Basics$round(heightInPixels*scalingFactor)),widthCss,heightCss,A2($elm$html$Html$Attributes$style,"display","block"),A2($elm$html$Html$Attributes$style,"background-color",backgroundColorString)]),webGLEntities)}]))}),$ianmackenzie$elm_3d_scene$Scene3d$Light$daylight={$:"Chromaticity",a:{x:.31271,y:.32902}},$ianmackenzie$elm_3d_scene$Scene3d$Light$directional=F2(function(y,rgb){var shadowFlag=y.a,z=$ianmackenzie$elm_geometry$Direction3d$unwrap(rgb.direction),x=z.x,y=z.y,z=z.z,rgb=A2($ianmackenzie$elm_3d_scene$Scene3d$ColorConversions$chromaticityToLinearRgb,rgb.intensity,rgb.chromaticity).a;return{$:"Light",a:{b:$elm_explorations$linear_algebra$Math$Vector3$getZ(rgb),castsShadows:shadowFlag,g:$elm_explorations$linear_algebra$Math$Vector3$getY(rgb),parameter:0,r:$elm_explorations$linear_algebra$Math$Vector3$getX(rgb),type_:1,x:-x,y:-y,z:-z}}}),$ianmackenzie$elm_3d_scene$Scene3d$multisampling={$:"Multisampling"},$ianmackenzie$elm_3d_scene$Scene3d$noToneMapping={$:"NoToneMapping"},$ianmackenzie$elm_3d_scene$Scene3d$Light$skylight=($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=function(x){var t=A3($elm$core$Basics$clamp,1667,25e3,x.a),x=4e3<t?-3025846900/(t*t*t)+2107037.9/(t*t)+.2226347*1e3/t+.24039:1e9*-.2661239/(t*t*t)-.2343589*1e6/(t*t)+877.6956/t+.17991;return{$:"Chromaticity",a:{x:x,y:2222<t?4e3<t?x*x*x*3.081758-x*x*5.8733867+3.75112997*x-.37001483:x*x*x*-.9549476-x*x*1.37418593+2.09137015*x-.16748867:x*x*x*-1.1063814-x*x*1.3481102+2.18555832*x-.20219683}}})({$:"Temperature",a:12e3}),$ianmackenzie$elm_3d_scene$Scene3d$Light$sunlight=$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown({$:"Temperature",a:5600}),$ianmackenzie$elm_3d_scene$Scene3d$MultiplePasses=F2(function(a,b){return{$:"MultiplePasses",a:a,b:b}}),$ianmackenzie$elm_3d_scene$Scene3d$noLights={$:"SingleUnshadowedPass",a:$ianmackenzie$elm_3d_scene$Scene3d$lightingDisabled.a},$elm$core$List$partition=F2(function(pred,list){return A3($elm$core$List$foldr,F2(function(x,falses){var trues=falses.a,falses=falses.b;return pred(x)?{$:"#2",a:A2($elm$core$List$cons,x,trues),b:falses}:{$:"#2",a:trues,b:A2($elm$core$List$cons,x,falses)}}),{$:"#2",a:_List_Nil,b:_List_Nil},list)}),$ianmackenzie$elm_3d_scene$Scene3d$eightLights=F8(function(first,second,third,fourth,fifth,sixth,seventh,eigth){var light1=A2($elm$core$List$partition,$ianmackenzie$elm_3d_scene$Scene3d$lightCastsShadows,_List_fromArray([$ianmackenzie$elm_3d_scene$Scene3d$eraseLight(first),$ianmackenzie$elm_3d_scene$Scene3d$eraseLight(second),$ianmackenzie$elm_3d_scene$Scene3d$eraseLight(third),$ianmackenzie$elm_3d_scene$Scene3d$eraseLight(fourth)])),enabledShadowCasters=light1.a;if(enabledShadowCasters.b){var light3=_Utils_ap(enabledShadowCasters,light1.b);if(light3.b&&light3.b.b&&light3.b.b.b&&light3.b.b.b.b&&!light3.b.b.b.b.b){var light0=light3.a,light2=light3.b,light1=light2.a,light3=light2.b,light2=light3.a,light3=light3.b.a;return A2($ianmackenzie$elm_3d_scene$Scene3d$MultiplePasses,A2($elm$core$List$map,$ianmackenzie$elm_3d_scene$Scene3d$singleLight,enabledShadowCasters),{lights12:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,light0,light1),lights34:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,light2,light3),lights56:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,fifth,sixth),lights78:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,seventh,eigth)})}return $ianmackenzie$elm_3d_scene$Scene3d$noLights}return{$:"SingleUnshadowedPass",a:{lights12:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,first,second),lights34:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,third,fourth),lights56:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,fifth,sixth),lights78:A2($ianmackenzie$elm_3d_scene$Scene3d$lightPair,seventh,eigth)}}}),$ianmackenzie$elm_3d_scene$Scene3d$threeLights=F3(function(first,second,third){return A8($ianmackenzie$elm_3d_scene$Scene3d$eightLights,first,second,third,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled,$ianmackenzie$elm_3d_scene$Scene3d$Light$disabled)}),$author$project$ScenePainter$render3dScene=F2(function(withLighting,sceneProps){return withLighting?$ianmackenzie$elm_3d_scene$Scene3d$sunny({background:sceneProps.background,camera:sceneProps.camera,clipDepth:sceneProps.clipDepth,dimensions:sceneProps.dimensions,entities:sceneProps.entities,shadows:!1,sunlightDirection:$ianmackenzie$elm_geometry$Direction3d$negativeZ,upDirection:$ianmackenzie$elm_geometry$Direction3d$positiveZ}):$ianmackenzie$elm_3d_scene$Scene3d$unlit(sceneProps)}),$author$project$Utils$view3dDimensions={$:"#2",a:{$:"Quantity",a:860},b:{$:"Quantity",a:580}},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel={preventDefault:!0,stopPropagation:!1},$elm$html$Html$Events$custom=F2(function(event,decoder){return A2($elm$virtual_dom$VirtualDom$on,event,{$:"Custom",a:decoder})}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick=F6(function(keys,button,clientPos,offsetPos,pagePos,screenPos){return{button:button,clientPos:clientPos,keys:keys,offsetPos:offsetPos,pagePos:pagePos,screenPos:screenPos}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$BackButton={$:"BackButton"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$ErrorButton={$:"ErrorButton"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$ForwardButton={$:"ForwardButton"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$MainButton={$:"MainButton"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$MiddleButton={$:"MiddleButton"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=A2($elm$json$Json$Decode$map,function(id){switch(id){case 0:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$MainButton;case 1:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$MiddleButton;case 2:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$SecondButton;case 3:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$BackButton;case 4:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$ForwardButton;default:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$ErrorButton}},A2($elm$json$Json$Decode$field,"button",$elm$json$Json$Decode$int)),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp=A3($elm$json$Json$Decode$map2,F2(function(a,b){return{$:"#2",a:a,b:b}}),A2($elm$json$Json$Decode$field,"clientX",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"clientY",$elm$json$Json$Decode$float)),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$eventDecoder=A7($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onClick,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick,A4($elm$json$Json$Decode$map3,F3(function(alt,ctrl,shift){return{alt:alt,ctrl:ctrl,shift:shift}}),A2($elm$json$Json$Decode$field,"altKey",$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown),A2($elm$json$Json$Decode$field,"ctrlKey",$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown),A2($elm$json$Json$Decode$field,"shiftKey",$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown)),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp,A3($elm$json$Json$Decode$map2,F2(function(a,b){return{$:"#2",a:a,b:b}}),A2($elm$json$Json$Decode$field,"offsetX",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"offsetY",$elm$json$Json$Decode$float)),A3($elm$json$Json$Decode$map2,F2(function(a,b){return{$:"#2",a:a,b:b}}),A2($elm$json$Json$Decode$field,"pageX",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"pageY",$elm$json$Json$Decode$float)),A3($elm$json$Json$Decode$map2,F2(function(a,b){return{$:"#2",a:a,b:b}}),A2($elm$json$Json$Decode$field,"screenX",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"screenY",$elm$json$Json$Decode$float))),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onClick=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event=F3(function(event,options,tag){return A2($elm$html$Html$Events$custom,event,A2($elm$json$Json$Decode$map,function(ev){return{message:tag(ev),preventDefault:options.preventDefault,stopPropagation:options.stopPropagation}},$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$eventDecoder))}),"click",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,"dblclick",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,"mousedown",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,"mousemove",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp=A2($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,"mouseup",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event=F3(function(mouseEvent,deltaY,deltaMode){return{deltaMode:deltaMode,deltaY:deltaY,mouseEvent:mouseEvent}}),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$DeltaLine={$:"DeltaLine"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$DeltaPage={$:"DeltaPage"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$DeltaPixel={$:"DeltaPixel"},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=A2($elm$json$Json$Decode$map,function(_int){switch(_int){case 1:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$DeltaLine;case 2:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$DeltaPage;default:return $mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$DeltaPixel}},$elm$json$Json$Decode$int),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$eventDecoder=A4($elm$json$Json$Decode$map3,$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$Event,$mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$eventDecoder,A2($elm$json$Json$Decode$field,"deltaY",$elm$json$Json$Decode$float),A2($elm$json$Json$Decode$field,"deltaMode",$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel)),$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel=F2(function(options,tag){return A2($elm$html$Html$Events$custom,"wheel",A2($elm$json$Json$Decode$map,function(ev){return{message:tag(ev),preventDefault:options.preventDefault,stopPropagation:options.stopPropagation}},$mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$eventDecoder))})({preventDefault:!0,stopPropagation:!1}),$author$project$ViewElements$withMouseCapture=_List_fromArray([$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDown(function(event){return{$:"ImageGrab",a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onMove(function(event){return{$:"ImageDrag",a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onUp(function(event){return{$:"ImageRelease",a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onClick(function(event){return{$:"MouseClick",a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Mouse$onDoubleClick(function(event){return{$:"MouseDoubleClick",a:event}})),$mdgriffith$elm_ui$Element$htmlAttribute($mpizenberg$elm_pointer_events$Html$Events$Extra$Wheel$onWheel(function(event){return{$:"MouseWheel",a:event.deltaY}})),$mdgriffith$elm_ui$Element$htmlAttribute(A2($elm$html$Html$Attributes$style,"touch-action","none")),$mdgriffith$elm_ui$Element$htmlAttribute(A2($elm$html$Html$Events$custom,"contextmenu",$elm$json$Json$Decode$succeed({message:{$:"NoOpMsg"},preventDefault:!0,stopPropagation:!0}))),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$pointer]),$author$project$ViewElements$zoomSlider=F2(function(value,msg){return A2($mdgriffith$elm_ui$Element$Input$slider,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(400)),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$behindContent(A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(20)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(400)),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$scrollbarBackground),$mdgriffith$elm_ui$Element$Border$rounded(6)]),$mdgriffith$elm_ui$Element$none))]),{label:$mdgriffith$elm_ui$Element$Input$labelHidden("Zoom"),max:22,min:0,onChange:msg,step:$elm$core$Maybe$Nothing,thumb:$mdgriffith$elm_ui$Element$Input$defaultThumb,value:value})}),$mdgriffith$elm_ui$Internal$Model$Max=F2(function(a,b){return{$:"Max",a:a,b:b}}),$mdgriffith$elm_ui$Element$maximum=F2(function(i,l){return A2($mdgriffith$elm_ui$Internal$Model$Max,i,l)}),$author$project$Main$viewCurrentNodePlanView=F2(function(model){var camera=model.currentSceneCamera;if("Just"!==camera.$)return $mdgriffith$elm_ui$Element$none;camera=camera.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,$author$project$ViewElements$withMouseCapture,$mdgriffith$elm_ui$Element$html(A2($author$project$ScenePainter$render3dScene,!1,{background:{$:"BackgroundColor",a:$avh4$elm_color$Color$darkGreen},camera:camera,clipDepth:{$:"Quantity",a:1},dimensions:$author$project$Utils$view3dDimensions,entities:_Utils_ap(model.varyingVisualEntities,model.staticVisualEntities)}))),A2($author$project$ViewElements$zoomSlider,model.zoomLevelPlan,$author$project$Msg$ZoomLevelPlan)]))}),$avh4$elm_color$Color$lightCharcoal=A4($avh4$elm_color$Color$RgbaSpace,136/255,138/255,133/255,1),$author$project$Main$viewRouteProfile=F2(function(model){var camera=model.currentSceneCamera;if("Just"!==camera.$)return $mdgriffith$elm_ui$Element$none;camera=camera.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$el,$author$project$ViewElements$withMouseCapture,$mdgriffith$elm_ui$Element$html(A2($author$project$ScenePainter$render3dScene,!1,{background:{$:"BackgroundColor",a:$avh4$elm_color$Color$lightCharcoal},camera:camera,clipDepth:{$:"Quantity",a:1},dimensions:$author$project$Utils$view3dDimensions,entities:_Utils_ap(model.varyingProfileEntities,model.staticProfileEntities)}))),A2($author$project$ViewElements$zoomSlider,model.zoomLevelProfile,$author$project$Msg$ZoomLevelProfile)]))}),$author$project$Main$view3D=F2(function(scale,model){return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$alignLeft]),function(){switch(model.viewingMode.$){case"FirstPersonView":return $author$project$Main$viewFirstPerson(model);case"ThirdPersonView":return $author$project$Main$viewThirdPerson(model);case"ProfileView":return function(model){var node=_Utils_cmp(model.currentNode,$elm$core$Array$length(model.roadArray))<0?A2($elm$core$Maybe$map,function($){return $.profileStartsAt},A2($elm$core$Array$get,model.currentNode,model.roadArray)):A2($elm$core$Maybe$map,function($){return $.profileEndsAt},A2($elm$core$Array$get,$elm$core$Array$length(model.roadArray)-1,model.roadArray));if("Nothing"===node.$)return $mdgriffith$elm_ui$Element$none;node=node.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($author$project$Main$viewRouteProfile,model,node),$author$project$Main$positionControls(model)]))]))}(model);case"AboutView":return $author$project$About$viewAboutText;case"InputErrorView":return $author$project$Main$viewInputError(model);case"PlanView":return function(model){var node=A2($elm$core$Array$get,model.currentNode,model.nodeArray);if("Nothing"===node.$)return $mdgriffith$elm_ui$Element$none;node=node.a;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($author$project$Main$viewCurrentNodePlanView,model,node),$author$project$Main$positionControls(model)]))]))}(model);default:return A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(900)),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(600)),$mdgriffith$elm_ui$Element$alignLeft,$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$htmlAttribute($elm$html$Html$Attributes$id("map"))]),$mdgriffith$elm_ui$Element$none)}}())}),$author$project$ViewTypes$FirstPersonView={$:"FirstPersonView"},$author$project$ViewTypes$PlanView={$:"PlanView"},$author$project$ViewTypes$ProfileView={$:"ProfileView"},$author$project$ViewTypes$ThirdPersonView={$:"ThirdPersonView"};!function(exports){scope.Elm?function _Platform_mergeExportsDebug(moduleName,obj,exports){for(var name in exports)name in obj?"init"==name?_Debug_crash(6,moduleName):_Platform_mergeExportsDebug(moduleName+"."+name,obj[name],exports[name]):obj[name]=exports[name]}("Elm",scope.Elm,exports):scope.Elm=exports}({Main:{init:$elm$browser$Browser$application({init:A2($elm$core$Basics$composeR,$elm$core$Maybe$map($author$project$StravaAuth$convertBytes),$author$project$Main$init),onUrlChange:$elm$core$Basics$always({$:"OAuthMessage",a:$author$project$OAuthTypes$NoOp}),onUrlRequest:$elm$core$Basics$always({$:"OAuthMessage",a:$author$project$OAuthTypes$NoOp}),subscriptions:function(){return $elm$core$Platform$Sub$batch(_List_fromArray([$author$project$MapController$messageReceiver($author$project$Msg$MapMessage),$author$project$MapController$mapStopped($author$project$Msg$MapRemoved),A2($elm$time$Time$every,50,$author$project$Msg$Tick),$author$project$OAuthPorts$randomBytes(function(ints){return{$:"OAuthMessage",a:{$:"GotRandomBytes",a:ints}}})]))},update:$author$project$Main$update,view:function(model){return{body:_List_fromArray([A2($mdgriffith$elm_ui$Element$layout,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$padding(10),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$Font$size(16),$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$fill)]),A2($mdgriffith$elm_ui$Element$column,_List_Nil,_List_fromArray([A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$spaceEvenly,$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$padding(10)]),_List_fromArray([$author$project$ViewElements$loadButton,model.changeCounter?{$:"Text",a:"Save your work before\nconnecting to Strava"}:A2($author$project$StravaAuth$stravaButton,model.stravaAuthentication,$author$project$Msg$wrapAuthMessage),function(_v0){var routeIdField=A2($mdgriffith$elm_ui$Element$Input$text,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(100))]),{label:$mdgriffith$elm_ui$Element$Input$labelHidden("Strava route ID"),onChange:$author$project$Msg$UserChangedRouteId,placeholder:$elm$core$Maybe$Just(A2($mdgriffith$elm_ui$Element$Input$placeholder,_List_Nil,{$:"Text",a:"Strava route ID"})),text:_v0.externalRouteId}),routeButton=A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Fetch route"},onPress:$elm$core$Maybe$Just($author$project$Msg$LoadExternalRoute)}),_v0=$author$project$StravaAuth$getStravaToken(_v0.stravaAuthentication);if("Just"!==_v0.$)return $mdgriffith$elm_ui$Element$none;return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$spacing(10)]),_List_fromArray([routeIdField,routeButton]))}(model),function(model){var filename=A2($elm$core$Maybe$withDefault,"",model.filename);return"GpxNone"===model.gpxSource.$?$mdgriffith$elm_ui$Element$none:A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$Font$size(14)]),_List_fromArray([$author$project$ViewElements$displayName(model.trackName),A2($mdgriffith$elm_ui$Element$Input$text,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$px(200))]),{label:$mdgriffith$elm_ui$Element$Input$labelHidden("File name"),onChange:$author$project$Msg$UserChangedFilename,placeholder:$elm$core$Maybe$Nothing,text:filename})]))}(model),function(model){return model.undoStack.b?A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:{$:"Text",a:"Save as GPX file to your computer"},onPress:$elm$core$Maybe$Just($author$project$Msg$OutputGPX)}):$mdgriffith$elm_ui$Element$none}(model)])),A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignLeft,A2($mdgriffith$elm_ui$Internal$Model$TransformComponent,$mdgriffith$elm_ui$Internal$Flag$moveX,{$:"MoveX",a:200})]),_List_fromArray([_Utils_eq(model.gpxSource,$author$project$Main$GpxNone)?A2($mdgriffith$elm_ui$Element$el,_List_fromArray([$mdgriffith$elm_ui$Element$height($mdgriffith$elm_ui$Element$px(40))]),$mdgriffith$elm_ui$Element$none):function(model){return A2($mdgriffith$elm_ui$Element$Input$radioRow,_List_fromArray([$mdgriffith$elm_ui$Element$Border$rounded(6),$mdgriffith$elm_ui$Element$Border$shadow({blur:10,color:A3($mdgriffith$elm_ui$Element$rgb255,224,224,224),offset:{$:"#2",a:0,b:0},size:3})]),{label:$mdgriffith$elm_ui$Element$Input$labelHidden("Choose view"),onChange:$author$project$Msg$ChooseViewMode,options:_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$ViewTypes$ThirdPersonView,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$First,"Third person")),A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$ViewTypes$FirstPersonView,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$Mid,"First person")),A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$ViewTypes$ProfileView,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$Mid,"Elevation")),A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$ViewTypes$PlanView,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$Mid,"Plan")),A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$ViewTypes$MapView,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$Mid,"Map")),A2($mdgriffith$elm_ui$Element$Input$optionWith,$author$project$ViewTypes$AboutView,A2($author$project$ViewElements$radioButton,$author$project$ViewElements$Last,"About"))]),selected:$elm$core$Maybe$Just(model.viewingMode)})}(model)])),function(){var _v0={$:"#2",a:model.gpx,b:model.trackPoints};if(_v0.b.b)return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$alignLeft,$mdgriffith$elm_ui$Element$alignTop]),_List_fromArray([A2($author$project$Main$view3D,model.nodeBox,model),A2($mdgriffith$elm_ui$Element$column,_List_fromArray([$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$alignTop,$mdgriffith$elm_ui$Element$centerX]),_List_fromArray([function(model){return A2($mdgriffith$elm_ui$Element$row,_List_fromArray([$mdgriffith$elm_ui$Element$padding(5),$mdgriffith$elm_ui$Element$spacing(10),$mdgriffith$elm_ui$Element$Border$width(0),$mdgriffith$elm_ui$Element$Border$rounded(5),$mdgriffith$elm_ui$Element$width($mdgriffith$elm_ui$Element$fill),$mdgriffith$elm_ui$Element$centerX,$mdgriffith$elm_ui$Element$Background$color($author$project$ColourPalette$buttonGroupBackground)]),_List_fromArray([A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:(_v2=model.undoStack).b?{$:"Text",a:"Undo "+_v2.a.label}:{$:"Text",a:"Nothing to undo"},onPress:model.undoStack.b?$elm$core$Maybe$Just($author$project$Msg$Undo):$elm$core$Maybe$Nothing}),A2($mdgriffith$elm_ui$Element$Input$button,$author$project$ViewElements$prettyButtonStyles,{label:(_v2=model.redoStack).b?{$:"Text",a:"Redo "+_v2.a.label}:{$:"Text",a:"Nothing to redo"},onPress:model.redoStack.b?$elm$core$Maybe$Just($author$project$Msg$Redo):$elm$core$Maybe$Nothing})]));var _v2}(model),$author$project$Main$markerButton(model),A2($author$project$Accordion$accordionView,A3($author$project$Main$updatedAccordion,model,model.toolsAccordion,$author$project$Main$toolsAccordion),$author$project$Msg$AccordionMessage),A2($author$project$Accordion$accordionView,A3($author$project$Main$updatedAccordion,model,model.infoAccordion,$author$project$Main$infoAccordion),$author$project$Msg$AccordionMessage)]))]));return"Just"===_v0.a.$?$author$project$Main$viewInputError(model):$author$project$About$viewAboutText}(),$author$project$ViewElements$compatibleWithStrava])))]),title:"GPXmagic"}}})($elm$json$Json$Decode$oneOf(_List_fromArray([$elm$json$Json$Decode$null($elm$core$Maybe$Nothing),A2($elm$json$Json$Decode$map,$elm$core$Maybe$Just,$elm$json$Json$Decode$list($elm$json$Json$Decode$int))])))(0)}})}(this);
